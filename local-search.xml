<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>ç§äººçè—ç½‘ç«™</title>
    <link href="/2020/06/24/%E7%A7%81%E4%BA%BA%E7%8F%8D%E8%97%8F%E7%BD%91%E7%AB%99/"/>
    <url>/2020/06/24/%E7%A7%81%E4%BA%BA%E7%8F%8D%E8%97%8F%E7%BD%91%E7%AB%99/</url>
    
    <content type="html"><![CDATA[<p><strong>1ã€å¤šå‰æœç´¢ï¼ˆğŸ‚ï¼‰</strong></p><p><a href="https://www.dogedoge.com/" target="_blank" rel="noopener">https://www.dogedoge.com/</a></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/24/640.png" srcset="/img/loading.gif" alt="img"></p><p><strong>åŠŸèƒ½</strong>ï¼šæ¯”ç™¾åº¦ã€æœç‹—<strong>æ›´ç®€æ´ï¼Œæ— è¿½è¸ªã€ä¸è¯¯å¯¼ã€æ³¨é‡ç”¨æˆ·çš„éšç§ã€‚</strong>ä¸»ç•Œé¢å’Œæœç´¢ç•Œé¢ç®€æ´æ¸…æ–°ï¼Œæœç´¢ä½“éªŒæ›´ä½³ã€‚</p><p><strong>2ã€Magiï¼ˆğŸ‚ï¼‰</strong></p><p><a href="https://magi.com/" target="_blank" rel="noopener">https://magi.com/</a></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/24/640-20200624204951165.png" srcset="/img/loading.gif" alt="img"></p><p><strong>åŠŸèƒ½</strong>ï¼šç±»ä¼¼äºæ°‘ç”¨ç‰ˆçš„IBM Watsonæˆ–éå­¦æœ¯ç‰ˆçš„Wolfram Alpha,é¼ æ ‡æ”¾åœ¨å³ä¾§çš„<strong>â€œä¸»è¦å­¦ä¹ æ¥æºâ€</strong>ä¸Šï¼ŒMagiä¼šç»™å‡ºä½è¯æ ‡ç­¾çš„æ¥æºã€‚è®©çŸ¥è¯†ç»“æ„åŒ–ï¼Œäº†è§£å®ƒä»¬ä¹‹é—´çš„å…³è”æ€§ã€‚</p><p><strong>3ã€å¤§æ•°æ®å¯¼èˆªï¼ˆğŸ‚ï¼‰</strong></p><p><a href="http://hao.199it.com/" target="_blank" rel="noopener">http://hao.199it.com/</a></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/24/640-20200624204956474.png" srcset="/img/loading.gif" alt="img"></p><p><strong>åŠŸèƒ½</strong>ï¼šå¤§æ•°æ®å¯¼èˆªï¼Œæ”¶å½•äº†å¤§é‡çš„å¤§æ•°æ®åˆ†æç«™ï¼š<strong>ç™¾åº¦æŒ‡æ•°ã€å¾®ä¿¡æŒ‡æ•°ã€å¤´æ¡æŒ‡æ•°ï¼›ç»Ÿè®¡æœºæ„ã€æ•™è‚²æ•°æ®ã€äº’è”ç½‘è¶‹åŠ¿ç­‰</strong>ï¼Œç‚¹å‡»ç½‘é¡µåˆ†ææ›´åŠ æ–¹ä¾¿ï¼Œæœ‰åŠ©äºç”¨æˆ·åˆ†æã€‚</p><p><strong>åˆ†ç±»ç½‘ç«™</strong></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/24/zmm7mw.jpg" srcset="/img/loading.gif" alt="img"></p><p><strong>ç”µå½±ç½‘</strong> </p><p><strong>1ã€ç¾å‰§é¸Ÿ</strong></p><p><a href="http://www.meijuniao.com" target="_blank" rel="noopener">http://www.meijuniao.com</a></p><p><strong>2ã€ç¾å‰§åœ¨çº¿</strong></p><p><a href="https://lvnvl.cn" target="_blank" rel="noopener">https://lvnvl.cn</a></p><p><strong>3ã€ç”µå½±çŒ«</strong></p><p><a href="http://www.mvcat.com" target="_blank" rel="noopener">http://www.mvcat.com</a></p><p><strong>4ã€éŸ³èŒƒä¸</strong></p><p><a href="http://www.yinfans.me" target="_blank" rel="noopener">http://www.yinfans.me</a></p><p><strong>5ã€æƒ³çœ‹å‰§</strong></p><p><a href="https://www.xiangkanju.cc" target="_blank" rel="noopener">https://www.xiangkanju.cc</a></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/24/DJGxlL.jpg" srcset="/img/loading.gif" alt="img"></p><p><strong>æ— æŸéŸ³ä¹ä¸‹è½½</strong> </p><p><strong>1ã€ç–¯ç‹‚éŸ³ä¹</strong></p><p><a href="https://music.ifkdy.com" target="_blank" rel="noopener">https://music.ifkdy.com</a></p><p><strong>2ã€51æ— æŸéŸ³ä¹</strong></p><p><a href="http://www.51ape.com" target="_blank" rel="noopener">http://www.51ape.com</a></p><p><strong>3ã€æœæ±éŸ³ä¹</strong></p><p><a href="http://guozhivip.com/yinyue/" target="_blank" rel="noopener">http://guozhivip.com/yinyue/</a></p><p><strong>4ã€tunefindï¼ˆå›½å¤–éŸ³ä¹ï¼‰</strong></p><p><a href="http://tunefind.com" target="_blank" rel="noopener">http://tunefind.com</a></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/24/p4Bu8z.jpg" srcset="/img/loading.gif" alt=""></p><p><strong>æ’ä»¶ç½‘</strong> </p><p><strong>1ã€æç®€æ’ä»¶</strong></p><p><a href="https://chrome.zzzmh.cn" target="_blank" rel="noopener">https://chrome.zzzmh.cn</a></p><p><strong>2ã€extfansæ’ä»¶</strong></p><p><a href="https://www.extfans.com" target="_blank" rel="noopener">https://www.extfans.com</a></p><p><strong>3ã€gugeappsæ’ä»¶</strong></p><p><a href="https://www.gugeapps.net" target="_blank" rel="noopener">https://www.gugeapps.net</a></p><p><strong>4ã€è°·æ­Œæ’ä»¶è‹±é›„æ¦œ</strong></p><p><a href="https://zhaoolee.gitbooks.io/chrome/content/" target="_blank" rel="noopener">https://zhaoolee.gitbooks.io/chrome/content/</a></p><p><strong>5ã€æ²¹çŒ´ç½‘</strong></p><p><a href="https://www.tampermonkey.net" target="_blank" rel="noopener">https://www.tampermonkey.net</a></p><p><strong>6ã€è„šæœ¬ç½‘</strong></p><p><a href="https://greasyfork.org/zh-CN" target="_blank" rel="noopener">https://greasyfork.org/zh-CN</a></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/24/YgKxue.jpg" srcset="/img/loading.gif" alt="img"></p><p><strong>è½¯ä»¶ç½‘</strong> </p><p><strong>1ã€æ­£ç‰ˆä¸­å›½</strong></p><p><a href="https://getitfree.cn/" target="_blank" rel="noopener">https://getitfree.cn/</a></p><p><strong>2ã€å¾çˆ±ç ´è§£</strong></p><p><a href="https://www.52pojie.cn/" target="_blank" rel="noopener">https://www.52pojie.cn/</a></p><p><strong>4ã€ZD423</strong></p><p><a href="http://www.zdfans.com" target="_blank" rel="noopener">http://www.zdfans.com</a></p><p><strong>5ã€å°‘æ•°æ´¾</strong></p><p><a href="https://sspai.com" target="_blank" rel="noopener">https://sspai.com</a></p><p><strong>6ã€æœ€ç¾åº”ç”¨</strong></p><p><a href="http://zuimeia.com" target="_blank" rel="noopener">http://zuimeia.com</a></p><p><strong>7ã€è½¯ä»¶ç¼˜</strong></p><p><a href="https://www.appcgn.com" target="_blank" rel="noopener">https://www.appcgn.com</a></p><p><strong>8ã€å¾®åš@vposy</strong>ï¼ˆAdobeç³»åˆ—ï¼‰</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/24/eQm6r9.jpg" srcset="/img/loading.gif" alt="img4"></p><p><strong>ç´ æç½‘</strong> </p><p><strong>1ã€æç®€ç®€å†</strong></p><p><a href="https://www.polebrief.com/" target="_blank" rel="noopener">https://www.polebrief.com/</a></p><p><strong>2ã€æ’ç”»åº“</strong></p><p><a href="http://undraw.co/illustrations" target="_blank" rel="noopener">http://undraw.co/illustrations</a></p><p><strong>3ã€ä¼˜å“PPT</strong></p><p><a href="http://www.ypppt.com/" target="_blank" rel="noopener">http://www.ypppt.com/</a></p><p>4ã€ç¬¦å·åº“</p><p><a href="http://www.fuhaoku.com/" target="_blank" rel="noopener">http://www.fuhaoku.com/</a></p><p>5ã€wallhavenå£çº¸</p><p><a href="https://wallhaven.cc/" target="_blank" rel="noopener">https://wallhaven.cc/</a></p><p>6ã€å¤´åƒç½‘</p><p><a href="http://www.gx8899.com" target="_blank" rel="noopener">http://www.gx8899.com</a></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/24/widow-flower-5181497_960_720.jpg" srcset="/img/loading.gif" alt="Widow Flower, Flower, Purple, Spring"></p><p><strong>å£çº¸ç½‘</strong> </p><p><strong>1ã€wallhaven</strong></p><p><a href="https://wallhaven.cc/" target="_blank" rel="noopener">https://wallhaven.cc/</a></p><p><strong>2ã€pixabay</strong></p><p><a href="https://pixabay.com/" target="_blank" rel="noopener">https://pixabay.com/</a></p><p><strong>3ã€wallpaper</strong></p><p><a href="https://www.wallpaperup.com/" target="_blank" rel="noopener">https://www.wallpaperup.com/</a></p><p><strong>4ã€pexels</strong></p><p><a href="https://www.pexels.com/" target="_blank" rel="noopener">https://www.pexels.com/</a></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/24/girl-3033718_960_720.jpg" srcset="/img/loading.gif" alt="å¥³å­©"></p><p><strong>å­¦æœ¯ç½‘</strong> </p><p>1ã€<strong>ä¸‡åƒåˆé›†ç«™</strong></p><p><a href="http://toplinks.cc/s/" target="_blank" rel="noopener">http://toplinks.cc/s/</a></p><p><strong>2ã€ç§‘å¡”å­¦æœ¯å¯¼èˆª</strong></p><p><a href="https://site.sciping.com" target="_blank" rel="noopener">https://site.sciping.com</a></p><p><strong>3ã€ä»¿çŸ¥ç½‘</strong></p><p><a href="https://cn-ki.net" target="_blank" rel="noopener">https://cn-ki.net</a></p><p><strong>4ã€æ­£ç‰ˆä¸­å›½</strong></p><p><a href="https://getitfree.cn" target="_blank" rel="noopener">https://getitfree.cn</a></p><p><strong>5ã€wikiHow</strong></p><p><a href="http://zh.wikihow.com" target="_blank" rel="noopener">http://zh.wikihow.com</a></p><p><strong>6ã€çŒ¿å­¦</strong></p><p><a href="https://yuanxue365.com" target="_blank" rel="noopener">https://yuanxue365.com</a></p><p><strong>7ã€å£¹è¯¾å ‚</strong></p><p><a href="https://1ketang.com" target="_blank" rel="noopener">https://1ketang.com</a></p><p><strong>8ã€é—®ç­”åº“</strong></p><p><a href="http://asklib.com" target="_blank" rel="noopener">http://asklib.com</a></p><p><strong>9ã€è¯‘å­¦é¦†</strong></p><p><a href="http://yxapp.com" target="_blank" rel="noopener">http://yxapp.com</a></p><p><strong>10ã€Coursade</strong></p><p><a href="https://coursade.com" target="_blank" rel="noopener">https://coursade.com</a></p><p><img src="https://cdn.pixabay.com/photo/2014/05/03/00/50/flower-child-336658_960_720.jpg" srcset="/img/loading.gif" alt="å¤ªé˜³é•œ"></p><p><strong>å·¥å…·ç½‘</strong> </p><p><strong>1ã€PPTè¶…çº§å¸‚åœº</strong></p><p><a href="https://www.dogedoge.com/" target="_blank" rel="noopener">https://www.dogedoge.com/</a></p><p><strong>2ã€canva</strong></p><p><a href="https://www.canva.cn" target="_blank" rel="noopener">https://www.canva.cn</a></p><p><strong>3ã€æ€ç»´å¯¼å›¾</strong></p><p><a href="https://gitmind.cn" target="_blank" rel="noopener">https://gitmind.cn</a></p><p><strong>4ã€pdfæ´¾</strong></p><p><a href="https://www.pdfpai.com/" target="_blank" rel="noopener">https://www.pdfpai.com/</a></p><p><strong>5ã€è…¾è®¯æ–‡æ¡£</strong></p><p><a href="https://docs.qq.com" target="_blank" rel="noopener">https://docs.qq.com</a></p><p><strong>6ã€å¹•äº«ï¼ˆå±å¹•äº’è”ï¼‰</strong></p><p><a href="https://letsview.com/zh/" target="_blank" rel="noopener">https://letsview.com/zh/</a></p><p><strong>7ã€å…¨ç½‘é¡µè§†é¢‘ä¸‹è½½</strong></p><p><a href="https://www.urlgot.net" target="_blank" rel="noopener">https://www.urlgot.net</a></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/24/beautiful-1869208_960_720.jpg" srcset="/img/loading.gif" alt="ç°è‰²çš„å¤´å‘"></p><p><strong>å°å·¥å…·èšåˆç½‘</strong> </p><p><strong>1ã€å¥½å·¥å…·ç½‘</strong></p><p><a href="http://www.nicetool.net" target="_blank" rel="noopener">http://www.nicetool.net</a></p><p><strong>2ã€å“‡å“‡å·¥å…·</strong></p><p><a href="https://www.iamwawa.cn" target="_blank" rel="noopener">https://www.iamwawa.cn</a></p><p><strong>3ã€åœ¨çº¿å·¥å…·</strong></p><p><a href="https://tool.lu" target="_blank" rel="noopener">https://tool.lu</a></p><p><strong>4ã€å·¥å…·åˆé›†ç½‘</strong></p><p><a href="https://miku.tools" target="_blank" rel="noopener">https://miku.tools</a></p><p><strong>5ã€å·¥å…·123ç½‘</strong></p><p><a href="http://www.gjw123.com/" target="_blank" rel="noopener">http://www.gjw123.com/</a></p><p><strong>6ã€å…”äºŒå·¥å…·</strong></p><p><a href="https://www.tool2.cn/" target="_blank" rel="noopener">https://www.tool2.cn/</a></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/24/portrait-3050076_960_720.jpg" srcset="/img/loading.gif" alt="è‚–åƒ"></p><p><strong>çŸ¢é‡å›¾æ ‡åº“</strong> </p><p><strong>1ã€é˜¿é‡Œå·´å·´çŸ¢é‡å›¾åº“</strong></p><p><a href="https://iconfont.cn" target="_blank" rel="noopener">https://iconfont.cn</a></p><p><strong>2ã€IconFinder</strong></p><p><a href="https://iconfinder.com" target="_blank" rel="noopener">https://iconfinder.com</a></p><p><strong>3ã€Find icons</strong></p><p><a href="https://findicons.com" target="_blank" rel="noopener">https://findicons.com</a></p><p><strong>4ã€Vexels</strong></p><p><a href="https://vexels.com" target="_blank" rel="noopener">https://vexels.com</a></p><p><strong>5ã€Icons8</strong></p><p><a href="https://icons8.com" target="_blank" rel="noopener">https://icons8.com</a></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/24/roses-1868669_960_720.jpg" srcset="/img/loading.gif" alt="ç«ç‘°"></p><p><strong>å…¶ä»–å¾…åˆ†ç±»</strong> </p><p><strong>1ã€çŸ¥å¦–</strong></p><p><a href="https://www.cbaigui.com" target="_blank" rel="noopener">https://www.cbaigui.com</a></p><p><strong>2ã€è¶…çº§ä¹¦åº“</strong> </p><p><a href="https://shuayouxi.cn/" target="_blank" rel="noopener">https://shuayouxi.cn/</a></p><p><strong>3ã€éšæœºç½‘ç«™</strong></p><p><a href="http://theuselessweb.com" target="_blank" rel="noopener">http://theuselessweb.com</a></p><p><strong>4ã€å…°å®¢å¯¼èˆª</strong></p><p><a href="http://lackk.com/nav/" target="_blank" rel="noopener">http://lackk.com/nav/</a></p><p><strong>5ã€æ–‡ç« ç”Ÿæˆå™¨</strong></p><p><a href="https://suulnuka.github.io" target="_blank" rel="noopener">https://suulnuka.github.io</a></p><p><strong>6ã€å­—é­‚</strong></p><p><a href="https://izihun.com" target="_blank" rel="noopener">https://izihun.com</a></p><p><strong>7ã€å­—ä½“å¤©ä¸‹</strong></p><p><a href="http://www.fonts.net.cn" target="_blank" rel="noopener">http://www.fonts.net.cn</a></p><p><strong>8ã€åœ¨çº¿æŠ å›¾</strong></p><p><a href="https://remove.bg/zh" target="_blank" rel="noopener">https://remove.bg/zh</a></p><p><strong>9ã€æŒ‡å°–ä¸Šï¼ˆ720Â°å…¨æ™¯çœ‹å¤©ä¸‹ï¼‰</strong></p><p><a href="https://www.zhijianshang.com" target="_blank" rel="noopener">https://www.zhijianshang.com</a></p><p><strong>10ã€å…¨å†å²</strong></p><p><a href="https://www.allhistory.com" target="_blank" rel="noopener">https://www.allhistory.com</a></p><p><strong>11ã€lines</strong></p><p><a href="http://www.moage.cn" target="_blank" rel="noopener">http://www.moage.cn</a><br><strong>12ã€wordart</strong></p><p><a href="https://wordart.com" target="_blank" rel="noopener">https://wordart.com</a></p><p><strong>13ã€å½©è™¹å±ç”Ÿæˆå™¨</strong></p><p><a href="https://chp.shadiao.app" target="_blank" rel="noopener">https://chp.shadiao.app</a></p><p><strong>14ã€æ¯’é¸¡æ±¤ç”Ÿæˆå™¨</strong></p><p><a href="http://www.nows.fun" target="_blank" rel="noopener">http://www.nows.fun</a></p><p><strong>15ã€ç™¾åº¦ç½‘ç›˜æœç´¢</strong></p><p><a href="http://www.99baiduyun.com" target="_blank" rel="noopener">http://www.99baiduyun.com</a></p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å· ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Other</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Other</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åˆ†èº«æœ‰æœ¯Proç ´è§£æ•™ç¨‹</title>
    <link href="/2020/06/08/%E5%88%86%E8%BA%AB%E6%9C%89%E6%9C%AFPro%E7%A0%B4%E8%A7%A3%E6%95%99%E7%A8%8B/"/>
    <url>/2020/06/08/%E5%88%86%E8%BA%AB%E6%9C%89%E6%9C%AFPro%E7%A0%B4%E8%A7%A3%E6%95%99%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<p>ç»ƒæ‰‹å®˜æ–¹åŒ…ä¸‹è½½åœ°å€<a href="https://www.coolapk.com/apk/com.droi.adocker.pro" target="_blank" rel="noopener">https://www.coolapk.com/apk/com.droi.adocker.pro</a>  </p><p>éœ€è¦å·¥å…·:MTç®¡ç†å™¨<a href="https://www.coolapk.com/apk/bin.mt.plus" target="_blank" rel="noopener">https://www.coolapk.com/apk/bin.mt.plus</a>  </p><p>æ³¨:æ‰‹æœºå·ä¸ºè™šæ‹Ÿå·ç   æˆ‘ä»¬æ¥çœ‹çœ‹ä¿®æ”¹å‰VIPåŠŸèƒ½<br><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/08/101122xqfhnbh5on5rxrra.jpg" srcset="/img/loading.gif" alt="img"><br><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/08/101129s77g7j796pobzqy7.jpg" srcset="/img/loading.gif" alt="img"><br>ç‚¹å‡»VIPåŠŸèƒ½è·³è½¬åˆ°æ”¯ä»˜é¡µé¢<br><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/08/101143xqjv7zx5vj2s2lhe.jpg" srcset="/img/loading.gif" alt="img"> ä¸‹é¢æ•™ç¨‹å¼€å§‹    éœ€è¦ç™»å½•  1.å»é™¤ç­¾åéªŒè¯åŠ å¼ºç‰ˆ(ä¸ä¼šçš„çœ‹æˆ‘ä¸Šä¸€ä¸ªå¸–å­ï¼ŒAccuBatteryè§£é”ä¸“ä¸šç‰ˆæ•™ç¨‹)ï¼Œdex++æœç´¢VIPæ–¹æ³•å<br><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/08/101154wlma0w9d9m9pwm99.jpg" srcset="/img/loading.gif" alt="img"><br>2.é€‰æ‹©ç¬¬3ä¸ª<br><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/08/101158gc88ci5wiclr2w82.jpg" srcset="/img/loading.gif" alt="img"><br>3.èµ‹å€¼const-wide v0, 0x3BB2B0C6018Lä¹Ÿå°±æ˜¯<a href="https://www.52pojie.cn/tel:20991231" target="_blank" rel="noopener">2099-12-31</a>çš„æ„æ€<br><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/08/101204j4ckmxpm49zctxlk.jpg" srcset="/img/loading.gif" alt="img"><br>4.æ•™ç¨‹å®Œæ¯•   ä¸‹é¢æˆ‘ä»¬æ¥è¯•è¯•VIPåŠŸèƒ½<br><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/08/101218s06365hzj5ot5gl6.jpg" srcset="/img/loading.gif" alt="img"><br><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/08/101322m7zy3gaga7m8b93o.jpg" srcset="/img/loading.gif" alt="img"><br><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/08/101328pre782z3r6xq268p.jpg" srcset="/img/loading.gif" alt="img"></p><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å· ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>è½»é¢œç›¸æœºä¿®æ”¹å…ç™»å½•æ°¸ä¹…ä¼šå‘˜åŠ å»å¼ºåˆ¶æ›´æ–°æ•™ç¨‹</title>
    <link href="/2020/06/08/%E8%BD%BB%E9%A2%9C%E7%9B%B8%E6%9C%BA%E4%BF%AE%E6%94%B9%E5%85%8D%E7%99%BB%E5%BD%95%E6%B0%B8%E4%B9%85%E4%BC%9A%E5%91%98%E5%8A%A0%E5%8E%BB%E5%BC%BA%E5%88%B6%E6%9B%B4%E6%96%B0%E6%95%99%E7%A8%8B/"/>
    <url>/2020/06/08/%E8%BD%BB%E9%A2%9C%E7%9B%B8%E6%9C%BA%E4%BF%AE%E6%94%B9%E5%85%8D%E7%99%BB%E5%BD%95%E6%B0%B8%E4%B9%85%E4%BC%9A%E5%91%98%E5%8A%A0%E5%8E%BB%E5%BC%BA%E5%88%B6%E6%9B%B4%E6%96%B0%E6%95%99%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<p>ç”±äºä¹‹å‰å¤§ç¥<a href="https://www.52pojie.cn/" target="_blank" rel="noopener">ç ´è§£</a>çš„æ—§ç‰ˆç°å·²è¢«å¼ºåˆ¶æ›´æ–°è€Œæ— æ³•ä½¿ç”¨<br>è¿™æ¬¡å¸¦æ¥äº†è§£é”ä¼šå‘˜å’Œå»æ›´æ–°æ•™ç¨‹ï¼Œå¯æ°¸ä¹…ä½¿ç”¨<br>æ•™ç¨‹å¼€å§‹ï¼š<br>1.è§£é”æ°¸ä¹…ä¼šå‘˜åŠŸèƒ½<br>dexç¼–è¾‘å™¨ï¼‹ï¼‹å‹¾é€‰å…¨é€‰ï¼Œæœç´¢â€œisVipUserâ€ï¼Œä¸Šæ»‘åˆ°åº•éƒ¨é€‰æ‹©æœ€åä¸€ä¸ªæœç´¢ç»“æœï¼Œç„¶åèµ‹å€¼const/4 v0, 0x1ï¼Œä¸€è·¯è¿”å›ä¿å­˜ã€‚<br><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/08/113850kgt9ghdg6r198jw6.png" srcset="/img/loading.gif" alt="img"> <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/08/113855hekp1pgvdk6xkwhd.jpg" srcset="/img/loading.gif" alt="img"><br>2.å»æ°¸ä¹…æ›´æ–°æ•™ç¨‹</p><h2 id="dexç¼–è¾‘å™¨ï¼‹ï¼‹å‹¾é€‰å…¨é€‰ï¼Œæœç´¢â€œupsdk-choice-updateâ€ï¼Œè¿›å…¥å¦‚å›¾çº¢æ¡†æœç´¢ç»“æœï¼Œå°†1172è¡Œçš„â€œif-eqz-v0-cond-1bâ€æ”¹ä¸ºâ€œgoto-cond-1bâ€ï¼Œè¿”å›ä¸€è·¯ä¿å­˜ï¼Œç­¾åå®‰è£…ã€‚æ•™ç¨‹ç»“æŸ"><a href="#dexç¼–è¾‘å™¨ï¼‹ï¼‹å‹¾é€‰å…¨é€‰ï¼Œæœç´¢â€œupsdk-choice-updateâ€ï¼Œè¿›å…¥å¦‚å›¾çº¢æ¡†æœç´¢ç»“æœï¼Œå°†1172è¡Œçš„â€œif-eqz-v0-cond-1bâ€æ”¹ä¸ºâ€œgoto-cond-1bâ€ï¼Œè¿”å›ä¸€è·¯ä¿å­˜ï¼Œç­¾åå®‰è£…ã€‚æ•™ç¨‹ç»“æŸ" class="headerlink" title="dexç¼–è¾‘å™¨ï¼‹ï¼‹å‹¾é€‰å…¨é€‰ï¼Œæœç´¢â€œupsdk_choice_updateâ€ï¼Œè¿›å…¥å¦‚å›¾çº¢æ¡†æœç´¢ç»“æœï¼Œå°†1172è¡Œçš„â€œif-eqz v0, :cond_1bâ€æ”¹ä¸ºâ€œgoto :cond_1bâ€ï¼Œè¿”å›ä¸€è·¯ä¿å­˜ï¼Œç­¾åå®‰è£…ã€‚æ•™ç¨‹ç»“æŸ"></a>dexç¼–è¾‘å™¨ï¼‹ï¼‹å‹¾é€‰å…¨é€‰ï¼Œæœç´¢â€œupsdk_choice_updateâ€ï¼Œè¿›å…¥å¦‚å›¾çº¢æ¡†æœç´¢ç»“æœï¼Œå°†1172è¡Œçš„â€œif-eqz v0, :cond_1bâ€æ”¹ä¸ºâ€œgoto :cond_1bâ€ï¼Œè¿”å›ä¸€è·¯ä¿å­˜ï¼Œç­¾åå®‰è£…ã€‚æ•™ç¨‹ç»“æŸ</h2><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/08/113858jc289z9iijr89r29.png" srcset="/img/loading.gif" alt="img"> <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/08/113902h1qryqy1dyz8p8dd.jpg" srcset="/img/loading.gif" alt="img"> <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/08/113907q4zkvk280z242kpp.jpg" srcset="/img/loading.gif" alt="img"><br>æˆ‘ä»¬æ¥çœ‹çœ‹æˆå“å’Œæ•ˆæœå›¾<br>æˆå“ï¼š<a href="https://rjc6.lanzous.com/icvhfpa" target="_blank" rel="noopener">https://rjc6.lanzous.com/icvhfpa</a><br><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/06/08/113910nwwijinizi9y6zir.jpg" srcset="/img/loading.gif" alt="img"></p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å· ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Other</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Other</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¦‚ä½•ä¿®æ”¹Gitå·²æäº¤çš„æ—¥å¿—</title>
    <link href="/2020/05/29/%E5%A6%82%E4%BD%95%E4%BF%AE%E6%94%B9Git%E5%B7%B2%E6%8F%90%E4%BA%A4%E7%9A%84%E6%97%A5%E5%BF%97/"/>
    <url>/2020/05/29/%E5%A6%82%E4%BD%95%E4%BF%AE%E6%94%B9Git%E5%B7%B2%E6%8F%90%E4%BA%A4%E7%9A%84%E6%97%A5%E5%BF%97/</url>
    
    <content type="html"><![CDATA[<p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/05/29/cb961739a31849e6857d951faf08e245!1242x9999.jpeg" srcset="/img/loading.gif" alt="img"></p><h3 id="æƒ…å†µä¸€ï¼šæœ€åä¸€æ¬¡æäº¤ä¸”æœª-push"><a href="#æƒ…å†µä¸€ï¼šæœ€åä¸€æ¬¡æäº¤ä¸”æœª-push" class="headerlink" title="æƒ…å†µä¸€ï¼šæœ€åä¸€æ¬¡æäº¤ä¸”æœª push"></a>æƒ…å†µä¸€ï¼šæœ€åä¸€æ¬¡æäº¤ä¸”æœª push</h3><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><pre><code class="hljs bash">git commit --amend</code></pre><p>git ä¼šæ‰“å¼€ $EDITOR ç¼–è¾‘å™¨ï¼Œå®ƒä¼šåŠ è½½è¿™æ¬¡æäº¤çš„æ—¥å¿—ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨ä¸Šé¢ç¼–è¾‘ï¼Œç¼–è¾‘åä¿å­˜å³å®Œæˆæ­¤æ¬¡çš„ä¿®æ”¹ã€‚</p><h3 id="æƒ…å†µäºŒï¼šæœ€åä¸€æ¬¡æäº¤ä¸”å·²-push-åˆ°æœåŠ¡å™¨"><a href="#æƒ…å†µäºŒï¼šæœ€åä¸€æ¬¡æäº¤ä¸”å·²-push-åˆ°æœåŠ¡å™¨" class="headerlink" title="æƒ…å†µäºŒï¼šæœ€åä¸€æ¬¡æäº¤ä¸”å·² push åˆ°æœåŠ¡å™¨"></a>æƒ…å†µäºŒï¼šæœ€åä¸€æ¬¡æäº¤ä¸”å·² push åˆ°æœåŠ¡å™¨</h3><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><pre><code class="hljs bash">git commit --amendgit push origin master --force</code></pre><p>å’Œæƒ…å†µä¸€çš„åšæ³•ä¸€æ ·ã€‚ä½¿ç”¨ push æ¨é€åˆ°è¿œç¨‹æœåŠ¡å™¨æ˜¯éœ€è¦åŠ ä¸Š â€“forceï¼Œè®©æœåŠ¡å™¨æ›´æ–°å†å²è®°å½•ã€‚</p><p>** éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæŠŠä¿®æ”¹åçš„æ—¥å¿—å¼ºåˆ¶ push åˆ° Git æœåŠ¡å™¨ï¼Œå¦‚æœåˆ«äººæœ¬åœ°çš„å‰¯æœ¬æœ‰ä¿®æ”¹ï¼Œå¾ˆæœ‰å¯èƒ½ä¼šå¯¼è‡´ä»–ä»¬åŒæ­¥ä¸äº†ï¼Œæ‰€ä»¥æœ€å¥½å’Œä»–ä»¬æ ¸å¯¹ä¸‹ã€‚**</p><h3 id="æƒ…å†µä¸‰ï¼šæ—§çš„æäº¤ä¸”æœªæ¨é€"><a href="#æƒ…å†µä¸‰ï¼šæ—§çš„æäº¤ä¸”æœªæ¨é€" class="headerlink" title="æƒ…å†µä¸‰ï¼šæ—§çš„æäº¤ä¸”æœªæ¨é€"></a>æƒ…å†µä¸‰ï¼šæ—§çš„æäº¤ä¸”æœªæ¨é€</h3><p>å‡è®¾ commit æ˜¯å€’æ•°ç¬¬ 3 æ¬¡æäº¤ï¼Œè¿™ä¸ªå¯ä»¥ä½¿ç”¨ git log æŸ¥çœ‹ï¼Œ</p><pre><code class="hljs bash">$ git <span class="hljs-built_in">log</span>commit b1b451d218cc23b6c769f373164f2b89cf54d0aaAuthor: clcaza &lt;clcaza@sina.cn&gt;Date:  Sat Mar 10 19:09:08 2018 +0800  æ·»åŠ å†…å®¹ dcommit 04f0d1809d5d31cc6e930efcba47a5f3f7e93319Author: clcaza &lt;clcaza@sina.cn&gt;Date:  Sat Mar 10 19:08:24 2018 +0800  æ·»åŠ å†…å®¹ ccommit 94fc8feb916442d56b558d5c370f18f057298921Author: clcaza &lt;clcaza@sina.cn&gt;Date:  Sat Mar 10 19:07:08 2018 +0800  æ·»åŠ å†…å®¹ acommit fd517efa9faf6a5ec71d0eac38fbcfa0cd689f40Author: clcaza &lt;clcaza@sina.cn&gt;Date:  Sat Mar 10 19:06:21 2018 +0800  init</code></pre><p>æ‰§è¡Œ rebase</p><pre><code class="hljs bash">git rebase -i HEAD~3</code></pre><p>å®ƒä¼šæ‰“å¼€ä¸€ä¸ªç¼–è¾‘å™¨ï¼Œå®ƒä¼šæŠŠæœ€åå‰ 3 æ¬¡çš„æäº¤æ˜¾ç¤ºå‡ºæ¥ï¼Œç±»ä¼¼äºï¼š</p><pre><code class="hljs bash">pick 94fc8fe æ·»åŠ å†…å®¹ apick 04f0d18 æ·»åŠ å†…å®¹ cpick b1b451d æ·»åŠ å†…å®¹ d</code></pre><p>ä½ ä¼šçœ‹åˆ°ï¼Œå®ƒæ˜¯æŒ‰æäº¤çš„é¡ºåºæ˜¾ç¤ºçš„ï¼Œä¸ git log æ˜¾ç¤ºçš„é¡ºåºç›¸åã€‚å®šä½åˆ°ä½ è¦ç¼–è¾‘æ—¥å¿—çš„é‚£ä¸€è¡Œï¼ŒæŠŠ pick ä¿®æ”¹ä¸º editï¼Œç„¶åä¿å­˜ã€‚</p><p>æ¥ç€å°±æ˜¯ä¿®æ”¹æ—¥å¿—å†…å®¹äº†</p><pre><code class="hljs bash">git commit --amend</code></pre><p>å®Œæˆç¼–è¾‘æ—¥å¿—åï¼Œè®°å¾—æ‰§è¡Œï¼š</p><pre><code class="hljs bash">git rebase --<span class="hljs-built_in">continue</span></code></pre><p>Rebase ç›®çš„æ˜¯æ‰“å¼€æäº¤çš„å†å²è®°å½•ï¼Œè®©æ‚¨é€‰æ‹©è¦ä¿®æ”¹çš„å†…å®¹ã€‚ Git ä¼šè®©ä½ åœ¨ä¸€ä¸ªæ–°çš„åˆ†æ”¯ä¿®æ”¹å†…å®¹ã€‚ git rebase â€“continue åˆ™æ˜¯è®©ä½ é‡æ–°å›åˆ°ä¹‹å‰çš„åˆ†æ”¯ã€‚</p><h3 id="æƒ…å†µå››ï¼šæ—§çš„æäº¤ä¸”å·²-push-åˆ°æœåŠ¡å™¨"><a href="#æƒ…å†µå››ï¼šæ—§çš„æäº¤ä¸”å·²-push-åˆ°æœåŠ¡å™¨" class="headerlink" title="æƒ…å†µå››ï¼šæ—§çš„æäº¤ä¸”å·² push åˆ°æœåŠ¡å™¨"></a>æƒ…å†µå››ï¼šæ—§çš„æäº¤ä¸”å·² push åˆ°æœåŠ¡å™¨</h3><p>å‰é¢ç¼–è¾‘æ—¥å¿—çš„æ“ä½œæ˜¯å’Œæƒ…å†µä¸‰æ˜¯ä¸€æ ·çš„ï¼š</p><pre><code class="hljs bash">git rebase -i HEAD~Xgit commit --amendgit rebase --<span class="hljs-built_in">continue</span></code></pre><p>X è¡¨ç¤ºå€’æ•°ç¬¬å‡ æ¬¡æäº¤ã€‚</p><p>å®Œæˆç¼–è¾‘æ—¥å¿—åï¼Œæ‰§è¡Œ pushï¼š</p><pre><code class="hljs bash">git push origin master --force</code></pre><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å· ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Linuxä¸‹æ¸…ç©ºç”¨æˆ·ç™»å½•è®°å½•å’Œå‘½ä»¤å†å²çš„æ–¹æ³•</title>
    <link href="/2020/05/28/Linux%E4%B8%8B%E6%B8%85%E7%A9%BA%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E8%AE%B0%E5%BD%95%E5%92%8C%E5%91%BD%E4%BB%A4%E5%8E%86%E5%8F%B2%E7%9A%84%E6%96%B9%E6%B3%95/"/>
    <url>/2020/05/28/Linux%E4%B8%8B%E6%B8%85%E7%A9%BA%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E8%AE%B0%E5%BD%95%E5%92%8C%E5%91%BD%E4%BB%A4%E5%8E%86%E5%8F%B2%E7%9A%84%E6%96%B9%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/05/28/Mid%20Ocean.jpg" srcset="/img/loading.gif" alt="imng"></p><p><strong>æ¸…é™¤ç™»é™†ç³»ç»ŸæˆåŠŸçš„è®°å½•</strong>ï¼Œä¹Ÿå°±æ˜¯lastå‘½ä»¤çœ‹åˆ°çš„è®°å½•</p><p>[root@localhost root]# echo &gt; /var/log/wtmp æ­¤æ–‡ä»¶é»˜è®¤æ‰“å¼€æ—¶ä¹±ç çš„ï¼Œé‡Œé¢å¯ä»¥çœ‹åˆ°ipç­‰ç­‰ä¿¡æ¯</p><p>[root@localhost root]# echo &gt;/var/log/wtmp<br>[root@localhost root]# last</p><p>æ­¤æ—¶å³çœ‹ä¸åˆ°ç”¨æˆ·ç™»å½•ä¿¡æ¯</p><p><strong>æ¸…é™¤ç™»é™†ç³»ç»Ÿå¤±è´¥çš„è®°å½•</strong>ï¼Œä¹Ÿå°±æ˜¯lastbå‘½ä»¤çœ‹åˆ°çš„è®°å½•<br>[root@localhost root]# echo &gt; /var/log/btmp æ­¤æ–‡ä»¶é»˜è®¤æ‰“å¼€æ—¶ä¹±ç çš„</p><p>[root@localhost root]# echo &gt; /var/log/btmp<br>[root@localhost root]# lastb</p><p>æ­¤æ—¶å°±æ²¡æœ‰ç»“æœè¾“å‡ºäº†</p><p><strong>æ¸…é™¤å†å²æ‰§è¡Œå‘½ä»¤</strong></p><p>[root@localhost root]# history -c </p><p>æˆ–è€…ï¼Œæ¸…ç©ºç”¨æˆ·ç›®å½•ä¸‹çš„è¿™ä¸ªæ–‡ä»¶å³å¯</p><p>[root@localhost root]# echo &gt; ./.bash_history</p><p><a href="http://www.linuxidc.com/" target="_blank" rel="noopener"></a></p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å· ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Redis é…ç½®æ–‡ä»¶ä¸»è¦å‚æ•°è§£æå‚è€ƒ</title>
    <link href="/2020/05/26/Redis-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%BB%E8%A6%81%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90%E5%8F%82%E8%80%83/"/>
    <url>/2020/05/26/Redis-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%BB%E8%A6%81%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90%E5%8F%82%E8%80%83/</url>
    
    <content type="html"><![CDATA[<p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/05/26/TC6Q2z.jpg" srcset="/img/loading.gif" alt="img"></p><pre><code class="hljs properties"><span class="hljs-comment"># redisè¿›ç¨‹æ˜¯å¦ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œï¼Œyesä¸ºæ˜¯ï¼Œnoä¸ºå¦(ä¸ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œä¼šå ç”¨ä¸€ä¸ªç»ˆç«¯)ã€‚</span><span class="hljs-attr">daemonize</span> <span class="hljs-string">no</span><span class="hljs-comment"># æŒ‡å®šredisè¿›ç¨‹çš„PIDæ–‡ä»¶å­˜æ”¾ä½ç½®</span><span class="hljs-attr">pidfile</span> <span class="hljs-string">/var/run/redis.pid</span><span class="hljs-comment"># redisè¿›ç¨‹çš„ç«¯å£å·</span><span class="hljs-attr">port</span> <span class="hljs-string">6379</span><span class="hljs-comment"># ç»‘å®šçš„ä¸»æœºåœ°å€</span><span class="hljs-attr">bind</span> <span class="hljs-string">127.0.0.1</span><span class="hljs-comment"># å®¢æˆ·ç«¯é—²ç½®å¤šé•¿æ—¶é—´åå…³é—­è¿æ¥ï¼Œé»˜è®¤æ­¤å‚æ•°ä¸º0å³å…³é—­æ­¤åŠŸèƒ½</span><span class="hljs-attr">timeout</span> <span class="hljs-string">300</span><span class="hljs-comment"># redisæ—¥å¿—çº§åˆ«ï¼Œå¯ç”¨çš„çº§åˆ«æœ‰debug.verbose.notice.warning</span><span class="hljs-attr">loglevel</span> <span class="hljs-string">verbose</span><span class="hljs-comment"># logæ–‡ä»¶è¾“å‡ºä½ç½®ï¼Œå¦‚æœè¿›ç¨‹ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œï¼Œæ­¤å¤„åˆå°†è¾“å‡ºæ–‡ä»¶è®¾ç½®ä¸ºstdoutçš„è¯ï¼Œå°±ä¼šå°†æ—¥å¿—ä¿¡æ¯è¾“å‡ºåˆ°/dev/nullé‡Œé¢å»äº†</span><span class="hljs-attr">logfile</span> <span class="hljs-string">stdout</span><span class="hljs-comment"># è®¾ç½®æ•°æ®åº“çš„æ•°é‡ï¼Œé»˜è®¤ä¸º0å¯ä»¥ä½¿ç”¨select &lt;dbid&gt;å‘½ä»¤åœ¨è¿æ¥ä¸ŠæŒ‡å®šæ•°æ®åº“id</span><span class="hljs-attr">databases</span> <span class="hljs-string">16</span><span class="hljs-comment"># æŒ‡å®šåœ¨å¤šå°‘æ—¶é—´å†…åˆ·æ–°æ¬¡æ•°è¾¾åˆ°å¤šå°‘çš„æ—¶å€™ä¼šå°†æ•°æ®åŒæ­¥åˆ°æ•°æ®æ–‡ä»¶</span><span class="hljs-attr">save</span> <span class="hljs-string">&lt;seconds&gt; &lt;changes&gt;</span><span class="hljs-comment"># æŒ‡å®šå­˜å‚¨è‡³æœ¬åœ°æ•°æ®åº“æ—¶æ˜¯å¦å‹ç¼©æ–‡ä»¶ï¼Œé»˜è®¤ä¸ºyeså³å¯ç”¨å­˜å‚¨</span><span class="hljs-attr">rdbcompression</span> <span class="hljs-string">yes</span><span class="hljs-comment"># æŒ‡å®šæœ¬åœ°æ•°æ®åº“æ–‡ä»¶å</span><span class="hljs-attr">dbfilename</span> <span class="hljs-string">dump.db</span><span class="hljs-comment"># æŒ‡å®šæœ¬åœ°æ•°æ®é—®å°±æŒ‰å­˜æ”¾ä½ç½®</span><span class="hljs-attr">dir</span> <span class="hljs-string">./</span><span class="hljs-comment"># æŒ‡å®šå½“æœ¬æœºä¸ºslaveæœåŠ¡æ—¶ï¼Œè®¾ç½®masteræœåŠ¡çš„IPåœ°å€åŠç«¯å£ï¼Œåœ¨rediså¯åŠ¨çš„æ—¶å€™ä»–ä¼šè‡ªåŠ¨è·Ÿmasterè¿›è¡Œæ•°æ®åŒæ­¥</span><span class="hljs-attr">slaveof</span> <span class="hljs-string">&lt;masterip&gt; &lt;masterport&gt;</span><span class="hljs-comment"># å½“masterè®¾ç½®äº†å¯†ç ä¿æŠ¤æ—¶ï¼ŒslaveæœåŠ¡è¿æ¥masterçš„å¯†ç </span><span class="hljs-attr">masterauth</span> <span class="hljs-string">&lt;master-password&gt;</span><span class="hljs-comment"># è®¾ç½®redisè¿æ¥å¯†ç ï¼Œå¦‚æœé…ç½®äº†è¿æ¥å¯†ç ï¼Œå®¢æˆ·ç«¯åœ¨è¿æ¥redisæ˜¯éœ€è¦é€šè¿‡AUTH&lt;password&gt;å‘½ä»¤æä¾›å¯†ç ï¼Œé»˜è®¤å…³é—­</span><span class="hljs-attr">requirepass</span> <span class="hljs-string">footbared</span><span class="hljs-comment"># è®¾ç½®åŒä¸€æ—¶é—´æœ€å¤§å®¢æˆ·è¿æ¥æ•°ï¼Œé»˜è®¤æ— é™åˆ¶ã€‚rediså¯ä»¥åŒæ—¶è¿æ¥çš„å®¢æˆ·ç«¯æ•°ä¸ºredisç¨‹åºå¯ä»¥æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æè¿°ç¬¦ï¼Œå¦‚æœè®¾ç½® maxclients 0ï¼Œè¡¨ç¤ºä¸ä½œé™åˆ¶ã€‚å½“å®¢æˆ·ç«¯è¿æ¥æ•°åˆ°è¾¾é™åˆ¶æ—¶ï¼ŒRedisä¼šå…³é—­æ–°çš„è¿æ¥å¹¶å‘å®¢æˆ·ç«¯è¿”å› max number of clients reached é”™è¯¯ä¿¡æ¯</span><span class="hljs-attr">maxclients</span> <span class="hljs-string">128</span><span class="hljs-comment"># æŒ‡å®šRedisæœ€å¤§å†…å­˜é™åˆ¶ï¼ŒRedisåœ¨å¯åŠ¨æ—¶ä¼šæŠŠæ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œè¾¾åˆ°æœ€å¤§å†…å­˜åï¼ŒRedisä¼šå…ˆå°è¯•æ¸…é™¤å·²åˆ°æœŸæˆ–å³å°†åˆ°æœŸçš„Keyã€‚å½“æ­¤æ–¹æ³•å¤„ç†åï¼Œä»ç„¶åˆ°è¾¾æœ€å¤§å†…å­˜è®¾ç½®ï¼Œå°†æ— æ³•å†è¿›è¡Œå†™å…¥æ“ä½œï¼Œä½†ä»ç„¶å¯ä»¥è¿›è¡Œè¯»å–æ“ä½œã€‚Redisæ–°çš„vmæœºåˆ¶ï¼Œä¼šæŠŠKeyå­˜æ”¾å†…å­˜ï¼ŒValueä¼šå­˜æ”¾åœ¨swapåŒº</span><span class="hljs-attr">maxmemory&lt;bytes&gt;</span><span class="hljs-comment"># æŒ‡å®šæ˜¯å¦åœ¨æ¯æ¬¡æ›´æ–°æ“ä½œåè¿›è¡Œæ—¥å¿—è®°å½•ï¼ŒRedisåœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯å¼‚æ­¥çš„æŠŠæ•°æ®å†™å…¥ç£ç›˜ï¼Œå¦‚æœä¸å¼€å¯ï¼Œå¯èƒ½ä¼šåœ¨æ–­ç”µæ—¶å¯¼è‡´ä¸€æ®µæ—¶é—´å†…çš„æ•°æ®ä¸¢å¤±ã€‚å› ä¸ºredisæœ¬èº«åŒæ­¥æ•°æ®æ–‡ä»¶æ˜¯æŒ‰ä¸Šé¢saveæ¡ä»¶æ¥åŒæ­¥çš„ï¼Œæ‰€ä»¥æœ‰çš„æ•°æ®ä¼šåœ¨ä¸€æ®µæ—¶é—´å†…åªå­˜åœ¨äºå†…å­˜ä¸­ã€‚é»˜è®¤ä¸ºnoã€‚</span><span class="hljs-attr">appendonly</span> <span class="hljs-string">no</span><span class="hljs-comment"># æŒ‡å®šè·Ÿæ–°æ—¥å¿—æ–‡ä»¶åé»˜è®¤ä¸ºappendonly.aof</span><span class="hljs-attr">appendfilename</span> <span class="hljs-string">appendonly.aof</span><span class="hljs-comment"># æŒ‡å®šæ›´æ–°æ—¥å¿—çš„æ¡ä»¶ï¼Œæœ‰ä¸‰ä¸ªå¯é€‰å‚æ•° - noï¼šè¡¨ç¤ºç­‰æ“ä½œç³»ç»Ÿè¿›è¡Œæ•°æ®ç¼“å­˜åŒæ­¥åˆ°ç£ç›˜(å¿«)ï¼Œalwaysï¼šè¡¨ç¤ºæ¯æ¬¡æ›´æ–°æ“ä½œåæ‰‹åŠ¨è°ƒç”¨fsync()å°†æ•°æ®å†™åˆ°ç£ç›˜(æ…¢ï¼Œå®‰å…¨)ï¼Œ everysecï¼šè¡¨ç¤ºæ¯ç§’åŒæ­¥ä¸€æ¬¡(æŠ˜è¡·ï¼Œé»˜è®¤å€¼)ï¼›</span><span class="hljs-attr">appendfsync</span> <span class="hljs-string">everysec</span></code></pre><ul><li>è®¾ç½®åå°å¯åŠ¨</li></ul><p>ç”±äº <code>Redis</code> é»˜è®¤æ˜¯ <strong>å‰å°å¯åŠ¨</strong>ï¼Œä¸å»ºè®®ä½¿ç”¨ã€‚ä¿®æ”¹ <code>Redis</code> é…ç½®æ–‡ä»¶ï¼ŒæŠŠ <code>daemonize no</code> æ”¹ä¸º <code>daemonize yes</code>ã€‚</p><pre><code class="hljs properties"><span class="hljs-attr">daemonize</span> <span class="hljs-string">yes</span></code></pre><ul><li>è®¾ç½®è¿œç¨‹è®¿é—®</li></ul><p><code>Redis</code> é»˜è®¤åªå…è®¸ <strong>æœ¬æœºè®¿é—®</strong>ï¼ŒæŠŠ <code>bind</code> ä¿®æ”¹ä¸º <code>bind 0.0.0.0</code> æ­¤è®¾ç½®ä¼šå˜æˆ <strong>å…è®¸æ‰€æœ‰è¿œç¨‹è®¿é—®</strong>ã€‚å¦‚æœæƒ³æŒ‡å®šé™åˆ¶è®¿é—®ï¼Œå¯è®¾ç½®å¯¹åº”çš„ <code>IP</code>ã€‚</p><pre><code class="hljs properties"><span class="hljs-attr">bind</span> <span class="hljs-string">0.0.0.0</span></code></pre><ul><li>é…ç½® <code>Redis</code> æ—¥å¿—è®°å½•</li></ul><p>æ‰¾åˆ° <code>logfile</code> é…ç½®ï¼Œé»˜è®¤æ˜¯ï¼š<code>logfile &quot;&quot;</code>ï¼Œæ”¹ä¸ºè‡ªå®šä¹‰æ—¥å¿—æ–‡ä»¶è·¯å¾„ã€‚</p><pre><code class="hljs properties"><span class="hljs-attr">logfile</span> <span class="hljs-string">/var/log/redis_6379.log</span></code></pre><ul><li>è®¾ç½® <code>Redis</code> è¯·æ±‚å¯†ç </li></ul><p>æŠŠ <code>requirepass</code> ä¿®æ”¹ä¸º <code>123456</code>ï¼Œä¿®æ”¹ä¹‹åé‡å¯ä¸‹æœåŠ¡</p><pre><code class="hljs properties"><span class="hljs-attr">requirepass</span> <span class="hljs-string">"123456"</span></code></pre><p>æœ‰äº†å¯†ç ä¹‹åï¼Œè¿›å…¥å®¢æˆ·ç«¯ï¼Œå°±å¾—è¿™æ ·è®¿é—®ï¼š</p><pre><code class="hljs properties"><span class="hljs-meta">$</span> <span class="hljs-string">redis-cli -h 127.0.0.1 -p 6379 -a 123456</span></code></pre>]]></content>
    
    
    <categories>
      
      <category>Redis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Redis</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¸¸è§å®‰å…¨ç®—æ³•</title>
    <link href="/2020/05/25/%E5%B8%B8%E8%A7%81%E5%AE%89%E5%85%A8%E7%AE%97%E6%B3%95/"/>
    <url>/2020/05/25/%E5%B8%B8%E8%A7%81%E5%AE%89%E5%85%A8%E7%AE%97%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡æ•´ç†äº†å¸¸è§çš„å®‰å…¨ç®—æ³•ï¼ŒåŒ…æ‹¬MD5ã€SHAã€DESã€AESã€RSAç­‰ï¼Œå¹¶å†™äº†å®Œæ•´çš„å·¥å…·ç±»ï¼ˆJava ç‰ˆï¼‰ï¼Œå·¥å…·ç±»åŒ…å«æµ‹è¯•ã€‚ </p><h2 id="ä¸€ã€æ•°å­—æ‘˜è¦ç®—æ³•"><a href="#ä¸€ã€æ•°å­—æ‘˜è¦ç®—æ³•" class="headerlink" title="ä¸€ã€æ•°å­—æ‘˜è¦ç®—æ³•"></a>ä¸€ã€æ•°å­—æ‘˜è¦ç®—æ³•</h2><blockquote><p>æ•°å­—æ‘˜è¦ä¹Ÿç§°ä¸ºæ¶ˆæ¯æ‘˜è¦ï¼Œå®ƒæ˜¯ä¸€ä¸ªå”¯ä¸€å¯¹åº”ä¸€ä¸ªæ¶ˆæ¯æˆ–æ–‡æœ¬çš„å›ºå®šé•¿åº¦çš„å€¼ï¼Œå®ƒç”±ä¸€ä¸ªå•å‘Hashå‡½æ•°å¯¹æ¶ˆæ¯è¿›è¡Œè®¡ç®—è€Œäº§ç”Ÿã€‚å¦‚æœæ¶ˆæ¯åœ¨ä¼ é€’çš„é€”ä¸­æ”¹å˜äº†ï¼Œæ¥æ”¶è€…é€šè¿‡å¯¹æ”¶åˆ°æ¶ˆæ¯é‡‡ç”¨ç›¸åŒçš„Hashé‡æ–°è®¡ç®—ï¼Œæ–°äº§ç”Ÿçš„æ‘˜è¦ä¸åŸæ‘˜è¦è¿›è¡Œæ¯”è¾ƒï¼Œå°±å¯çŸ¥é“æ¶ˆæ¯æ˜¯å¦è¢«ç¯¡æ”¹äº†ï¼Œå› æ­¤æ¶ˆæ¯æ‘˜è¦èƒ½å¤ŸéªŒè¯æ¶ˆæ¯çš„å®Œæ•´æ€§ã€‚æ¶ˆæ¯æ‘˜è¦é‡‡ç”¨å•å‘Hashå‡½æ•°å°†éœ€è¦è®¡ç®—çš„å†…å®¹â€æ‘˜è¦â€æˆå›ºå®šé•¿åº¦çš„ä¸²ï¼Œè¿™ä¸ªä¸²äº¦ç§°ä¸ºæ•°å­—æŒ‡çº¹ã€‚è¿™ä¸ªä¸²æœ‰å›ºå®šçš„é•¿åº¦ï¼Œä¸”ä¸åŒçš„æ˜æ–‡æ‘˜è¦æˆå¯†æ–‡ï¼Œå…¶ç»“æœæ€»æ˜¯ä¸åŒçš„(ç›¸å¯¹çš„)ï¼Œè€ŒåŒæ ·çš„æ˜æ–‡å…¶æ‘˜è¦å¿…å®šä¸€è‡´ã€‚è¿™æ ·è¿™ä¸²æ‘˜è¦ä¾¿å¯æˆä¸ºéªŒè¯æ˜æ–‡æ˜¯å¦æ˜¯â€çœŸèº«â€çš„â€æŒ‡çº¹â€äº†ã€‚     </p></blockquote><h3 id="1-Md5"><a href="#1-Md5" class="headerlink" title="1. Md5"></a>1. Md5</h3><p>MD5å³Message Digest Algorithm 5(ä¿¡æ¯æ‘˜è¦ç®—æ³•5)ï¼Œæ˜¯æ•°å­—æ‘˜è¦ç®—æ³•ä¸€ç§å®ç°ï¼Œç”¨äºç¡®ä¿ä¿¡æ¯ä¼ è¾“å®Œæ•´æ€§å’Œä¸€è‡´æ€§ï¼Œæ‘˜è¦é•¿åº¦ä¸º128ä½ã€‚ MD5ç”±MD4ã€ MD3ã€ MD2æ”¹è¿›è€Œæ¥ï¼Œä¸»è¦å¢å¼ºç®—æ³•å¤æ‚åº¦å’Œä¸å¯é€†æ€§ï¼Œè¯¥ç®—æ³•å› å…¶æ™®éã€ç¨³å®šã€å¿«é€Ÿçš„ç‰¹ç‚¹ï¼Œåœ¨äº§ä¸šç•Œå¾—åˆ°äº†æä¸ºå¹¿æ³›çš„ä½¿ç”¨ï¼Œç›®å‰ä¸»æµçš„ç¼–ç¨‹è¯­è¨€æ™®ééƒ½å·²æœ‰MD5ç®—æ³•å®ç°ã€‚ </p><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.security.MessageDigest;<span class="hljs-keyword">import</span> java.security.NoSuchAlgorithmException;<span class="hljs-comment">/**</span><span class="hljs-comment"> * Message Digest Algorithm 5(ä¿¡æ¯æ‘˜è¦ç®—æ³•5)</span><span class="hljs-comment"> */</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MD5Util</span> </span>&#123;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * Constructs the MD5Util object and sets the string whose MD5Util is to be</span><span class="hljs-comment">     * computed.</span><span class="hljs-comment">     * </span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> inStr</span><span class="hljs-comment">     *    the &lt;code&gt;String&lt;/code&gt; whose MD5Util is to be computed</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> String COMMON_KEY=<span class="hljs-string">"zhongzhuoxin#@!321"</span>;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MD5Util</span><span class="hljs-params">()</span> </span>&#123;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">str2MD5</span><span class="hljs-params">(String inStr)</span> </span>&#123;        <span class="hljs-keyword">char</span> hexDigits[] = &#123; <span class="hljs-string">'0'</span>, <span class="hljs-string">'1'</span>, <span class="hljs-string">'2'</span>, <span class="hljs-string">'3'</span>, <span class="hljs-string">'4'</span>, <span class="hljs-string">'5'</span>, <span class="hljs-string">'6'</span>, <span class="hljs-string">'7'</span>, <span class="hljs-string">'8'</span>, <span class="hljs-string">'9'</span>,                <span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>, <span class="hljs-string">'d'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'f'</span> &#125;;        <span class="hljs-keyword">try</span> &#123;            <span class="hljs-keyword">byte</span>[] strTemp = inStr.getBytes(<span class="hljs-string">"UTF-8"</span>);            MessageDigest mdTemp = MessageDigest.getInstance(<span class="hljs-string">"MD5"</span>);            mdTemp.update(strTemp);            <span class="hljs-keyword">byte</span>[] md = mdTemp.digest();            <span class="hljs-keyword">int</span> j = md.length;            <span class="hljs-keyword">char</span> str[] = <span class="hljs-keyword">new</span> <span class="hljs-keyword">char</span>[j * <span class="hljs-number">2</span>];            <span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>;            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; j; i++) &#123;                <span class="hljs-keyword">byte</span> byte0 = md[i];                str[k++] = hexDigits[byte0 &gt;&gt;&gt; <span class="hljs-number">4</span> &amp; <span class="hljs-number">0xf</span>];                str[k++] = hexDigits[byte0 &amp; <span class="hljs-number">0xf</span>];            &#125;            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> String(str);        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;            <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;        &#125;    &#125;    <span class="hljs-comment">//--MD5Util</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">char</span> HEX_DIGITS[] = &#123; <span class="hljs-string">'0'</span>, <span class="hljs-string">'1'</span>, <span class="hljs-string">'2'</span>, <span class="hljs-string">'3'</span>, <span class="hljs-string">'4'</span>, <span class="hljs-string">'5'</span>,            <span class="hljs-string">'6'</span>, <span class="hljs-string">'7'</span>, <span class="hljs-string">'8'</span>, <span class="hljs-string">'9'</span>, <span class="hljs-string">'A'</span>, <span class="hljs-string">'B'</span>, <span class="hljs-string">'C'</span>, <span class="hljs-string">'D'</span>, <span class="hljs-string">'E'</span>, <span class="hljs-string">'F'</span> &#125;;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">toHexString</span><span class="hljs-params">(<span class="hljs-keyword">byte</span>[] b)</span> </span>&#123; <span class="hljs-comment">// String to byte</span>        StringBuilder sb = <span class="hljs-keyword">new</span> StringBuilder(b.length * <span class="hljs-number">2</span>);        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; b.length; i++) &#123;            sb.append(HEX_DIGITS[(b[i] &amp; <span class="hljs-number">0xf0</span>) &gt;&gt;&gt; <span class="hljs-number">4</span>]);            sb.append(HEX_DIGITS[b[i] &amp; <span class="hljs-number">0x0f</span>]);        &#125;        <span class="hljs-keyword">return</span> sb.toString();    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">AndroidMd5</span><span class="hljs-params">(String s)</span> </span>&#123;        <span class="hljs-keyword">try</span> &#123;            <span class="hljs-comment">// Create MD5Util Hash</span>            MessageDigest digest = MessageDigest                    .getInstance(<span class="hljs-string">"MD5"</span>);            digest.update(s.getBytes());            <span class="hljs-keyword">byte</span> messageDigest[] = digest.digest();            <span class="hljs-keyword">return</span> toHexString(messageDigest);        &#125; <span class="hljs-keyword">catch</span> (NoSuchAlgorithmException e) &#123;            e.printStackTrace();        &#125;        <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;        String m = MD5Util.str2MD5(<span class="hljs-string">"swwwwwwwwwwdkinner"</span>);        System.out.print(m.length() + <span class="hljs-string">"    "</span>);        System.out.println(m);    &#125;&#125;</code></pre><h3 id="2-SHA"><a href="#2-SHA" class="headerlink" title="2.SHA"></a>2.SHA</h3><p>SHAçš„å…¨ç§°æ˜¯Secure Hash Algorithmï¼Œå³å®‰å…¨æ•£åˆ—ç®—æ³•ã€‚ 1993å¹´ï¼Œå®‰å…¨æ•£åˆ—ç®—æ³•(SHA)ç”±ç¾å›½å›½å®¶æ ‡å‡†å’ŒæŠ€æœ¯åä¼šï¼ˆNIST)æå‡ºï¼Œå¹¶ä½œä¸ºè”é‚¦ä¿¡æ¯å¤„ç†æ ‡å‡†(FIPS PUB 180)å…¬å¸ƒï¼Œ 1995å¹´åˆå‘å¸ƒäº†ä¸€ä¸ªä¿®è®¢ç‰ˆFIPS PUB 180-1ï¼Œé€šå¸¸ç§°ä¹‹ä¸ºSHA-1ã€‚ SHA-1æ˜¯åŸºäºMD4ç®—æ³•çš„ï¼Œç°åœ¨å·²æˆä¸ºå…¬è®¤çš„æœ€å®‰å…¨çš„æ•£åˆ—ç®—æ³•ä¹‹ä¸€ï¼Œå¹¶è¢«å¹¿æ³›ä½¿ç”¨ã€‚SHA-1ç®—æ³•ç”Ÿæˆçš„æ‘˜è¦ä¿¡æ¯çš„é•¿åº¦ä¸º160ä½ï¼Œç”±äºç”Ÿæˆçš„æ‘˜è¦ä¿¡æ¯æ›´é•¿ï¼Œè¿ç®—çš„è¿‡ç¨‹æ›´åŠ å¤æ‚ï¼Œåœ¨ç›¸åŒçš„ç¡¬ä»¶ä¸Šï¼Œ SHA-1çš„è¿è¡Œé€Ÿåº¦æ¯”MD5æ›´æ…¢ï¼Œä½†æ˜¯ä¹Ÿæ›´ä¸ºå®‰å…¨ã€‚ </p><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.google.common.base.Strings;<span class="hljs-keyword">import</span> java.security.MessageDigest;<span class="hljs-comment">/**</span><span class="hljs-comment"> * SHAçš„å…¨ç§°æ˜¯Secure Hash Algorithmï¼Œå³å®‰å…¨æ•£åˆ—ç®—æ³•</span><span class="hljs-comment"> * Created by fangzhipeng on 2017/3/21.</span><span class="hljs-comment"> */</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SHAUtil</span> </span>&#123;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * å®šä¹‰åŠ å¯†æ–¹å¼</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> String KEY_SHA = <span class="hljs-string">"SHA"</span>;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> String KEY_SHA1 = <span class="hljs-string">"SHA-1"</span>;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * å…¨å±€æ•°ç»„</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> String[] hexDigits = &#123; <span class="hljs-string">"0"</span>, <span class="hljs-string">"1"</span>, <span class="hljs-string">"2"</span>, <span class="hljs-string">"3"</span>, <span class="hljs-string">"4"</span>, <span class="hljs-string">"5"</span>,            <span class="hljs-string">"6"</span>, <span class="hljs-string">"7"</span>, <span class="hljs-string">"8"</span>, <span class="hljs-string">"9"</span>, <span class="hljs-string">"a"</span>, <span class="hljs-string">"b"</span>, <span class="hljs-string">"c"</span>, <span class="hljs-string">"d"</span>, <span class="hljs-string">"e"</span>, <span class="hljs-string">"f"</span> &#125;;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * æ„é€ å‡½æ•°</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">SHAUtil</span><span class="hljs-params">()</span> </span>&#123;    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * SHA åŠ å¯†</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> data éœ€è¦åŠ å¯†çš„å­—èŠ‚æ•°ç»„</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> åŠ å¯†ä¹‹åçš„å­—èŠ‚æ•°ç»„</span><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> Exception</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">byte</span>[] encryptSHA(<span class="hljs-keyword">byte</span>[] data) <span class="hljs-keyword">throws</span> Exception &#123;        <span class="hljs-comment">// åˆ›å»ºå…·æœ‰æŒ‡å®šç®—æ³•åç§°çš„ä¿¡æ¯æ‘˜è¦</span><span class="hljs-comment">//        MessageDigest sha = MessageDigest.getInstance(KEY_SHA);</span>        MessageDigest sha = MessageDigest.getInstance(KEY_SHA1);        <span class="hljs-comment">// ä½¿ç”¨æŒ‡å®šçš„å­—èŠ‚æ•°ç»„å¯¹æ‘˜è¦è¿›è¡Œæœ€åæ›´æ–°</span>        sha.update(data);        <span class="hljs-comment">// å®Œæˆæ‘˜è¦è®¡ç®—å¹¶è¿”å›</span>        <span class="hljs-keyword">return</span> sha.digest();    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * SHA åŠ å¯†</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> data éœ€è¦åŠ å¯†çš„å­—ç¬¦ä¸²</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> åŠ å¯†ä¹‹åçš„å­—ç¬¦ä¸²</span><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> Exception</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">encryptSHA</span><span class="hljs-params">(String data)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;        <span class="hljs-comment">// éªŒè¯ä¼ å…¥çš„å­—ç¬¦ä¸²</span>        <span class="hljs-keyword">if</span> (Strings.isNullOrEmpty(data)) &#123;            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;        &#125;        <span class="hljs-comment">// åˆ›å»ºå…·æœ‰æŒ‡å®šç®—æ³•åç§°çš„ä¿¡æ¯æ‘˜è¦</span>        MessageDigest sha = MessageDigest.getInstance(KEY_SHA);        <span class="hljs-comment">// ä½¿ç”¨æŒ‡å®šçš„å­—èŠ‚æ•°ç»„å¯¹æ‘˜è¦è¿›è¡Œæœ€åæ›´æ–°</span>        sha.update(data.getBytes());        <span class="hljs-comment">// å®Œæˆæ‘˜è¦è®¡ç®—</span>        <span class="hljs-keyword">byte</span>[] bytes = sha.digest();        <span class="hljs-comment">// å°†å¾—åˆ°çš„å­—èŠ‚æ•°ç»„å˜æˆå­—ç¬¦ä¸²è¿”å›</span>        <span class="hljs-keyword">return</span> byteArrayToHexString(bytes);    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * å°†ä¸€ä¸ªå­—èŠ‚è½¬åŒ–æˆåå…­è¿›åˆ¶å½¢å¼çš„å­—ç¬¦ä¸²</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> b å­—èŠ‚æ•°ç»„</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> å­—ç¬¦ä¸²</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">byteToHexString</span><span class="hljs-params">(<span class="hljs-keyword">byte</span> b)</span> </span>&#123;        <span class="hljs-keyword">int</span> ret = b;        <span class="hljs-comment">//System.out.println("ret = " + ret);</span>        <span class="hljs-keyword">if</span> (ret &lt; <span class="hljs-number">0</span>) &#123;            ret += <span class="hljs-number">256</span>;        &#125;        <span class="hljs-keyword">int</span> m = ret / <span class="hljs-number">16</span>;        <span class="hljs-keyword">int</span> n = ret % <span class="hljs-number">16</span>;        <span class="hljs-keyword">return</span> hexDigits[m] + hexDigits[n];    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * è½¬æ¢å­—èŠ‚æ•°ç»„ä¸ºåå…­è¿›åˆ¶å­—ç¬¦ä¸²</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> bytes å­—èŠ‚æ•°ç»„</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> åå…­è¿›åˆ¶å­—ç¬¦ä¸²</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">byteArrayToHexString</span><span class="hljs-params">(<span class="hljs-keyword">byte</span>[] bytes)</span> </span>&#123;        StringBuffer sb = <span class="hljs-keyword">new</span> StringBuffer();        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; bytes.length; i++) &#123;            sb.append(byteToHexString(bytes[i]));        &#125;        <span class="hljs-keyword">return</span> sb.toString();    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * æµ‹è¯•æ–¹æ³•</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> args</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;        String key = <span class="hljs-string">"123"</span>;        System.out.println(encryptSHA(key));    &#125;&#125;</code></pre><h2 id="äºŒã€å¯¹ç§°åŠ å¯†"><a href="#äºŒã€å¯¹ç§°åŠ å¯†" class="headerlink" title="äºŒã€å¯¹ç§°åŠ å¯†"></a>äºŒã€å¯¹ç§°åŠ å¯†</h2><blockquote><p>å¯¹ç§°åŠ å¯†ç®—æ³•æ˜¯åº”ç”¨è¾ƒæ—©çš„åŠ å¯†ç®—æ³•ï¼ŒæŠ€æœ¯æˆç†Ÿã€‚åœ¨å¯¹ç§°åŠ å¯†ç®—æ³•ä¸­ï¼Œæ•°æ®å‘é€æ–¹å°†æ˜æ–‡(åŸå§‹æ•°æ®)å’ŒåŠ å¯†å¯†é’¥ä¸€èµ·ç»è¿‡ç‰¹æ®ŠåŠ å¯†ç®—æ³•å¤„ç†åï¼Œç”Ÿæˆå¤æ‚çš„åŠ å¯†å¯†æ–‡è¿›è¡Œå‘é€ï¼Œæ•°æ®æ¥æ”¶æ–¹æ”¶åˆ°å¯†æ–‡åï¼Œè‹¥æƒ³è¯»å–åŸæ–‡ï¼Œåˆ™éœ€è¦ä½¿ç”¨åŠ å¯†ä½¿ç”¨çš„å¯†é’¥åŠç›¸åŒç®—æ³•çš„é€†ç®—æ³•å¯¹åŠ å¯†çš„å¯†æ–‡è¿›è¡Œè§£å¯†ï¼Œæ‰èƒ½ä½¿å…¶æ¢å¤æˆå¯è¯»æ˜æ–‡ã€‚åœ¨å¯¹ç§°åŠ å¯†ç®—æ³•ä¸­ï¼Œä½¿ç”¨çš„å¯†é’¥åªæœ‰ä¸€ä¸ªï¼Œå‘é€å’Œæ¥æ”¶åŒæ–¹éƒ½ä½¿ç”¨è¿™ä¸ªå¯†é’¥å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†å’Œè§£å¯†ï¼Œè¿™å°±è¦æ±‚åŠ å¯†å’Œè§£å¯†æ–¹äº‹å…ˆéƒ½å¿…é¡»çŸ¥é“åŠ å¯†çš„å¯†é’¥ã€‚     </p></blockquote><h3 id="1-DESç®—æ³•"><a href="#1-DESç®—æ³•" class="headerlink" title="1. DESç®—æ³•"></a>1. DESç®—æ³•</h3><p>1973 å¹´ï¼Œç¾å›½å›½å®¶æ ‡å‡†å±€(NBS)åœ¨è®¤è¯†åˆ°å»ºç«‹æ•°æ®ä¿æŠ¤æ ‡å‡†æ—¢æ˜æ˜¾åˆæ€¥è¿«çš„æƒ…å†µä¸‹ï¼Œå¼€å§‹å¾é›†è”é‚¦æ•°æ®åŠ å¯†æ ‡å‡†çš„æ–¹æ¡ˆã€‚ 1975 å¹´3æœˆ17æ—¥ï¼Œ NBSå…¬å¸ƒäº†IBMå…¬å¸æä¾›çš„å¯†ç ç®—æ³•ï¼Œä»¥æ ‡å‡†å»ºè®®çš„å½¢å¼åœ¨å…¨å›½èŒƒå›´å†…å¾æ±‚æ„è§ã€‚ç»è¿‡ä¸¤å¹´å¤šçš„å…¬å¼€è®¨è®ºä¹‹åï¼Œ 1977 å¹´7æœˆ15æ—¥ï¼Œ NBSå®£å¸ƒæ¥å—è¿™å»ºè®®ï¼Œä½œä¸ºè”é‚¦ä¿¡æ¯å¤„ç†æ ‡å‡†46 å·æ•°æ®åŠ å¯†æ ‡å‡†(Data Encryptin Standard)ï¼Œå³DESæ­£å¼é¢å¸ƒï¼Œä¾›å•†ä¸šç•Œå’Œéå›½é˜²æ€§æ”¿åºœéƒ¨é—¨ä½¿ç”¨ã€‚DESç®—æ³•å±äºå¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œæ˜æ–‡æŒ‰64ä½è¿›è¡Œåˆ†ç»„ï¼Œå¯†é’¥é•¿64ä½ï¼Œä½†äº‹å®ä¸Šåªæœ‰56ä½å‚ä¸DES<br>è¿ç®—(ç¬¬8ã€ 16ã€ 24ã€ 32ã€ 40ã€ 48ã€ 56ã€ 64ä½æ˜¯æ ¡éªŒä½ï¼Œä½¿å¾—æ¯ä¸ªå¯†é’¥éƒ½æœ‰å¥‡æ•°ä¸ª1),åˆ†ç»„åçš„æ˜æ–‡å’Œ56ä½çš„å¯†é’¥æŒ‰ä½æ›¿ä»£æˆ–äº¤æ¢çš„æ–¹æ³•å½¢æˆå¯†æ–‡ã€‚ç”±äºè®¡ç®—æœºè¿ç®—èƒ½åŠ›çš„å¢å¼ºï¼ŒåŸç‰ˆDESå¯†ç çš„å¯†é’¥é•¿åº¦å˜å¾—å®¹æ˜“è¢«æš´åŠ›ç ´è§£ï¼Œå› æ­¤æ¼”å˜å‡ºäº†3DESç®—æ³•ã€‚ 3DESæ˜¯DESå‘AESè¿‡æ¸¡çš„åŠ å¯†ç®—æ³•ï¼Œå®ƒä½¿ç”¨3æ¡56ä½çš„å¯†é’¥å¯¹æ•°æ®è¿›è¡Œä¸‰æ¬¡åŠ å¯†ï¼Œæ˜¯DESçš„ä¸€ä¸ªæ›´å®‰å…¨çš„å˜å½¢ã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.IOException;<span class="hljs-keyword">import</span> java.security.SecureRandom;<span class="hljs-keyword">import</span> javax.crypto.Cipher;<span class="hljs-keyword">import</span> javax.crypto.SecretKey;<span class="hljs-keyword">import</span> javax.crypto.SecretKeyFactory;<span class="hljs-keyword">import</span> javax.crypto.spec.DESKeySpec;<span class="hljs-keyword">import</span> sun.misc.BASE64Decoder;<span class="hljs-keyword">import</span> sun.misc.BASE64Encoder;<span class="hljs-comment">/**</span><span class="hljs-comment"> * Data Encryptin Standard</span><span class="hljs-comment"> * æ•°æ®åŠ å¯†æ ‡å‡†</span><span class="hljs-comment"> */</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DESUtil</span> </span>&#123;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> String DES = <span class="hljs-string">"DES"</span>;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * Description æ ¹æ®é”®å€¼è¿›è¡ŒåŠ å¯†</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> data</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> key  åŠ å¯†é”®byteæ•°ç»„</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> Exception</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">encrypt</span><span class="hljs-params">(String data, String key)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;        <span class="hljs-keyword">byte</span>[] bt = encrypt(data.getBytes(), key.getBytes());        String strs = <span class="hljs-keyword">new</span> BASE64Encoder().encode(bt);        <span class="hljs-keyword">return</span> strs;    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * Description æ ¹æ®é”®å€¼è¿›è¡Œè§£å¯†</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> data</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> key  åŠ å¯†é”®byteæ•°ç»„</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> IOException</span><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> Exception</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">decrypt</span><span class="hljs-params">(String data, String key)</span> <span class="hljs-keyword">throws</span> Exception,</span><span class="hljs-function">            Exception </span>&#123;        <span class="hljs-keyword">if</span> (data == <span class="hljs-keyword">null</span>)            <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;        BASE64Decoder decoder = <span class="hljs-keyword">new</span> BASE64Decoder();        <span class="hljs-keyword">byte</span>[] buf = decoder.decodeBuffer(data);        <span class="hljs-keyword">byte</span>[] bt = decrypt(buf, key.getBytes());        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> String(bt);    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * Description æ ¹æ®é”®å€¼è¿›è¡ŒåŠ å¯†</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> data</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> key  åŠ å¯†é”®byteæ•°ç»„</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> Exception</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">byte</span>[] encrypt(<span class="hljs-keyword">byte</span>[] data, <span class="hljs-keyword">byte</span>[] key) <span class="hljs-keyword">throws</span> Exception &#123;        <span class="hljs-comment">// ç”Ÿæˆä¸€ä¸ªå¯ä¿¡ä»»çš„éšæœºæ•°æº</span>        SecureRandom sr = <span class="hljs-keyword">new</span> SecureRandom();        <span class="hljs-comment">// ä»åŸå§‹å¯†é’¥æ•°æ®åˆ›å»ºDESKeySpecå¯¹è±¡</span>        DESKeySpec dks = <span class="hljs-keyword">new</span> DESKeySpec(key);        <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªå¯†é’¥å·¥å‚ï¼Œç„¶åç”¨å®ƒæŠŠDESKeySpecè½¬æ¢æˆSecretKeyå¯¹è±¡</span>        SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(DES);        SecretKey securekey = keyFactory.generateSecret(dks);        <span class="hljs-comment">// Cipherå¯¹è±¡å®é™…å®ŒæˆåŠ å¯†æ“ä½œ</span>        Cipher cipher = Cipher.getInstance(DES);        <span class="hljs-comment">// ç”¨å¯†é’¥åˆå§‹åŒ–Cipherå¯¹è±¡</span>        cipher.init(Cipher.ENCRYPT_MODE, securekey, sr);        <span class="hljs-keyword">return</span> cipher.doFinal(data);    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * Description æ ¹æ®é”®å€¼è¿›è¡Œè§£å¯†</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> data</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> key  åŠ å¯†é”®byteæ•°ç»„</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> Exception</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">byte</span>[] decrypt(<span class="hljs-keyword">byte</span>[] data, <span class="hljs-keyword">byte</span>[] key) <span class="hljs-keyword">throws</span> Exception &#123;        <span class="hljs-comment">// ç”Ÿæˆä¸€ä¸ªå¯ä¿¡ä»»çš„éšæœºæ•°æº</span>        SecureRandom sr = <span class="hljs-keyword">new</span> SecureRandom();        <span class="hljs-comment">// ä»åŸå§‹å¯†é’¥æ•°æ®åˆ›å»ºDESKeySpecå¯¹è±¡</span>        DESKeySpec dks = <span class="hljs-keyword">new</span> DESKeySpec(key);        <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªå¯†é’¥å·¥å‚ï¼Œç„¶åç”¨å®ƒæŠŠDESKeySpecè½¬æ¢æˆSecretKeyå¯¹è±¡</span>        SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(DES);        SecretKey securekey = keyFactory.generateSecret(dks);        <span class="hljs-comment">// Cipherå¯¹è±¡å®é™…å®Œæˆè§£å¯†æ“ä½œ</span>        Cipher cipher = Cipher.getInstance(DES);        <span class="hljs-comment">// ç”¨å¯†é’¥åˆå§‹åŒ–Cipherå¯¹è±¡</span>        cipher.init(Cipher.DECRYPT_MODE, securekey, sr);        <span class="hljs-keyword">return</span> cipher.doFinal(data);    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[]args)</span><span class="hljs-keyword">throws</span> Exception</span>&#123;       String  sStr=encrypt(<span class="hljs-string">"122222112222:12343232323:jajwwwwslwskwkkwksk"</span>,<span class="hljs-string">"wew2323w233321ws233w"</span>);       System.out.println(sStr);       String mStr=decrypt(sStr,<span class="hljs-string">"wew2323w233321ws233w"</span>);       System.out.println(mStr);    &#125;&#125;</code></pre><h3 id="2-AES"><a href="#2-AES" class="headerlink" title="2. AES"></a>2. AES</h3><p>AESçš„å…¨ç§°æ˜¯Advanced Encryption Standardï¼Œå³é«˜çº§åŠ å¯†æ ‡å‡†ï¼Œè¯¥ç®—æ³•ç”±æ¯”åˆ©æ—¶å¯†ç å­¦å®¶Joan Daemenå’ŒVincent Rijmenæ‰€è®¾è®¡ï¼Œç»“åˆä¸¤ä½ä½œè€…çš„åå­—ï¼Œåˆç§°RijndaelåŠ å¯†ç®—æ³•ï¼Œæ˜¯ç¾å›½è”é‚¦æ”¿åºœé‡‡ç”¨çš„ä¸€ç§å¯¹ç§°åŠ å¯†æ ‡å‡†ï¼Œè¿™ä¸ªæ ‡å‡†ç”¨æ¥æ›¿ä»£åŸå…ˆçš„DESç®—æ³•ï¼Œå·²ç»å¹¿ä¸ºå…¨ä¸–ç•Œæ‰€ä½¿ç”¨ï¼Œå·²ç„¶æˆä¸ºå¯¹ç§°åŠ å¯†ç®—æ³•ä¸­æœ€æµè¡Œçš„ç®—æ³•ä¹‹ä¸€ã€‚AESç®—æ³•ä½œä¸ºæ–°ä¸€ä»£çš„æ•°æ®åŠ å¯†æ ‡å‡†æ±‡èšäº†å¼ºå®‰å…¨æ€§ã€é«˜æ€§èƒ½ã€é«˜æ•ˆç‡ã€æ˜“ç”¨å’Œçµæ´»ç­‰ä¼˜<br>ç‚¹ï¼Œè®¾è®¡æœ‰ä¸‰ä¸ªå¯†é’¥é•¿åº¦:128,192,256ä½ï¼Œæ¯”DESç®—æ³•çš„åŠ å¯†å¼ºåº¦æ›´é«˜ï¼Œæ›´ä¸ºå®‰å…¨ã€‚ </p><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.IOException;<span class="hljs-keyword">import</span> java.io.UnsupportedEncodingException;<span class="hljs-keyword">import</span> java.security.InvalidKeyException;<span class="hljs-keyword">import</span> java.security.NoSuchAlgorithmException;<span class="hljs-keyword">import</span> java.security.SecureRandom;<span class="hljs-keyword">import</span> java.util.Base64;<span class="hljs-keyword">import</span> java.util.Scanner;<span class="hljs-keyword">import</span> javax.crypto.BadPaddingException;<span class="hljs-keyword">import</span> javax.crypto.Cipher;<span class="hljs-keyword">import</span> javax.crypto.IllegalBlockSizeException;<span class="hljs-keyword">import</span> javax.crypto.KeyGenerator;<span class="hljs-keyword">import</span> javax.crypto.NoSuchPaddingException;<span class="hljs-keyword">import</span> javax.crypto.SecretKey;<span class="hljs-keyword">import</span> javax.crypto.spec.SecretKeySpec;<span class="hljs-keyword">import</span> sun.misc.BASE64Decoder;<span class="hljs-keyword">import</span> sun.misc.BASE64Encoder;<span class="hljs-comment">/**</span><span class="hljs-comment"> * Created by fangzhipeng on 2017/3/21.</span><span class="hljs-comment"> */</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AESUtil</span> </span>&#123;    <span class="hljs-keyword">static</span>  <span class="hljs-keyword">byte</span>[]  key = <span class="hljs-string">"w@#$4@#$s^&amp;3*&amp;^4"</span>.getBytes();    <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> String algorithm=<span class="hljs-string">"AES"</span>;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">encrypt</span><span class="hljs-params">(String data)</span></span>&#123;        <span class="hljs-keyword">byte</span>[] dataToSend = data.getBytes();        Cipher c = <span class="hljs-keyword">null</span>;        <span class="hljs-keyword">try</span> &#123;            c = Cipher.getInstance(algorithm);        &#125; <span class="hljs-keyword">catch</span> (NoSuchAlgorithmException e) &#123;            <span class="hljs-comment">// TODO Auto-generated catch block</span>            e.printStackTrace();        &#125; <span class="hljs-keyword">catch</span> (NoSuchPaddingException e) &#123;            <span class="hljs-comment">// TODO Auto-generated catch block</span>            e.printStackTrace();        &#125;        SecretKeySpec k =  <span class="hljs-keyword">new</span> SecretKeySpec(key, algorithm);        <span class="hljs-keyword">try</span> &#123;            c.init(Cipher.ENCRYPT_MODE, k);        &#125; <span class="hljs-keyword">catch</span> (InvalidKeyException e) &#123;            <span class="hljs-comment">// TODO Auto-generated catch block</span>            e.printStackTrace();        &#125;        <span class="hljs-keyword">byte</span>[] encryptedData = <span class="hljs-string">""</span>.getBytes();        <span class="hljs-keyword">try</span> &#123;            encryptedData = c.doFinal(dataToSend);        &#125; <span class="hljs-keyword">catch</span> (IllegalBlockSizeException e) &#123;            <span class="hljs-comment">// TODO Auto-generated catch block</span>            e.printStackTrace();        &#125; <span class="hljs-keyword">catch</span> (BadPaddingException e) &#123;            <span class="hljs-comment">// TODO Auto-generated catch block</span>            e.printStackTrace();        &#125;        <span class="hljs-keyword">byte</span>[] encryptedByteValue =     Base64.getEncoder().encode(encryptedData);        <span class="hljs-keyword">return</span>  <span class="hljs-keyword">new</span> String(encryptedByteValue);<span class="hljs-comment">//.toString();</span>    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">decrypt</span><span class="hljs-params">(String data)</span></span>&#123;        <span class="hljs-keyword">byte</span>[] encryptedData  =  Base64.getDecoder().decode(data);        Cipher c = <span class="hljs-keyword">null</span>;        <span class="hljs-keyword">try</span> &#123;            c = Cipher.getInstance(algorithm);        &#125; <span class="hljs-keyword">catch</span> (NoSuchAlgorithmException e) &#123;            <span class="hljs-comment">// TODO Auto-generated catch block</span>            e.printStackTrace();        &#125; <span class="hljs-keyword">catch</span> (NoSuchPaddingException e) &#123;            <span class="hljs-comment">// TODO Auto-generated catch block</span>            e.printStackTrace();        &#125;        SecretKeySpec k =                <span class="hljs-keyword">new</span> SecretKeySpec(key, algorithm);        <span class="hljs-keyword">try</span> &#123;            c.init(Cipher.DECRYPT_MODE, k);        &#125; <span class="hljs-keyword">catch</span> (InvalidKeyException e1) &#123;            <span class="hljs-comment">// TODO Auto-generated catch block</span>            e1.printStackTrace();        &#125;        <span class="hljs-keyword">byte</span>[] decrypted = <span class="hljs-keyword">null</span>;        <span class="hljs-keyword">try</span> &#123;            decrypted = c.doFinal(encryptedData);        &#125; <span class="hljs-keyword">catch</span> (IllegalBlockSizeException e) &#123;            <span class="hljs-comment">// TODO Auto-generated catch block</span>            e.printStackTrace();        &#125; <span class="hljs-keyword">catch</span> (BadPaddingException e) &#123;            <span class="hljs-comment">// TODO Auto-generated catch block</span>            e.printStackTrace();        &#125;        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> String(decrypted);    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span></span>&#123;        String password=encrypt(<span class="hljs-string">"12233440988:1239874389888:dd333"</span>);        System.out.println(password);        System.out.println(decrypt(password));    &#125;&#125;</code></pre><h2 id="ä¸‰ã€éå¯¹ç§°åŠ å¯†"><a href="#ä¸‰ã€éå¯¹ç§°åŠ å¯†" class="headerlink" title="ä¸‰ã€éå¯¹ç§°åŠ å¯†"></a>ä¸‰ã€éå¯¹ç§°åŠ å¯†</h2><blockquote><p>éå¯¹ç§°åŠ å¯†ç®—æ³•åˆç§°ä¸ºå…¬å¼€å¯†é’¥åŠ å¯†ç®—æ³•ï¼Œå®ƒéœ€è¦ä¸¤ä¸ªå¯†é’¥ï¼Œä¸€ä¸ªç§°ä¸ºå…¬å¼€å¯†é’¥(public key)ï¼Œå³å…¬é’¥ï¼Œå¦ä¸€ä¸ªç§°ä¸ºç§æœ‰å¯†é’¥(private key)ï¼Œå³ç§é’¥ã€‚å…¬é’¥ä¸ç§é’¥éœ€è¦é…å¯¹ä½¿ç”¨ï¼Œå¦‚æœç”¨å…¬é’¥å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œåªæœ‰ç”¨å¯¹åº”çš„ç§é’¥æ‰èƒ½è¿›è¡Œè§£å¯†ï¼Œè€Œå¦‚æœä½¿ç”¨ç§é’¥å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œé‚£ä¹ˆåªæœ‰ç”¨å¯¹åº”çš„å…¬é’¥æ‰èƒ½è¿›è¡Œè§£å¯†ã€‚å› ä¸ºåŠ å¯†å’Œè§£å¯†ä½¿ç”¨çš„æ˜¯ä¸¤ä¸ªä¸åŒçš„å¯†é’¥ï¼Œæ‰€ä»¥è¿™ç§ç®—æ³•ç§°ä¸ºéå¯¹ç§°åŠ å¯†ç®—æ³•ã€‚éå¯¹ç§°åŠ å¯†ç®—æ³•å®ç°æœºå¯†ä¿¡æ¯äº¤æ¢çš„åŸºæœ¬è¿‡ç¨‹æ˜¯ï¼šç”²æ–¹ç”Ÿæˆä¸€å¯¹å¯†é’¥å¹¶å°†å…¶ä¸­çš„ä¸€æŠŠä½œä¸ºå…¬é’¥å‘å…¶å®ƒäººå…¬å¼€ï¼Œå¾—åˆ°è¯¥å…¬é’¥çš„ä¹™æ–¹ä½¿ç”¨è¯¥å¯†é’¥å¯¹æœºå¯†ä¿¡æ¯è¿›è¡ŒåŠ å¯†åå†å‘é€ç»™ç”²æ–¹ï¼Œç”²æ–¹å†ä½¿ç”¨è‡ªå·±ä¿å­˜çš„å¦ä¸€æŠŠä¸“ç”¨å¯†é’¥ï¼Œå³ç§é’¥ï¼Œå¯¹åŠ å¯†åçš„ä¿¡æ¯è¿›è¡Œè§£å¯†ã€‚     </p></blockquote><h3 id="RSA"><a href="#RSA" class="headerlink" title="RSA"></a>RSA</h3><p>RSAéå¯¹ç§°åŠ å¯†ç®—æ³•æ˜¯1977å¹´ç”±Ron Rivestã€ Adi Shamirhå’ŒLenAdlemanå¼€å‘çš„ï¼Œ RSAå–åæ¥è‡ªå¼€å‘ä»–ä»¬ä¸‰è€…çš„åå­—ã€‚ RSAæ˜¯ç›®å‰æœ€æœ‰å½±å“åŠ›çš„éå¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œå®ƒèƒ½å¤ŸæŠµæŠ—åˆ°ç›®å‰ä¸ºæ­¢å·²çŸ¥çš„æ‰€æœ‰å¯†ç æ”»å‡»ï¼Œå·²è¢«ISOæ¨èä¸ºå…¬é’¥æ•°æ®åŠ å¯†æ ‡å‡†ã€‚ RSAç®—æ³•åŸºäºä¸€ä¸ªååˆ†ç®€å•çš„æ•°è®ºäº‹å®ï¼šå°†ä¸¤ä¸ªå¤§ç´ æ•°ç›¸ä¹˜ååˆ†å®¹æ˜“ï¼Œä½†åè¿‡æ¥æƒ³è¦å¯¹å…¶ä¹˜ç§¯è¿›è¡Œå› å¼åˆ†è§£å´æå…¶å›°éš¾ï¼Œå› æ­¤å¯ä»¥å°†ä¹˜ç§¯å…¬å¼€ä½œä¸ºåŠ å¯†å¯†é’¥ã€‚ </p><pre><code class="hljs java"><span class="hljs-comment">/**</span><span class="hljs-comment"> * Created by fangzhipeng on 2017/3/21.</span><span class="hljs-comment"> * RSA ï¼šRSAéå¯¹ç§°åŠ å¯†ç®—æ³•æ˜¯1977å¹´ç”±Ron Rivestã€ Adi Shamirhå’ŒLenAdlemanå¼€å‘   *  çš„ï¼Œ RSAå–åæ¥</span><span class="hljs-comment"> *  è‡ªå¼€å‘ä»–ä»¬ä¸‰è€…çš„åå­—ã€‚</span><span class="hljs-comment"> * å‚è€ƒï¼šhttp://blog.csdn.net/wangqiuyun/article/details/42143957</span><span class="hljs-comment"> */</span><span class="hljs-keyword">import</span> java.io.*;<span class="hljs-keyword">import</span> java.security.InvalidKeyException;<span class="hljs-keyword">import</span> java.security.KeyFactory;<span class="hljs-keyword">import</span> java.security.KeyPair;<span class="hljs-keyword">import</span> java.security.KeyPairGenerator;<span class="hljs-keyword">import</span> java.security.NoSuchAlgorithmException;<span class="hljs-keyword">import</span> java.security.SecureRandom;<span class="hljs-keyword">import</span> java.security.interfaces.RSAPrivateKey;<span class="hljs-keyword">import</span> java.security.interfaces.RSAPublicKey;<span class="hljs-keyword">import</span> java.security.spec.InvalidKeySpecException;<span class="hljs-keyword">import</span> java.security.spec.PKCS8EncodedKeySpec;<span class="hljs-keyword">import</span> java.security.spec.X509EncodedKeySpec;<span class="hljs-keyword">import</span> java.util.Base64;<span class="hljs-keyword">import</span> javax.crypto.BadPaddingException;<span class="hljs-keyword">import</span> javax.crypto.Cipher;<span class="hljs-keyword">import</span> javax.crypto.IllegalBlockSizeException;<span class="hljs-keyword">import</span> javax.crypto.NoSuchPaddingException;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RSAUtil</span> </span>&#123;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * å­—èŠ‚æ•°æ®è½¬å­—ç¬¦ä¸²ä¸“ç”¨é›†åˆ</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">char</span>[] HEX_CHAR = &#123; <span class="hljs-string">'0'</span>, <span class="hljs-string">'1'</span>, <span class="hljs-string">'2'</span>, <span class="hljs-string">'3'</span>, <span class="hljs-string">'4'</span>, <span class="hljs-string">'5'</span>, <span class="hljs-string">'6'</span>,            <span class="hljs-string">'7'</span>, <span class="hljs-string">'8'</span>, <span class="hljs-string">'9'</span>, <span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>, <span class="hljs-string">'d'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'f'</span> &#125;;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * éšæœºç”Ÿæˆå¯†é’¥å¯¹</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">genKeyPair</span><span class="hljs-params">(String filePath)</span> </span>&#123;        <span class="hljs-comment">// KeyPairGeneratorç±»ç”¨äºç”Ÿæˆå…¬é’¥å’Œç§é’¥å¯¹ï¼ŒåŸºäºRSAç®—æ³•ç”Ÿæˆå¯¹è±¡</span>        KeyPairGenerator keyPairGen = <span class="hljs-keyword">null</span>;        <span class="hljs-keyword">try</span> &#123;            keyPairGen = KeyPairGenerator.getInstance(<span class="hljs-string">"RSA"</span>);        &#125; <span class="hljs-keyword">catch</span> (NoSuchAlgorithmException e) &#123;            <span class="hljs-comment">// TODO Auto-generated catch block</span>            e.printStackTrace();        &#125;        <span class="hljs-comment">// åˆå§‹åŒ–å¯†é’¥å¯¹ç”Ÿæˆå™¨ï¼Œå¯†é’¥å¤§å°ä¸º96-1024ä½</span>        keyPairGen.initialize(<span class="hljs-number">1024</span>,<span class="hljs-keyword">new</span> SecureRandom());        <span class="hljs-comment">// ç”Ÿæˆä¸€ä¸ªå¯†é’¥å¯¹ï¼Œä¿å­˜åœ¨keyPairä¸­</span>        KeyPair keyPair = keyPairGen.generateKeyPair();        <span class="hljs-comment">// å¾—åˆ°ç§é’¥</span>        RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate();        <span class="hljs-comment">// å¾—åˆ°å…¬é’¥</span>        RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();        <span class="hljs-keyword">try</span> &#123;            <span class="hljs-comment">// å¾—åˆ°å…¬é’¥å­—ç¬¦ä¸²</span>            <span class="hljs-comment">// å¾—åˆ°ç§é’¥å­—ç¬¦ä¸²</span>            String privateKeyString =<span class="hljs-keyword">new</span> String( Base64.getEncoder().encode(privateKey.getEncoded()));            String publicKeyString =<span class="hljs-keyword">new</span> String( Base64.getEncoder().encode(publicKey.getEncoded()));            <span class="hljs-comment">// å°†å¯†é’¥å¯¹å†™å…¥åˆ°æ–‡ä»¶</span>            File file1=<span class="hljs-keyword">new</span> File(filePath + <span class="hljs-string">"publicKey.keystore"</span>);            File file2=<span class="hljs-keyword">new</span> File(filePath + <span class="hljs-string">"privateKey.keystore"</span>);            <span class="hljs-keyword">if</span>(!file1.exists()) &#123;                file1.createNewFile();            &#125;            <span class="hljs-keyword">if</span>(!file2.exists()) &#123;                file2.createNewFile();            &#125;            FileWriter pubfw = <span class="hljs-keyword">new</span> FileWriter(filePath + <span class="hljs-string">"/publicKey.keystore"</span>);            FileWriter prifw = <span class="hljs-keyword">new</span> FileWriter(filePath + <span class="hljs-string">"/privateKey.keystore"</span>);            BufferedWriter pubbw = <span class="hljs-keyword">new</span> BufferedWriter(pubfw);            BufferedWriter pribw = <span class="hljs-keyword">new</span> BufferedWriter(prifw);            pubbw.write(publicKeyString);            pribw.write(privateKeyString);            pubbw.flush();            pubbw.close();            pubfw.close();            pribw.flush();            pribw.close();            prifw.close();        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;            e.printStackTrace();        &#125;    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * ä»æ–‡ä»¶ä¸­è¾“å…¥æµä¸­åŠ è½½å…¬é’¥</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span></span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> Exception</span><span class="hljs-comment">     *             åŠ è½½å…¬é’¥æ—¶äº§ç”Ÿçš„å¼‚å¸¸</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">loadPublicKeyByFile</span><span class="hljs-params">(String path)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;        <span class="hljs-keyword">try</span> &#123;            BufferedReader br = <span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> FileReader(path                    + <span class="hljs-string">"/publicKey.keystore"</span>));            String readLine = <span class="hljs-keyword">null</span>;            StringBuilder sb = <span class="hljs-keyword">new</span> StringBuilder();            <span class="hljs-keyword">while</span> ((readLine = br.readLine()) != <span class="hljs-keyword">null</span>) &#123;                sb.append(readLine);            &#125;            br.close();            <span class="hljs-keyword">return</span> sb.toString();        &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"å…¬é’¥æ•°æ®æµè¯»å–é”™è¯¯"</span>);        &#125; <span class="hljs-keyword">catch</span> (NullPointerException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"å…¬é’¥è¾“å…¥æµä¸ºç©º"</span>);        &#125;    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * ä»å­—ç¬¦ä¸²ä¸­åŠ è½½å…¬é’¥</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> publicKeyStr</span><span class="hljs-comment">     *            å…¬é’¥æ•°æ®å­—ç¬¦ä¸²</span><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> Exception</span><span class="hljs-comment">     *             åŠ è½½å…¬é’¥æ—¶äº§ç”Ÿçš„å¼‚å¸¸</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> RSAPublicKey <span class="hljs-title">loadPublicKeyByStr</span><span class="hljs-params">(String publicKeyStr)</span></span><span class="hljs-function">            <span class="hljs-keyword">throws</span> Exception </span>&#123;        <span class="hljs-keyword">try</span> &#123;            <span class="hljs-keyword">byte</span>[] buffer = Base64.getDecoder().decode(publicKeyStr);            KeyFactory keyFactory = KeyFactory.getInstance(<span class="hljs-string">"RSA"</span>);            X509EncodedKeySpec keySpec = <span class="hljs-keyword">new</span> X509EncodedKeySpec(buffer);            <span class="hljs-keyword">return</span> (RSAPublicKey) keyFactory.generatePublic(keySpec);        &#125; <span class="hljs-keyword">catch</span> (NoSuchAlgorithmException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"æ— æ­¤ç®—æ³•"</span>);        &#125; <span class="hljs-keyword">catch</span> (InvalidKeySpecException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"å…¬é’¥éæ³•"</span>);        &#125; <span class="hljs-keyword">catch</span> (NullPointerException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"å…¬é’¥æ•°æ®ä¸ºç©º"</span>);        &#125;    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * ä»æ–‡ä»¶ä¸­åŠ è½½ç§é’¥</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span></span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> æ˜¯å¦æˆåŠŸ</span><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> Exception</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">loadPrivateKeyByFile</span><span class="hljs-params">(String path)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;        <span class="hljs-keyword">try</span> &#123;            BufferedReader br = <span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> FileReader(path                    + <span class="hljs-string">"/privateKey.keystore"</span>));            String readLine = <span class="hljs-keyword">null</span>;            StringBuilder sb = <span class="hljs-keyword">new</span> StringBuilder();            <span class="hljs-keyword">while</span> ((readLine = br.readLine()) != <span class="hljs-keyword">null</span>) &#123;                sb.append(readLine);            &#125;            br.close();            <span class="hljs-keyword">return</span> sb.toString();        &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"ç§é’¥æ•°æ®è¯»å–é”™è¯¯"</span>);        &#125; <span class="hljs-keyword">catch</span> (NullPointerException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"ç§é’¥è¾“å…¥æµä¸ºç©º"</span>);        &#125;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> RSAPrivateKey <span class="hljs-title">loadPrivateKeyByStr</span><span class="hljs-params">(String privateKeyStr)</span></span><span class="hljs-function">            <span class="hljs-keyword">throws</span> Exception </span>&#123;        <span class="hljs-keyword">try</span> &#123;            <span class="hljs-keyword">byte</span>[] buffer = Base64.getDecoder().decode(privateKeyStr);            PKCS8EncodedKeySpec keySpec = <span class="hljs-keyword">new</span> PKCS8EncodedKeySpec(buffer);            KeyFactory keyFactory = KeyFactory.getInstance(<span class="hljs-string">"RSA"</span>);            <span class="hljs-keyword">return</span> (RSAPrivateKey) keyFactory.generatePrivate(keySpec);        &#125; <span class="hljs-keyword">catch</span> (NoSuchAlgorithmException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"æ— æ­¤ç®—æ³•"</span>);        &#125; <span class="hljs-keyword">catch</span> (InvalidKeySpecException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"ç§é’¥éæ³•"</span>);        &#125; <span class="hljs-keyword">catch</span> (NullPointerException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"ç§é’¥æ•°æ®ä¸ºç©º"</span>);        &#125;    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * å…¬é’¥åŠ å¯†è¿‡ç¨‹</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> publicKey</span><span class="hljs-comment">     *            å…¬é’¥</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> plainTextData</span><span class="hljs-comment">     *            æ˜æ–‡æ•°æ®</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> Exception</span><span class="hljs-comment">     *             åŠ å¯†è¿‡ç¨‹ä¸­çš„å¼‚å¸¸ä¿¡æ¯</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">byte</span>[] encrypt(RSAPublicKey publicKey, <span class="hljs-keyword">byte</span>[] plainTextData)            <span class="hljs-keyword">throws</span> Exception &#123;        <span class="hljs-keyword">if</span> (publicKey == <span class="hljs-keyword">null</span>) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"åŠ å¯†å…¬é’¥ä¸ºç©º, è¯·è®¾ç½®"</span>);        &#125;        Cipher cipher = <span class="hljs-keyword">null</span>;        <span class="hljs-keyword">try</span> &#123;            <span class="hljs-comment">// ä½¿ç”¨é»˜è®¤RSA</span>            cipher = Cipher.getInstance(<span class="hljs-string">"RSA"</span>);            <span class="hljs-comment">// cipher= Cipher.getInstance("RSA", new BouncyCastleProvider());</span>            cipher.init(Cipher.ENCRYPT_MODE, publicKey);            <span class="hljs-keyword">byte</span>[] output = cipher.doFinal(plainTextData);            <span class="hljs-keyword">return</span> output;        &#125; <span class="hljs-keyword">catch</span> (NoSuchAlgorithmException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"æ— æ­¤åŠ å¯†ç®—æ³•"</span>);        &#125; <span class="hljs-keyword">catch</span> (NoSuchPaddingException e) &#123;            e.printStackTrace();            <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;        &#125; <span class="hljs-keyword">catch</span> (InvalidKeyException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"åŠ å¯†å…¬é’¥éæ³•,è¯·æ£€æŸ¥"</span>);        &#125; <span class="hljs-keyword">catch</span> (IllegalBlockSizeException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"æ˜æ–‡é•¿åº¦éæ³•"</span>);        &#125; <span class="hljs-keyword">catch</span> (BadPaddingException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"æ˜æ–‡æ•°æ®å·²æŸå"</span>);        &#125;    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * ç§é’¥åŠ å¯†è¿‡ç¨‹</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> privateKey</span><span class="hljs-comment">     *            ç§é’¥</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> plainTextData</span><span class="hljs-comment">     *            æ˜æ–‡æ•°æ®</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> Exception</span><span class="hljs-comment">     *             åŠ å¯†è¿‡ç¨‹ä¸­çš„å¼‚å¸¸ä¿¡æ¯</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">byte</span>[] encrypt(RSAPrivateKey privateKey, <span class="hljs-keyword">byte</span>[] plainTextData)            <span class="hljs-keyword">throws</span> Exception &#123;        <span class="hljs-keyword">if</span> (privateKey == <span class="hljs-keyword">null</span>) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"åŠ å¯†ç§é’¥ä¸ºç©º, è¯·è®¾ç½®"</span>);        &#125;        Cipher cipher = <span class="hljs-keyword">null</span>;        <span class="hljs-keyword">try</span> &#123;            <span class="hljs-comment">// ä½¿ç”¨é»˜è®¤RSA</span>            cipher = Cipher.getInstance(<span class="hljs-string">"RSA"</span>);            cipher.init(Cipher.ENCRYPT_MODE, privateKey);            <span class="hljs-keyword">byte</span>[] output = cipher.doFinal(plainTextData);            <span class="hljs-keyword">return</span> output;        &#125; <span class="hljs-keyword">catch</span> (NoSuchAlgorithmException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"æ— æ­¤åŠ å¯†ç®—æ³•"</span>);        &#125; <span class="hljs-keyword">catch</span> (NoSuchPaddingException e) &#123;            e.printStackTrace();            <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;        &#125; <span class="hljs-keyword">catch</span> (InvalidKeyException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"åŠ å¯†ç§é’¥éæ³•,è¯·æ£€æŸ¥"</span>);        &#125; <span class="hljs-keyword">catch</span> (IllegalBlockSizeException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"æ˜æ–‡é•¿åº¦éæ³•"</span>);        &#125; <span class="hljs-keyword">catch</span> (BadPaddingException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"æ˜æ–‡æ•°æ®å·²æŸå"</span>);        &#125;    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * ç§é’¥è§£å¯†è¿‡ç¨‹</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> privateKey</span><span class="hljs-comment">     *            ç§é’¥</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> cipherData</span><span class="hljs-comment">     *            å¯†æ–‡æ•°æ®</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> æ˜æ–‡</span><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> Exception</span><span class="hljs-comment">     *             è§£å¯†è¿‡ç¨‹ä¸­çš„å¼‚å¸¸ä¿¡æ¯</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">byte</span>[] decrypt(RSAPrivateKey privateKey, <span class="hljs-keyword">byte</span>[] cipherData)            <span class="hljs-keyword">throws</span> Exception &#123;        <span class="hljs-keyword">if</span> (privateKey == <span class="hljs-keyword">null</span>) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"è§£å¯†ç§é’¥ä¸ºç©º, è¯·è®¾ç½®"</span>);        &#125;        Cipher cipher = <span class="hljs-keyword">null</span>;        <span class="hljs-keyword">try</span> &#123;            <span class="hljs-comment">// ä½¿ç”¨é»˜è®¤RSA</span>            cipher = Cipher.getInstance(<span class="hljs-string">"RSA"</span>);            <span class="hljs-comment">// cipher= Cipher.getInstance("RSA", new BouncyCastleProvider());</span>            cipher.init(Cipher.DECRYPT_MODE, privateKey);            <span class="hljs-keyword">byte</span>[] output = cipher.doFinal(cipherData);            <span class="hljs-keyword">return</span> output;        &#125; <span class="hljs-keyword">catch</span> (NoSuchAlgorithmException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"æ— æ­¤è§£å¯†ç®—æ³•"</span>);        &#125; <span class="hljs-keyword">catch</span> (NoSuchPaddingException e) &#123;            e.printStackTrace();            <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;        &#125; <span class="hljs-keyword">catch</span> (InvalidKeyException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"è§£å¯†ç§é’¥éæ³•,è¯·æ£€æŸ¥"</span>);        &#125; <span class="hljs-keyword">catch</span> (IllegalBlockSizeException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"å¯†æ–‡é•¿åº¦éæ³•"</span>);        &#125; <span class="hljs-keyword">catch</span> (BadPaddingException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"å¯†æ–‡æ•°æ®å·²æŸå"</span>);        &#125;    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * å…¬é’¥è§£å¯†è¿‡ç¨‹</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> publicKey</span><span class="hljs-comment">     *            å…¬é’¥</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> cipherData</span><span class="hljs-comment">     *            å¯†æ–‡æ•°æ®</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> æ˜æ–‡</span><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> Exception</span><span class="hljs-comment">     *             è§£å¯†è¿‡ç¨‹ä¸­çš„å¼‚å¸¸ä¿¡æ¯</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">byte</span>[] decrypt(RSAPublicKey publicKey, <span class="hljs-keyword">byte</span>[] cipherData)            <span class="hljs-keyword">throws</span> Exception &#123;        <span class="hljs-keyword">if</span> (publicKey == <span class="hljs-keyword">null</span>) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"è§£å¯†å…¬é’¥ä¸ºç©º, è¯·è®¾ç½®"</span>);        &#125;        Cipher cipher = <span class="hljs-keyword">null</span>;        <span class="hljs-keyword">try</span> &#123;            <span class="hljs-comment">// ä½¿ç”¨é»˜è®¤RSA</span>            cipher = Cipher.getInstance(<span class="hljs-string">"RSA"</span>);            <span class="hljs-comment">// cipher= Cipher.getInstance("RSA", new BouncyCastleProvider());</span>            cipher.init(Cipher.DECRYPT_MODE, publicKey);            <span class="hljs-keyword">byte</span>[] output = cipher.doFinal(cipherData);            <span class="hljs-keyword">return</span> output;        &#125; <span class="hljs-keyword">catch</span> (NoSuchAlgorithmException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"æ— æ­¤è§£å¯†ç®—æ³•"</span>);        &#125; <span class="hljs-keyword">catch</span> (NoSuchPaddingException e) &#123;            e.printStackTrace();            <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;        &#125; <span class="hljs-keyword">catch</span> (InvalidKeyException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"è§£å¯†å…¬é’¥éæ³•,è¯·æ£€æŸ¥"</span>);        &#125; <span class="hljs-keyword">catch</span> (IllegalBlockSizeException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"å¯†æ–‡é•¿åº¦éæ³•"</span>);        &#125; <span class="hljs-keyword">catch</span> (BadPaddingException e) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"å¯†æ–‡æ•°æ®å·²æŸå"</span>);        &#125;    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * å­—èŠ‚æ•°æ®è½¬åå…­è¿›åˆ¶å­—ç¬¦ä¸²</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> data</span><span class="hljs-comment">     *            è¾“å…¥æ•°æ®</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> åå…­è¿›åˆ¶å†…å®¹</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">byteArrayToString</span><span class="hljs-params">(<span class="hljs-keyword">byte</span>[] data)</span> </span>&#123;        StringBuilder stringBuilder = <span class="hljs-keyword">new</span> StringBuilder();        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; data.length; i++) &#123;            <span class="hljs-comment">// å–å‡ºå­—èŠ‚çš„é«˜å››ä½ ä½œä¸ºç´¢å¼•å¾—åˆ°ç›¸åº”çš„åå…­è¿›åˆ¶æ ‡è¯†ç¬¦ æ³¨æ„æ— ç¬¦å·å³ç§»</span>            stringBuilder.append(HEX_CHAR[(data[i] &amp; <span class="hljs-number">0xf0</span>) &gt;&gt;&gt; <span class="hljs-number">4</span>]);            <span class="hljs-comment">// å–å‡ºå­—èŠ‚çš„ä½å››ä½ ä½œä¸ºç´¢å¼•å¾—åˆ°ç›¸åº”çš„åå…­è¿›åˆ¶æ ‡è¯†ç¬¦</span>            stringBuilder.append(HEX_CHAR[(data[i] &amp; <span class="hljs-number">0x0f</span>)]);            <span class="hljs-keyword">if</span> (i &lt; data.length - <span class="hljs-number">1</span>) &#123;                stringBuilder.append(<span class="hljs-string">' '</span>);            &#125;        &#125;        <span class="hljs-keyword">return</span> stringBuilder.toString();    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;        String filepath=<span class="hljs-string">"F:/temp/"</span>;        File file=<span class="hljs-keyword">new</span> File(filepath);        <span class="hljs-keyword">if</span>(!file.exists())&#123;            file.mkdir();        &#125;        genKeyPair(filepath);        System.out.println(<span class="hljs-string">"--------------å…¬é’¥åŠ å¯†ç§é’¥è§£å¯†è¿‡ç¨‹-------------------"</span>);        String plainText=<span class="hljs-string">"1223333323:8783737321232:dewejj28i33e92hhsxxxx"</span>;        <span class="hljs-comment">//å…¬é’¥åŠ å¯†è¿‡ç¨‹</span>        <span class="hljs-keyword">byte</span>[] cipherData=encrypt(loadPublicKeyByStr(loadPublicKeyByFile(filepath)),plainText.getBytes());        String cipher=<span class="hljs-keyword">new</span> String(Base64.getEncoder().encode(cipherData));        <span class="hljs-comment">//ç§é’¥è§£å¯†è¿‡ç¨‹</span>        <span class="hljs-keyword">byte</span>[] res=decrypt(loadPrivateKeyByStr(loadPrivateKeyByFile(filepath)), Base64.getDecoder().decode(cipher));        String restr=<span class="hljs-keyword">new</span> String(res);        System.out.println(<span class="hljs-string">"åŸæ–‡ï¼š"</span>+plainText);        System.out.println(<span class="hljs-string">"åŠ å¯†å¯†æ–‡ï¼š"</span>+cipher);        System.out.println(<span class="hljs-string">"è§£å¯†ï¼š"</span>+restr);        System.out.println();    &#125;&#125;</code></pre><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å· ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java IDEä¸­è®¾ç½®ä½œè€…æ—¥æœŸç­‰Javadocæ³¨é‡Šä¿¡æ¯</title>
    <link href="/2020/04/09/Java-IDE%E4%B8%AD%E8%AE%BE%E7%BD%AE%E4%BD%9C%E8%80%85%E6%97%A5%E6%9C%9F%E7%AD%89Javadoc%E6%B3%A8%E9%87%8A%E4%BF%A1%E6%81%AF/"/>
    <url>/2020/04/09/Java-IDE%E4%B8%AD%E8%AE%BE%E7%BD%AE%E4%BD%9C%E8%80%85%E6%97%A5%E6%9C%9F%E7%AD%89Javadoc%E6%B3%A8%E9%87%8A%E4%BF%A1%E6%81%AF/</url>
    
    <content type="html"><![CDATA[<p><img src="https://images.unsplash.com/photo-1585595684482-984bf2cf8041" srcset="/img/loading.gif" alt="img"></p><p>åœ¨Javaçš„IDEï¼ˆIntegrated Development Environment,é›†æˆå¼€å‘ç¯å¢ƒï¼‰ä¸­ï¼Œå¦‚Eclipseã€Spring Tool Suiteã€IntelliJ IDEAç­‰ï¼Œéƒ½å¯ä»¥è®¾ç½®è‡ªåŠ¨æ·»åŠ çš„Javadocæ³¨é‡Šä¿¡æ¯ï¼Œå¯ä»¥æ·»åŠ @author ä½œè€…åã€@version ç‰ˆæœ¬æ ‡è¯†ã€@date æ—¥æœŸç­‰ï¼Œæ–°æ·»åŠ ç±»æˆ–æ–¹æ³•æ—¶ä¼šè‡ªåŠ¨æ·»åŠ æ³¨é‡Šä¿¡æ¯ï¼Œå¾ˆæ–¹ä¾¿ã€‚/<em>*è¢«æ³¨é‡Šè¯­å¥</em>/ å°±æ˜¯ä¸“ä¸ºJavadocè®¾è®¡ï¼Œå¯ä»¥è¢«JDKå†…ç½®çš„Javadocå·¥å…·æ”¯æŒå’Œå¤„ç†ï¼Œä¸‹é¢å°±ä»‹ç»ä¸‹å¦‚ä½•è®¾ç½®Javadocæ³¨é‡Šä¿¡æ¯å’Œæ³¨é‡Šçš„è§„èŒƒã€‚</p><h4 id="1ã€å…ˆæ¥äº†è§£ä¸‹Javadoc"><a href="#1ã€å…ˆæ¥äº†è§£ä¸‹Javadoc" class="headerlink" title="1ã€å…ˆæ¥äº†è§£ä¸‹Javadoc"></a>1ã€å…ˆæ¥äº†è§£ä¸‹Javadoc</h4><blockquote><p>Javadocæ˜¯Sunå…¬å¸æä¾›çš„ä¸€ä¸ªæŠ€æœ¯ï¼Œå®ƒä»ç¨‹åºæºä»£ç ä¸­æŠ½å–ç±»ã€æ–¹æ³•ã€æˆå‘˜ç­‰æ³¨é‡Šå½¢æˆä¸€ä¸ªå’Œæºä»£ç é…å¥—çš„APIå¸®åŠ©æ–‡æ¡£ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦åœ¨ç¼–å†™ç¨‹åºæ—¶ä»¥ä¸€å¥—ç‰¹å®šçš„æ ‡ç­¾ä½œæ³¨é‡Šï¼Œåœ¨ç¨‹åºç¼–å†™å®Œæˆåï¼Œé€šè¿‡Javadocå°±å¯ä»¥åŒæ—¶å½¢æˆç¨‹åºçš„å¼€å‘æ–‡æ¡£äº†ã€‚</p></blockquote><p>å…³é”®è¯åˆ—è¡¨ï¼š</p><ul><li>@author ä½œè€…å</li><li>@date æ—¥æœŸ</li><li>@version ç‰ˆæœ¬æ ‡è¯†</li><li>@parameter å‚æ•°åŠå…¶æ„ä¹‰</li><li>@since æœ€æ—©ä½¿ç”¨è¯¥æ–¹æ³•/ç±»/æ¥å£çš„JDKç‰ˆæœ¬</li><li>@return è¿”å›å€¼</li><li>@throws å¼‚å¸¸ç±»åŠæŠ›å‡ºæ¡ä»¶</li><li>@deprecated å¼•èµ·ä¸æ¨èä½¿ç”¨çš„è­¦å‘Š</li><li>@see reference æŸ¥çœ‹å¼•ç”¨</li><li>@override é‡å†™</li></ul><p>æ›´å¤šJavadocç”¨æ³•å¯ä»¥è®¿é—®ï¼š<a href="http://baike.baidu.com/view/975838.htm" target="_blank" rel="noopener">ç™¾åº¦ç™¾ç§‘</a>ã€<a href="http://www.oracle.com/technetwork/java/javase/documentation/index-jsp-135444.html" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p><h4 id="2ã€Javadocæ³¨é‡Šçš„è§„èŒƒ"><a href="#2ã€Javadocæ³¨é‡Šçš„è§„èŒƒ" class="headerlink" title="2ã€Javadocæ³¨é‡Šçš„è§„èŒƒ"></a>2ã€Javadocæ³¨é‡Šçš„è§„èŒƒ</h4><p>é™„ä¸ŠJavadocæ³¨é‡Šçš„è§„èŒƒï¼Œè¿™æ‰æ˜¯æœ¬æ–‡çš„é‡ç‚¹ï¼Œ${}çš„æ˜¯å˜é‡ï¼ŒIDEä¼šè‡ªåŠ¨æ·»åŠ ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥æ”¹ä¸ºå›ºå®šæ–‡å­—ã€‚</p><p>æ³¨é‡Šçš„è§„èŒƒå¦‚ä¸‹ï¼š</p><p><strong>1ã€æ–‡ä»¶æ³¨é‡Šæ ‡ç­¾ï¼š</strong></p><pre><code class="hljs java"><span class="hljs-comment">/**</span><span class="hljs-comment">* &lt;p&gt;Title: $&#123;file_name&#125;&lt;/p&gt;</span><span class="hljs-comment">* &lt;p&gt;Description: &lt;/p&gt;</span><span class="hljs-comment">* &lt;p&gt;Copyright: Copyright (c) 2013&lt;/p&gt;</span><span class="hljs-comment">* &lt;p&gt;Company: www.izhangheng.com&lt;/p&gt;</span><span class="hljs-comment">* <span class="hljs-doctag">@author</span> zhangheng</span><span class="hljs-comment">* <span class="hljs-doctag">@date</span> $&#123;date&#125;</span><span class="hljs-comment">* <span class="hljs-doctag">@version</span> 1.0</span><span class="hljs-comment">*/</span></code></pre><p><strong>2ã€ç±»å‹æ³¨é‡Šæ ‡ç­¾ï¼ˆç±»çš„æ³¨é‡Šï¼‰ï¼š</strong></p><pre><code class="hljs java"><span class="hljs-comment">/**</span><span class="hljs-comment">* &lt;p&gt;Title: $&#123;type_name&#125;&lt;/p&gt;</span><span class="hljs-comment">* &lt;p&gt;Description: &lt;/p&gt;</span><span class="hljs-comment">* &lt;p&gt;Company: www.izhangheng.com&lt;/p&gt;</span><span class="hljs-comment">* <span class="hljs-doctag">@author</span> zhangheng</span><span class="hljs-comment">* <span class="hljs-doctag">@date</span> $&#123;date&#125;</span><span class="hljs-comment">*/</span></code></pre><p><strong>3ã€å­—æ®µæ³¨é‡Šæ ‡ç­¾ï¼š</strong></p><pre><code class="hljs java"><span class="hljs-comment">/** </span><span class="hljs-comment">* $&#123;field&#125;</span><span class="hljs-comment">*/</span></code></pre><p><strong>4ã€æ„é€ å‡½æ•°æ ‡ç­¾ï¼š</strong></p><pre><code class="hljs java"><span class="hljs-comment">/**</span><span class="hljs-comment">* &lt;p&gt;Title: &lt;/p&gt;</span><span class="hljs-comment">* &lt;p&gt;Description: &lt;/p&gt;</span><span class="hljs-comment">* $&#123;tags&#125;</span><span class="hljs-comment">*/</span></code></pre><p><strong>5ã€æ–¹æ³•æ ‡ç­¾ï¼š</strong></p><pre><code class="hljs java"><span class="hljs-comment">/**</span><span class="hljs-comment">* &lt;p&gt;Title: $&#123;enclosing_method&#125;&lt;/p&gt;</span><span class="hljs-comment">* &lt;p&gt;Description: &lt;/p&gt;</span><span class="hljs-comment">* $&#123;tags&#125;</span><span class="hljs-comment">*/</span></code></pre><p><strong>6ã€é‡å†™æ–¹æ³•æ ‡ç­¾ï¼š</strong></p><pre><code class="hljs java"><span class="hljs-comment">/** ï¼ˆé Javadocï¼‰</span><span class="hljs-comment">* &lt;p&gt;Title: $&#123;enclosing_method&#125;&lt;/p&gt;</span><span class="hljs-comment">* &lt;p&gt;Description: &lt;/p&gt;</span><span class="hljs-comment">* $&#123;tags&#125;</span><span class="hljs-comment">* $&#123;see_to_overridden&#125;</span><span class="hljs-comment">*/</span></code></pre><p><strong>7ã€ä»£è¡¨æ–¹æ³•æ ‡ç­¾ï¼š</strong></p><pre><code class="hljs java"><span class="hljs-comment">/**</span><span class="hljs-comment">* $&#123;tags&#125;</span><span class="hljs-comment">* $&#123;see_to_target&#125;</span><span class="hljs-comment">*/</span></code></pre><p><strong>8ã€getteræ–¹æ³•æ ‡ç­¾ï¼š</strong></p><pre><code class="hljs java"><span class="hljs-comment">/**</span><span class="hljs-comment">* <span class="hljs-doctag">@return</span> $&#123;bare_field_name&#125;</span><span class="hljs-comment">*/</span></code></pre><p><strong>9ã€setteræ–¹æ³•æ ‡ç­¾ï¼š</strong></p><pre><code class="hljs java"><span class="hljs-comment">/**</span><span class="hljs-comment">* <span class="hljs-doctag">@param</span> $&#123;param&#125; è¦è®¾ç½®çš„ $&#123;bare_field_name&#125;</span><span class="hljs-comment">*/</span></code></pre><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å· ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>JavaDoc</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaDoc</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>IntelliJIDEAç”ŸæˆJavaDoc</title>
    <link href="/2020/04/09/IntelliJIDEA%E7%94%9F%E6%88%90JavaDoc/"/>
    <url>/2020/04/09/IntelliJIDEA%E7%94%9F%E6%88%90JavaDoc/</url>
    
    <content type="html"><![CDATA[<p>IntelliJ IDEAï¼Œæœ¬èº«æä¾›äº†å¾ˆå¥½çš„ JavaDoc ç”ŸæˆåŠŸèƒ½ï¼Œä»¥åŠæ ‡å‡† JavaDoc æ³¨é‡Šè½¬æ¢åŠŸèƒ½ï¼Œå…¶å®è´¨æ˜¯åœ¨ä»£ç ç¼–å†™è¿‡ç¨‹ä¸­ï¼ŒæŒ‰ç…§æ ‡å‡† JavaDoc çš„æ³¨é‡Šè¦æ±‚ï¼Œä¸ºéœ€è¦æš´éœ²ç»™ä½¿ç”¨è€…çš„ç±»ã€æ–¹æ³•ä»¥åŠå…¶ä»–æˆå‘˜ç¼–å†™æ³¨é‡Šã€‚ç„¶åä½¿ç”¨ IDEA çš„åŠŸèƒ½è‡ªåŠ¨è°ƒç”¨ javadocï¼ˆJDK è‡ªå¸¦çš„å·¥å…·ï¼‰æ ¹æ®æºä»£ç ä¸­çš„æ³¨é‡Šå†…å®¹è‡ªåŠ¨ç”Ÿæˆ JavaDoc æ–‡æ¡£ï¼ˆè¶…æ–‡æœ¬æ ¼å¼ï¼‰ã€‚</p><ol><li><p>IDEA çš„ JavaDoc ç”ŸæˆåŠŸèƒ½åœ¨èœå• Tools -&gt; Generate JavaDoc é¡¹é‡Œé¢ã€‚</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/09/image-20200409111759947.png" srcset="/img/loading.gif" alt="image-20200409111759947"></p></li><li><p>ç‚¹å‡»ä¸Šè¿°èœå•é¡¹åï¼Œä¼šå‡ºç°ç”Ÿæˆ JavaDoc çš„å¯¹è¯æ¡†ï¼Œä¸€èˆ¬çš„é€‰é¡¹éƒ½å¾ˆç›´è§‚ï¼Œä¸å¿…ç»†è¯´ã€‚ä½†æ˜¯è¦æ³¨æ„ç”Ÿæˆ JavaDoc çš„æºä»£ç å¯¹è±¡çš„é€‰æ‹©ï¼Œä¸€èˆ¬ä»¥æ¨¡å—ï¼ˆModuleï¼‰ä¸ºä¸»ï¼Œå¿…è¦æ—¶å¯ä»¥å•ç‹¬é€‰æ‹©å¿…è¦çš„ Java æºä»£ç æ–‡ä»¶</p></li><li><p>é‡Œé¢æœ‰ä¸€ä¸ª Locale å¯é€‰å¡«é¡¹ï¼Œè¡¨ç¤ºçš„æ˜¯éœ€è¦ç”Ÿæˆçš„ JavaDoc ä»¥ä½•ç§è¯­è¨€ç‰ˆæœ¬å±•ç¤ºï¼Œæ ¹æ® javadoc çš„å¸®åŠ©è¯´æ˜ï¼Œè¿™å…¶å®å¯¹åº”çš„å°±æ˜¯ javadoc çš„ -locale å‚æ•°ï¼Œå¦‚æœä¸å¡«ï¼Œé»˜è®¤å¯èƒ½æ˜¯è‹±æ–‡æˆ–è€…æ˜¯å½“å‰æ“ä½œç³»ç»Ÿçš„è¯­è¨€ï¼Œæ—¢ç„¶æ˜¯å›½äººï¼Œå»ºè®®åœ¨æ­¤å¡«å†™ zh_CNï¼Œè¿™æ ·ç”Ÿæˆçš„ JavaDoc å°±æ˜¯ä¸­æ–‡ç‰ˆæœ¬çš„ï¼Œå½“ç„¶æŒ‡çš„æ˜¯ JavaDoc çš„æ¡†æ¶ä¸­å„ç§é€šç”¨çš„å›ºå®šæ˜¾ç¤ºåŒºåŸŸéƒ½æ˜¯ä¸­æ–‡çš„ã€‚ä½ è‡ªå·±ç¼–å†™çš„æ³¨é‡Šè½¬æ¢çš„å†…å®¹è¿˜æ˜¯æ ¹æ®ä½ æ³¨é‡Šçš„å†…å®¹æ¥ã€‚</p></li><li><p>è¿˜æœ‰ä¸€ä¸ª â€œOther command line arguments:â€ å¯é€‰å¡«é¡¹ï¼Œéå¸¸é‡è¦ï¼Œæ˜¯å¡«å†™ç›´æ¥å‘ javadoc ä¼ é€’çš„å‚æ•°å†…å®¹ã€‚å› ä¸ºæœ‰ä¸€äº›é‡è¦çš„è®¾ç½®ï¼Œåªèƒ½é€šè¿‡ç›´æ¥å‚æ•°å½¢å¼å‘ javadoc ä¼ é€’ã€‚è¿™é‡Œå¿…é¡»è¦å¡«å†™å¦‚ä¸‹å‚æ•°ï¼š</p><p><code>-encoding UTF-8 -charset UTF-8 -windowtitle&quot;YKXClouds Docs&quot;-link http://docs.Oracle.com/javase/8/docs/api</code></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/09/image-20200409112213039.png" srcset="/img/loading.gif" alt="image-20200409112213039"></p></li><li><p>ç¬¬ä¸€ä¸ªå‚æ•° <code>-encoding UTF-8</code>  è¡¨ç¤ºä½ çš„æºä»£ç ï¼ˆå«æœ‰ç¬¦åˆ JavaDoc æ ‡å‡†çš„æ³¨é‡Šï¼‰æ˜¯åŸºäº UTF-8 ç¼–ç çš„ï¼Œä»¥å…å¤„ç†è¿‡ç¨‹ä¸­å‡ºç°ä¸­æ–‡ç­‰éè‹±è¯­å­—ç¬¦ä¹±ç ï¼›ç¬¬äºŒä¸ªå‚æ•° -charset UTF-8 è¡¨ç¤ºåœ¨å¤„ç†å¹¶ç”Ÿæˆ JavaDoc è¶…æ–‡æœ¬æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¹Ÿæ˜¯ä»¥ UTF-8 ä¸ºç¼–ç ï¼Œç›®å‰æ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒ UTF-8ï¼Œè¿™æ ·æœ€å…·æœ‰é€šç”¨æ€§ï¼Œæ”¯æŒä¸­æ–‡éå¸¸å¥½ï¼›ç¬¬ä¸‰ä¸ªå‚æ•° -windowtitle è¡¨ç¤ºç”Ÿæˆçš„ JavaDoc è¶…æ–‡æœ¬åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€æ—¶ï¼Œæµè§ˆå™¨çª—å£æ ‡é¢˜æ æ˜¾ç¤ºçš„æ–‡å­—å†…å®¹ï¼›ç¬¬å››ä¸ªå‚æ•° -link å¾ˆé‡è¦ï¼Œå®ƒè¡¨ç¤ºä½ ç”Ÿæˆçš„ JavaDoc ä¸­æ¶‰åŠåˆ°å¾ˆå¤šå¯¹å…¶ä»–å¤–éƒ¨ Java ç±»çš„å¼•ç”¨ï¼Œæ˜¯ä½¿ç”¨å…¨é™å®šåç§°è¿˜æ˜¯å¸¦æœ‰è¶…é“¾æ¥çš„çŸ­åç§°ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªæ–¹æ³• public void func (String arg)ï¼Œè¿™ä¸ªæ–¹æ³•åœ¨ç”Ÿæˆ JavaDoc æ—¶å¦‚æœä¸æŒ‡å®š -link å‚æ•°ï¼Œåˆ™ JavaDoc ä¸­å¯¹è¯¥æ–¹æ³•çš„è¡¨è¿°å°±ä¼šè‡ªåŠ¨å˜ä¸º public void func (java.lang.String arg)ï¼Œå› ä¸º String è¿™ä¸ªç±»å¯¹æˆ‘è‡ªå·±å®ç°çš„ç±»æ¥è®²å°±æ˜¯å¤–éƒ¨å¼•ç”¨çš„ç±»ï¼Œè™½ç„¶å®ƒæ˜¯ Java æ ‡å‡†åº“çš„ç±»ã€‚</p></li><li><p>å¦‚æœæŒ‡å®šäº† <code>-link http://docs.oracle.com/javase/8/docs/api</code> å‚æ•°ï¼Œåˆ™ javadoc åœ¨ç”Ÿæˆ JavaDoc æ—¶ï¼Œä¼šä½¿ç”¨ String è¿™æ ·çš„çŸ­åç§°è€Œéå…¨é™å®šåç§° java.lang.Stringï¼ŒåŒæ—¶è‡ªåŠ¨ä¸º String çŸ­åç§°ç”Ÿæˆä¸€ä¸ªè¶…é“¾æ¥ï¼ŒæŒ‡å‘å®˜æ–¹ JavaSE æ ‡å‡†æ–‡æ¡£ <a href="http://docs.oracle.com/javase/8/docs/api" target="_blank" rel="noopener">http://docs.oracle.com/javase/8/docs/api</a> ä¸­å¯¹ String ç±»çš„è¯¦ç»†æ–‡æ¡£åœ°å€ã€‚-link å®è´¨ä¸Šæ˜¯å‘Šè¯‰ javadoc æ ¹æ®æä¾›çš„å¤–éƒ¨å¼•ç”¨ç±»çš„ JavaDoc åœ°å€å»æ‰¾ä¸€ä¸ªå« package-list çš„æ–‡æœ¬æ–‡ä»¶ï¼Œåœ¨è¿™ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­åŒ…å«äº†æ‰€æœ‰å¤–éƒ¨å¼•ç”¨ç±»çš„å…¨é™å®šåç§°ï¼Œå› æ­¤ç”Ÿæˆçš„æ–° JavaDoc ä¸å¿…ä½¿ç”¨å¤–éƒ¨å¼•ç”¨ç±»çš„å…¨é™å®šåï¼Œåªéœ€è¦ä½¿ç”¨çŸ­åç§°ï¼ŒåŒæ—¶å¯ä»¥è‡ªåŠ¨åˆ›å»ºæŒ‡å‘å…¶å¤–éƒ¨å¼•ç”¨ JavaDoc ä¸­çš„è¯¦ç»†æ–‡æ¡£è¶…é“¾æ¥ã€‚æ¯ä¸ª JavaDoc éƒ½ä¼šåœ¨æ ¹ç›®å½•ä¸‹æœ‰ä¸€ä¸ª package-list æ–‡ä»¶ï¼ŒåŒ…æ‹¬æˆ‘ä»¬è‡ªå·±ç”Ÿæˆçš„ JavaDocã€‚å¦‚æœæŒ‡å®šäº† -link <a href="http://docs.oracle.com/javase/8/docs/api" target="_blank" rel="noopener">http://docs.oracle.com/javase/8/docs/api</a> å‚æ•°ï¼Œåˆ™ javadoc åœ¨ç”Ÿæˆ JavaDoc æ—¶ï¼Œä¼šä½¿ç”¨ String è¿™æ ·çš„çŸ­åç§°è€Œéå…¨é™å®šåç§° java.lang.Stringï¼ŒåŒæ—¶è‡ªåŠ¨ä¸º String çŸ­åç§°ç”Ÿæˆä¸€ä¸ªè¶…é“¾æ¥ï¼ŒæŒ‡å‘å®˜æ–¹ JavaSE æ ‡å‡†æ–‡æ¡£ <a href="http://docs.oracle.com/javase/8/docs/api" target="_blank" rel="noopener">http://docs.oracle.com/javase/8/docs/api</a> ä¸­å¯¹ String ç±»çš„è¯¦ç»†æ–‡æ¡£åœ°å€ã€‚-link å®è´¨ä¸Šæ˜¯å‘Šè¯‰ javadoc æ ¹æ®æä¾›çš„å¤–éƒ¨å¼•ç”¨ç±»çš„ JavaDoc åœ°å€å»æ‰¾ä¸€ä¸ªå« package-list çš„æ–‡æœ¬æ–‡ä»¶ï¼Œåœ¨è¿™ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­åŒ…å«äº†æ‰€æœ‰å¤–éƒ¨å¼•ç”¨ç±»çš„å…¨é™å®šåç§°ï¼Œå› æ­¤ç”Ÿæˆçš„æ–° JavaDoc ä¸å¿…ä½¿ç”¨å¤–éƒ¨å¼•ç”¨ç±»çš„å…¨é™å®šåï¼Œåªéœ€è¦ä½¿ç”¨çŸ­åç§°ï¼ŒåŒæ—¶å¯ä»¥è‡ªåŠ¨åˆ›å»ºæŒ‡å‘å…¶å¤–éƒ¨å¼•ç”¨ JavaDoc ä¸­çš„è¯¦ç»†æ–‡æ¡£è¶…é“¾æ¥ã€‚æ¯ä¸ª JavaDoc éƒ½ä¼šåœ¨æ ¹ç›®å½•ä¸‹æœ‰ä¸€ä¸ª package-list æ–‡ä»¶ï¼ŒåŒ…æ‹¬æˆ‘ä»¬è‡ªå·±ç”Ÿæˆçš„ JavaDocã€‚</p></li><li><p>JavaDoc ç”Ÿæˆå®Œæ¯•ï¼Œå³å¯åœ¨å…¶æ ¹ç›®å½•ä¸‹æ‰¾åˆ° index.html æ–‡ä»¶ï¼Œæ‰“å¼€å®ƒå°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬è‡ªå·±çš„æ ‡å‡† JavaDoc API æ–‡æ¡£å•¦ã€‚</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/09/image-20200409112314666.png" srcset="/img/loading.gif" alt="image-20200409112314666"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/09/image-20200409112442451.png" srcset="/img/loading.gif" alt="image-20200409112442451"></p></li><li><p><code>ä½¿ç”¨é¼ æ ‡ + CTRL é€‰æ‹©å¤šä¸ªæ¨¡å—ï¼Œå†å»ç‚¹å‡» Tools-&gt;Generate JavaDocï¼Œç”Ÿæˆçš„æ–‡æ¡£åªä¼šæ˜¯ä½ é€‰æ‹©çš„å¤šä¸ªæ¨¡å—ï¼Œè€Œä¸æ˜¯å•ä¸ªæ¨¡å—ï¼Œä¹Ÿä¸æ˜¯è¿™ä¸ªé¡¹ç›®æºç çš„æ–‡æ¡£ã€‚</code></p></li></ol><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>JavaDoc</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaDoc</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä½¿ç”¨çº¿ç¨‹</title>
    <link href="/2020/04/02/%E4%BD%BF%E7%94%A8%E7%BA%BF%E7%A8%8B/"/>
    <url>/2020/04/02/%E4%BD%BF%E7%94%A8%E7%BA%BF%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="ä¸€ã€ä½¿ç”¨çº¿ç¨‹"><a href="#ä¸€ã€ä½¿ç”¨çº¿ç¨‹" class="headerlink" title="ä¸€ã€ä½¿ç”¨çº¿ç¨‹"></a>ä¸€ã€ä½¿ç”¨çº¿ç¨‹</h1><p>æœ‰ä¸‰ç§ä½¿ç”¨çº¿ç¨‹çš„æ–¹æ³•ï¼š</p><ul><li>å®ç° Runnable æ¥å£ï¼›</li><li>å®ç° Callable æ¥å£ï¼›</li><li>ç»§æ‰¿ Thread ç±»ã€‚</li></ul><p>å®ç° Runnable å’Œ Callable æ¥å£çš„ç±»åªèƒ½å½“åšä¸€ä¸ªå¯ä»¥åœ¨çº¿ç¨‹ä¸­è¿è¡Œçš„ä»»åŠ¡ï¼Œä¸æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„çº¿ç¨‹ï¼Œå› æ­¤æœ€åè¿˜éœ€è¦é€šè¿‡ Thread æ¥è°ƒç”¨ã€‚å¯ä»¥ç†è§£ä¸ºä»»åŠ¡æ˜¯é€šè¿‡çº¿ç¨‹é©±åŠ¨ä»è€Œæ‰§è¡Œçš„ã€‚</p><h2 id="å®ç°-Runnable-æ¥å£"><a href="#å®ç°-Runnable-æ¥å£" class="headerlink" title="å®ç° Runnable æ¥å£"></a>å®ç° Runnable æ¥å£</h2><p>éœ€è¦å®ç°æ¥å£ä¸­çš„ run() æ–¹æ³•ã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyRunnable</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Runnable</span> </span>&#123;    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-comment">// ...</span>    &#125;&#125;</code></pre><p>ä½¿ç”¨ Runnable å®ä¾‹å†åˆ›å»ºä¸€ä¸ª Thread å®ä¾‹ï¼Œç„¶åè°ƒç”¨ Thread å®ä¾‹çš„ start() æ–¹æ³•æ¥å¯åŠ¨çº¿ç¨‹ã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;    MyRunnable instance = <span class="hljs-keyword">new</span> MyRunnable();    Thread thread = <span class="hljs-keyword">new</span> Thread(instance);    thread.start();&#125;</code></pre><h2 id="å®ç°-Callable-æ¥å£"><a href="#å®ç°-Callable-æ¥å£" class="headerlink" title="å®ç° Callable æ¥å£"></a>å®ç° Callable æ¥å£</h2><p>ä¸ Runnable ç›¸æ¯”ï¼ŒCallable å¯ä»¥æœ‰è¿”å›å€¼ï¼Œè¿”å›å€¼é€šè¿‡ FutureTask è¿›è¡Œå°è£…ã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyCallable</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Callable</span>&lt;<span class="hljs-title">Integer</span>&gt; </span>&#123;    <span class="hljs-function"><span class="hljs-keyword">public</span> Integer <span class="hljs-title">call</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> <span class="hljs-number">123</span>;    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ExecutionException, InterruptedException </span>&#123;    MyCallable mc = <span class="hljs-keyword">new</span> MyCallable();    FutureTask&lt;Integer&gt; ft = <span class="hljs-keyword">new</span> FutureTask&lt;&gt;(mc);    Thread thread = <span class="hljs-keyword">new</span> Thread(ft);    thread.start();    System.out.println(ft.get());&#125;</code></pre><h2 id="ç»§æ‰¿-Thread-ç±»"><a href="#ç»§æ‰¿-Thread-ç±»" class="headerlink" title="ç»§æ‰¿ Thread ç±»"></a>ç»§æ‰¿ Thread ç±»</h2><p>åŒæ ·ä¹Ÿæ˜¯éœ€è¦å®ç° run() æ–¹æ³•ï¼Œå› ä¸º Thread ç±»ä¹Ÿå®ç°äº† Runable æ¥å£ã€‚</p><p>å½“è°ƒç”¨ start() æ–¹æ³•å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹æ—¶ï¼Œè™šæ‹Ÿæœºä¼šå°†è¯¥çº¿ç¨‹æ”¾å…¥å°±ç»ªé˜Ÿåˆ—ä¸­ç­‰å¾…è¢«è°ƒåº¦ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è¢«è°ƒåº¦æ—¶ä¼šæ‰§è¡Œè¯¥çº¿ç¨‹çš„ run() æ–¹æ³•ã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyThread</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span> </span>&#123;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-comment">// ...</span>    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;    MyThread mt = <span class="hljs-keyword">new</span> MyThread();    mt.start();&#125;</code></pre><h2 id="å®ç°æ¥å£-VS-ç»§æ‰¿-Thread"><a href="#å®ç°æ¥å£-VS-ç»§æ‰¿-Thread" class="headerlink" title="å®ç°æ¥å£ VS ç»§æ‰¿ Thread"></a>å®ç°æ¥å£ VS ç»§æ‰¿ Thread</h2><p>å®ç°æ¥å£ä¼šæ›´å¥½ä¸€äº›ï¼Œå› ä¸ºï¼š</p><ul><li>Java ä¸æ”¯æŒå¤šé‡ç»§æ‰¿ï¼Œå› æ­¤ç»§æ‰¿äº† Thread ç±»å°±æ— æ³•ç»§æ‰¿å…¶å®ƒç±»ï¼Œä½†æ˜¯å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼›</li><li>ç±»å¯èƒ½åªè¦æ±‚å¯æ‰§è¡Œå°±è¡Œï¼Œç»§æ‰¿æ•´ä¸ª Thread ç±»å¼€é”€è¿‡å¤§ã€‚</li></ul><h1 id="äºŒã€åŸºç¡€çº¿ç¨‹æœºåˆ¶"><a href="#äºŒã€åŸºç¡€çº¿ç¨‹æœºåˆ¶" class="headerlink" title="äºŒã€åŸºç¡€çº¿ç¨‹æœºåˆ¶"></a>äºŒã€åŸºç¡€çº¿ç¨‹æœºåˆ¶</h1><h2 id="Executor"><a href="#Executor" class="headerlink" title="Executor"></a>Executor</h2><p>Executor ç®¡ç†å¤šä¸ªå¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œï¼Œè€Œæ— éœ€ç¨‹åºå‘˜æ˜¾å¼åœ°ç®¡ç†çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸã€‚è¿™é‡Œçš„å¼‚æ­¥æ˜¯æŒ‡å¤šä¸ªä»»åŠ¡çš„æ‰§è¡Œäº’ä¸å¹²æ‰°ï¼Œä¸éœ€è¦è¿›è¡ŒåŒæ­¥æ“ä½œã€‚</p><p>ä¸»è¦æœ‰ä¸‰ç§ Executorï¼š</p><ul><li>CachedThreadPoolï¼šä¸€ä¸ªä»»åŠ¡åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼›</li><li>FixedThreadPoolï¼šæ‰€æœ‰ä»»åŠ¡åªèƒ½ä½¿ç”¨å›ºå®šå¤§å°çš„çº¿ç¨‹ï¼›</li><li>SingleThreadExecutorï¼šç›¸å½“äºå¤§å°ä¸º 1 çš„ FixedThreadPoolã€‚</li></ul><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;    ExecutorService executorService = Executors.newCachedThreadPool();    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) &#123;        executorService.execute(<span class="hljs-keyword">new</span> MyRunnable());    &#125;    executorService.shutdown();&#125;</code></pre><h2 id="Daemon"><a href="#Daemon" class="headerlink" title="Daemon"></a>Daemon</h2><p>å®ˆæŠ¤çº¿ç¨‹æ˜¯ç¨‹åºè¿è¡Œæ—¶åœ¨åå°æä¾›æœåŠ¡çš„çº¿ç¨‹ï¼Œä¸å±äºç¨‹åºä¸­ä¸å¯æˆ–ç¼ºçš„éƒ¨åˆ†ã€‚</p><p>å½“æ‰€æœ‰éå®ˆæŠ¤çº¿ç¨‹ç»“æŸæ—¶ï¼Œç¨‹åºä¹Ÿå°±ç»ˆæ­¢ï¼ŒåŒæ—¶ä¼šæ€æ­»æ‰€æœ‰å®ˆæŠ¤çº¿ç¨‹ã€‚</p><p>main() å±äºéå®ˆæŠ¤çº¿ç¨‹ã€‚</p><p>åœ¨çº¿ç¨‹å¯åŠ¨ä¹‹å‰ä½¿ç”¨ setDaemon() æ–¹æ³•å¯ä»¥å°†ä¸€ä¸ªçº¿ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹ã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;    Thread thread = <span class="hljs-keyword">new</span> Thread(<span class="hljs-keyword">new</span> MyRunnable());    thread.setDaemon(<span class="hljs-keyword">true</span>);&#125;</code></pre><h2 id="sleep"><a href="#sleep" class="headerlink" title="sleep()"></a>sleep()</h2><p>Thread.sleep(millisec) æ–¹æ³•ä¼šä¼‘çœ å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹ï¼Œmillisec å•ä½ä¸ºæ¯«ç§’ã€‚</p><p>sleep() å¯èƒ½ä¼šæŠ›å‡º InterruptedExceptionï¼Œå› ä¸ºå¼‚å¸¸ä¸èƒ½è·¨çº¿ç¨‹ä¼ æ’­å› main() ä¸­ï¼Œå› æ­¤å¿…é¡»åœ¨æœ¬åœ°è¿›è¡Œå¤„ç†ã€‚çº¿ç¨‹ä¸­æŠ›å‡ºçš„å…¶å®ƒå¼‚å¸¸ä¹ŸåŒæ ·éœ€è¦åœ¨æœ¬åœ°è¿›è¡Œå¤„ç†ã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-keyword">try</span> &#123;        Thread.sleep(<span class="hljs-number">3000</span>);    &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;        e.printStackTrace();    &#125;&#125;</code></pre><h2 id="yield"><a href="#yield" class="headerlink" title="yield()"></a>yield()</h2><p>å¯¹é™æ€æ–¹æ³• Thread.yield() çš„è°ƒç”¨å£°æ˜äº†å½“å‰çº¿ç¨‹å·²ç»å®Œæˆäº†ç”Ÿå‘½å‘¨æœŸä¸­æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œå¯ä»¥åˆ‡æ¢ç»™å…¶å®ƒçº¿ç¨‹æ¥æ‰§è¡Œã€‚è¯¥æ–¹æ³•åªæ˜¯å¯¹çº¿ç¨‹è°ƒåº¦å™¨çš„ä¸€ä¸ªå»ºè®®ï¼Œè€Œä¸”ä¹Ÿåªæ˜¯å»ºè®®å…·æœ‰ç›¸åŒä¼˜å…ˆçº§çš„å…¶å®ƒçº¿ç¨‹å¯ä»¥è¿è¡Œã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;    Thread.yield();&#125;</code></pre><h1 id="ä¸‰ã€ä¸­æ–­"><a href="#ä¸‰ã€ä¸­æ–­" class="headerlink" title="ä¸‰ã€ä¸­æ–­"></a>ä¸‰ã€ä¸­æ–­</h1><p>ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæ¯•ä¹‹åä¼šè‡ªåŠ¨ç»“æŸï¼Œå¦‚æœåœ¨è¿è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿå¼‚å¸¸ä¹Ÿä¼šæå‰ç»“æŸã€‚</p><h2 id="InterruptedException"><a href="#InterruptedException" class="headerlink" title="InterruptedException"></a>InterruptedException</h2><p>é€šè¿‡è°ƒç”¨ä¸€ä¸ªçº¿ç¨‹çš„ interrupt() æ¥ä¸­æ–­è¯¥çº¿ç¨‹ï¼Œå¦‚æœè¯¥çº¿ç¨‹å¤„äºé˜»å¡ã€é™æœŸç­‰å¾…æˆ–è€…æ— é™æœŸç­‰å¾…çŠ¶æ€ï¼Œé‚£ä¹ˆå°±ä¼šæŠ›å‡º InterruptedExceptionï¼Œä»è€Œæå‰ç»“æŸè¯¥çº¿ç¨‹ã€‚ä½†æ˜¯ä¸èƒ½ä¸­æ–­ I/O é˜»å¡å’Œ synchronized é”é˜»å¡ã€‚</p><p>å¯¹äºä»¥ä¸‹ä»£ç ï¼Œåœ¨ main() ä¸­å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ä¹‹åå†ä¸­æ–­å®ƒï¼Œç”±äºçº¿ç¨‹ä¸­è°ƒç”¨äº† Thread.sleep() æ–¹æ³•ï¼Œå› æ­¤ä¼šæŠ›å‡ºä¸€ä¸ª InterruptedExceptionï¼Œä»è€Œæå‰ç»“æŸçº¿ç¨‹ï¼Œä¸æ‰§è¡Œä¹‹åçš„è¯­å¥ã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">InterruptExample</span> </span>&#123;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyThread1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span> </span>&#123;        <span class="hljs-meta">@Override</span>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;            <span class="hljs-keyword">try</span> &#123;                Thread.sleep(<span class="hljs-number">2000</span>);                System.out.println(<span class="hljs-string">"Thread run"</span>);            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;                e.printStackTrace();            &#125;        &#125;    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException </span>&#123;    Thread thread1 = <span class="hljs-keyword">new</span> MyThread1();    thread1.start();    thread1.interrupt();    System.out.println(<span class="hljs-string">"Main run"</span>);&#125;Main runjava.lang.InterruptedException: sleep interrupted    at java.lang.Thread.sleep(Native Method)    at InterruptExample.lambda$main$<span class="hljs-number">0</span>(InterruptExample.java:<span class="hljs-number">5</span>)    at InterruptExample$$Lambda$<span class="hljs-number">1</span>/<span class="hljs-number">713338599</span>.run(Unknown Source)    at java.lang.Thread.run(Thread.java:<span class="hljs-number">745</span>)</code></pre><h2 id="interrupted"><a href="#interrupted" class="headerlink" title="interrupted()"></a>interrupted()</h2><p>å¦‚æœä¸€ä¸ªçº¿ç¨‹çš„ run() æ–¹æ³•æ‰§è¡Œä¸€ä¸ªæ— é™å¾ªç¯ï¼Œå¹¶ä¸”æ²¡æœ‰æ‰§è¡Œ sleep() ç­‰ä¼šæŠ›å‡º InterruptedException çš„æ“ä½œï¼Œé‚£ä¹ˆè°ƒç”¨çº¿ç¨‹çš„ interrupt() æ–¹æ³•å°±æ— æ³•ä½¿çº¿ç¨‹æå‰ç»“æŸã€‚</p><p>ä½†æ˜¯è°ƒç”¨ interrupt() æ–¹æ³•ä¼šè®¾ç½®çº¿ç¨‹çš„ä¸­æ–­æ ‡è®°ï¼Œæ­¤æ—¶è°ƒç”¨ interrupted() æ–¹æ³•ä¼šè¿”å› trueã€‚å› æ­¤å¯ä»¥åœ¨å¾ªç¯ä½“ä¸­ä½¿ç”¨ interrupted() æ–¹æ³•æ¥åˆ¤æ–­çº¿ç¨‹æ˜¯å¦å¤„äºä¸­æ–­çŠ¶æ€ï¼Œä»è€Œæå‰ç»“æŸçº¿ç¨‹ã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">InterruptExample</span> </span>&#123;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyThread2</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span> </span>&#123;        <span class="hljs-meta">@Override</span>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;            <span class="hljs-keyword">while</span> (!interrupted()) &#123;                <span class="hljs-comment">// ..</span>            &#125;            System.out.println(<span class="hljs-string">"Thread end"</span>);        &#125;    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException </span>&#123;    Thread thread2 = <span class="hljs-keyword">new</span> MyThread2();    thread2.start();    thread2.interrupt();&#125;Thread end</code></pre><h2 id="Executor-çš„ä¸­æ–­æ“ä½œ"><a href="#Executor-çš„ä¸­æ–­æ“ä½œ" class="headerlink" title="Executor çš„ä¸­æ–­æ“ä½œ"></a>Executor çš„ä¸­æ–­æ“ä½œ</h2><p>è°ƒç”¨ Executor çš„ shutdown() æ–¹æ³•ä¼šç­‰å¾…çº¿ç¨‹éƒ½æ‰§è¡Œå®Œæ¯•ä¹‹åå†å…³é—­ï¼Œä½†æ˜¯å¦‚æœè°ƒç”¨çš„æ˜¯ shutdownNow() æ–¹æ³•ï¼Œåˆ™ç›¸å½“äºè°ƒç”¨æ¯ä¸ªçº¿ç¨‹çš„ interrupt() æ–¹æ³•ã€‚</p><p>ä»¥ä¸‹ä½¿ç”¨ Lambda åˆ›å»ºçº¿ç¨‹ï¼Œç›¸å½“äºåˆ›å»ºäº†ä¸€ä¸ªåŒ¿åå†…éƒ¨çº¿ç¨‹ã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;    ExecutorService executorService = Executors.newCachedThreadPool();    executorService.execute(() -&gt; &#123;        <span class="hljs-keyword">try</span> &#123;            Thread.sleep(<span class="hljs-number">2000</span>);            System.out.println(<span class="hljs-string">"Thread run"</span>);        &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;            e.printStackTrace();        &#125;    &#125;);    executorService.shutdownNow();    System.out.println(<span class="hljs-string">"Main run"</span>);&#125;Main runjava.lang.InterruptedException: sleep interrupted    at java.lang.Thread.sleep(Native Method)    at ExecutorInterruptExample.lambda$main$<span class="hljs-number">0</span>(ExecutorInterruptExample.java:<span class="hljs-number">9</span>)    at ExecutorInterruptExample$$Lambda$<span class="hljs-number">1</span>/<span class="hljs-number">1160460865</span>.run(Unknown Source)    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:<span class="hljs-number">1142</span>)    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:<span class="hljs-number">617</span>)    at java.lang.Thread.run(Thread.java:<span class="hljs-number">745</span>)</code></pre><p>å¦‚æœåªæƒ³ä¸­æ–­ Executor ä¸­çš„ä¸€ä¸ªçº¿ç¨‹ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨ submit() æ–¹æ³•æ¥æäº¤ä¸€ä¸ªçº¿ç¨‹ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ª Future&lt;?&gt; å¯¹è±¡ï¼Œé€šè¿‡è°ƒç”¨è¯¥å¯¹è±¡çš„ cancel(true) æ–¹æ³•å°±å¯ä»¥ä¸­æ–­çº¿ç¨‹ã€‚</p><pre><code class="hljs java">Future&lt;?&gt; future = executorService.submit(() -&gt; &#123;    <span class="hljs-comment">// ..</span>&#125;);future.cancel(<span class="hljs-keyword">true</span>);</code></pre><h1 id="å››ã€äº’æ–¥åŒæ­¥"><a href="#å››ã€äº’æ–¥åŒæ­¥" class="headerlink" title="å››ã€äº’æ–¥åŒæ­¥"></a>å››ã€äº’æ–¥åŒæ­¥</h1><p>Java æä¾›äº†ä¸¤ç§é”æœºåˆ¶æ¥æ§åˆ¶å¤šä¸ªçº¿ç¨‹å¯¹å…±äº«èµ„æºçš„äº’æ–¥è®¿é—®ï¼Œç¬¬ä¸€ä¸ªæ˜¯ JVM å®ç°çš„ synchronizedï¼Œè€Œå¦ä¸€ä¸ªæ˜¯ JDK å®ç°çš„ ReentrantLockã€‚</p><h2 id="synchronized"><a href="#synchronized" class="headerlink" title="synchronized"></a>synchronized</h2><p><strong>1. åŒæ­¥ä¸€ä¸ªä»£ç å—</strong></p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">func</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-keyword">synchronized</span> (<span class="hljs-keyword">this</span>) &#123;        <span class="hljs-comment">// ...</span>    &#125;&#125;</code></pre><p>å®ƒåªä½œç”¨äºåŒä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœè°ƒç”¨ä¸¤ä¸ªå¯¹è±¡ä¸Šçš„åŒæ­¥ä»£ç å—ï¼Œå°±ä¸ä¼šè¿›è¡ŒåŒæ­¥ã€‚</p><p>å¯¹äºä»¥ä¸‹ä»£ç ï¼Œä½¿ç”¨ ExecutorService æ‰§è¡Œäº†ä¸¤ä¸ªçº¿ç¨‹ï¼Œç”±äºè°ƒç”¨çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡çš„åŒæ­¥ä»£ç å—ï¼Œå› æ­¤è¿™ä¸¤ä¸ªçº¿ç¨‹ä¼šè¿›è¡ŒåŒæ­¥ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è¿›å…¥åŒæ­¥è¯­å¥å—æ—¶ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹å°±å¿…é¡»ç­‰å¾…ã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SynchronizedExample</span> </span>&#123;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">func1</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">synchronized</span> (<span class="hljs-keyword">this</span>) &#123;            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;                System.out.print(i + <span class="hljs-string">" "</span>);            &#125;        &#125;    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;    SynchronizedExample e1 = <span class="hljs-keyword">new</span> SynchronizedExample();    ExecutorService executorService = Executors.newCachedThreadPool();    executorService.execute(() -&gt; e1.func1());    executorService.execute(() -&gt; e1.func1());&#125;<span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span> <span class="hljs-number">7</span> <span class="hljs-number">8</span> <span class="hljs-number">9</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span> <span class="hljs-number">7</span> <span class="hljs-number">8</span> <span class="hljs-number">9</span></code></pre><p>å¯¹äºä»¥ä¸‹ä»£ç ï¼Œä¸¤ä¸ªçº¿ç¨‹è°ƒç”¨äº†ä¸åŒå¯¹è±¡çš„åŒæ­¥ä»£ç å—ï¼Œå› æ­¤è¿™ä¸¤ä¸ªçº¿ç¨‹å°±ä¸éœ€è¦åŒæ­¥ã€‚ä»è¾“å‡ºç»“æœå¯ä»¥çœ‹å‡ºï¼Œä¸¤ä¸ªçº¿ç¨‹äº¤å‰æ‰§è¡Œã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;    SynchronizedExample e1 = <span class="hljs-keyword">new</span> SynchronizedExample();    SynchronizedExample e2 = <span class="hljs-keyword">new</span> SynchronizedExample();    ExecutorService executorService = Executors.newCachedThreadPool();    executorService.execute(() -&gt; e1.func1());    executorService.execute(() -&gt; e2.func1());&#125;<span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span> <span class="hljs-number">6</span> <span class="hljs-number">7</span> <span class="hljs-number">7</span> <span class="hljs-number">8</span> <span class="hljs-number">8</span> <span class="hljs-number">9</span> <span class="hljs-number">9</span></code></pre><p><strong>2. åŒæ­¥ä¸€ä¸ªæ–¹æ³•</strong></p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">func</span> <span class="hljs-params">()</span> </span>&#123;    <span class="hljs-comment">// ...</span>&#125;</code></pre><p>å®ƒå’ŒåŒæ­¥ä»£ç å—ä¸€æ ·ï¼Œä½œç”¨äºåŒä¸€ä¸ªå¯¹è±¡ã€‚</p><p><strong>3. åŒæ­¥ä¸€ä¸ªç±»</strong></p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">func</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-keyword">synchronized</span> (SynchronizedExample<span class="hljs-class">.<span class="hljs-keyword">class</span>) </span>&#123;        <span class="hljs-comment">// ...</span>    &#125;&#125;</code></pre><p>ä½œç”¨äºæ•´ä¸ªç±»ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸¤ä¸ªçº¿ç¨‹è°ƒç”¨åŒä¸€ä¸ªç±»çš„ä¸åŒå¯¹è±¡ä¸Šçš„è¿™ç§åŒæ­¥è¯­å¥ï¼Œä¹Ÿä¼šè¿›è¡ŒåŒæ­¥ã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SynchronizedExample</span> </span>&#123;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">func2</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">synchronized</span> (SynchronizedExample<span class="hljs-class">.<span class="hljs-keyword">class</span>) </span>&#123;            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;                System.out.print(i + <span class="hljs-string">" "</span>);            &#125;        &#125;    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;    SynchronizedExample e1 = <span class="hljs-keyword">new</span> SynchronizedExample();    SynchronizedExample e2 = <span class="hljs-keyword">new</span> SynchronizedExample();    ExecutorService executorService = Executors.newCachedThreadPool();    executorService.execute(() -&gt; e1.func2());    executorService.execute(() -&gt; e2.func2());&#125;<span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span> <span class="hljs-number">7</span> <span class="hljs-number">8</span> <span class="hljs-number">9</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span> <span class="hljs-number">7</span> <span class="hljs-number">8</span> <span class="hljs-number">9</span></code></pre><p><strong>4. åŒæ­¥ä¸€ä¸ªé™æ€æ–¹æ³•</strong></p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">fun</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-comment">// ...</span>&#125;</code></pre><p>ä½œç”¨äºæ•´ä¸ªç±»ã€‚</p><h2 id="ReentrantLock"><a href="#ReentrantLock" class="headerlink" title="ReentrantLock"></a>ReentrantLock</h2><p>ReentrantLock æ˜¯ java.util.concurrentï¼ˆJ.U.Cï¼‰åŒ…ä¸­çš„é”ã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LockExample</span> </span>&#123;    <span class="hljs-keyword">private</span> Lock lock = <span class="hljs-keyword">new</span> ReentrantLock();    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">func</span><span class="hljs-params">()</span> </span>&#123;        lock.lock();        <span class="hljs-keyword">try</span> &#123;            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;                System.out.print(i + <span class="hljs-string">" "</span>);            &#125;        &#125; <span class="hljs-keyword">finally</span> &#123;            lock.unlock(); <span class="hljs-comment">// ç¡®ä¿é‡Šæ”¾é”ï¼Œä»è€Œé¿å…å‘ç”Ÿæ­»é”ã€‚</span>        &#125;    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;    LockExample lockExample = <span class="hljs-keyword">new</span> LockExample();    ExecutorService executorService = Executors.newCachedThreadPool();    executorService.execute(() -&gt; lockExample.func());    executorService.execute(() -&gt; lockExample.func());&#125;<span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span> <span class="hljs-number">7</span> <span class="hljs-number">8</span> <span class="hljs-number">9</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span> <span class="hljs-number">7</span> <span class="hljs-number">8</span> <span class="hljs-number">9</span></code></pre><h2 id="æ¯”è¾ƒ"><a href="#æ¯”è¾ƒ" class="headerlink" title="æ¯”è¾ƒ"></a>æ¯”è¾ƒ</h2><p><strong>1. é”çš„å®ç°</strong></p><p>synchronized æ˜¯ JVM å®ç°çš„ï¼Œè€Œ ReentrantLock æ˜¯ JDK å®ç°çš„ã€‚</p><p><strong>2. æ€§èƒ½</strong></p><p>æ–°ç‰ˆæœ¬ Java å¯¹ synchronized è¿›è¡Œäº†å¾ˆå¤šä¼˜åŒ–ï¼Œä¾‹å¦‚è‡ªæ—‹é”ç­‰ï¼Œsynchronized ä¸ ReentrantLock å¤§è‡´ç›¸åŒã€‚</p><p><strong>3. ç­‰å¾…å¯ä¸­æ–­</strong></p><p>å½“æŒæœ‰é”çš„çº¿ç¨‹é•¿æœŸä¸é‡Šæ”¾é”çš„æ—¶å€™ï¼Œæ­£åœ¨ç­‰å¾…çš„çº¿ç¨‹å¯ä»¥é€‰æ‹©æ”¾å¼ƒç­‰å¾…ï¼Œæ”¹ä¸ºå¤„ç†å…¶ä»–äº‹æƒ…ã€‚</p><p>ReentrantLock å¯ä¸­æ–­ï¼Œè€Œ synchronized ä¸è¡Œã€‚</p><p><strong>4. å…¬å¹³é”</strong></p><p>å…¬å¹³é”æ˜¯æŒ‡å¤šä¸ªçº¿ç¨‹åœ¨ç­‰å¾…åŒä¸€ä¸ªé”æ—¶ï¼Œå¿…é¡»æŒ‰ç…§ç”³è¯·é”çš„æ—¶é—´é¡ºåºæ¥ä¾æ¬¡è·å¾—é”ã€‚</p><p>synchronized ä¸­çš„é”æ˜¯éå…¬å¹³çš„ï¼ŒReentrantLock é»˜è®¤æƒ…å†µä¸‹ä¹Ÿæ˜¯éå…¬å¹³çš„ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥æ˜¯å…¬å¹³çš„ã€‚</p><p><strong>5. é”ç»‘å®šå¤šä¸ªæ¡ä»¶</strong></p><p>ä¸€ä¸ª ReentrantLock å¯ä»¥åŒæ—¶ç»‘å®šå¤šä¸ª Condition å¯¹è±¡ã€‚</p><h2 id="ä½¿ç”¨é€‰æ‹©"><a href="#ä½¿ç”¨é€‰æ‹©" class="headerlink" title="ä½¿ç”¨é€‰æ‹©"></a>ä½¿ç”¨é€‰æ‹©</h2><p>é™¤ééœ€è¦ä½¿ç”¨ ReentrantLock çš„é«˜çº§åŠŸèƒ½ï¼Œå¦åˆ™ä¼˜å…ˆä½¿ç”¨ synchronizedã€‚è¿™æ˜¯å› ä¸º synchronized æ˜¯ JVM å®ç°çš„ä¸€ç§é”æœºåˆ¶ï¼ŒJVM åŸç”Ÿåœ°æ”¯æŒå®ƒï¼Œè€Œ ReentrantLock ä¸æ˜¯æ‰€æœ‰çš„ JDK ç‰ˆæœ¬éƒ½æ”¯æŒã€‚å¹¶ä¸”ä½¿ç”¨ synchronized ä¸ç”¨æ‹…å¿ƒæ²¡æœ‰é‡Šæ”¾é”è€Œå¯¼è‡´æ­»é”é—®é¢˜ï¼Œå› ä¸º JVM ä¼šç¡®ä¿é”çš„é‡Šæ”¾ã€‚</p><h1 id="äº”ã€çº¿ç¨‹ä¹‹é—´çš„åä½œ"><a href="#äº”ã€çº¿ç¨‹ä¹‹é—´çš„åä½œ" class="headerlink" title="äº”ã€çº¿ç¨‹ä¹‹é—´çš„åä½œ"></a>äº”ã€çº¿ç¨‹ä¹‹é—´çš„åä½œ</h1><p>å½“å¤šä¸ªçº¿ç¨‹å¯ä»¥ä¸€èµ·å·¥ä½œå»è§£å†³æŸä¸ªé—®é¢˜æ—¶ï¼Œå¦‚æœæŸäº›éƒ¨åˆ†å¿…é¡»åœ¨å…¶å®ƒéƒ¨åˆ†ä¹‹å‰å®Œæˆï¼Œé‚£ä¹ˆå°±éœ€è¦å¯¹çº¿ç¨‹è¿›è¡Œåè°ƒã€‚</p><h2 id="join"><a href="#join" class="headerlink" title="join()"></a>join()</h2><p>åœ¨çº¿ç¨‹ä¸­è°ƒç”¨å¦ä¸€ä¸ªçº¿ç¨‹çš„ join() æ–¹æ³•ï¼Œä¼šå°†å½“å‰çº¿ç¨‹æŒ‚èµ·ï¼Œè€Œä¸æ˜¯å¿™ç­‰å¾…ï¼Œç›´åˆ°ç›®æ ‡çº¿ç¨‹ç»“æŸã€‚</p><p>å¯¹äºä»¥ä¸‹ä»£ç ï¼Œè™½ç„¶ b çº¿ç¨‹å…ˆå¯åŠ¨ï¼Œä½†æ˜¯å› ä¸ºåœ¨ b çº¿ç¨‹ä¸­è°ƒç”¨äº† a çº¿ç¨‹çš„ join() æ–¹æ³•ï¼Œb çº¿ç¨‹ä¼šç­‰å¾… a çº¿ç¨‹ç»“æŸæ‰ç»§ç»­æ‰§è¡Œï¼Œå› æ­¤æœ€åèƒ½å¤Ÿä¿è¯ a çº¿ç¨‹çš„è¾“å‡ºå…ˆäº b çº¿ç¨‹çš„è¾“å‡ºã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JoinExample</span> </span>&#123;    <span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span> </span>&#123;        <span class="hljs-meta">@Override</span>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;            System.out.println(<span class="hljs-string">"A"</span>);        &#125;    &#125;    <span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span> </span>&#123;        <span class="hljs-keyword">private</span> A a;        B(A a) &#123;            <span class="hljs-keyword">this</span>.a = a;        &#125;        <span class="hljs-meta">@Override</span>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;            <span class="hljs-keyword">try</span> &#123;                a.join();            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;                e.printStackTrace();            &#125;            System.out.println(<span class="hljs-string">"B"</span>);        &#125;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span> </span>&#123;        A a = <span class="hljs-keyword">new</span> A();        B b = <span class="hljs-keyword">new</span> B(a);        b.start();        a.start();    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;    JoinExample example = <span class="hljs-keyword">new</span> JoinExample();    example.test();&#125;AB</code></pre><h2 id="wait-notify-notifyAll"><a href="#wait-notify-notifyAll" class="headerlink" title="wait() notify() notifyAll()"></a>wait() notify() notifyAll()</h2><p>è°ƒç”¨ wait() ä½¿å¾—çº¿ç¨‹ç­‰å¾…æŸä¸ªæ¡ä»¶æ»¡è¶³ï¼Œçº¿ç¨‹åœ¨ç­‰å¾…æ—¶ä¼šè¢«æŒ‚èµ·ï¼Œå½“å…¶ä»–çº¿ç¨‹çš„è¿è¡Œä½¿å¾—è¿™ä¸ªæ¡ä»¶æ»¡è¶³æ—¶ï¼Œå…¶å®ƒçº¿ç¨‹ä¼šè°ƒç”¨ notify() æˆ–è€… notifyAll() æ¥å”¤é†’æŒ‚èµ·çš„çº¿ç¨‹ã€‚</p><p>å®ƒä»¬éƒ½å±äº Object çš„ä¸€éƒ¨åˆ†ï¼Œè€Œä¸å±äº Threadã€‚</p><p>åªèƒ½ç”¨åœ¨åŒæ­¥æ–¹æ³•æˆ–è€…åŒæ­¥æ§åˆ¶å—ä¸­ä½¿ç”¨ï¼Œå¦åˆ™ä¼šåœ¨è¿è¡Œæ—¶æŠ›å‡º IllegalMonitorStateExceptionã€‚</p><p>ä½¿ç”¨ wait() æŒ‚èµ·æœŸé—´ï¼Œçº¿ç¨‹ä¼šé‡Šæ”¾é”ã€‚è¿™æ˜¯å› ä¸ºï¼Œå¦‚æœæ²¡æœ‰é‡Šæ”¾é”ï¼Œé‚£ä¹ˆå…¶å®ƒçº¿ç¨‹å°±æ— æ³•è¿›å…¥å¯¹è±¡çš„åŒæ­¥æ–¹æ³•æˆ–è€…åŒæ­¥æ§åˆ¶å—ä¸­ï¼Œé‚£ä¹ˆå°±æ— æ³•æ‰§è¡Œ notify() æˆ–è€… notifyAll() æ¥å”¤é†’æŒ‚èµ·çš„çº¿ç¨‹ï¼Œé€ æˆæ­»é”ã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WaitNotifyExample</span> </span>&#123;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">before</span><span class="hljs-params">()</span> </span>&#123;        System.out.println(<span class="hljs-string">"before"</span>);        notifyAll();    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">after</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">try</span> &#123;            wait();        &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;            e.printStackTrace();        &#125;        System.out.println(<span class="hljs-string">"after"</span>);    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;    ExecutorService executorService = Executors.newCachedThreadPool();    WaitNotifyExample example = <span class="hljs-keyword">new</span> WaitNotifyExample();    executorService.execute(() -&gt; example.after());    executorService.execute(() -&gt; example.before());&#125;beforeafter</code></pre><p><strong>wait() å’Œ sleep() çš„åŒºåˆ«</strong></p><ul><li>wait() æ˜¯ Object çš„æ–¹æ³•ï¼Œè€Œ sleep() æ˜¯ Thread çš„é™æ€æ–¹æ³•ï¼›</li><li>wait() ä¼šé‡Šæ”¾é”ï¼Œsleep() ä¸ä¼šã€‚</li></ul><h2 id="await-signal-signalAll"><a href="#await-signal-signalAll" class="headerlink" title="await() signal() signalAll()"></a>await() signal() signalAll()</h2><p>java.util.concurrent ç±»åº“ä¸­æä¾›äº† Condition ç±»æ¥å®ç°çº¿ç¨‹ä¹‹é—´çš„åè°ƒï¼Œå¯ä»¥åœ¨ Condition ä¸Šè°ƒç”¨ await() æ–¹æ³•ä½¿çº¿ç¨‹ç­‰å¾…ï¼Œå…¶å®ƒçº¿ç¨‹è°ƒç”¨ signal() æˆ– signalAll() æ–¹æ³•å”¤é†’ç­‰å¾…çš„çº¿ç¨‹ã€‚</p><p>ç›¸æ¯”äº wait() è¿™ç§ç­‰å¾…æ–¹å¼ï¼Œawait() å¯ä»¥æŒ‡å®šç­‰å¾…çš„æ¡ä»¶ï¼Œå› æ­¤æ›´åŠ çµæ´»ã€‚</p><p>ä½¿ç”¨ Lock æ¥è·å–ä¸€ä¸ª Condition å¯¹è±¡ã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AwaitSignalExample</span> </span>&#123;    <span class="hljs-keyword">private</span> Lock lock = <span class="hljs-keyword">new</span> ReentrantLock();    <span class="hljs-keyword">private</span> Condition condition = lock.newCondition();    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">before</span><span class="hljs-params">()</span> </span>&#123;        lock.lock();        <span class="hljs-keyword">try</span> &#123;            System.out.println(<span class="hljs-string">"before"</span>);            condition.signalAll();        &#125; <span class="hljs-keyword">finally</span> &#123;            lock.unlock();        &#125;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">after</span><span class="hljs-params">()</span> </span>&#123;        lock.lock();        <span class="hljs-keyword">try</span> &#123;            condition.await();            System.out.println(<span class="hljs-string">"after"</span>);        &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;            e.printStackTrace();        &#125; <span class="hljs-keyword">finally</span> &#123;            lock.unlock();        &#125;    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;    ExecutorService executorService = Executors.newCachedThreadPool();    AwaitSignalExample example = <span class="hljs-keyword">new</span> AwaitSignalExample();    executorService.execute(() -&gt; example.after());    executorService.execute(() -&gt; example.before());&#125;beforeafter</code></pre><h1 id="å…­ã€çº¿ç¨‹çŠ¶æ€"><a href="#å…­ã€çº¿ç¨‹çŠ¶æ€" class="headerlink" title="å…­ã€çº¿ç¨‹çŠ¶æ€"></a>å…­ã€çº¿ç¨‹çŠ¶æ€</h1><p>ä¸€ä¸ªçº¿ç¨‹åªèƒ½å¤„äºä¸€ç§çŠ¶æ€ï¼Œå¹¶ä¸”è¿™é‡Œçš„çº¿ç¨‹çŠ¶æ€ç‰¹æŒ‡ Java è™šæ‹Ÿæœºçš„çº¿ç¨‹çŠ¶æ€ï¼Œä¸èƒ½åæ˜ çº¿ç¨‹åœ¨ç‰¹å®šæ“ä½œç³»ç»Ÿä¸‹çš„çŠ¶æ€ã€‚</p><h2 id="æ–°å»ºï¼ˆNEWï¼‰"><a href="#æ–°å»ºï¼ˆNEWï¼‰" class="headerlink" title="æ–°å»ºï¼ˆNEWï¼‰"></a>æ–°å»ºï¼ˆNEWï¼‰</h2><p>åˆ›å»ºåå°šæœªå¯åŠ¨ã€‚</p><h2 id="å¯è¿è¡Œï¼ˆRUNABLEï¼‰"><a href="#å¯è¿è¡Œï¼ˆRUNABLEï¼‰" class="headerlink" title="å¯è¿è¡Œï¼ˆRUNABLEï¼‰"></a>å¯è¿è¡Œï¼ˆRUNABLEï¼‰</h2><p>æ­£åœ¨ Java è™šæ‹Ÿæœºä¸­è¿è¡Œã€‚ä½†æ˜¯åœ¨æ“ä½œç³»ç»Ÿå±‚é¢ï¼Œå®ƒå¯èƒ½å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œä¹Ÿå¯èƒ½ç­‰å¾…èµ„æºè°ƒåº¦ï¼ˆä¾‹å¦‚å¤„ç†å™¨èµ„æºï¼‰ï¼Œèµ„æºè°ƒåº¦å®Œæˆå°±è¿›å…¥è¿è¡ŒçŠ¶æ€ã€‚æ‰€ä»¥è¯¥çŠ¶æ€çš„å¯è¿è¡Œæ˜¯æŒ‡å¯ä»¥è¢«è¿è¡Œï¼Œå…·ä½“æœ‰æ²¡æœ‰è¿è¡Œè¦çœ‹åº•å±‚æ“ä½œç³»ç»Ÿçš„èµ„æºè°ƒåº¦ã€‚</p><h2 id="é˜»å¡ï¼ˆBLOCKEDï¼‰"><a href="#é˜»å¡ï¼ˆBLOCKEDï¼‰" class="headerlink" title="é˜»å¡ï¼ˆBLOCKEDï¼‰"></a>é˜»å¡ï¼ˆBLOCKEDï¼‰</h2><p>è¯·æ±‚è·å– monitor lock ä»è€Œè¿›å…¥ synchronized å‡½æ•°æˆ–è€…ä»£ç å—ï¼Œä½†æ˜¯å…¶å®ƒçº¿ç¨‹å·²ç»å ç”¨äº†è¯¥ monitor lockï¼Œæ‰€ä»¥å‡ºäºé˜»å¡çŠ¶æ€ã€‚è¦ç»“æŸè¯¥çŠ¶æ€è¿›å…¥ä»è€Œ RUNABLE éœ€è¦å…¶ä»–çº¿ç¨‹é‡Šæ”¾ monitor lockã€‚</p><h2 id="æ— é™æœŸç­‰å¾…ï¼ˆWAITINGï¼‰"><a href="#æ— é™æœŸç­‰å¾…ï¼ˆWAITINGï¼‰" class="headerlink" title="æ— é™æœŸç­‰å¾…ï¼ˆWAITINGï¼‰"></a>æ— é™æœŸç­‰å¾…ï¼ˆWAITINGï¼‰</h2><p>ç­‰å¾…å…¶å®ƒçº¿ç¨‹æ˜¾å¼åœ°å”¤é†’ã€‚</p><p>é˜»å¡å’Œç­‰å¾…çš„åŒºåˆ«åœ¨äºï¼Œé˜»å¡æ˜¯è¢«åŠ¨çš„ï¼Œå®ƒæ˜¯åœ¨ç­‰å¾…è·å– monitor lockã€‚è€Œç­‰å¾…æ˜¯ä¸»åŠ¨çš„ï¼Œé€šè¿‡è°ƒç”¨ Object.wait() ç­‰æ–¹æ³•è¿›å…¥ã€‚</p><table><thead><tr><th>è¿›å…¥æ–¹æ³•</th><th>é€€å‡ºæ–¹æ³•</th></tr></thead><tbody><tr><td>æ²¡æœ‰è®¾ç½® Timeout å‚æ•°çš„ Object.wait() æ–¹æ³•</td><td>Object.notify() / Object.notifyAll()</td></tr><tr><td>æ²¡æœ‰è®¾ç½® Timeout å‚æ•°çš„ Thread.join() æ–¹æ³•</td><td>è¢«è°ƒç”¨çš„çº¿ç¨‹æ‰§è¡Œå®Œæ¯•</td></tr><tr><td>LockSupport.park() æ–¹æ³•</td><td>LockSupport.unpark(Thread)</td></tr></tbody></table><h2 id="é™æœŸç­‰å¾…ï¼ˆTIMED-WAITINGï¼‰"><a href="#é™æœŸç­‰å¾…ï¼ˆTIMED-WAITINGï¼‰" class="headerlink" title="é™æœŸç­‰å¾…ï¼ˆTIMED_WAITINGï¼‰"></a>é™æœŸç­‰å¾…ï¼ˆTIMED_WAITINGï¼‰</h2><p>æ— éœ€ç­‰å¾…å…¶å®ƒçº¿ç¨‹æ˜¾å¼åœ°å”¤é†’ï¼Œåœ¨ä¸€å®šæ—¶é—´ä¹‹åä¼šè¢«ç³»ç»Ÿè‡ªåŠ¨å”¤é†’ã€‚</p><table><thead><tr><th>è¿›å…¥æ–¹æ³•</th><th>é€€å‡ºæ–¹æ³•</th></tr></thead><tbody><tr><td>Thread.sleep() æ–¹æ³•</td><td>æ—¶é—´ç»“æŸ</td></tr><tr><td>è®¾ç½®äº† Timeout å‚æ•°çš„ Object.wait() æ–¹æ³•</td><td>æ—¶é—´ç»“æŸ / Object.notify() / Object.notifyAll()</td></tr><tr><td>è®¾ç½®äº† Timeout å‚æ•°çš„ Thread.join() æ–¹æ³•</td><td>æ—¶é—´ç»“æŸ / è¢«è°ƒç”¨çš„çº¿ç¨‹æ‰§è¡Œå®Œæ¯•</td></tr><tr><td>LockSupport.parkNanos() æ–¹æ³•</td><td>LockSupport.unpark(Thread)</td></tr><tr><td>LockSupport.parkUntil() æ–¹æ³•</td><td>LockSupport.unpark(Thread)</td></tr></tbody></table><p>è°ƒç”¨ Thread.sleep() æ–¹æ³•ä½¿çº¿ç¨‹è¿›å…¥é™æœŸç­‰å¾…çŠ¶æ€æ—¶ï¼Œå¸¸å¸¸ç”¨â€œä½¿ä¸€ä¸ªçº¿ç¨‹ç¡çœ â€è¿›è¡Œæè¿°ã€‚è°ƒç”¨ Object.wait() æ–¹æ³•ä½¿çº¿ç¨‹è¿›å…¥é™æœŸç­‰å¾…æˆ–è€…æ— é™æœŸç­‰å¾…æ—¶ï¼Œå¸¸å¸¸ç”¨â€œæŒ‚èµ·ä¸€ä¸ªçº¿ç¨‹â€è¿›è¡Œæè¿°ã€‚ç¡çœ å’ŒæŒ‚èµ·æ˜¯ç”¨æ¥æè¿°è¡Œä¸ºï¼Œè€Œé˜»å¡å’Œç­‰å¾…ç”¨æ¥æè¿°çŠ¶æ€ã€‚</p><h2 id="æ­»äº¡ï¼ˆTERMINATEDï¼‰"><a href="#æ­»äº¡ï¼ˆTERMINATEDï¼‰" class="headerlink" title="æ­»äº¡ï¼ˆTERMINATEDï¼‰"></a>æ­»äº¡ï¼ˆTERMINATEDï¼‰</h2><p>å¯ä»¥æ˜¯çº¿ç¨‹ç»“æŸä»»åŠ¡ä¹‹åè‡ªå·±ç»“æŸï¼Œæˆ–è€…äº§ç”Ÿäº†å¼‚å¸¸è€Œç»“æŸã€‚</p><p><a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Thread.State.html" target="_blank" rel="noopener">Java SE 9 Enum Thread.State</a></p><h1 id="ä¸ƒã€J-U-C-AQS"><a href="#ä¸ƒã€J-U-C-AQS" class="headerlink" title="ä¸ƒã€J.U.C - AQS"></a>ä¸ƒã€J.U.C - AQS</h1><p>java.util.concurrentï¼ˆJ.U.Cï¼‰å¤§å¤§æé«˜äº†å¹¶å‘æ€§èƒ½ï¼ŒAQS è¢«è®¤ä¸ºæ˜¯ J.U.C çš„æ ¸å¿ƒã€‚</p><h2 id="CountDownLatch"><a href="#CountDownLatch" class="headerlink" title="CountDownLatch"></a>CountDownLatch</h2><p>ç”¨æ¥æ§åˆ¶ä¸€ä¸ªæˆ–è€…å¤šä¸ªçº¿ç¨‹ç­‰å¾…å¤šä¸ªçº¿ç¨‹ã€‚</p><p>ç»´æŠ¤äº†ä¸€ä¸ªè®¡æ•°å™¨ cntï¼Œæ¯æ¬¡è°ƒç”¨ countDown() æ–¹æ³•ä¼šè®©è®¡æ•°å™¨çš„å€¼å‡ 1ï¼Œå‡åˆ° 0 çš„æ—¶å€™ï¼Œé‚£äº›å› ä¸ºè°ƒç”¨ await() æ–¹æ³•è€Œåœ¨ç­‰å¾…çš„çº¿ç¨‹å°±ä¼šè¢«å”¤é†’ã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/ba078291-791e-4378-b6d1-ece76c2f0b14.png" srcset="/img/loading.gif" alt="img"></p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CountdownLatchExample</span> </span>&#123;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException </span>&#123;        <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> totalThread = <span class="hljs-number">10</span>;        CountDownLatch countDownLatch = <span class="hljs-keyword">new</span> CountDownLatch(totalThread);        ExecutorService executorService = Executors.newCachedThreadPool();        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; totalThread; i++) &#123;            executorService.execute(() -&gt; &#123;                System.out.print(<span class="hljs-string">"run.."</span>);                countDownLatch.countDown();            &#125;);        &#125;        countDownLatch.await();        System.out.println(<span class="hljs-string">"end"</span>);        executorService.shutdown();    &#125;&#125;run..run..run..run..run..run..run..run..run..run..end</code></pre><h2 id="CyclicBarrier"><a href="#CyclicBarrier" class="headerlink" title="CyclicBarrier"></a>CyclicBarrier</h2><p>ç”¨æ¥æ§åˆ¶å¤šä¸ªçº¿ç¨‹äº’ç›¸ç­‰å¾…ï¼Œåªæœ‰å½“å¤šä¸ªçº¿ç¨‹éƒ½åˆ°è¾¾æ—¶ï¼Œè¿™äº›çº¿ç¨‹æ‰ä¼šç»§ç»­æ‰§è¡Œã€‚</p><p>å’Œ CountdownLatch ç›¸ä¼¼ï¼Œéƒ½æ˜¯é€šè¿‡ç»´æŠ¤è®¡æ•°å™¨æ¥å®ç°çš„ã€‚çº¿ç¨‹æ‰§è¡Œ await() æ–¹æ³•ä¹‹åè®¡æ•°å™¨ä¼šå‡ 1ï¼Œå¹¶è¿›è¡Œç­‰å¾…ï¼Œç›´åˆ°è®¡æ•°å™¨ä¸º 0ï¼Œæ‰€æœ‰è°ƒç”¨ await() æ–¹æ³•è€Œåœ¨ç­‰å¾…çš„çº¿ç¨‹æ‰èƒ½ç»§ç»­æ‰§è¡Œã€‚</p><p>CyclicBarrier å’Œ CountdownLatch çš„ä¸€ä¸ªåŒºåˆ«æ˜¯ï¼ŒCyclicBarrier çš„è®¡æ•°å™¨é€šè¿‡è°ƒç”¨ reset() æ–¹æ³•å¯ä»¥å¾ªç¯ä½¿ç”¨ï¼Œæ‰€ä»¥å®ƒæ‰å«åšå¾ªç¯å±éšœã€‚</p><p>CyclicBarrier æœ‰ä¸¤ä¸ªæ„é€ å‡½æ•°ï¼Œå…¶ä¸­ parties æŒ‡ç¤ºè®¡æ•°å™¨çš„åˆå§‹å€¼ï¼ŒbarrierAction åœ¨æ‰€æœ‰çº¿ç¨‹éƒ½åˆ°è¾¾å±éšœçš„æ—¶å€™ä¼šæ‰§è¡Œä¸€æ¬¡ã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">CyclicBarrier</span><span class="hljs-params">(<span class="hljs-keyword">int</span> parties, Runnable barrierAction)</span> </span>&#123;    <span class="hljs-keyword">if</span> (parties &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException();    <span class="hljs-keyword">this</span>.parties = parties;    <span class="hljs-keyword">this</span>.count = parties;    <span class="hljs-keyword">this</span>.barrierCommand = barrierAction;&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">CyclicBarrier</span><span class="hljs-params">(<span class="hljs-keyword">int</span> parties)</span> </span>&#123;    <span class="hljs-keyword">this</span>(parties, <span class="hljs-keyword">null</span>);&#125;</code></pre><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/f71af66b-0d54-4399-a44b-f47b58321984.png" srcset="/img/loading.gif" alt="img"></p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CyclicBarrierExample</span> </span>&#123;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;        <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> totalThread = <span class="hljs-number">10</span>;        CyclicBarrier cyclicBarrier = <span class="hljs-keyword">new</span> CyclicBarrier(totalThread);        ExecutorService executorService = Executors.newCachedThreadPool();        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; totalThread; i++) &#123;            executorService.execute(() -&gt; &#123;                System.out.print(<span class="hljs-string">"before.."</span>);                <span class="hljs-keyword">try</span> &#123;                    cyclicBarrier.await();                &#125; <span class="hljs-keyword">catch</span> (InterruptedException | BrokenBarrierException e) &#123;                    e.printStackTrace();                &#125;                System.out.print(<span class="hljs-string">"after.."</span>);            &#125;);        &#125;        executorService.shutdown();    &#125;&#125;before..before..before..before..before..before..before..before..before..before..after..after..after..after..after..after..after..after..after..after..</code></pre><h2 id="Semaphore"><a href="#Semaphore" class="headerlink" title="Semaphore"></a>Semaphore</h2><p>Semaphore ç±»ä¼¼äºæ“ä½œç³»ç»Ÿä¸­çš„ä¿¡å·é‡ï¼Œå¯ä»¥æ§åˆ¶å¯¹äº’æ–¥èµ„æºçš„è®¿é—®çº¿ç¨‹æ•°ã€‚</p><p>ä»¥ä¸‹ä»£ç æ¨¡æ‹Ÿäº†å¯¹æŸä¸ªæœåŠ¡çš„å¹¶å‘è¯·æ±‚ï¼Œæ¯æ¬¡åªèƒ½æœ‰ 3 ä¸ªå®¢æˆ·ç«¯åŒæ—¶è®¿é—®ï¼Œè¯·æ±‚æ€»æ•°ä¸º 10ã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SemaphoreExample</span> </span>&#123;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;        <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> clientCount = <span class="hljs-number">3</span>;        <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> totalRequestCount = <span class="hljs-number">10</span>;        Semaphore semaphore = <span class="hljs-keyword">new</span> Semaphore(clientCount);        ExecutorService executorService = Executors.newCachedThreadPool();        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; totalRequestCount; i++) &#123;            executorService.execute(()-&gt;&#123;                <span class="hljs-keyword">try</span> &#123;                    semaphore.acquire();                    System.out.print(semaphore.availablePermits() + <span class="hljs-string">" "</span>);                &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;                    e.printStackTrace();                &#125; <span class="hljs-keyword">finally</span> &#123;                    semaphore.release();                &#125;            &#125;);        &#125;        executorService.shutdown();    &#125;&#125;<span class="hljs-number">2</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">2</span> <span class="hljs-number">2</span> <span class="hljs-number">2</span> <span class="hljs-number">2</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">2</span></code></pre><h1 id="å…«ã€J-U-C-å…¶å®ƒç»„ä»¶"><a href="#å…«ã€J-U-C-å…¶å®ƒç»„ä»¶" class="headerlink" title="å…«ã€J.U.C - å…¶å®ƒç»„ä»¶"></a>å…«ã€J.U.C - å…¶å®ƒç»„ä»¶</h1><h2 id="FutureTask"><a href="#FutureTask" class="headerlink" title="FutureTask"></a>FutureTask</h2><p>åœ¨ä»‹ç» Callable æ—¶æˆ‘ä»¬çŸ¥é“å®ƒå¯ä»¥æœ‰è¿”å›å€¼ï¼Œè¿”å›å€¼é€šè¿‡ Future è¿›è¡Œå°è£…ã€‚FutureTask å®ç°äº† RunnableFuture æ¥å£ï¼Œè¯¥æ¥å£ç»§æ‰¿è‡ª Runnable å’Œ Future æ¥å£ï¼Œè¿™ä½¿å¾— FutureTask æ—¢å¯ä»¥å½“åšä¸€ä¸ªä»»åŠ¡æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥æœ‰è¿”å›å€¼ã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FutureTask</span>&lt;<span class="hljs-title">V</span>&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title">RunnableFuture</span>&lt;<span class="hljs-title">V</span>&gt;</span><span class="hljs-class"><span class="hljs-title">public</span> <span class="hljs-title">interface</span> <span class="hljs-title">RunnableFuture</span>&lt;<span class="hljs-title">V</span>&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title">Runnable</span>, <span class="hljs-title">Future</span>&lt;<span class="hljs-title">V</span>&gt;</span></code></pre><p>FutureTask å¯ç”¨äºå¼‚æ­¥è·å–æ‰§è¡Œç»“æœæˆ–å–æ¶ˆæ‰§è¡Œä»»åŠ¡çš„åœºæ™¯ã€‚å½“ä¸€ä¸ªè®¡ç®—ä»»åŠ¡éœ€è¦æ‰§è¡Œå¾ˆé•¿æ—¶é—´ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç”¨ FutureTask æ¥å°è£…è¿™ä¸ªä»»åŠ¡ï¼Œä¸»çº¿ç¨‹åœ¨å®Œæˆè‡ªå·±çš„ä»»åŠ¡ä¹‹åå†å»è·å–ç»“æœã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FutureTaskExample</span> </span>&#123;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ExecutionException, InterruptedException </span>&#123;        FutureTask&lt;Integer&gt; futureTask = <span class="hljs-keyword">new</span> FutureTask&lt;Integer&gt;(<span class="hljs-keyword">new</span> Callable&lt;Integer&gt;() &#123;            <span class="hljs-meta">@Override</span>            <span class="hljs-function"><span class="hljs-keyword">public</span> Integer <span class="hljs-title">call</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;                <span class="hljs-keyword">int</span> result = <span class="hljs-number">0</span>;                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) &#123;                    Thread.sleep(<span class="hljs-number">10</span>);                    result += i;                &#125;                <span class="hljs-keyword">return</span> result;            &#125;        &#125;);        Thread computeThread = <span class="hljs-keyword">new</span> Thread(futureTask);        computeThread.start();        Thread otherThread = <span class="hljs-keyword">new</span> Thread(() -&gt; &#123;            System.out.println(<span class="hljs-string">"other task is running..."</span>);            <span class="hljs-keyword">try</span> &#123;                Thread.sleep(<span class="hljs-number">1000</span>);            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;                e.printStackTrace();            &#125;        &#125;);        otherThread.start();        System.out.println(futureTask.get());    &#125;&#125;other task is running...<span class="hljs-number">4950</span></code></pre><h2 id="BlockingQueue"><a href="#BlockingQueue" class="headerlink" title="BlockingQueue"></a>BlockingQueue</h2><p>java.util.concurrent.BlockingQueue æ¥å£æœ‰ä»¥ä¸‹é˜»å¡é˜Ÿåˆ—çš„å®ç°ï¼š</p><ul><li><strong>FIFO é˜Ÿåˆ—</strong> ï¼šLinkedBlockingQueueã€ArrayBlockingQueueï¼ˆå›ºå®šé•¿åº¦ï¼‰</li><li><strong>ä¼˜å…ˆçº§é˜Ÿåˆ—</strong> ï¼šPriorityBlockingQueue</li></ul><p>æä¾›äº†é˜»å¡çš„ take() å’Œ put() æ–¹æ³•ï¼šå¦‚æœé˜Ÿåˆ—ä¸ºç©º take() å°†é˜»å¡ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰å†…å®¹ï¼›å¦‚æœé˜Ÿåˆ—ä¸ºæ»¡ put() å°†é˜»å¡ï¼Œç›´åˆ°é˜Ÿåˆ—æœ‰ç©ºé—²ä½ç½®ã€‚</p><p><strong>ä½¿ç”¨ BlockingQueue å®ç°ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜</strong></p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProducerConsumer</span> </span>&#123;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> BlockingQueue&lt;String&gt; queue = <span class="hljs-keyword">new</span> ArrayBlockingQueue&lt;&gt;(<span class="hljs-number">5</span>);    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Producer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span> </span>&#123;        <span class="hljs-meta">@Override</span>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;            <span class="hljs-keyword">try</span> &#123;                queue.put(<span class="hljs-string">"product"</span>);            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;                e.printStackTrace();            &#125;            System.out.print(<span class="hljs-string">"produce.."</span>);        &#125;    &#125;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Consumer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span> </span>&#123;        <span class="hljs-meta">@Override</span>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;            <span class="hljs-keyword">try</span> &#123;                String product = queue.take();            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;                e.printStackTrace();            &#125;            System.out.print(<span class="hljs-string">"consume.."</span>);        &#125;    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">2</span>; i++) &#123;        Producer producer = <span class="hljs-keyword">new</span> Producer();        producer.start();    &#125;    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) &#123;        Consumer consumer = <span class="hljs-keyword">new</span> Consumer();        consumer.start();    &#125;    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) &#123;        Producer producer = <span class="hljs-keyword">new</span> Producer();        producer.start();    &#125;&#125;produce..produce..consume..consume..produce..consume..produce..consume..produce..consume..</code></pre><h2 id="ForkJoin"><a href="#ForkJoin" class="headerlink" title="ForkJoin"></a>ForkJoin</h2><p>ä¸»è¦ç”¨äºå¹¶è¡Œè®¡ç®—ä¸­ï¼Œå’Œ MapReduce åŸç†ç±»ä¼¼ï¼Œéƒ½æ˜¯æŠŠå¤§çš„è®¡ç®—ä»»åŠ¡æ‹†åˆ†æˆå¤šä¸ªå°ä»»åŠ¡å¹¶è¡Œè®¡ç®—ã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ForkJoinExample</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">RecursiveTask</span>&lt;<span class="hljs-title">Integer</span>&gt; </span>&#123;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> threshold = <span class="hljs-number">5</span>;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> first;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> last;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ForkJoinExample</span><span class="hljs-params">(<span class="hljs-keyword">int</span> first, <span class="hljs-keyword">int</span> last)</span> </span>&#123;        <span class="hljs-keyword">this</span>.first = first;        <span class="hljs-keyword">this</span>.last = last;    &#125;    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">protected</span> Integer <span class="hljs-title">compute</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">int</span> result = <span class="hljs-number">0</span>;        <span class="hljs-keyword">if</span> (last - first &lt;= threshold) &#123;            <span class="hljs-comment">// ä»»åŠ¡è¶³å¤Ÿå°åˆ™ç›´æ¥è®¡ç®—</span>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = first; i &lt;= last; i++) &#123;                result += i;            &#125;        &#125; <span class="hljs-keyword">else</span> &#123;            <span class="hljs-comment">// æ‹†åˆ†æˆå°ä»»åŠ¡</span>            <span class="hljs-keyword">int</span> middle = first + (last - first) / <span class="hljs-number">2</span>;            ForkJoinExample leftTask = <span class="hljs-keyword">new</span> ForkJoinExample(first, middle);            ForkJoinExample rightTask = <span class="hljs-keyword">new</span> ForkJoinExample(middle + <span class="hljs-number">1</span>, last);            leftTask.fork();            rightTask.fork();            result = leftTask.join() + rightTask.join();        &#125;        <span class="hljs-keyword">return</span> result;    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ExecutionException, InterruptedException </span>&#123;    ForkJoinExample example = <span class="hljs-keyword">new</span> ForkJoinExample(<span class="hljs-number">1</span>, <span class="hljs-number">10000</span>);    ForkJoinPool forkJoinPool = <span class="hljs-keyword">new</span> ForkJoinPool();    Future result = forkJoinPool.submit(example);    System.out.println(result.get());&#125;</code></pre><p>ForkJoin ä½¿ç”¨ ForkJoinPool æ¥å¯åŠ¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„çº¿ç¨‹æ± ï¼Œçº¿ç¨‹æ•°é‡å–å†³äº CPU æ ¸æ•°ã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ForkJoinPool</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractExecutorService</span></span></code></pre><p>ForkJoinPool å®ç°äº†å·¥ä½œçªƒå–ç®—æ³•æ¥æé«˜ CPU çš„åˆ©ç”¨ç‡ã€‚æ¯ä¸ªçº¿ç¨‹éƒ½ç»´æŠ¤äº†ä¸€ä¸ªåŒç«¯é˜Ÿåˆ—ï¼Œç”¨æ¥å­˜å‚¨éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡ã€‚å·¥ä½œçªƒå–ç®—æ³•å…è®¸ç©ºé—²çš„çº¿ç¨‹ä»å…¶å®ƒçº¿ç¨‹çš„åŒç«¯é˜Ÿåˆ—ä¸­çªƒå–ä¸€ä¸ªä»»åŠ¡æ¥æ‰§è¡Œã€‚çªƒå–çš„ä»»åŠ¡å¿…é¡»æ˜¯æœ€æ™šçš„ä»»åŠ¡ï¼Œé¿å…å’Œé˜Ÿåˆ—æ‰€å±çº¿ç¨‹å‘ç”Ÿç«äº‰ã€‚ä¾‹å¦‚ä¸‹å›¾ä¸­ï¼ŒThread2 ä» Thread1 çš„é˜Ÿåˆ—ä¸­æ‹¿å‡ºæœ€æ™šçš„ Task1 ä»»åŠ¡ï¼ŒThread1 ä¼šæ‹¿å‡º Task2 æ¥æ‰§è¡Œï¼Œè¿™æ ·å°±é¿å…å‘ç”Ÿç«äº‰ã€‚ä½†æ˜¯å¦‚æœé˜Ÿåˆ—ä¸­åªæœ‰ä¸€ä¸ªä»»åŠ¡æ—¶è¿˜æ˜¯ä¼šå‘ç”Ÿç«äº‰ã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/e42f188f-f4a9-4e6f-88fc-45f4682072fb.png" srcset="/img/loading.gif" alt="img"></p><h1 id="ä¹ã€çº¿ç¨‹ä¸å®‰å…¨ç¤ºä¾‹"><a href="#ä¹ã€çº¿ç¨‹ä¸å®‰å…¨ç¤ºä¾‹" class="headerlink" title="ä¹ã€çº¿ç¨‹ä¸å®‰å…¨ç¤ºä¾‹"></a>ä¹ã€çº¿ç¨‹ä¸å®‰å…¨ç¤ºä¾‹</h1><p>å¦‚æœå¤šä¸ªçº¿ç¨‹å¯¹åŒä¸€ä¸ªå…±äº«æ•°æ®è¿›è¡Œè®¿é—®è€Œä¸é‡‡å–åŒæ­¥æ“ä½œçš„è¯ï¼Œé‚£ä¹ˆæ“ä½œçš„ç»“æœæ˜¯ä¸ä¸€è‡´çš„ã€‚</p><p>ä»¥ä¸‹ä»£ç æ¼”ç¤ºäº† 1000 ä¸ªçº¿ç¨‹åŒæ—¶å¯¹ cnt æ‰§è¡Œè‡ªå¢æ“ä½œï¼Œæ“ä½œç»“æŸä¹‹åå®ƒçš„å€¼æœ‰å¯èƒ½å°äº 1000ã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ThreadUnsafeExample</span> </span>&#123;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">()</span> </span>&#123;        cnt++;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">get</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> cnt;    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException </span>&#123;    <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> threadSize = <span class="hljs-number">1000</span>;    ThreadUnsafeExample example = <span class="hljs-keyword">new</span> ThreadUnsafeExample();    <span class="hljs-keyword">final</span> CountDownLatch countDownLatch = <span class="hljs-keyword">new</span> CountDownLatch(threadSize);    ExecutorService executorService = Executors.newCachedThreadPool();    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; threadSize; i++) &#123;        executorService.execute(() -&gt; &#123;            example.add();            countDownLatch.countDown();        &#125;);    &#125;    countDownLatch.await();    executorService.shutdown();    System.out.println(example.get());&#125;<span class="hljs-number">997</span></code></pre><h1 id="åã€Java-å†…å­˜æ¨¡å‹"><a href="#åã€Java-å†…å­˜æ¨¡å‹" class="headerlink" title="åã€Java å†…å­˜æ¨¡å‹"></a>åã€Java å†…å­˜æ¨¡å‹</h1><p>Java å†…å­˜æ¨¡å‹è¯•å›¾å±è”½å„ç§ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿçš„å†…å­˜è®¿é—®å·®å¼‚ï¼Œä»¥å®ç°è®© Java ç¨‹åºåœ¨å„ç§å¹³å°ä¸‹éƒ½èƒ½è¾¾åˆ°ä¸€è‡´çš„å†…å­˜è®¿é—®æ•ˆæœã€‚</p><h2 id="ä¸»å†…å­˜ä¸å·¥ä½œå†…å­˜"><a href="#ä¸»å†…å­˜ä¸å·¥ä½œå†…å­˜" class="headerlink" title="ä¸»å†…å­˜ä¸å·¥ä½œå†…å­˜"></a>ä¸»å†…å­˜ä¸å·¥ä½œå†…å­˜</h2><p>å¤„ç†å™¨ä¸Šçš„å¯„å­˜å™¨çš„è¯»å†™çš„é€Ÿåº¦æ¯”å†…å­˜å¿«å‡ ä¸ªæ•°é‡çº§ï¼Œä¸ºäº†è§£å†³è¿™ç§é€Ÿåº¦çŸ›ç›¾ï¼Œåœ¨å®ƒä»¬ä¹‹é—´åŠ å…¥äº†é«˜é€Ÿç¼“å­˜ã€‚</p><p>åŠ å…¥é«˜é€Ÿç¼“å­˜å¸¦æ¥äº†ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼šç¼“å­˜ä¸€è‡´æ€§ã€‚å¦‚æœå¤šä¸ªç¼“å­˜å…±äº«åŒä¸€å—ä¸»å†…å­˜åŒºåŸŸï¼Œé‚£ä¹ˆå¤šä¸ªç¼“å­˜çš„æ•°æ®å¯èƒ½ä¼šä¸ä¸€è‡´ï¼Œéœ€è¦ä¸€äº›åè®®æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/942ca0d2-9d5c-45a4-89cb-5fd89b61913f.png" srcset="/img/loading.gif" alt="img"></p><p>æ‰€æœ‰çš„å˜é‡éƒ½å­˜å‚¨åœ¨ä¸»å†…å­˜ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹è¿˜æœ‰è‡ªå·±çš„å·¥ä½œå†…å­˜ï¼Œå·¥ä½œå†…å­˜å­˜å‚¨åœ¨é«˜é€Ÿç¼“å­˜æˆ–è€…å¯„å­˜å™¨ä¸­ï¼Œä¿å­˜äº†è¯¥çº¿ç¨‹ä½¿ç”¨çš„å˜é‡çš„ä¸»å†…å­˜å‰¯æœ¬æ‹·è´ã€‚</p><p>çº¿ç¨‹åªèƒ½ç›´æ¥æ“ä½œå·¥ä½œå†…å­˜ä¸­çš„å˜é‡ï¼Œä¸åŒçº¿ç¨‹ä¹‹é—´çš„å˜é‡å€¼ä¼ é€’éœ€è¦é€šè¿‡ä¸»å†…å­˜æ¥å®Œæˆã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/15851555-5abc-497d-ad34-efed10f43a6b.png" srcset="/img/loading.gif" alt="img"></p><h2 id="å†…å­˜é—´äº¤äº’æ“ä½œ"><a href="#å†…å­˜é—´äº¤äº’æ“ä½œ" class="headerlink" title="å†…å­˜é—´äº¤äº’æ“ä½œ"></a>å†…å­˜é—´äº¤äº’æ“ä½œ</h2><p>Java å†…å­˜æ¨¡å‹å®šä¹‰äº† 8 ä¸ªæ“ä½œæ¥å®Œæˆä¸»å†…å­˜å’Œå·¥ä½œå†…å­˜çš„äº¤äº’æ“ä½œã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/8b7ebbad-9604-4375-84e3-f412099d170c.png" srcset="/img/loading.gif" alt="img"></p><ul><li>readï¼šæŠŠä¸€ä¸ªå˜é‡çš„å€¼ä»ä¸»å†…å­˜ä¼ è¾“åˆ°å·¥ä½œå†…å­˜ä¸­</li><li>loadï¼šåœ¨ read ä¹‹åæ‰§è¡Œï¼ŒæŠŠ read å¾—åˆ°çš„å€¼æ”¾å…¥å·¥ä½œå†…å­˜çš„å˜é‡å‰¯æœ¬ä¸­</li><li>useï¼šæŠŠå·¥ä½œå†…å­˜ä¸­ä¸€ä¸ªå˜é‡çš„å€¼ä¼ é€’ç»™æ‰§è¡Œå¼•æ“</li><li>assignï¼šæŠŠä¸€ä¸ªä»æ‰§è¡Œå¼•æ“æ¥æ”¶åˆ°çš„å€¼èµ‹ç»™å·¥ä½œå†…å­˜çš„å˜é‡</li><li>storeï¼šæŠŠå·¥ä½œå†…å­˜çš„ä¸€ä¸ªå˜é‡çš„å€¼ä¼ é€åˆ°ä¸»å†…å­˜ä¸­</li><li>writeï¼šåœ¨ store ä¹‹åæ‰§è¡Œï¼ŒæŠŠ store å¾—åˆ°çš„å€¼æ”¾å…¥ä¸»å†…å­˜çš„å˜é‡ä¸­</li><li>lockï¼šä½œç”¨äºä¸»å†…å­˜çš„å˜é‡</li><li>unlock</li></ul><h2 id="å†…å­˜æ¨¡å‹ä¸‰å¤§ç‰¹æ€§"><a href="#å†…å­˜æ¨¡å‹ä¸‰å¤§ç‰¹æ€§" class="headerlink" title="å†…å­˜æ¨¡å‹ä¸‰å¤§ç‰¹æ€§"></a>å†…å­˜æ¨¡å‹ä¸‰å¤§ç‰¹æ€§</h2><h3 id="1-åŸå­æ€§"><a href="#1-åŸå­æ€§" class="headerlink" title="1. åŸå­æ€§"></a>1. åŸå­æ€§</h3><p>Java å†…å­˜æ¨¡å‹ä¿è¯äº† readã€loadã€useã€assignã€storeã€writeã€lock å’Œ unlock æ“ä½œå…·æœ‰åŸå­æ€§ï¼Œä¾‹å¦‚å¯¹ä¸€ä¸ª int ç±»å‹çš„å˜é‡æ‰§è¡Œ assign èµ‹å€¼æ“ä½œï¼Œè¿™ä¸ªæ“ä½œå°±æ˜¯åŸå­æ€§çš„ã€‚ä½†æ˜¯ Java å†…å­˜æ¨¡å‹å…è®¸è™šæ‹Ÿæœºå°†æ²¡æœ‰è¢« volatile ä¿®é¥°çš„ 64 ä½æ•°æ®ï¼ˆlongï¼Œdoubleï¼‰çš„è¯»å†™æ“ä½œåˆ’åˆ†ä¸ºä¸¤æ¬¡ 32 ä½çš„æ“ä½œæ¥è¿›è¡Œï¼Œå³ loadã€storeã€read å’Œ write æ“ä½œå¯ä»¥ä¸å…·å¤‡åŸå­æ€§ã€‚</p><p>æœ‰ä¸€ä¸ªé”™è¯¯è®¤è¯†å°±æ˜¯ï¼Œint ç­‰åŸå­æ€§çš„ç±»å‹åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ä¸ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚å‰é¢çš„çº¿ç¨‹ä¸å®‰å…¨ç¤ºä¾‹ä»£ç ä¸­ï¼Œcnt å±äº int ç±»å‹å˜é‡ï¼Œ1000 ä¸ªçº¿ç¨‹å¯¹å®ƒè¿›è¡Œè‡ªå¢æ“ä½œä¹‹åï¼Œå¾—åˆ°çš„å€¼ä¸º 997 è€Œä¸æ˜¯ 1000ã€‚</p><p>ä¸ºäº†æ–¹ä¾¿è®¨è®ºï¼Œå°†å†…å­˜é—´çš„äº¤äº’æ“ä½œç®€åŒ–ä¸º 3 ä¸ªï¼šloadã€assignã€storeã€‚</p><p>ä¸‹å›¾æ¼”ç¤ºäº†ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å¯¹ cnt è¿›è¡Œæ“ä½œï¼Œloadã€assignã€store è¿™ä¸€ç³»åˆ—æ“ä½œæ•´ä½“ä¸Šçœ‹ä¸å…·å¤‡åŸå­æ€§ï¼Œé‚£ä¹ˆåœ¨ T1 ä¿®æ”¹ cnt å¹¶ä¸”è¿˜æ²¡æœ‰å°†ä¿®æ”¹åçš„å€¼å†™å…¥ä¸»å†…å­˜ï¼ŒT2 ä¾ç„¶å¯ä»¥è¯»å…¥æ—§å€¼ã€‚å¯ä»¥çœ‹å‡ºï¼Œè¿™ä¸¤ä¸ªçº¿ç¨‹è™½ç„¶æ‰§è¡Œäº†ä¸¤æ¬¡è‡ªå¢è¿ç®—ï¼Œä½†æ˜¯ä¸»å†…å­˜ä¸­ cnt çš„å€¼æœ€åä¸º 1 è€Œä¸æ˜¯ 2ã€‚å› æ­¤å¯¹ int ç±»å‹è¯»å†™æ“ä½œæ»¡è¶³åŸå­æ€§åªæ˜¯è¯´æ˜ loadã€assignã€store è¿™äº›å•ä¸ªæ“ä½œå…·å¤‡åŸå­æ€§ã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/2797a609-68db-4d7b-8701-41ac9a34b14f.jpg" srcset="/img/loading.gif" alt="img"></p><p>AtomicInteger èƒ½ä¿è¯å¤šä¸ªçº¿ç¨‹ä¿®æ”¹çš„åŸå­æ€§ã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/dd563037-fcaa-4bd8-83b6-b39d93a12c77.jpg" srcset="/img/loading.gif" alt="img"></p><p>ä½¿ç”¨ AtomicInteger é‡å†™ä¹‹å‰çº¿ç¨‹ä¸å®‰å…¨çš„ä»£ç ä¹‹åå¾—åˆ°ä»¥ä¸‹çº¿ç¨‹å®‰å…¨å®ç°ï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AtomicExample</span> </span>&#123;    <span class="hljs-keyword">private</span> AtomicInteger cnt = <span class="hljs-keyword">new</span> AtomicInteger();    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">()</span> </span>&#123;        cnt.incrementAndGet();    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">get</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> cnt.get();    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException </span>&#123;    <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> threadSize = <span class="hljs-number">1000</span>;    AtomicExample example = <span class="hljs-keyword">new</span> AtomicExample(); <span class="hljs-comment">// åªä¿®æ”¹è¿™æ¡è¯­å¥</span>    <span class="hljs-keyword">final</span> CountDownLatch countDownLatch = <span class="hljs-keyword">new</span> CountDownLatch(threadSize);    ExecutorService executorService = Executors.newCachedThreadPool();    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; threadSize; i++) &#123;        executorService.execute(() -&gt; &#123;            example.add();            countDownLatch.countDown();        &#125;);    &#125;    countDownLatch.await();    executorService.shutdown();    System.out.println(example.get());&#125;<span class="hljs-number">1000</span></code></pre><p>é™¤äº†ä½¿ç”¨åŸå­ç±»ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ synchronized äº’æ–¥é”æ¥ä¿è¯æ“ä½œçš„åŸå­æ€§ã€‚å®ƒå¯¹åº”çš„å†…å­˜é—´äº¤äº’æ“ä½œä¸ºï¼šlock å’Œ unlockï¼Œåœ¨è™šæ‹Ÿæœºå®ç°ä¸Šå¯¹åº”çš„å­—èŠ‚ç æŒ‡ä»¤ä¸º monitorenter å’Œ monitorexitã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AtomicSynchronizedExample</span> </span>&#123;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">()</span> </span>&#123;        cnt++;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">int</span> <span class="hljs-title">get</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> cnt;    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException </span>&#123;    <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> threadSize = <span class="hljs-number">1000</span>;    AtomicSynchronizedExample example = <span class="hljs-keyword">new</span> AtomicSynchronizedExample();    <span class="hljs-keyword">final</span> CountDownLatch countDownLatch = <span class="hljs-keyword">new</span> CountDownLatch(threadSize);    ExecutorService executorService = Executors.newCachedThreadPool();    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; threadSize; i++) &#123;        executorService.execute(() -&gt; &#123;            example.add();            countDownLatch.countDown();        &#125;);    &#125;    countDownLatch.await();    executorService.shutdown();    System.out.println(example.get());&#125;<span class="hljs-number">1000</span></code></pre><h3 id="2-å¯è§æ€§"><a href="#2-å¯è§æ€§" class="headerlink" title="2. å¯è§æ€§"></a>2. å¯è§æ€§</h3><p>å¯è§æ€§æŒ‡å½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†å…±äº«å˜é‡çš„å€¼ï¼Œå…¶å®ƒçº¿ç¨‹èƒ½å¤Ÿç«‹å³å¾—çŸ¥è¿™ä¸ªä¿®æ”¹ã€‚Java å†…å­˜æ¨¡å‹æ˜¯é€šè¿‡åœ¨å˜é‡ä¿®æ”¹åå°†æ–°å€¼åŒæ­¥å›ä¸»å†…å­˜ï¼Œåœ¨å˜é‡è¯»å–å‰ä»ä¸»å†…å­˜åˆ·æ–°å˜é‡å€¼æ¥å®ç°å¯è§æ€§çš„ã€‚</p><p>ä¸»è¦æœ‰ä¸‰ç§å®ç°å¯è§æ€§çš„æ–¹å¼ï¼š</p><ul><li>volatile</li><li>synchronizedï¼Œå¯¹ä¸€ä¸ªå˜é‡æ‰§è¡Œ unlock æ“ä½œä¹‹å‰ï¼Œå¿…é¡»æŠŠå˜é‡å€¼åŒæ­¥å›ä¸»å†…å­˜ã€‚</li><li>finalï¼Œè¢« final å…³é”®å­—ä¿®é¥°çš„å­—æ®µåœ¨æ„é€ å™¨ä¸­ä¸€æ—¦åˆå§‹åŒ–å®Œæˆï¼Œå¹¶ä¸”æ²¡æœ‰å‘ç”Ÿ this é€ƒé€¸ï¼ˆå…¶å®ƒçº¿ç¨‹é€šè¿‡ this å¼•ç”¨è®¿é—®åˆ°åˆå§‹åŒ–äº†ä¸€åŠçš„å¯¹è±¡ï¼‰ï¼Œé‚£ä¹ˆå…¶å®ƒçº¿ç¨‹å°±èƒ½çœ‹è§ final å­—æ®µçš„å€¼ã€‚</li></ul><p>å¯¹å‰é¢çš„çº¿ç¨‹ä¸å®‰å…¨ç¤ºä¾‹ä¸­çš„ cnt å˜é‡ä½¿ç”¨ volatile ä¿®é¥°ï¼Œä¸èƒ½è§£å†³çº¿ç¨‹ä¸å®‰å…¨é—®é¢˜ï¼Œå› ä¸º volatile å¹¶ä¸èƒ½ä¿è¯æ“ä½œçš„åŸå­æ€§ã€‚</p><h3 id="3-æœ‰åºæ€§"><a href="#3-æœ‰åºæ€§" class="headerlink" title="3. æœ‰åºæ€§"></a>3. æœ‰åºæ€§</h3><p>æœ‰åºæ€§æ˜¯æŒ‡ï¼šåœ¨æœ¬çº¿ç¨‹å†…è§‚å¯Ÿï¼Œæ‰€æœ‰æ“ä½œéƒ½æ˜¯æœ‰åºçš„ã€‚åœ¨ä¸€ä¸ªçº¿ç¨‹è§‚å¯Ÿå¦ä¸€ä¸ªçº¿ç¨‹ï¼Œæ‰€æœ‰æ“ä½œéƒ½æ˜¯æ— åºçš„ï¼Œæ— åºæ˜¯å› ä¸ºå‘ç”Ÿäº†æŒ‡ä»¤é‡æ’åºã€‚åœ¨ Java å†…å­˜æ¨¡å‹ä¸­ï¼Œå…è®¸ç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¯¹æŒ‡ä»¤è¿›è¡Œé‡æ’åºï¼Œé‡æ’åºè¿‡ç¨‹ä¸ä¼šå½±å“åˆ°å•çº¿ç¨‹ç¨‹åºçš„æ‰§è¡Œï¼Œå´ä¼šå½±å“åˆ°å¤šçº¿ç¨‹å¹¶å‘æ‰§è¡Œçš„æ­£ç¡®æ€§ã€‚</p><p>volatile å…³é”®å­—é€šè¿‡æ·»åŠ å†…å­˜å±éšœçš„æ–¹å¼æ¥ç¦æ­¢æŒ‡ä»¤é‡æ’ï¼Œå³é‡æ’åºæ—¶ä¸èƒ½æŠŠåé¢çš„æŒ‡ä»¤æ”¾åˆ°å†…å­˜å±éšœä¹‹å‰ã€‚</p><p>ä¹Ÿå¯ä»¥é€šè¿‡ synchronized æ¥ä¿è¯æœ‰åºæ€§ï¼Œå®ƒä¿è¯æ¯ä¸ªæ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œç›¸å½“äºæ˜¯è®©çº¿ç¨‹é¡ºåºæ‰§è¡ŒåŒæ­¥ä»£ç ã€‚</p><h2 id="å…ˆè¡Œå‘ç”ŸåŸåˆ™"><a href="#å…ˆè¡Œå‘ç”ŸåŸåˆ™" class="headerlink" title="å…ˆè¡Œå‘ç”ŸåŸåˆ™"></a>å…ˆè¡Œå‘ç”ŸåŸåˆ™</h2><p>ä¸Šé¢æåˆ°äº†å¯ä»¥ç”¨ volatile å’Œ synchronized æ¥ä¿è¯æœ‰åºæ€§ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒJVM è¿˜è§„å®šäº†å…ˆè¡Œå‘ç”ŸåŸåˆ™ï¼Œè®©ä¸€ä¸ªæ“ä½œæ— éœ€æ§åˆ¶å°±èƒ½å…ˆäºå¦ä¸€ä¸ªæ“ä½œå®Œæˆã€‚</p><h3 id="1-å•ä¸€çº¿ç¨‹åŸåˆ™"><a href="#1-å•ä¸€çº¿ç¨‹åŸåˆ™" class="headerlink" title="1. å•ä¸€çº¿ç¨‹åŸåˆ™"></a>1. å•ä¸€çº¿ç¨‹åŸåˆ™</h3><blockquote><p>Single Thread rule</p></blockquote><p>åœ¨ä¸€ä¸ªçº¿ç¨‹å†…ï¼Œåœ¨ç¨‹åºå‰é¢çš„æ“ä½œå…ˆè¡Œå‘ç”Ÿäºåé¢çš„æ“ä½œã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/874b3ff7-7c5c-4e7a-b8ab-a82a3e038d20.png" srcset="/img/loading.gif" alt="img"></p><h3 id="2-ç®¡ç¨‹é”å®šè§„åˆ™"><a href="#2-ç®¡ç¨‹é”å®šè§„åˆ™" class="headerlink" title="2. ç®¡ç¨‹é”å®šè§„åˆ™"></a>2. ç®¡ç¨‹é”å®šè§„åˆ™</h3><blockquote><p>Monitor Lock Rule</p></blockquote><p>ä¸€ä¸ª unlock æ“ä½œå…ˆè¡Œå‘ç”Ÿäºåé¢å¯¹åŒä¸€ä¸ªé”çš„ lock æ“ä½œã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/8996a537-7c4a-4ec8-a3b7-7ef1798eae26.png" srcset="/img/loading.gif" alt="img"></p><h3 id="3-volatile-å˜é‡è§„åˆ™"><a href="#3-volatile-å˜é‡è§„åˆ™" class="headerlink" title="3. volatile å˜é‡è§„åˆ™"></a>3. volatile å˜é‡è§„åˆ™</h3><blockquote><p>Volatile Variable Rule</p></blockquote><p>å¯¹ä¸€ä¸ª volatile å˜é‡çš„å†™æ“ä½œå…ˆè¡Œå‘ç”Ÿäºåé¢å¯¹è¿™ä¸ªå˜é‡çš„è¯»æ“ä½œã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/942f33c9-8ad9-4987-836f-007de4c21de0.png" srcset="/img/loading.gif" alt="img"></p><h3 id="4-çº¿ç¨‹å¯åŠ¨è§„åˆ™"><a href="#4-çº¿ç¨‹å¯åŠ¨è§„åˆ™" class="headerlink" title="4. çº¿ç¨‹å¯åŠ¨è§„åˆ™"></a>4. çº¿ç¨‹å¯åŠ¨è§„åˆ™</h3><blockquote><p>Thread Start Rule</p></blockquote><p>Thread å¯¹è±¡çš„ start() æ–¹æ³•è°ƒç”¨å…ˆè¡Œå‘ç”Ÿäºæ­¤çº¿ç¨‹çš„æ¯ä¸€ä¸ªåŠ¨ä½œã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/6270c216-7ec0-4db7-94de-0003bce37cd2.png" srcset="/img/loading.gif" alt="img"></p><h3 id="5-çº¿ç¨‹åŠ å…¥è§„åˆ™"><a href="#5-çº¿ç¨‹åŠ å…¥è§„åˆ™" class="headerlink" title="5. çº¿ç¨‹åŠ å…¥è§„åˆ™"></a>5. çº¿ç¨‹åŠ å…¥è§„åˆ™</h3><blockquote><p>Thread Join Rule</p></blockquote><p>Thread å¯¹è±¡çš„ç»“æŸå…ˆè¡Œå‘ç”Ÿäº join() æ–¹æ³•è¿”å›ã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/233f8d89-31d7-413f-9c02-042f19c46ba1.png" srcset="/img/loading.gif" alt="img"></p><h3 id="6-çº¿ç¨‹ä¸­æ–­è§„åˆ™"><a href="#6-çº¿ç¨‹ä¸­æ–­è§„åˆ™" class="headerlink" title="6. çº¿ç¨‹ä¸­æ–­è§„åˆ™"></a>6. çº¿ç¨‹ä¸­æ–­è§„åˆ™</h3><blockquote><p>Thread Interruption Rule</p></blockquote><p>å¯¹çº¿ç¨‹ interrupt() æ–¹æ³•çš„è°ƒç”¨å…ˆè¡Œå‘ç”Ÿäºè¢«ä¸­æ–­çº¿ç¨‹çš„ä»£ç æ£€æµ‹åˆ°ä¸­æ–­äº‹ä»¶çš„å‘ç”Ÿï¼Œå¯ä»¥é€šè¿‡ interrupted() æ–¹æ³•æ£€æµ‹åˆ°æ˜¯å¦æœ‰ä¸­æ–­å‘ç”Ÿã€‚</p><h3 id="7-å¯¹è±¡ç»ˆç»“è§„åˆ™"><a href="#7-å¯¹è±¡ç»ˆç»“è§„åˆ™" class="headerlink" title="7. å¯¹è±¡ç»ˆç»“è§„åˆ™"></a>7. å¯¹è±¡ç»ˆç»“è§„åˆ™</h3><blockquote><p>Finalizer Rule</p></blockquote><p>ä¸€ä¸ªå¯¹è±¡çš„åˆå§‹åŒ–å®Œæˆï¼ˆæ„é€ å‡½æ•°æ‰§è¡Œç»“æŸï¼‰å…ˆè¡Œå‘ç”Ÿäºå®ƒçš„ finalize() æ–¹æ³•çš„å¼€å§‹ã€‚</p><h3 id="8-ä¼ é€’æ€§"><a href="#8-ä¼ é€’æ€§" class="headerlink" title="8. ä¼ é€’æ€§"></a>8. ä¼ é€’æ€§</h3><blockquote><p>Transitivity</p></blockquote><p>å¦‚æœæ“ä½œ A å…ˆè¡Œå‘ç”Ÿäºæ“ä½œ Bï¼Œæ“ä½œ B å…ˆè¡Œå‘ç”Ÿäºæ“ä½œ Cï¼Œé‚£ä¹ˆæ“ä½œ A å…ˆè¡Œå‘ç”Ÿäºæ“ä½œ Cã€‚</p><h1 id="åä¸€ã€çº¿ç¨‹å®‰å…¨"><a href="#åä¸€ã€çº¿ç¨‹å®‰å…¨" class="headerlink" title="åä¸€ã€çº¿ç¨‹å®‰å…¨"></a>åä¸€ã€çº¿ç¨‹å®‰å…¨</h1><p>å¤šä¸ªçº¿ç¨‹ä¸ç®¡ä»¥ä½•ç§æ–¹å¼è®¿é—®æŸä¸ªç±»ï¼Œå¹¶ä¸”åœ¨ä¸»è°ƒä»£ç ä¸­ä¸éœ€è¦è¿›è¡ŒåŒæ­¥ï¼Œéƒ½èƒ½è¡¨ç°æ­£ç¡®çš„è¡Œä¸ºã€‚</p><p>çº¿ç¨‹å®‰å…¨æœ‰ä»¥ä¸‹å‡ ç§å®ç°æ–¹å¼ï¼š</p><h2 id="ä¸å¯å˜"><a href="#ä¸å¯å˜" class="headerlink" title="ä¸å¯å˜"></a>ä¸å¯å˜</h2><p>ä¸å¯å˜ï¼ˆImmutableï¼‰çš„å¯¹è±¡ä¸€å®šæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä¸éœ€è¦å†é‡‡å–ä»»ä½•çš„çº¿ç¨‹å®‰å…¨ä¿éšœæªæ–½ã€‚åªè¦ä¸€ä¸ªä¸å¯å˜çš„å¯¹è±¡è¢«æ­£ç¡®åœ°æ„å»ºå‡ºæ¥ï¼Œæ°¸è¿œä¹Ÿä¸ä¼šçœ‹åˆ°å®ƒåœ¨å¤šä¸ªçº¿ç¨‹ä¹‹ä¸­å¤„äºä¸ä¸€è‡´çš„çŠ¶æ€ã€‚å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œåº”å½“å°½é‡ä½¿å¯¹è±¡æˆä¸ºä¸å¯å˜ï¼Œæ¥æ»¡è¶³çº¿ç¨‹å®‰å…¨ã€‚</p><p>ä¸å¯å˜çš„ç±»å‹ï¼š</p><ul><li>final å…³é”®å­—ä¿®é¥°çš„åŸºæœ¬æ•°æ®ç±»å‹</li><li>String</li><li>æšä¸¾ç±»å‹</li><li>Number éƒ¨åˆ†å­ç±»ï¼Œå¦‚ Long å’Œ Double ç­‰æ•°å€¼åŒ…è£…ç±»å‹ï¼ŒBigInteger å’Œ BigDecimal ç­‰å¤§æ•°æ®ç±»å‹ã€‚ä½†åŒä¸º Number çš„åŸå­ç±» AtomicInteger å’Œ AtomicLong åˆ™æ˜¯å¯å˜çš„ã€‚</li></ul><p>å¯¹äºé›†åˆç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨ Collections.unmodifiableXXX() æ–¹æ³•æ¥è·å–ä¸€ä¸ªä¸å¯å˜çš„é›†åˆã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ImmutableExample</span> </span>&#123;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;        Map&lt;String, Integer&gt; map = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();        Map&lt;String, Integer&gt; unmodifiableMap = Collections.unmodifiableMap(map);        unmodifiableMap.put(<span class="hljs-string">"a"</span>, <span class="hljs-number">1</span>);    &#125;&#125;Exception in thread <span class="hljs-string">"main"</span> java.lang.UnsupportedOperationException    at java.util.Collections$UnmodifiableMap.put(Collections.java:<span class="hljs-number">1457</span>)    at ImmutableExample.main(ImmutableExample.java:<span class="hljs-number">9</span>)</code></pre><p>Collections.unmodifiableXXX() å…ˆå¯¹åŸå§‹çš„é›†åˆè¿›è¡Œæ‹·è´ï¼Œéœ€è¦å¯¹é›†åˆè¿›è¡Œä¿®æ”¹çš„æ–¹æ³•éƒ½ç›´æ¥æŠ›å‡ºå¼‚å¸¸ã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> V <span class="hljs-title">put</span><span class="hljs-params">(K key, V value)</span> </span>&#123;    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> UnsupportedOperationException();&#125;</code></pre><h2 id="äº’æ–¥åŒæ­¥"><a href="#äº’æ–¥åŒæ­¥" class="headerlink" title="äº’æ–¥åŒæ­¥"></a>äº’æ–¥åŒæ­¥</h2><p>synchronized å’Œ ReentrantLockã€‚</p><h2 id="éé˜»å¡åŒæ­¥"><a href="#éé˜»å¡åŒæ­¥" class="headerlink" title="éé˜»å¡åŒæ­¥"></a>éé˜»å¡åŒæ­¥</h2><p>äº’æ–¥åŒæ­¥æœ€ä¸»è¦çš„é—®é¢˜å°±æ˜¯çº¿ç¨‹é˜»å¡å’Œå”¤é†’æ‰€å¸¦æ¥çš„æ€§èƒ½é—®é¢˜ï¼Œå› æ­¤è¿™ç§åŒæ­¥ä¹Ÿç§°ä¸ºé˜»å¡åŒæ­¥ã€‚</p><p>äº’æ–¥åŒæ­¥å±äºä¸€ç§æ‚²è§‚çš„å¹¶å‘ç­–ç•¥ï¼Œæ€»æ˜¯è®¤ä¸ºåªè¦ä¸å»åšæ­£ç¡®çš„åŒæ­¥æªæ–½ï¼Œé‚£å°±è‚¯å®šä¼šå‡ºç°é—®é¢˜ã€‚æ— è®ºå…±äº«æ•°æ®æ˜¯å¦çœŸçš„ä¼šå‡ºç°ç«äº‰ï¼Œå®ƒéƒ½è¦è¿›è¡ŒåŠ é”ï¼ˆè¿™é‡Œè®¨è®ºçš„æ˜¯æ¦‚å¿µæ¨¡å‹ï¼Œå®é™…ä¸Šè™šæ‹Ÿæœºä¼šä¼˜åŒ–æ‰å¾ˆå¤§ä¸€éƒ¨åˆ†ä¸å¿…è¦çš„åŠ é”ï¼‰ã€ç”¨æˆ·æ€æ ¸å¿ƒæ€è½¬æ¢ã€ç»´æŠ¤é”è®¡æ•°å™¨å’Œæ£€æŸ¥æ˜¯å¦æœ‰è¢«é˜»å¡çš„çº¿ç¨‹éœ€è¦å”¤é†’ç­‰æ“ä½œã€‚</p><p>éšç€ç¡¬ä»¶æŒ‡ä»¤é›†çš„å‘å±•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŸºäºå†²çªæ£€æµ‹çš„ä¹è§‚å¹¶å‘ç­–ç•¥ï¼šå…ˆè¿›è¡Œæ“ä½œï¼Œå¦‚æœæ²¡æœ‰å…¶å®ƒçº¿ç¨‹äº‰ç”¨å…±äº«æ•°æ®ï¼Œé‚£æ“ä½œå°±æˆåŠŸäº†ï¼Œå¦åˆ™é‡‡å–è¡¥å¿æªæ–½ï¼ˆä¸æ–­åœ°é‡è¯•ï¼Œç›´åˆ°æˆåŠŸä¸ºæ­¢ï¼‰ã€‚è¿™ç§ä¹è§‚çš„å¹¶å‘ç­–ç•¥çš„è®¸å¤šå®ç°éƒ½ä¸éœ€è¦å°†çº¿ç¨‹é˜»å¡ï¼Œå› æ­¤è¿™ç§åŒæ­¥æ“ä½œç§°ä¸ºéé˜»å¡åŒæ­¥ã€‚</p><h3 id="1-CAS"><a href="#1-CAS" class="headerlink" title="1. CAS"></a>1. CAS</h3><p>ä¹è§‚é”éœ€è¦æ“ä½œå’Œå†²çªæ£€æµ‹è¿™ä¸¤ä¸ªæ­¥éª¤å…·å¤‡åŸå­æ€§ï¼Œè¿™é‡Œå°±ä¸èƒ½å†ä½¿ç”¨äº’æ–¥åŒæ­¥æ¥ä¿è¯äº†ï¼Œåªèƒ½é ç¡¬ä»¶æ¥å®Œæˆã€‚ç¡¬ä»¶æ”¯æŒçš„åŸå­æ€§æ“ä½œæœ€å…¸å‹çš„æ˜¯ï¼šæ¯”è¾ƒå¹¶äº¤æ¢ï¼ˆCompare-and-Swapï¼ŒCASï¼‰ã€‚CAS æŒ‡ä»¤éœ€è¦æœ‰ 3 ä¸ªæ“ä½œæ•°ï¼Œåˆ†åˆ«æ˜¯å†…å­˜åœ°å€ Vã€æ—§çš„é¢„æœŸå€¼ A å’Œæ–°å€¼ Bã€‚å½“æ‰§è¡Œæ“ä½œæ—¶ï¼Œåªæœ‰å½“ V çš„å€¼ç­‰äº Aï¼Œæ‰å°† V çš„å€¼æ›´æ–°ä¸º Bã€‚</p><h3 id="2-AtomicInteger"><a href="#2-AtomicInteger" class="headerlink" title="2. AtomicInteger"></a>2. AtomicInteger</h3><p>J.U.C åŒ…é‡Œé¢çš„æ•´æ•°åŸå­ç±» AtomicInteger çš„æ–¹æ³•è°ƒç”¨äº† Unsafe ç±»çš„ CAS æ“ä½œã€‚</p><p>ä»¥ä¸‹ä»£ç ä½¿ç”¨äº† AtomicInteger æ‰§è¡Œäº†è‡ªå¢çš„æ“ä½œã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">private</span> AtomicInteger cnt = <span class="hljs-keyword">new</span> AtomicInteger();<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">()</span> </span>&#123;    cnt.incrementAndGet();&#125;</code></pre><p>ä»¥ä¸‹ä»£ç æ˜¯ incrementAndGet() çš„æºç ï¼Œå®ƒè°ƒç”¨äº† Unsafe çš„ getAndAddInt() ã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> <span class="hljs-title">incrementAndGet</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-keyword">return</span> unsafe.getAndAddInt(<span class="hljs-keyword">this</span>, valueOffset, <span class="hljs-number">1</span>) + <span class="hljs-number">1</span>;&#125;</code></pre><p>ä»¥ä¸‹ä»£ç æ˜¯ getAndAddInt() æºç ï¼Œvar1 æŒ‡ç¤ºå¯¹è±¡å†…å­˜åœ°å€ï¼Œvar2 æŒ‡ç¤ºè¯¥å­—æ®µç›¸å¯¹å¯¹è±¡å†…å­˜åœ°å€çš„åç§»ï¼Œvar4 æŒ‡ç¤ºæ“ä½œéœ€è¦åŠ çš„æ•°å€¼ï¼Œè¿™é‡Œä¸º 1ã€‚é€šè¿‡ getIntVolatile(var1, var2) å¾—åˆ°æ—§çš„é¢„æœŸå€¼ï¼Œé€šè¿‡è°ƒç”¨ compareAndSwapInt() æ¥è¿›è¡Œ CAS æ¯”è¾ƒï¼Œå¦‚æœè¯¥å­—æ®µå†…å­˜åœ°å€ä¸­çš„å€¼ç­‰äº var5ï¼Œé‚£ä¹ˆå°±æ›´æ–°å†…å­˜åœ°å€ä¸º var1+var2 çš„å˜é‡ä¸º var5+var4ã€‚</p><p>å¯ä»¥çœ‹åˆ° getAndAddInt() åœ¨ä¸€ä¸ªå¾ªç¯ä¸­è¿›è¡Œï¼Œå‘ç”Ÿå†²çªçš„åšæ³•æ˜¯ä¸æ–­çš„è¿›è¡Œé‡è¯•ã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getAndAddInt</span><span class="hljs-params">(Object var1, <span class="hljs-keyword">long</span> var2, <span class="hljs-keyword">int</span> var4)</span> </span>&#123;    <span class="hljs-keyword">int</span> var5;    <span class="hljs-keyword">do</span> &#123;        var5 = <span class="hljs-keyword">this</span>.getIntVolatile(var1, var2);    &#125; <span class="hljs-keyword">while</span>(!<span class="hljs-keyword">this</span>.compareAndSwapInt(var1, var2, var5, var5 + var4));    <span class="hljs-keyword">return</span> var5;&#125;</code></pre><h3 id="3-ABA"><a href="#3-ABA" class="headerlink" title="3. ABA"></a>3. ABA</h3><p>å¦‚æœä¸€ä¸ªå˜é‡åˆæ¬¡è¯»å–çš„æ—¶å€™æ˜¯ A å€¼ï¼Œå®ƒçš„å€¼è¢«æ”¹æˆäº† Bï¼Œåæ¥åˆè¢«æ”¹å›ä¸º Aï¼Œé‚£ CAS æ“ä½œå°±ä¼šè¯¯è®¤ä¸ºå®ƒä»æ¥æ²¡æœ‰è¢«æ”¹å˜è¿‡ã€‚</p><p>J.U.C åŒ…æä¾›äº†ä¸€ä¸ªå¸¦æœ‰æ ‡è®°çš„åŸå­å¼•ç”¨ç±» AtomicStampedReference æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå®ƒå¯ä»¥é€šè¿‡æ§åˆ¶å˜é‡å€¼çš„ç‰ˆæœ¬æ¥ä¿è¯ CAS çš„æ­£ç¡®æ€§ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹ ABA é—®é¢˜ä¸ä¼šå½±å“ç¨‹åºå¹¶å‘çš„æ­£ç¡®æ€§ï¼Œå¦‚æœéœ€è¦è§£å†³ ABA é—®é¢˜ï¼Œæ”¹ç”¨ä¼ ç»Ÿçš„äº’æ–¥åŒæ­¥å¯èƒ½ä¼šæ¯”åŸå­ç±»æ›´é«˜æ•ˆã€‚</p><h2 id="æ— åŒæ­¥æ–¹æ¡ˆ"><a href="#æ— åŒæ­¥æ–¹æ¡ˆ" class="headerlink" title="æ— åŒæ­¥æ–¹æ¡ˆ"></a>æ— åŒæ­¥æ–¹æ¡ˆ</h2><p>è¦ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œå¹¶ä¸æ˜¯ä¸€å®šå°±è¦è¿›è¡ŒåŒæ­¥ã€‚å¦‚æœä¸€ä¸ªæ–¹æ³•æœ¬æ¥å°±ä¸æ¶‰åŠå…±äº«æ•°æ®ï¼Œé‚£å®ƒè‡ªç„¶å°±æ— é¡»ä»»ä½•åŒæ­¥æªæ–½å»ä¿è¯æ­£ç¡®æ€§ã€‚</p><h3 id="1-æ ˆå°é—­"><a href="#1-æ ˆå°é—­" class="headerlink" title="1. æ ˆå°é—­"></a>1. æ ˆå°é—­</h3><p>å¤šä¸ªçº¿ç¨‹è®¿é—®åŒä¸€ä¸ªæ–¹æ³•çš„å±€éƒ¨å˜é‡æ—¶ï¼Œä¸ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå› ä¸ºå±€éƒ¨å˜é‡å­˜å‚¨åœ¨è™šæ‹Ÿæœºæ ˆä¸­ï¼Œå±äºçº¿ç¨‹ç§æœ‰çš„ã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StackClosedExample</span> </span>&#123;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add100</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) &#123;            cnt++;        &#125;        System.out.println(cnt);    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;    StackClosedExample example = <span class="hljs-keyword">new</span> StackClosedExample();    ExecutorService executorService = Executors.newCachedThreadPool();    executorService.execute(() -&gt; example.add100());    executorService.execute(() -&gt; example.add100());    executorService.shutdown();&#125;<span class="hljs-number">100</span><span class="hljs-number">100</span></code></pre><h3 id="2-çº¿ç¨‹æœ¬åœ°å­˜å‚¨ï¼ˆThread-Local-Storageï¼‰"><a href="#2-çº¿ç¨‹æœ¬åœ°å­˜å‚¨ï¼ˆThread-Local-Storageï¼‰" class="headerlink" title="2. çº¿ç¨‹æœ¬åœ°å­˜å‚¨ï¼ˆThread Local Storageï¼‰"></a>2. çº¿ç¨‹æœ¬åœ°å­˜å‚¨ï¼ˆThread Local Storageï¼‰</h3><p>å¦‚æœä¸€æ®µä»£ç ä¸­æ‰€éœ€è¦çš„æ•°æ®å¿…é¡»ä¸å…¶ä»–ä»£ç å…±äº«ï¼Œé‚£å°±çœ‹çœ‹è¿™äº›å…±äº«æ•°æ®çš„ä»£ç æ˜¯å¦èƒ½ä¿è¯åœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œã€‚å¦‚æœèƒ½ä¿è¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠå…±äº«æ•°æ®çš„å¯è§èŒƒå›´é™åˆ¶åœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¹‹å†…ï¼Œè¿™æ ·ï¼Œæ— é¡»åŒæ­¥ä¹Ÿèƒ½ä¿è¯çº¿ç¨‹ä¹‹é—´ä¸å‡ºç°æ•°æ®äº‰ç”¨çš„é—®é¢˜ã€‚</p><p>ç¬¦åˆè¿™ç§ç‰¹ç‚¹çš„åº”ç”¨å¹¶ä¸å°‘è§ï¼Œå¤§éƒ¨åˆ†ä½¿ç”¨æ¶ˆè´¹é˜Ÿåˆ—çš„æ¶æ„æ¨¡å¼ï¼ˆå¦‚â€œç”Ÿäº§è€…-æ¶ˆè´¹è€…â€æ¨¡å¼ï¼‰éƒ½ä¼šå°†äº§å“çš„æ¶ˆè´¹è¿‡ç¨‹å°½é‡åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­æ¶ˆè´¹å®Œã€‚å…¶ä¸­æœ€é‡è¦çš„ä¸€ä¸ªåº”ç”¨å®ä¾‹å°±æ˜¯ç»å…¸ Web äº¤äº’æ¨¡å‹ä¸­çš„â€œä¸€ä¸ªè¯·æ±‚å¯¹åº”ä¸€ä¸ªæœåŠ¡å™¨çº¿ç¨‹â€ï¼ˆThread-per-Requestï¼‰çš„å¤„ç†æ–¹å¼ï¼Œè¿™ç§å¤„ç†æ–¹å¼çš„å¹¿æ³›åº”ç”¨ä½¿å¾—å¾ˆå¤š Web æœåŠ¡ç«¯åº”ç”¨éƒ½å¯ä»¥ä½¿ç”¨çº¿ç¨‹æœ¬åœ°å­˜å‚¨æ¥è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</p><p>å¯ä»¥ä½¿ç”¨ java.lang.ThreadLocal ç±»æ¥å®ç°çº¿ç¨‹æœ¬åœ°å­˜å‚¨åŠŸèƒ½ã€‚</p><p>å¯¹äºä»¥ä¸‹ä»£ç ï¼Œthread1 ä¸­è®¾ç½® threadLocal ä¸º 1ï¼Œè€Œ thread2 è®¾ç½® threadLocal ä¸º 2ã€‚è¿‡äº†ä¸€æ®µæ—¶é—´ä¹‹åï¼Œthread1 è¯»å– threadLocal ä¾ç„¶æ˜¯ 1ï¼Œä¸å— thread2 çš„å½±å“ã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ThreadLocalExample</span> </span>&#123;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;        ThreadLocal threadLocal = <span class="hljs-keyword">new</span> ThreadLocal();        Thread thread1 = <span class="hljs-keyword">new</span> Thread(() -&gt; &#123;            threadLocal.set(<span class="hljs-number">1</span>);            <span class="hljs-keyword">try</span> &#123;                Thread.sleep(<span class="hljs-number">1000</span>);            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;                e.printStackTrace();            &#125;            System.out.println(threadLocal.get());            threadLocal.remove();        &#125;);        Thread thread2 = <span class="hljs-keyword">new</span> Thread(() -&gt; &#123;            threadLocal.set(<span class="hljs-number">2</span>);            threadLocal.remove();        &#125;);        thread1.start();        thread2.start();    &#125;&#125;<span class="hljs-number">1</span></code></pre><p>ä¸ºäº†ç†è§£ ThreadLocalï¼Œå…ˆçœ‹ä»¥ä¸‹ä»£ç ï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ThreadLocalExample1</span> </span>&#123;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;        ThreadLocal threadLocal1 = <span class="hljs-keyword">new</span> ThreadLocal();        ThreadLocal threadLocal2 = <span class="hljs-keyword">new</span> ThreadLocal();        Thread thread1 = <span class="hljs-keyword">new</span> Thread(() -&gt; &#123;            threadLocal1.set(<span class="hljs-number">1</span>);            threadLocal2.set(<span class="hljs-number">1</span>);        &#125;);        Thread thread2 = <span class="hljs-keyword">new</span> Thread(() -&gt; &#123;            threadLocal1.set(<span class="hljs-number">2</span>);            threadLocal2.set(<span class="hljs-number">2</span>);        &#125;);        thread1.start();        thread2.start();    &#125;&#125;</code></pre><p>å®ƒæ‰€å¯¹åº”çš„åº•å±‚ç»“æ„å›¾ä¸ºï¼š</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/6782674c-1bfe-4879-af39-e9d722a95d39.png" srcset="/img/loading.gif" alt="img"></p><p>æ¯ä¸ª Thread éƒ½æœ‰ä¸€ä¸ª ThreadLocal.ThreadLocalMap å¯¹è±¡ã€‚</p><pre><code class="hljs java"><span class="hljs-comment">/* ThreadLocal values pertaining to this thread. This map is maintained</span><span class="hljs-comment"> * by the ThreadLocal class. */</span>ThreadLocal.ThreadLocalMap threadLocals = <span class="hljs-keyword">null</span>;</code></pre><p>å½“è°ƒç”¨ä¸€ä¸ª ThreadLocal çš„ set(T value) æ–¹æ³•æ—¶ï¼Œå…ˆå¾—åˆ°å½“å‰çº¿ç¨‹çš„ ThreadLocalMap å¯¹è±¡ï¼Œç„¶åå°† ThreadLocal-&gt;value é”®å€¼å¯¹æ’å…¥åˆ°è¯¥ Map ä¸­ã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">set</span><span class="hljs-params">(T value)</span> </span>&#123;    Thread t = Thread.currentThread();    ThreadLocalMap map = getMap(t);    <span class="hljs-keyword">if</span> (map != <span class="hljs-keyword">null</span>)        map.set(<span class="hljs-keyword">this</span>, value);    <span class="hljs-keyword">else</span>        createMap(t, value);&#125;</code></pre><p>get() æ–¹æ³•ç±»ä¼¼ã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> T <span class="hljs-title">get</span><span class="hljs-params">()</span> </span>&#123;    Thread t = Thread.currentThread();    ThreadLocalMap map = getMap(t);    <span class="hljs-keyword">if</span> (map != <span class="hljs-keyword">null</span>) &#123;        ThreadLocalMap.Entry e = map.getEntry(<span class="hljs-keyword">this</span>);        <span class="hljs-keyword">if</span> (e != <span class="hljs-keyword">null</span>) &#123;            <span class="hljs-meta">@SuppressWarnings</span>(<span class="hljs-string">"unchecked"</span>)            T result = (T)e.value;            <span class="hljs-keyword">return</span> result;        &#125;    &#125;    <span class="hljs-keyword">return</span> setInitialValue();&#125;</code></pre><p>ThreadLocal ä»ç†è®ºä¸Šè®²å¹¶ä¸æ˜¯ç”¨æ¥è§£å†³å¤šçº¿ç¨‹å¹¶å‘é—®é¢˜çš„ï¼Œå› ä¸ºæ ¹æœ¬ä¸å­˜åœ¨å¤šçº¿ç¨‹ç«äº‰ã€‚</p><p>åœ¨ä¸€äº›åœºæ™¯ (å°¤å…¶æ˜¯ä½¿ç”¨çº¿ç¨‹æ± ) ä¸‹ï¼Œç”±äº ThreadLocal.ThreadLocalMap çš„åº•å±‚æ•°æ®ç»“æ„å¯¼è‡´ ThreadLocal æœ‰å†…å­˜æ³„æ¼çš„æƒ…å†µï¼Œåº”è¯¥å°½å¯èƒ½åœ¨æ¯æ¬¡ä½¿ç”¨ ThreadLocal åæ‰‹åŠ¨è°ƒç”¨ remove()ï¼Œä»¥é¿å…å‡ºç° ThreadLocal ç»å…¸çš„å†…å­˜æ³„æ¼ç”šè‡³æ˜¯é€ æˆè‡ªèº«ä¸šåŠ¡æ··ä¹±çš„é£é™©ã€‚</p><h3 id="3-å¯é‡å…¥ä»£ç ï¼ˆReentrant-Codeï¼‰"><a href="#3-å¯é‡å…¥ä»£ç ï¼ˆReentrant-Codeï¼‰" class="headerlink" title="3. å¯é‡å…¥ä»£ç ï¼ˆReentrant Codeï¼‰"></a>3. å¯é‡å…¥ä»£ç ï¼ˆReentrant Codeï¼‰</h3><p>è¿™ç§ä»£ç ä¹Ÿå«åšçº¯ä»£ç ï¼ˆPure Codeï¼‰ï¼Œå¯ä»¥åœ¨ä»£ç æ‰§è¡Œçš„ä»»ä½•æ—¶åˆ»ä¸­æ–­å®ƒï¼Œè½¬è€Œå»æ‰§è¡Œå¦å¤–ä¸€æ®µä»£ç ï¼ˆåŒ…æ‹¬é€’å½’è°ƒç”¨å®ƒæœ¬èº«ï¼‰ï¼Œè€Œåœ¨æ§åˆ¶æƒè¿”å›åï¼ŒåŸæ¥çš„ç¨‹åºä¸ä¼šå‡ºç°ä»»ä½•é”™è¯¯ã€‚</p><p>å¯é‡å…¥ä»£ç æœ‰ä¸€äº›å…±åŒçš„ç‰¹å¾ï¼Œä¾‹å¦‚ä¸ä¾èµ–å­˜å‚¨åœ¨å †ä¸Šçš„æ•°æ®å’Œå…¬ç”¨çš„ç³»ç»Ÿèµ„æºã€ç”¨åˆ°çš„çŠ¶æ€é‡éƒ½ç”±å‚æ•°ä¸­ä¼ å…¥ã€ä¸è°ƒç”¨éå¯é‡å…¥çš„æ–¹æ³•ç­‰ã€‚</p><h1 id="åäºŒã€é”ä¼˜åŒ–"><a href="#åäºŒã€é”ä¼˜åŒ–" class="headerlink" title="åäºŒã€é”ä¼˜åŒ–"></a>åäºŒã€é”ä¼˜åŒ–</h1><p>è¿™é‡Œçš„é”ä¼˜åŒ–ä¸»è¦æ˜¯æŒ‡ JVM å¯¹ synchronized çš„ä¼˜åŒ–ã€‚</p><h2 id="è‡ªæ—‹é”"><a href="#è‡ªæ—‹é”" class="headerlink" title="è‡ªæ—‹é”"></a>è‡ªæ—‹é”</h2><p>äº’æ–¥åŒæ­¥è¿›å…¥é˜»å¡çŠ¶æ€çš„å¼€é”€éƒ½å¾ˆå¤§ï¼Œåº”è¯¥å°½é‡é¿å…ã€‚åœ¨è®¸å¤šåº”ç”¨ä¸­ï¼Œå…±äº«æ•°æ®çš„é”å®šçŠ¶æ€åªä¼šæŒç»­å¾ˆçŸ­çš„ä¸€æ®µæ—¶é—´ã€‚è‡ªæ—‹é”çš„æ€æƒ³æ˜¯è®©ä¸€ä¸ªçº¿ç¨‹åœ¨è¯·æ±‚ä¸€ä¸ªå…±äº«æ•°æ®çš„é”æ—¶æ‰§è¡Œå¿™å¾ªç¯ï¼ˆè‡ªæ—‹ï¼‰ä¸€æ®µæ—¶é—´ï¼Œå¦‚æœåœ¨è¿™æ®µæ—¶é—´å†…èƒ½è·å¾—é”ï¼Œå°±å¯ä»¥é¿å…è¿›å…¥é˜»å¡çŠ¶æ€ã€‚</p><p>è‡ªæ—‹é”è™½ç„¶èƒ½é¿å…è¿›å…¥é˜»å¡çŠ¶æ€ä»è€Œå‡å°‘å¼€é”€ï¼Œä½†æ˜¯å®ƒéœ€è¦è¿›è¡Œå¿™å¾ªç¯æ“ä½œå ç”¨ CPU æ—¶é—´ï¼Œå®ƒåªé€‚ç”¨äºå…±äº«æ•°æ®çš„é”å®šçŠ¶æ€å¾ˆçŸ­çš„åœºæ™¯ã€‚</p><p>åœ¨ JDK 1.6 ä¸­å¼•å…¥äº†è‡ªé€‚åº”çš„è‡ªæ—‹é”ã€‚è‡ªé€‚åº”æ„å‘³ç€è‡ªæ—‹çš„æ¬¡æ•°ä¸å†å›ºå®šäº†ï¼Œè€Œæ˜¯ç”±å‰ä¸€æ¬¡åœ¨åŒä¸€ä¸ªé”ä¸Šçš„è‡ªæ—‹æ¬¡æ•°åŠé”çš„æ‹¥æœ‰è€…çš„çŠ¶æ€æ¥å†³å®šã€‚</p><h2 id="é”æ¶ˆé™¤"><a href="#é”æ¶ˆé™¤" class="headerlink" title="é”æ¶ˆé™¤"></a>é”æ¶ˆé™¤</h2><p>é”æ¶ˆé™¤æ˜¯æŒ‡å¯¹äºè¢«æ£€æµ‹å‡ºä¸å¯èƒ½å­˜åœ¨ç«äº‰çš„å…±äº«æ•°æ®çš„é”è¿›è¡Œæ¶ˆé™¤ã€‚</p><p>é”æ¶ˆé™¤ä¸»è¦æ˜¯é€šè¿‡é€ƒé€¸åˆ†ææ¥æ”¯æŒï¼Œå¦‚æœå †ä¸Šçš„å…±äº«æ•°æ®ä¸å¯èƒ½é€ƒé€¸å‡ºå»è¢«å…¶å®ƒçº¿ç¨‹è®¿é—®åˆ°ï¼Œé‚£ä¹ˆå°±å¯ä»¥æŠŠå®ƒä»¬å½“æˆç§æœ‰æ•°æ®å¯¹å¾…ï¼Œä¹Ÿå°±å¯ä»¥å°†å®ƒä»¬çš„é”è¿›è¡Œæ¶ˆé™¤ã€‚</p><p>å¯¹äºä¸€äº›çœ‹èµ·æ¥æ²¡æœ‰åŠ é”çš„ä»£ç ï¼Œå…¶å®éšå¼çš„åŠ äº†å¾ˆå¤šé”ã€‚ä¾‹å¦‚ä¸‹é¢çš„å­—ç¬¦ä¸²æ‹¼æ¥ä»£ç å°±éšå¼åŠ äº†é”ï¼š</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">concatString</span><span class="hljs-params">(String s1, String s2, String s3)</span> </span>&#123;    <span class="hljs-keyword">return</span> s1 + s2 + s3;&#125;</code></pre><p>String æ˜¯ä¸€ä¸ªä¸å¯å˜çš„ç±»ï¼Œç¼–è¯‘å™¨ä¼šå¯¹ String çš„æ‹¼æ¥è‡ªåŠ¨ä¼˜åŒ–ã€‚åœ¨ JDK 1.5 ä¹‹å‰ï¼Œä¼šè½¬åŒ–ä¸º StringBuffer å¯¹è±¡çš„è¿ç»­ append() æ“ä½œï¼š</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">concatString</span><span class="hljs-params">(String s1, String s2, String s3)</span> </span>&#123;    StringBuffer sb = <span class="hljs-keyword">new</span> StringBuffer();    sb.append(s1);    sb.append(s2);    sb.append(s3);    <span class="hljs-keyword">return</span> sb.toString();&#125;</code></pre><p>æ¯ä¸ª append() æ–¹æ³•ä¸­éƒ½æœ‰ä¸€ä¸ªåŒæ­¥å—ã€‚è™šæ‹Ÿæœºè§‚å¯Ÿå˜é‡ sbï¼Œå¾ˆå¿«å°±ä¼šå‘ç°å®ƒçš„åŠ¨æ€ä½œç”¨åŸŸè¢«é™åˆ¶åœ¨ concatString() æ–¹æ³•å†…éƒ¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œsb çš„æ‰€æœ‰å¼•ç”¨æ°¸è¿œä¸ä¼šé€ƒé€¸åˆ° concatString() æ–¹æ³•ä¹‹å¤–ï¼Œå…¶ä»–çº¿ç¨‹æ— æ³•è®¿é—®åˆ°å®ƒï¼Œå› æ­¤å¯ä»¥è¿›è¡Œæ¶ˆé™¤ã€‚</p><h2 id="é”ç²—åŒ–"><a href="#é”ç²—åŒ–" class="headerlink" title="é”ç²—åŒ–"></a>é”ç²—åŒ–</h2><p>å¦‚æœä¸€ç³»åˆ—çš„è¿ç»­æ“ä½œéƒ½å¯¹åŒä¸€ä¸ªå¯¹è±¡åå¤åŠ é”å’Œè§£é”ï¼Œé¢‘ç¹çš„åŠ é”æ“ä½œå°±ä¼šå¯¼è‡´æ€§èƒ½æŸè€—ã€‚</p><p>ä¸Šä¸€èŠ‚çš„ç¤ºä¾‹ä»£ç ä¸­è¿ç»­çš„ append() æ–¹æ³•å°±å±äºè¿™ç±»æƒ…å†µã€‚å¦‚æœè™šæ‹Ÿæœºæ¢æµ‹åˆ°ç”±è¿™æ ·çš„ä¸€ä¸²é›¶ç¢çš„æ“ä½œéƒ½å¯¹åŒä¸€ä¸ªå¯¹è±¡åŠ é”ï¼Œå°†ä¼šæŠŠåŠ é”çš„èŒƒå›´æ‰©å±•ï¼ˆç²—åŒ–ï¼‰åˆ°æ•´ä¸ªæ“ä½œåºåˆ—çš„å¤–éƒ¨ã€‚å¯¹äºä¸Šä¸€èŠ‚çš„ç¤ºä¾‹ä»£ç å°±æ˜¯æ‰©å±•åˆ°ç¬¬ä¸€ä¸ª append() æ“ä½œä¹‹å‰ç›´è‡³æœ€åä¸€ä¸ª append() æ“ä½œä¹‹åï¼Œè¿™æ ·åªéœ€è¦åŠ é”ä¸€æ¬¡å°±å¯ä»¥äº†ã€‚</p><h2 id="è½»é‡çº§é”"><a href="#è½»é‡çº§é”" class="headerlink" title="è½»é‡çº§é”"></a>è½»é‡çº§é”</h2><p>JDK 1.6 å¼•å…¥äº†åå‘é”å’Œè½»é‡çº§é”ï¼Œä»è€Œè®©é”æ‹¥æœ‰äº†å››ä¸ªçŠ¶æ€ï¼šæ— é”çŠ¶æ€ï¼ˆunlockedï¼‰ã€åå‘é”çŠ¶æ€ï¼ˆbiasbleï¼‰ã€è½»é‡çº§é”çŠ¶æ€ï¼ˆlightweight lockedï¼‰å’Œé‡é‡çº§é”çŠ¶æ€ï¼ˆinflatedï¼‰ã€‚</p><p>ä»¥ä¸‹æ˜¯ HotSpot è™šæ‹Ÿæœºå¯¹è±¡å¤´çš„å†…å­˜å¸ƒå±€ï¼Œè¿™äº›æ•°æ®è¢«ç§°ä¸º Mark Wordã€‚å…¶ä¸­ tag bits å¯¹åº”äº†äº”ä¸ªçŠ¶æ€ï¼Œè¿™äº›çŠ¶æ€åœ¨å³ä¾§çš„ state è¡¨æ ¼ä¸­ç»™å‡ºã€‚é™¤äº† marked for gc çŠ¶æ€ï¼Œå…¶å®ƒå››ä¸ªçŠ¶æ€å·²ç»åœ¨å‰é¢ä»‹ç»è¿‡äº†ã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/bb6a49be-00f2-4f27-a0ce-4ed764bc605c.png" srcset="/img/loading.gif" alt="img"></p><p>ä¸‹å›¾å·¦ä¾§æ˜¯ä¸€ä¸ªçº¿ç¨‹çš„è™šæ‹Ÿæœºæ ˆï¼Œå…¶ä¸­æœ‰ä¸€éƒ¨åˆ†ç§°ä¸º Lock Record çš„åŒºåŸŸï¼Œè¿™æ˜¯åœ¨è½»é‡çº§é”è¿è¡Œè¿‡ç¨‹åˆ›å»ºçš„ï¼Œç”¨äºå­˜æ”¾é”å¯¹è±¡çš„ Mark Wordã€‚è€Œå³ä¾§å°±æ˜¯ä¸€ä¸ªé”å¯¹è±¡ï¼ŒåŒ…å«äº† Mark Word å’Œå…¶å®ƒä¿¡æ¯ã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/051e436c-0e46-4c59-8f67-52d89d656182.png" srcset="/img/loading.gif" alt="img"></p><p>è½»é‡çº§é”æ˜¯ç›¸å¯¹äºä¼ ç»Ÿçš„é‡é‡çº§é”è€Œè¨€ï¼Œå®ƒä½¿ç”¨ CAS æ“ä½œæ¥é¿å…é‡é‡çº§é”ä½¿ç”¨äº’æ–¥é‡çš„å¼€é”€ã€‚å¯¹äºç»å¤§éƒ¨åˆ†çš„é”ï¼Œåœ¨æ•´ä¸ªåŒæ­¥å‘¨æœŸå†…éƒ½æ˜¯ä¸å­˜åœ¨ç«äº‰çš„ï¼Œå› æ­¤ä¹Ÿå°±ä¸éœ€è¦éƒ½ä½¿ç”¨äº’æ–¥é‡è¿›è¡ŒåŒæ­¥ï¼Œå¯ä»¥å…ˆé‡‡ç”¨ CAS æ“ä½œè¿›è¡ŒåŒæ­¥ï¼Œå¦‚æœ CAS å¤±è´¥äº†å†æ”¹ç”¨äº’æ–¥é‡è¿›è¡ŒåŒæ­¥ã€‚</p><p>å½“å°è¯•è·å–ä¸€ä¸ªé”å¯¹è±¡æ—¶ï¼Œå¦‚æœé”å¯¹è±¡æ ‡è®°ä¸º 0 01ï¼Œè¯´æ˜é”å¯¹è±¡çš„é”æœªé”å®šï¼ˆunlockedï¼‰çŠ¶æ€ã€‚æ­¤æ—¶è™šæ‹Ÿæœºåœ¨å½“å‰çº¿ç¨‹çš„è™šæ‹Ÿæœºæ ˆä¸­åˆ›å»º Lock Recordï¼Œç„¶åä½¿ç”¨ CAS æ“ä½œå°†å¯¹è±¡çš„ Mark Word æ›´æ–°ä¸º Lock Record æŒ‡é’ˆã€‚å¦‚æœ CAS æ“ä½œæˆåŠŸäº†ï¼Œé‚£ä¹ˆçº¿ç¨‹å°±è·å–äº†è¯¥å¯¹è±¡ä¸Šçš„é”ï¼Œå¹¶ä¸”å¯¹è±¡çš„ Mark Word çš„é”æ ‡è®°å˜ä¸º 00ï¼Œè¡¨ç¤ºè¯¥å¯¹è±¡å¤„äºè½»é‡çº§é”çŠ¶æ€ã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/baaa681f-7c52-4198-a5ae-303b9386cf47.png" srcset="/img/loading.gif" alt="img"></p><p>å¦‚æœ CAS æ“ä½œå¤±è´¥äº†ï¼Œè™šæ‹Ÿæœºé¦–å…ˆä¼šæ£€æŸ¥å¯¹è±¡çš„ Mark Word æ˜¯å¦æŒ‡å‘å½“å‰çº¿ç¨‹çš„è™šæ‹Ÿæœºæ ˆï¼Œå¦‚æœæ˜¯çš„è¯è¯´æ˜å½“å‰çº¿ç¨‹å·²ç»æ‹¥æœ‰äº†è¿™ä¸ªé”å¯¹è±¡ï¼Œé‚£å°±å¯ä»¥ç›´æ¥è¿›å…¥åŒæ­¥å—ç»§ç»­æ‰§è¡Œï¼Œå¦åˆ™è¯´æ˜è¿™ä¸ªé”å¯¹è±¡å·²ç»è¢«å…¶ä»–çº¿ç¨‹çº¿ç¨‹æŠ¢å äº†ã€‚å¦‚æœæœ‰ä¸¤æ¡ä»¥ä¸Šçš„çº¿ç¨‹äº‰ç”¨åŒä¸€ä¸ªé”ï¼Œé‚£è½»é‡çº§é”å°±ä¸å†æœ‰æ•ˆï¼Œè¦è†¨èƒ€ä¸ºé‡é‡çº§é”ã€‚</p><h2 id="åå‘é”-https-cyc2018-github-io-CS-Notes-notes-Java-å¹¶å‘-id-åå‘é”"><a href="#åå‘é”-https-cyc2018-github-io-CS-Notes-notes-Java-å¹¶å‘-id-åå‘é”" class="headerlink" title="[åå‘é”](https://cyc2018.github.io/CS-Notes/#/notes/Java å¹¶å‘?id=åå‘é”)"></a>[åå‘é”](<a href="https://cyc2018.github.io/CS-Notes/#/notes/Java" target="_blank" rel="noopener">https://cyc2018.github.io/CS-Notes/#/notes/Java</a> å¹¶å‘?id=åå‘é”)</h2><p>åå‘é”çš„æ€æƒ³æ˜¯åå‘äºè®©ç¬¬ä¸€ä¸ªè·å–é”å¯¹è±¡çš„çº¿ç¨‹ï¼Œè¿™ä¸ªçº¿ç¨‹åœ¨ä¹‹åè·å–è¯¥é”å°±ä¸å†éœ€è¦è¿›è¡ŒåŒæ­¥æ“ä½œï¼Œç”šè‡³è¿ CAS æ“ä½œä¹Ÿä¸å†éœ€è¦ã€‚</p><p>å½“é”å¯¹è±¡ç¬¬ä¸€æ¬¡è¢«çº¿ç¨‹è·å¾—çš„æ—¶å€™ï¼Œè¿›å…¥åå‘çŠ¶æ€ï¼Œæ ‡è®°ä¸º 1 01ã€‚åŒæ—¶ä½¿ç”¨ CAS æ“ä½œå°†çº¿ç¨‹ ID è®°å½•åˆ° Mark Word ä¸­ï¼Œå¦‚æœ CAS æ“ä½œæˆåŠŸï¼Œè¿™ä¸ªçº¿ç¨‹ä»¥åæ¯æ¬¡è¿›å…¥è¿™ä¸ªé”ç›¸å…³çš„åŒæ­¥å—å°±ä¸éœ€è¦å†è¿›è¡Œä»»ä½•åŒæ­¥æ“ä½œã€‚</p><p>å½“æœ‰å¦å¤–ä¸€ä¸ªçº¿ç¨‹å»å°è¯•è·å–è¿™ä¸ªé”å¯¹è±¡æ—¶ï¼Œåå‘çŠ¶æ€å°±å®£å‘Šç»“æŸï¼Œæ­¤æ—¶æ’¤é”€åå‘ï¼ˆRevoke Biasï¼‰åæ¢å¤åˆ°æœªé”å®šçŠ¶æ€æˆ–è€…è½»é‡çº§é”çŠ¶æ€ã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/390c913b-5f31-444f-bbdb-2b88b688e7ce.jpg" srcset="/img/loading.gif" alt="img"></p><h1 id="åä¸‰ã€å¤šçº¿ç¨‹å¼€å‘è‰¯å¥½çš„å®è·µ"><a href="#åä¸‰ã€å¤šçº¿ç¨‹å¼€å‘è‰¯å¥½çš„å®è·µ" class="headerlink" title="åä¸‰ã€å¤šçº¿ç¨‹å¼€å‘è‰¯å¥½çš„å®è·µ"></a>åä¸‰ã€å¤šçº¿ç¨‹å¼€å‘è‰¯å¥½çš„å®è·µ</h1><ul><li>ç»™çº¿ç¨‹èµ·ä¸ªæœ‰æ„ä¹‰çš„åå­—ï¼Œè¿™æ ·å¯ä»¥æ–¹ä¾¿æ‰¾ Bugã€‚</li><li>ç¼©å°åŒæ­¥èŒƒå›´ï¼Œä»è€Œå‡å°‘é”äº‰ç”¨ã€‚ä¾‹å¦‚å¯¹äº synchronizedï¼Œåº”è¯¥å°½é‡ä½¿ç”¨åŒæ­¥å—è€Œä¸æ˜¯åŒæ­¥æ–¹æ³•ã€‚</li><li>å¤šç”¨åŒæ­¥å·¥å…·å°‘ç”¨ wait() å’Œ notify()ã€‚é¦–å…ˆï¼ŒCountDownLatch, CyclicBarrier, Semaphore å’Œ Exchanger è¿™äº›åŒæ­¥ç±»ç®€åŒ–äº†ç¼–ç æ“ä½œï¼Œè€Œç”¨ wait() å’Œ notify() å¾ˆéš¾å®ç°å¤æ‚æ§åˆ¶æµï¼›å…¶æ¬¡ï¼Œè¿™äº›åŒæ­¥ç±»æ˜¯ç”±æœ€å¥½çš„ä¼ä¸šç¼–å†™å’Œç»´æŠ¤ï¼Œåœ¨åç»­çš„ JDK ä¸­è¿˜ä¼šä¸æ–­ä¼˜åŒ–å’Œå®Œå–„ã€‚</li><li>ä½¿ç”¨ BlockingQueue å®ç°ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜ã€‚</li><li>å¤šç”¨å¹¶å‘é›†åˆå°‘ç”¨åŒæ­¥é›†åˆï¼Œä¾‹å¦‚åº”è¯¥ä½¿ç”¨ ConcurrentHashMap è€Œä¸æ˜¯ Hashtableã€‚</li><li>ä½¿ç”¨æœ¬åœ°å˜é‡å’Œä¸å¯å˜ç±»æ¥ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚</li><li>ä½¿ç”¨çº¿ç¨‹æ± è€Œä¸æ˜¯ç›´æ¥åˆ›å»ºçº¿ç¨‹ï¼Œè¿™æ˜¯å› ä¸ºåˆ›å»ºçº¿ç¨‹ä»£ä»·å¾ˆé«˜ï¼Œçº¿ç¨‹æ± å¯ä»¥æœ‰æ•ˆåœ°åˆ©ç”¨æœ‰é™çš„çº¿ç¨‹æ¥å¯åŠ¨ä»»åŠ¡ã€‚</li></ul><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ul><li>BruceEckel. Java ç¼–ç¨‹æ€æƒ³: ç¬¬ 4 ç‰ˆ [M]. æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾, 2007.</li><li>å‘¨å¿—æ˜. æ·±å…¥ç†è§£ Java è™šæ‹Ÿæœº [M]. æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾, 2011.</li><li><a href="https://docs.oracle.com/javase/specs/jvms/se6/html/Threads.doc.html" target="_blank" rel="noopener">Threads and Locks</a></li><li><a href="http://ifeve.com/thread-signaling/#missed_signal" target="_blank" rel="noopener">çº¿ç¨‹é€šä¿¡</a></li><li><a href="http://www.importnew.com/12773.html" target="_blank" rel="noopener">Java çº¿ç¨‹é¢è¯•é¢˜ Top 50</a></li><li><a href="http://tutorials.jenkov.com/java-util-concurrent/blockingqueue.html" target="_blank" rel="noopener">BlockingQueue</a></li><li><a href="https://stackoverflow.com/questions/11265289/thread-state-java" target="_blank" rel="noopener">thread state java</a></li><li><a href="http://wiki.expertiza.ncsu.edu/index.php/CSC_456_Spring_2012/ch7_MN" target="_blank" rel="noopener">CSC 456 Spring 2012/ch7 MN</a></li><li><a href="https://www.logicbig.com/tutorials/core-java-tutorial/java-multi-threading/happens-before.html" target="_blank" rel="noopener">Java - Understanding Happens-before relationship</a></li><li><a href="https://www.slideshare.net/novathinker/6-thread-synchronization" target="_blank" rel="noopener">6ì¥ Thread Synchronization</a></li><li><a href="https://stackoverflow.com/questions/1202444/how-is-javas-threadlocal-implemented-under-the-hood/15653015" target="_blank" rel="noopener">How is Javaâ€™s ThreadLocal implemented under the hood?</a></li><li><a href="https://sites.google.com/site/webdevelopart/21-compile/06-java/javase/concurrent?tmpl=%2Fsystem%2Fapp%2Ftemplates%2Fprint%2F&showPrintDialog=1" target="_blank" rel="noopener">Concurrent</a></li><li><a href="http://www.javacreed.com/java-fork-join-example/" target="_blank" rel="noopener">JAVA FORK JOIN EXAMPLE</a></li><li><a href="http://ifeve.com/talk-concurrency-forkjoin/" target="_blank" rel="noopener">èŠèŠå¹¶å‘ï¼ˆå…«ï¼‰â€”â€”Fork/Join æ¡†æ¶ä»‹ç»</a></li><li><a href="http://www.oracle.com/technetwork/java/javase/tech/biasedlocking-oopsla2006-preso-150106.pdf" target="_blank" rel="noopener">Eliminating SynchronizationRelated Atomic Operations with Biased Locking and Bulk Rebiasing</a></li></ul><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>Thread</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>Thread</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>YKXiao Cloud æ¥å£æ–‡æ¡£</title>
    <link href="/2020/03/10/YKXiao%20Cloud%20%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3/"/>
    <url>/2020/03/10/YKXiao%20Cloud%20%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3/</url>
    
    <content type="html"><![CDATA[<p><strong>YKXiao Cloud æ¥å£æ–‡æ¡£</strong></p><p><strong>ç®€ä»‹</strong>ï¼š<p>YKXiao SpringClouds</p></p><p><strong>HOST</strong>:192.168.1.250:9527</p><p><strong>è”ç³»äºº</strong>:alterem</p><p><strong>Version</strong>:1.0.1-SNAPSHOT</p><p><strong>æ¥å£è·¯å¾„</strong>ï¼š/quartz/v2/api-docs</p><h1 id="sys-job-controller"><a href="#sys-job-controller" class="headerlink" title="sys-job-controller"></a>sys-job-controller</h1><p>[TOC]</p><h2 id="jobSave"><a href="#jobSave" class="headerlink" title="jobSave"></a>jobSave</h2><p><strong>æ¥å£æè¿°</strong>:æ–°å¢ä¿å­˜è°ƒåº¦</p><p><strong>æ¥å£åœ°å€</strong>:<code>/quartz/job/add</code></p><p><strong>è¯·æ±‚æ–¹å¼</strong>ï¼š<code>POST</code></p><p><strong>consumes</strong>:<code>[&quot;application/json&quot;]</code></p><p><strong>produces</strong>:<code>[&quot;*/*&quot;]</code></p><p><strong>è¯·æ±‚å‚æ•°</strong>ï¼š</p><table><thead><tr><th>å‚æ•°åç§°</th><th>å‚æ•°è¯´æ˜</th><th>in</th><th>æ˜¯å¦å¿…é¡»</th><th>æ•°æ®ç±»å‹</th><th>schema</th></tr></thead><tbody><tr><td>beginTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>concurrent</td><td>å¹¶å‘æ‰§è¡Œï¼š0=å…è®¸,1=ç¦æ­¢</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>createBy</td><td></td><td>query</td><td>false</td><td>integer</td><td></td></tr><tr><td>createTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>cronExpression</td><td>æ‰§è¡Œè¡¨è¾¾å¼</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>endTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>invokeTarget</td><td>è°ƒç”¨ç›®æ ‡å­—ç¬¦ä¸²</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>jobGroup</td><td>ä»»åŠ¡ç»„å</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>jobId</td><td>ä»»åŠ¡åºå·</td><td>query</td><td>false</td><td>integer</td><td></td></tr><tr><td>jobName</td><td>ä»»åŠ¡åç§°</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>misfirePolicy</td><td>è®¡åˆ’ç­–ç•¥ï¼š0=é»˜è®¤,1=ç«‹å³è§¦å‘æ‰§è¡Œ,2=è§¦å‘ä¸€æ¬¡æ‰§è¡Œ,3=ä¸è§¦å‘ç«‹å³æ‰§è¡Œ</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>nextValidTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>params</td><td></td><td>query</td><td>false</td><td>object</td><td></td></tr><tr><td>remark</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>searchValue</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>status</td><td>ä»»åŠ¡çŠ¶æ€ï¼š0=æ­£å¸¸,1=æš‚åœ</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>tenantId</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>updateBy</td><td></td><td>query</td><td>false</td><td>integer</td><td></td></tr><tr><td>updateTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr></tbody></table><p><strong>å“åº”ç¤ºä¾‹</strong>:</p><pre><code class="hljs json"></code></pre><p><strong>å“åº”å‚æ•°</strong>:</p><p>æš‚æ— </p><p><strong>å“åº”çŠ¶æ€</strong>:</p><table><thead><tr><th>çŠ¶æ€ç </th><th>è¯´æ˜</th><th>schema</th></tr></thead><tbody><tr><td>200</td><td>OK</td><td></td></tr><tr><td>201</td><td>Created</td><td></td></tr><tr><td>401</td><td>Unauthorized</td><td></td></tr><tr><td>403</td><td>Forbidden</td><td></td></tr><tr><td>404</td><td>Not Found</td><td></td></tr><tr><td>## jobChangeStatus</td><td></td><td></td></tr></tbody></table><p><strong>æ¥å£æè¿°</strong>:æŒ‰ç…§idä¿®æ”¹è°ƒåº¦çŠ¶æ€</p><p><strong>æ¥å£åœ°å€</strong>:<code>/quartz/job/changeStatus</code></p><p><strong>è¯·æ±‚æ–¹å¼</strong>ï¼š<code>POST</code></p><p><strong>consumes</strong>:<code>[&quot;application/json&quot;]</code></p><p><strong>produces</strong>:<code>[&quot;*/*&quot;]</code></p><p><strong>è¯·æ±‚å‚æ•°</strong>ï¼š</p><table><thead><tr><th>å‚æ•°åç§°</th><th>å‚æ•°è¯´æ˜</th><th>in</th><th>æ˜¯å¦å¿…é¡»</th><th>æ•°æ®ç±»å‹</th><th>schema</th></tr></thead><tbody><tr><td>beginTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>concurrent</td><td>å¹¶å‘æ‰§è¡Œï¼š0=å…è®¸,1=ç¦æ­¢</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>createBy</td><td></td><td>query</td><td>false</td><td>integer</td><td></td></tr><tr><td>createTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>cronExpression</td><td>æ‰§è¡Œè¡¨è¾¾å¼</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>endTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>invokeTarget</td><td>è°ƒç”¨ç›®æ ‡å­—ç¬¦ä¸²</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>jobGroup</td><td>ä»»åŠ¡ç»„å</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>jobId</td><td></td><td>query</td><td>true</td><td>string</td><td></td></tr><tr><td>jobName</td><td>ä»»åŠ¡åç§°</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>misfirePolicy</td><td>è®¡åˆ’ç­–ç•¥ï¼š0=é»˜è®¤,1=ç«‹å³è§¦å‘æ‰§è¡Œ,2=è§¦å‘ä¸€æ¬¡æ‰§è¡Œ,3=ä¸è§¦å‘ç«‹å³æ‰§è¡Œ</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>nextValidTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>params</td><td></td><td>query</td><td>false</td><td>object</td><td></td></tr><tr><td>remark</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>searchValue</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>status</td><td>ä»»åŠ¡çŠ¶æ€ï¼š0=æ­£å¸¸,1=æš‚åœ</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>tenantId</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>updateBy</td><td></td><td>query</td><td>false</td><td>integer</td><td></td></tr><tr><td>updateTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr></tbody></table><p><strong>å“åº”ç¤ºä¾‹</strong>:</p><pre><code class="hljs json"></code></pre><p><strong>å“åº”å‚æ•°</strong>:</p><p>æš‚æ— </p><p><strong>å“åº”çŠ¶æ€</strong>:</p><table><thead><tr><th>çŠ¶æ€ç </th><th>è¯´æ˜</th><th>schema</th></tr></thead><tbody><tr><td>200</td><td>OK</td><td></td></tr><tr><td>201</td><td>Created</td><td></td></tr><tr><td>401</td><td>Unauthorized</td><td></td></tr><tr><td>403</td><td>Forbidden</td><td></td></tr><tr><td>404</td><td>Not Found</td><td></td></tr><tr><td>## jobCheckCronExpressionIsValid</td><td></td><td></td></tr></tbody></table><p><strong>æ¥å£æè¿°</strong>:æ ¡éªŒcronè¡¨è¾¾å¼æ˜¯å¦æœ‰æ•ˆ</p><p><strong>æ¥å£åœ°å€</strong>:<code>/quartz/job/checkCronExpressionIsValid</code></p><p><strong>è¯·æ±‚æ–¹å¼</strong>ï¼š<code>POST</code></p><p><strong>consumes</strong>:<code>[&quot;application/json&quot;]</code></p><p><strong>produces</strong>:<code>[&quot;*/*&quot;]</code></p><p><strong>è¯·æ±‚ç¤ºä¾‹</strong>ï¼š</p><pre><code class="hljs json">&#123;<span class="hljs-attr">"beginTime"</span>: <span class="hljs-string">""</span>,<span class="hljs-attr">"concurrent"</span>: <span class="hljs-string">""</span>,<span class="hljs-attr">"createBy"</span>: <span class="hljs-number">0</span>,<span class="hljs-attr">"createTime"</span>: <span class="hljs-string">""</span>,<span class="hljs-attr">"cronExpression"</span>: <span class="hljs-string">""</span>,<span class="hljs-attr">"endTime"</span>: <span class="hljs-string">""</span>,<span class="hljs-attr">"invokeTarget"</span>: <span class="hljs-string">""</span>,<span class="hljs-attr">"jobGroup"</span>: <span class="hljs-string">""</span>,<span class="hljs-attr">"jobId"</span>: <span class="hljs-number">0</span>,<span class="hljs-attr">"jobName"</span>: <span class="hljs-string">""</span>,<span class="hljs-attr">"misfirePolicy"</span>: <span class="hljs-string">""</span>,<span class="hljs-attr">"nextValidTime"</span>: <span class="hljs-string">""</span>,<span class="hljs-attr">"params"</span>: &#123;&#125;,<span class="hljs-attr">"remark"</span>: <span class="hljs-string">""</span>,<span class="hljs-attr">"searchValue"</span>: <span class="hljs-string">""</span>,<span class="hljs-attr">"status"</span>: <span class="hljs-string">""</span>,<span class="hljs-attr">"tenantId"</span>: <span class="hljs-string">""</span>,<span class="hljs-attr">"updateBy"</span>: <span class="hljs-number">0</span>,<span class="hljs-attr">"updateTime"</span>: <span class="hljs-string">""</span>&#125;</code></pre><p><strong>è¯·æ±‚å‚æ•°</strong>ï¼š</p><table><thead><tr><th>å‚æ•°åç§°</th><th>å‚æ•°è¯´æ˜</th><th>in</th><th>æ˜¯å¦å¿…é¡»</th><th>æ•°æ®ç±»å‹</th><th>schema</th></tr></thead><tbody><tr><td>job</td><td>job</td><td>body</td><td>true</td><td>SysJob</td><td>SysJob</td></tr></tbody></table><p><strong>schemaå±æ€§è¯´æ˜</strong></p><p><strong>SysJob</strong></p><table><thead><tr><th>å‚æ•°åç§°</th><th>å‚æ•°è¯´æ˜</th><th>in</th><th>æ˜¯å¦å¿…é¡»</th><th>æ•°æ®ç±»å‹</th><th>schema</th></tr></thead><tbody><tr><td>beginTime</td><td></td><td>body</td><td>false</td><td>string</td><td></td></tr><tr><td>concurrent</td><td></td><td>body</td><td>false</td><td>string</td><td></td></tr><tr><td>createBy</td><td></td><td>body</td><td>false</td><td>integer(int64)</td><td></td></tr><tr><td>createTime</td><td></td><td>body</td><td>false</td><td>string(date-time)</td><td></td></tr><tr><td>cronExpression</td><td></td><td>body</td><td>false</td><td>string</td><td></td></tr><tr><td>endTime</td><td></td><td>body</td><td>false</td><td>string</td><td></td></tr><tr><td>invokeTarget</td><td></td><td>body</td><td>false</td><td>string</td><td></td></tr><tr><td>jobGroup</td><td></td><td>body</td><td>false</td><td>string</td><td></td></tr><tr><td>jobId</td><td></td><td>body</td><td>false</td><td>integer(int64)</td><td></td></tr><tr><td>jobName</td><td></td><td>body</td><td>false</td><td>string</td><td></td></tr><tr><td>misfirePolicy</td><td></td><td>body</td><td>false</td><td>string</td><td></td></tr><tr><td>nextValidTime</td><td></td><td>body</td><td>false</td><td>string(date-time)</td><td></td></tr><tr><td>params</td><td></td><td>body</td><td>false</td><td>object</td><td></td></tr><tr><td>remark</td><td></td><td>body</td><td>false</td><td>string</td><td></td></tr><tr><td>searchValue</td><td></td><td>body</td><td>false</td><td>string</td><td></td></tr><tr><td>status</td><td></td><td>body</td><td>false</td><td>string</td><td></td></tr><tr><td>tenantId</td><td></td><td>body</td><td>false</td><td>string</td><td></td></tr><tr><td>updateBy</td><td></td><td>body</td><td>false</td><td>integer(int64)</td><td></td></tr><tr><td>updateTime</td><td></td><td>body</td><td>false</td><td>string(date-time)</td><td></td></tr></tbody></table><p><strong>å“åº”ç¤ºä¾‹</strong>:</p><pre><code class="hljs json"></code></pre><p><strong>å“åº”å‚æ•°</strong>:</p><p>æš‚æ— </p><p><strong>å“åº”çŠ¶æ€</strong>:</p><table><thead><tr><th>çŠ¶æ€ç </th><th>è¯´æ˜</th><th>schema</th></tr></thead><tbody><tr><td>200</td><td>OK</td><td></td></tr><tr><td>201</td><td>Created</td><td></td></tr><tr><td>401</td><td>Unauthorized</td><td></td></tr><tr><td>403</td><td>Forbidden</td><td></td></tr><tr><td>404</td><td>Not Found</td><td></td></tr><tr><td>## jobEdit</td><td></td><td></td></tr></tbody></table><p><strong>æ¥å£æè¿°</strong>:ä¿®æ”¹ä¿å­˜è°ƒåº¦</p><p><strong>æ¥å£åœ°å€</strong>:<code>/quartz/job/edit</code></p><p><strong>è¯·æ±‚æ–¹å¼</strong>ï¼š<code>POST</code></p><p><strong>consumes</strong>:<code>[&quot;application/json&quot;]</code></p><p><strong>produces</strong>:<code>[&quot;*/*&quot;]</code></p><p><strong>è¯·æ±‚å‚æ•°</strong>ï¼š</p><table><thead><tr><th>å‚æ•°åç§°</th><th>å‚æ•°è¯´æ˜</th><th>in</th><th>æ˜¯å¦å¿…é¡»</th><th>æ•°æ®ç±»å‹</th><th>schema</th></tr></thead><tbody><tr><td>beginTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>concurrent</td><td>å¹¶å‘æ‰§è¡Œï¼š0=å…è®¸,1=ç¦æ­¢</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>createBy</td><td></td><td>query</td><td>false</td><td>integer</td><td></td></tr><tr><td>createTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>cronExpression</td><td>æ‰§è¡Œè¡¨è¾¾å¼</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>endTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>invokeTarget</td><td>è°ƒç”¨ç›®æ ‡å­—ç¬¦ä¸²</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>jobGroup</td><td>ä»»åŠ¡ç»„å</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>jobId</td><td>ä»»åŠ¡åºå·</td><td>query</td><td>false</td><td>integer</td><td></td></tr><tr><td>jobName</td><td>ä»»åŠ¡åç§°</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>misfirePolicy</td><td>è®¡åˆ’ç­–ç•¥ï¼š0=é»˜è®¤,1=ç«‹å³è§¦å‘æ‰§è¡Œ,2=è§¦å‘ä¸€æ¬¡æ‰§è¡Œ,3=ä¸è§¦å‘ç«‹å³æ‰§è¡Œ</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>nextValidTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>params</td><td></td><td>query</td><td>false</td><td>object</td><td></td></tr><tr><td>remark</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>searchValue</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>status</td><td>ä»»åŠ¡çŠ¶æ€ï¼š0=æ­£å¸¸,1=æš‚åœ</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>tenantId</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>updateBy</td><td></td><td>query</td><td>false</td><td>integer</td><td></td></tr><tr><td>updateTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr></tbody></table><p><strong>å“åº”ç¤ºä¾‹</strong>:</p><pre><code class="hljs json"></code></pre><p><strong>å“åº”å‚æ•°</strong>:</p><p>æš‚æ— </p><p><strong>å“åº”çŠ¶æ€</strong>:</p><table><thead><tr><th>çŠ¶æ€ç </th><th>è¯´æ˜</th><th>schema</th></tr></thead><tbody><tr><td>200</td><td>OK</td><td></td></tr><tr><td>201</td><td>Created</td><td></td></tr><tr><td>401</td><td>Unauthorized</td><td></td></tr><tr><td>403</td><td>Forbidden</td><td></td></tr><tr><td>404</td><td>Not Found</td><td></td></tr><tr><td>## jobExport</td><td></td><td></td></tr></tbody></table><p><strong>æ¥å£æè¿°</strong>:å¯¼å‡ºå®šæ—¶ä»»åŠ¡åˆ—è¡¨åˆ°Excel</p><p><strong>æ¥å£åœ°å€</strong>:<code>/quartz/job/export</code></p><p><strong>è¯·æ±‚æ–¹å¼</strong>ï¼š<code>POST</code></p><p><strong>consumes</strong>:<code>[&quot;application/json&quot;]</code></p><p><strong>produces</strong>:<code>[&quot;*/*&quot;]</code></p><p><strong>è¯·æ±‚å‚æ•°</strong>ï¼š</p><table><thead><tr><th>å‚æ•°åç§°</th><th>å‚æ•°è¯´æ˜</th><th>in</th><th>æ˜¯å¦å¿…é¡»</th><th>æ•°æ®ç±»å‹</th><th>schema</th></tr></thead><tbody><tr><td>beginTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>concurrent</td><td>å¹¶å‘æ‰§è¡Œï¼š0=å…è®¸,1=ç¦æ­¢</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>createBy</td><td></td><td>query</td><td>false</td><td>integer</td><td></td></tr><tr><td>createTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>cronExpression</td><td>æ‰§è¡Œè¡¨è¾¾å¼</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>endTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>invokeTarget</td><td>è°ƒç”¨ç›®æ ‡å­—ç¬¦ä¸²</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>jobGroup</td><td>ä»»åŠ¡ç»„å</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>jobId</td><td>ä»»åŠ¡åºå·</td><td>query</td><td>false</td><td>integer</td><td></td></tr><tr><td>jobName</td><td>ä»»åŠ¡åç§°</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>misfirePolicy</td><td>è®¡åˆ’ç­–ç•¥ï¼š0=é»˜è®¤,1=ç«‹å³è§¦å‘æ‰§è¡Œ,2=è§¦å‘ä¸€æ¬¡æ‰§è¡Œ,3=ä¸è§¦å‘ç«‹å³æ‰§è¡Œ</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>nextValidTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>params</td><td></td><td>query</td><td>false</td><td>object</td><td></td></tr><tr><td>remark</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>searchValue</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>status</td><td>ä»»åŠ¡çŠ¶æ€ï¼š0=æ­£å¸¸,1=æš‚åœ</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>tenantId</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>updateBy</td><td></td><td>query</td><td>false</td><td>integer</td><td></td></tr><tr><td>updateTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr></tbody></table><p><strong>å“åº”ç¤ºä¾‹</strong>:</p><pre><code class="hljs json"></code></pre><p><strong>å“åº”å‚æ•°</strong>:</p><p>æš‚æ— </p><p><strong>å“åº”çŠ¶æ€</strong>:</p><table><thead><tr><th>çŠ¶æ€ç </th><th>è¯´æ˜</th><th>schema</th></tr></thead><tbody><tr><td>200</td><td>OK</td><td></td></tr><tr><td>201</td><td>Created</td><td></td></tr><tr><td>401</td><td>Unauthorized</td><td></td></tr><tr><td>403</td><td>Forbidden</td><td></td></tr><tr><td>404</td><td>Not Found</td><td></td></tr><tr><td>## jobList</td><td></td><td></td></tr></tbody></table><p><strong>æ¥å£æè¿°</strong>:è·å–è°ƒåº¦ä»»åŠ¡åˆ—è¡¨</p><p><strong>æ¥å£åœ°å€</strong>:<code>/quartz/job/list</code></p><p><strong>è¯·æ±‚æ–¹å¼</strong>ï¼š<code>POST</code></p><p><strong>consumes</strong>:<code>[&quot;application/json&quot;]</code></p><p><strong>produces</strong>:<code>[&quot;*/*&quot;]</code></p><p><strong>è¯·æ±‚å‚æ•°</strong>ï¼š</p><table><thead><tr><th>å‚æ•°åç§°</th><th>å‚æ•°è¯´æ˜</th><th>in</th><th>æ˜¯å¦å¿…é¡»</th><th>æ•°æ®ç±»å‹</th><th>schema</th></tr></thead><tbody><tr><td>beginTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>concurrent</td><td>å¹¶å‘æ‰§è¡Œï¼š0=å…è®¸,1=ç¦æ­¢</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>createBy</td><td></td><td>query</td><td>false</td><td>integer</td><td></td></tr><tr><td>createTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>cronExpression</td><td>æ‰§è¡Œè¡¨è¾¾å¼</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>endTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>invokeTarget</td><td>è°ƒç”¨ç›®æ ‡å­—ç¬¦ä¸²</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>jobGroup</td><td>ä»»åŠ¡ç»„å</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>jobId</td><td>ä»»åŠ¡åºå·</td><td>query</td><td>false</td><td>integer</td><td></td></tr><tr><td>jobName</td><td>ä»»åŠ¡åç§°</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>misfirePolicy</td><td>è®¡åˆ’ç­–ç•¥ï¼š0=é»˜è®¤,1=ç«‹å³è§¦å‘æ‰§è¡Œ,2=è§¦å‘ä¸€æ¬¡æ‰§è¡Œ,3=ä¸è§¦å‘ç«‹å³æ‰§è¡Œ</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>nextValidTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>params</td><td></td><td>query</td><td>false</td><td>object</td><td></td></tr><tr><td>remark</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>searchValue</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>status</td><td>ä»»åŠ¡çŠ¶æ€ï¼š0=æ­£å¸¸,1=æš‚åœ</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>tenantId</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>updateBy</td><td></td><td>query</td><td>false</td><td>integer</td><td></td></tr><tr><td>updateTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr></tbody></table><p><strong>å“åº”ç¤ºä¾‹</strong>:</p><pre><code class="hljs json">&#123;<span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,<span class="hljs-attr">"rows"</span>: [],<span class="hljs-attr">"total"</span>: <span class="hljs-number">0</span>&#125;</code></pre><p><strong>å“åº”å‚æ•°</strong>:</p><table><thead><tr><th>å‚æ•°åç§°</th><th>å‚æ•°è¯´æ˜</th><th>ç±»å‹</th><th>schema</th></tr></thead><tbody><tr><td>code</td><td></td><td>integer(int32)</td><td>integer(int32)</td></tr><tr><td>rows</td><td></td><td>array</td><td></td></tr><tr><td>total</td><td></td><td>integer(int64)</td><td>integer(int64)</td></tr></tbody></table><p><strong>å“åº”çŠ¶æ€</strong>:</p><table><thead><tr><th>çŠ¶æ€ç </th><th>è¯´æ˜</th><th>schema</th></tr></thead><tbody><tr><td>200</td><td>OK</td><td>TableDataInfo</td></tr><tr><td>201</td><td>Created</td><td></td></tr><tr><td>401</td><td>Unauthorized</td><td></td></tr><tr><td>403</td><td>Forbidden</td><td></td></tr><tr><td>404</td><td>Not Found</td><td></td></tr><tr><td>## jobRemove</td><td></td><td></td></tr></tbody></table><p><strong>æ¥å£æè¿°</strong>:æŒ‰ç…§idæ‰¹é‡åˆ é™¤è°ƒåº¦ä¿¡æ¯</p><p><strong>æ¥å£åœ°å€</strong>:<code>/quartz/job/remove</code></p><p><strong>è¯·æ±‚æ–¹å¼</strong>ï¼š<code>POST</code></p><p><strong>consumes</strong>:<code>[&quot;application/json&quot;]</code></p><p><strong>produces</strong>:<code>[&quot;*/*&quot;]</code></p><p><strong>è¯·æ±‚å‚æ•°</strong>ï¼š</p><table><thead><tr><th>å‚æ•°åç§°</th><th>å‚æ•°è¯´æ˜</th><th>in</th><th>æ˜¯å¦å¿…é¡»</th><th>æ•°æ®ç±»å‹</th><th>schema</th></tr></thead><tbody><tr><td>ids</td><td>ids</td><td>query</td><td>false</td><td>string</td><td></td></tr></tbody></table><p><strong>å“åº”ç¤ºä¾‹</strong>:</p><pre><code class="hljs json"></code></pre><p><strong>å“åº”å‚æ•°</strong>:</p><p>æš‚æ— </p><p><strong>å“åº”çŠ¶æ€</strong>:</p><table><thead><tr><th>çŠ¶æ€ç </th><th>è¯´æ˜</th><th>schema</th></tr></thead><tbody><tr><td>200</td><td>OK</td><td></td></tr><tr><td>201</td><td>Created</td><td></td></tr><tr><td>401</td><td>Unauthorized</td><td></td></tr><tr><td>403</td><td>Forbidden</td><td></td></tr><tr><td>404</td><td>Not Found</td><td></td></tr><tr><td>## jobRun</td><td></td><td></td></tr></tbody></table><p><strong>æ¥å£æè¿°</strong>:ä»»åŠ¡è°ƒåº¦ç«‹å³æ‰§è¡Œä¸€æ¬¡</p><p><strong>æ¥å£åœ°å€</strong>:<code>/quartz/job/run</code></p><p><strong>è¯·æ±‚æ–¹å¼</strong>ï¼š<code>POST</code></p><p><strong>consumes</strong>:<code>[&quot;application/json&quot;]</code></p><p><strong>produces</strong>:<code>[&quot;*/*&quot;]</code></p><p><strong>è¯·æ±‚å‚æ•°</strong>ï¼š</p><table><thead><tr><th>å‚æ•°åç§°</th><th>å‚æ•°è¯´æ˜</th><th>in</th><th>æ˜¯å¦å¿…é¡»</th><th>æ•°æ®ç±»å‹</th><th>schema</th></tr></thead><tbody><tr><td>beginTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>concurrent</td><td>å¹¶å‘æ‰§è¡Œï¼š0=å…è®¸,1=ç¦æ­¢</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>createBy</td><td></td><td>query</td><td>false</td><td>integer</td><td></td></tr><tr><td>createTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>cronExpression</td><td>æ‰§è¡Œè¡¨è¾¾å¼</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>endTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>invokeTarget</td><td>è°ƒç”¨ç›®æ ‡å­—ç¬¦ä¸²</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>jobGroup</td><td>ä»»åŠ¡ç»„å</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>jobId</td><td>ä»»åŠ¡åºå·</td><td>query</td><td>false</td><td>integer</td><td></td></tr><tr><td>jobName</td><td>ä»»åŠ¡åç§°</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>misfirePolicy</td><td>è®¡åˆ’ç­–ç•¥ï¼š0=é»˜è®¤,1=ç«‹å³è§¦å‘æ‰§è¡Œ,2=è§¦å‘ä¸€æ¬¡æ‰§è¡Œ,3=ä¸è§¦å‘ç«‹å³æ‰§è¡Œ</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>nextValidTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>params</td><td></td><td>query</td><td>false</td><td>object</td><td></td></tr><tr><td>remark</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>searchValue</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>status</td><td>ä»»åŠ¡çŠ¶æ€ï¼š0=æ­£å¸¸,1=æš‚åœ</td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>tenantId</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr><tr><td>updateBy</td><td></td><td>query</td><td>false</td><td>integer</td><td></td></tr><tr><td>updateTime</td><td></td><td>query</td><td>false</td><td>string</td><td></td></tr></tbody></table><p><strong>å“åº”ç¤ºä¾‹</strong>:</p><pre><code class="hljs json"></code></pre><p><strong>å“åº”å‚æ•°</strong>:</p><p>æš‚æ— </p><p><strong>å“åº”çŠ¶æ€</strong>:</p><table><thead><tr><th>çŠ¶æ€ç </th><th>è¯´æ˜</th><th>schema</th></tr></thead><tbody><tr><td>200</td><td>OK</td><td></td></tr><tr><td>201</td><td>Created</td><td></td></tr><tr><td>401</td><td>Unauthorized</td><td></td></tr><tr><td>403</td><td>Forbidden</td><td></td></tr><tr><td>404</td><td>Not Found</td><td></td></tr></tbody></table>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ä¸€äº›ç”µå­ä¹¦åˆ†äº«</title>
    <link href="/2020/01/18/%E4%B8%80%E4%BA%9B%E7%94%B5%E5%AD%90%E4%B9%A6%E5%88%86%E4%BA%AB/"/>
    <url>/2020/01/18/%E4%B8%80%E4%BA%9B%E7%94%B5%E5%AD%90%E4%B9%A6%E5%88%86%E4%BA%AB/</url>
    
    <content type="html"><![CDATA[<p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/photo-1579198175390-62466fc79ea2" srcset="/img/loading.gif" alt="img"></p><p>ä¸­å›½å¤ä»£æ–‡å­¦å‘å±•å² ä¸Šä¸­ä¸‹</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1JcLg7z33-QCgH4XGtcXoEg" target="_blank" rel="noopener">https://pan.baidu.com/s/1JcLg7z33-QCgH4XGtcXoEg</a> </p><p>æå–ç ï¼šjQ88</p></blockquote><p>11408114_ä¸­å›½ä¼ ç»Ÿä¼¦ç†æ€æƒ³å² _ä½œ è€… ï¼šæœ±è´»åº­ä¸»ç¼–åä¸œå¸ˆèŒƒå¤§å­¦å‡ºç‰ˆç¤¾ . 2003.09</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1kEQHdIFkbq6vd-4uR7Zr-g" target="_blank" rel="noopener">https://pan.baidu.com/s/1kEQHdIFkbq6vd-4uR7Zr-g</a> </p><p>æå–ç ï¼šGwR1</p></blockquote><p>11718143_ç¦…æœˆé›†æ ¡æ³¨ _ä½œ è€… ï¼šé™†æ°¸å³°è‘—å·´èœ€ä¹¦ç¤¾ . 2006.08</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/17BAWnA0sbP6Zn4Fk1PHaEw" target="_blank" rel="noopener">https://pan.baidu.com/s/17BAWnA0sbP6Zn4Fk1PHaEw</a> </p><p>æå–ç ï¼šUxEW</p></blockquote><p>11248370_ä¸­å›½å¤ä»£è¯—è¯æ›²å² _ä½œ è€… ï¼šé™ˆç‰åˆšè‘—ç™¾èŠ±æ´²æ–‡è‰ºå‡ºç‰ˆç¤¾ . 1995.02</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1rns2Fe78U63K4AbebjBTjw" target="_blank" rel="noopener">https://pan.baidu.com/s/1rns2Fe78U63K4AbebjBTjw</a> </p><p>æå–ç ï¼š62fX</p></blockquote><p>10462190_ä¸­è¥¿æ–‡åŒ–ç¢°æ’ä¸è¿‘ä»£æ–‡å­¦ _ä½œ è€… ï¼šéƒ­å»¶ç¤¼è‘—å±±ä¸œæ•™è‚²å‡ºç‰ˆç¤¾ . 1999.12</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/13Mx1JGE83mAnulXW7n8Csg" target="_blank" rel="noopener">https://pan.baidu.com/s/13Mx1JGE83mAnulXW7n8Csg</a> </p><p>æå–ç ï¼šX5U3</p></blockquote><p>10320473_å¼ é¢”å­¦æœ¯æ–‡é›† _ä½œ è€… ï¼šå¼ é¢Œè‘—ä¸­åä¹¦å±€ . 1995.03</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1nQ5I_tyNfv1qFjpTMJee9w" target="_blank" rel="noopener">https://pan.baidu.com/s/1nQ5I_tyNfv1qFjpTMJee9w</a> </p><p>æå–ç ï¼šT6oU</p></blockquote><p>10404331_å¤§èˆªæµ·æ—¶ä»£_æ˜æ¸…é—´çš„ä¸­è¥¿éŸ³ä¹äº¤æµ _ä½œ è€… ï¼šé™¶äºšå…µè‘—ä¸œæ–¹å‡ºç‰ˆç¤¾ . 2001.08</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1K1rGSvekg234oMaDSsqt2g" target="_blank" rel="noopener">https://pan.baidu.com/s/1K1rGSvekg234oMaDSsqt2g</a> </p><p>æå–ç ï¼š6294</p></blockquote><p>10156344_äºŒåä¸–çºªæ–‡åº“_æ–‡åŒ–çš„èµ·æº _ä½œ è€… ï¼šï¼ˆç¾ï¼‰å“ˆé‡Œæ–¯ï¼ˆHarrisï¼ŒM.ï¼‰è‘—ï¼›é»„ æ™´è¯‘åå¤å‡ºç‰ˆç¤¾ . 1988.12</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/10F0enPLEQC2aQSVihhy_ow" target="_blank" rel="noopener">https://pan.baidu.com/s/10F0enPLEQC2aQSVihhy_ow</a> </p><p>æå–ç ï¼šJ224</p></blockquote><p><strong>ä»¥ä¸Šé›†åˆ</strong></p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1BJ7Q6GGrW4KQdKShqrW8_Q" target="_blank" rel="noopener">https://pan.baidu.com/s/1BJ7Q6GGrW4KQdKShqrW8_Q</a> </p><p>æå–ç ï¼šhkc5</p></blockquote><hr><p>ã€Šä¼é¹…ç»å…¸ï¼šå°é»‘ä¹¦ã€‹[ç¬¬ä¸€è¾‘] æˆç«‹80å‘¨å¹´ </p><ol><li><a href="https://t00y.com/file/16058819-403645832" target="_blank" rel="noopener">https://t00y.com/file/16058819-403645832</a></li><li><a href="https://t00y.com/file/16058819-403645849" target="_blank" rel="noopener">https://t00y.com/file/16058819-403645849</a></li></ol><p>ã€Šä¼é¹…ç»å…¸ï¼šå°é»‘ä¹¦ã€‹[ç¬¬äºŒè¾‘] æˆç«‹80å‘¨å¹´ </p><ol><li><a href="https://t00y.com/file/16058819-403896643" target="_blank" rel="noopener">https://t00y.com/file/16058819-403896643</a></li><li><a href="https://t00y.com/file/16058819-403896659" target="_blank" rel="noopener">https://t00y.com/file/16058819-403896659</a></li></ol><p>ä¸‰åƒä½›å¡”çƒŸäº‘ä¸‹ï¼šä¸œå—äºšäº”å›½æ–‡åŒ–çºªè¡Œ </p><ol><li><a href="https://t00y.com/file/16058819-242766079" target="_blank" rel="noopener">https://t00y.com/file/16058819-242766079</a></li><li><a href="https://t00y.com/file/16058819-242766089" target="_blank" rel="noopener">https://t00y.com/file/16058819-242766089</a></li></ol><p>å°åº¦ï¼Œæ¼‚æµ®çš„æ¬¡å¤§é™† </p><p><a href="https://sn9.us/file/19794310-372441997" target="_blank" rel="noopener">https://sn9.us/file/19794310-372441997</a></p><p>ç©¿è¶Šç™¾å¹´ä¸­ä¸œ </p><ol><li><a href="https://t00y.com/file/16058819-384996221" target="_blank" rel="noopener">https://t00y.com/file/16058819-384996221</a></li><li><a href="https://t00y.com/file/16058819-384996264" target="_blank" rel="noopener">https://t00y.com/file/16058819-384996264</a></li></ol><p>æ±´äº¬ä¹‹å›´ </p><ol><li><a href="https://t00y.com/file/16058819-394930450" target="_blank" rel="noopener">https://t00y.com/file/16058819-394930450</a></li><li><a href="https://t00y.com/file/16058819-394930467" target="_blank" rel="noopener">https://t00y.com/file/16058819-394930467</a></li></ol><p>éª‘è½¦å»å…ƒæœ</p><ol><li><a href="https://t00y.com/file/16058819-404011754" target="_blank" rel="noopener">https://t00y.com/file/16058819-404011754</a></li><li><a href="https://t00y.com/file/16058819-404011720" target="_blank" rel="noopener">https://t00y.com/file/16058819-404011720</a></li></ol><p>å¸å›½å¾€äº‹ä¸‰éƒ¨æ›²å…¨3æœ¬ </p><ol><li>ä¸­å¤®å¸å›½çš„å†›äº‹å¯†ç  <ol><li><a href="https://t00y.com/file/16058819-403645878" target="_blank" rel="noopener">https://t00y.com/file/16058819-403645878</a></li><li><a href="https://t00y.com/file/16058819-403645888" target="_blank" rel="noopener">https://t00y.com/file/16058819-403645888</a></li></ol></li><li>ä¸­å¤®å¸å›½çš„å“²å­¦å¯†ç  <ol><li><a href="http://libgen.is/book/index.php?md5=7CF901D832B815BF06CD096CDB5886F7" target="_blank" rel="noopener">http://libgen.is/book/index.php?md5=7CF901D832B815BF06CD096CDB5886F7</a></li><li><a href="https://b-ok.cc/book/3646315/6a49d2" target="_blank" rel="noopener">https://b-ok.cc/book/3646315/6a49d2</a></li></ol></li><li>ä¸­å¤®å¸å›½çš„è´¢æ”¿å¯†ç  <ol><li><a href="https://t00y.com/file/16058819-296897601" target="_blank" rel="noopener">https://t00y.com/file/16058819-296897601</a></li><li><a href="https://t00y.com/file/16058819-296897607" target="_blank" rel="noopener">https://t00y.com/file/16058819-296897607</a></li><li><a href="https://b-ok.cc/book/3646286/aa8b51" target="_blank" rel="noopener">https://b-ok.cc/book/3646286/aa8b51</a></li></ol></li></ol><p>ã€å¡æ–¯ç‰¹ç‘é˜¿è¿ªæ–¯ã€‘ç¤¾ä¼šçš„æƒ³è±¡æ€§å»ºæ„.pdf</p><blockquote><p><a href="https://545c.com/file/15169360-371566030" target="_blank" rel="noopener">https://545c.com/file/15169360-371566030</a></p></blockquote><p>ã€Šæ™šæ¸…æ°‘åˆå—æ´‹åäººç¤¾ç¾¤çš„æ–‡åŒ–å»ºæ„ã€‹ epub</p><blockquote><p><a href="https://t00y.com/file/16058819-394931013" target="_blank" rel="noopener">https://t00y.com/file/16058819-394931013</a></p></blockquote><p>ã€Šé“å®¶æ˜“å­¦å»ºæ„ã€‹é™ˆé¼“åº” epub</p><blockquote><p><a href="https://t00y.com/file/16058819-414574226" target="_blank" rel="noopener">https://t00y.com/file/16058819-414574226</a></p></blockquote><p>å­™å®ã€Šå„’å­¦å¬—å˜ä¸é­æ™‹æ–‡é£å»ºæ„ã€‹epub </p><blockquote><p><a href="https://t00y.com/file/16058819-294741013" target="_blank" rel="noopener">https://t00y.com/file/16058819-294741013</a></p></blockquote><p>é©¬é›…è´ã€Šåˆ»ç”»æˆ˜å‹‹:æ¸…æœå¸å›½æ­¦åŠŸçš„æ–‡åŒ–å»ºæ„ã€‹epub</p><blockquote><p><a href="https://t00y.com/file/16058819-298731477" target="_blank" rel="noopener">https://t00y.com/file/16058819-298731477</a></p></blockquote><h4 id="ä¸€ã€æ–‡å­¦ç±»1ã€å†ä»£è¯—æ–‡æ€»é›†åˆ«é›†ï¼ˆ589-81Gï¼‰"><a href="#ä¸€ã€æ–‡å­¦ç±»1ã€å†ä»£è¯—æ–‡æ€»é›†åˆ«é›†ï¼ˆ589-81Gï¼‰" class="headerlink" title="ä¸€ã€æ–‡å­¦ç±»1ã€å†ä»£è¯—æ–‡æ€»é›†åˆ«é›†ï¼ˆ589.81Gï¼‰"></a>ä¸€ã€æ–‡å­¦ç±»1ã€å†ä»£è¯—æ–‡æ€»é›†åˆ«é›†ï¼ˆ589.81Gï¼‰</h4><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1PfHuI4dZj2lrTC29HF9Y0A" target="_blank" rel="noopener">https://pan.baidu.com/s/1PfHuI4dZj2lrTC29HF9Y0A</a></p><p>æå–ç ï¼š1rgn</p></blockquote><p>2ã€å®å·ï¼ˆ5.09Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/17EirJUssRKdh7VQxAax9rg" target="_blank" rel="noopener">https://pan.baidu.com/s/17EirJUssRKdh7VQxAax9rg</a></p><p>æå–ç ï¼šafxl</p></blockquote><p>3ã€æ–‡å­¦å²ç›¸å…³ï¼ˆ14.72Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1adtUkdt9LtNEakZDl1y0nw" target="_blank" rel="noopener">https://pan.baidu.com/s/1adtUkdt9LtNEakZDl1y0nw</a></p><p>æå–ç ï¼šzyqt</p></blockquote><p>4ã€é‡‘åœ£å¹å…¨é›†ï¼ˆ142Mï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1LOsAGMd3Ec1DoLURYTcl_g" target="_blank" rel="noopener">https://pan.baidu.com/s/1LOsAGMd3Ec1DoLURYTcl_g</a></p><p>æå–ç ï¼š9ti1</p></blockquote><h4 id="äºŒã€å†å²åœ°ç†ç±»"><a href="#äºŒã€å†å²åœ°ç†ç±»" class="headerlink" title="äºŒã€å†å²åœ°ç†ç±»"></a>äºŒã€å†å²åœ°ç†ç±»</h4><p>1ã€æ–¹å¿—ã€åœ°ç†ç±»ï¼ˆ594.43Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1SJRFK19I_TdRKd-0PdaGig" target="_blank" rel="noopener">https://pan.baidu.com/s/1SJRFK19I_TdRKd-0PdaGig</a></p><p>æå–ç ï¼štnq0</p></blockquote><p>2ã€å†ä»£å²æ–™ç¬”è®°ä¸›åˆŠï¼ˆ2.21Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1Jt5NNGkAEI7Tiy4tKrL-qA" target="_blank" rel="noopener">https://pan.baidu.com/s/1Jt5NNGkAEI7Tiy4tKrL-qA</a></p><p>æå–ç ï¼š890f</p></blockquote><p>3ã€è¿‘ä»£ä¸­å›½å²æ–™ä¸›åˆŠï¼ˆ53.91Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1tBUBSN7lsFBgEgTiVyjXuw" target="_blank" rel="noopener">https://pan.baidu.com/s/1tBUBSN7lsFBgEgTiVyjXuw</a></p><p>æå–ç ï¼šbtsc</p></blockquote><p>4ã€æ°‘å›½å²æ–™ä¸›åˆŠï¼ˆ84.53Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1p1Q1TKK7TVFg59xa-7bxYQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1p1Q1TKK7TVFg59xa-7bxYQ</a></p><p>æå–ç ï¼šrlms</p></blockquote><p>5ã€ä¸­å›½å²å­¦åŸºæœ¬å…¸ç±ä¸›åˆŠï¼ˆ2.49Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1CNWMmfW6EaVwEr6qjmZ1Kg" target="_blank" rel="noopener">https://pan.baidu.com/s/1CNWMmfW6EaVwEr6qjmZ1Kg</a></p><p>æå–ç ï¼šou6h</p></blockquote><p>6ã€ç‰çƒç‹å›½æ±‰æ–‡æ–‡çŒ®é›†æˆï¼ˆ7.60Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1wmfdUiV4G-PTpWoHk4R_Tw" target="_blank" rel="noopener">https://pan.baidu.com/s/1wmfdUiV4G-PTpWoHk4R_Tw</a></p><p>æå–ç ï¼šo15z</p></blockquote><p>7ã€åŒ—äº¬å›¾ä¹¦é¦†è—ä¸­å›½å†ä»£çŸ³åˆ»æ‹“æœ¬æ±‡ç¼–ï¼ˆ101å†Œå…¨ï¼‰_Aï¼ˆ14.64Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1pA5izcmfTrZcbQ5nB1mmhQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1pA5izcmfTrZcbQ5nB1mmhQ</a></p><p>æå–ç ï¼šnsr6</p></blockquote><p>8ã€ç”²éª¨æ–‡ç»é›†æˆï¼ˆ12.50Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1-LV0_6xKs4I_c9KOed9b3Q" target="_blank" rel="noopener">https://pan.baidu.com/s/1-LV0_6xKs4I_c9KOed9b3Q</a></p><p>æå–ç ï¼šbjo8</p></blockquote><p>9ã€ç§¦æ™‹è±«æ–°å‡ºå¢“å¿—æœä½šç»­ç¼–ï¼ˆå…¨5å†Œï¼‰ï¼ˆèµµæ–‡æˆï¼Œèµµå›å¹³ç¼–ï¼‰ï¼ˆå›½å®¶å›¾ä¹¦é¦†å‡ºç‰ˆç¤¾ , 2015.07ï¼‰ï¼ˆ3.34Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1jr-U8okTxfWGQ1m3vmgcOg" target="_blank" rel="noopener">https://pan.baidu.com/s/1jr-U8okTxfWGQ1m3vmgcOg</a></p><p>æå–ç ï¼špgm9</p></blockquote><p>10ã€ç§¦æ™‹è±«æ–°å‡ºå¢“å¿—è’ä½šï¼ˆæ€»4å†Œï¼Œä»…æœ‰2,3å†Œï¼‰ï¼ˆèµµå›å¹³ã€èµµæ–‡æˆï¼‰ï¼ˆåŒ—äº¬å›¾ä¹¦é¦†å‡ºç‰ˆç¤¾ 2012ï¼‰ï¼ˆ825Mï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/16J_ktWzvuZ0NJuo4A2bH-A" target="_blank" rel="noopener">https://pan.baidu.com/s/16J_ktWzvuZ0NJuo4A2bH-A</a></p><p>æå–ç ï¼šv5j4</p></blockquote><p>11ã€åˆ—å›½å¿—_133 121å†Œï¼ˆ9.18Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/19nLKAHRDf_9s1feTYnuBOQ" target="_blank" rel="noopener">https://pan.baidu.com/s/19nLKAHRDf_9s1feTYnuBOQ</a></p><p>æå–ç ï¼š917i</p></blockquote><h4 id="ä¸‰ã€ç»¼åˆå›¾ä¹¦ç±»"><a href="#ä¸‰ã€ç»¼åˆå›¾ä¹¦ç±»" class="headerlink" title="ä¸‰ã€ç»¼åˆå›¾ä¹¦ç±»"></a>ä¸‰ã€ç»¼åˆå›¾ä¹¦ç±»</h4><h5 id="ï¼ˆä¸€ï¼‰æ—§ç»ç±ç±»"><a href="#ï¼ˆä¸€ï¼‰æ—§ç»ç±ç±»" class="headerlink" title="ï¼ˆä¸€ï¼‰æ—§ç»ç±ç±»"></a>ï¼ˆä¸€ï¼‰æ—§ç»ç±ç±»</h5><p>1ã€æ—©ç¨»ç”°10è¬pdfå£“ç¸®ç‰ˆ201705.zipï¼ˆ1663.11Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1kHSjYWycsvvjSQAKBV0cjg" target="_blank" rel="noopener">https://pan.baidu.com/s/1kHSjYWycsvvjSQAKBV0cjg</a></p><p>æå–ç ï¼šqhkw</p></blockquote><p>2ã€æ±å¤§10975_4G.zip[44]ï¼ˆ167.65Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1VTqQRnp06NBVpTZrZORiGQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1VTqQRnp06NBVpTZrZORiGQ</a></p><p>æå–ç ï¼šyye0</p></blockquote><p>3ã€å„ç±»çæœ¬å¤ç±ã€å²æ–™çºªä¼ ã€å†›äº‹å…µæ³•ã€å¤ä»£å…µä¹¦æˆ˜ç­–ã€åœ°ç†å ªèˆ†æ–¹å¿—ã€éå¸¸ç¨€å°‘ä¸å¤–ä¼ çš„çæœ¬æ”¶è—ä¹¦ç±ï¼ˆ70.21Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1Ht58WTd3_c1Md3WcidvPDA" target="_blank" rel="noopener">https://pan.baidu.com/s/1Ht58WTd3_c1Md3WcidvPDA</a></p><p>æå–ç ï¼š9yme</p></blockquote><p>4ã€å®‹ä¼šè¦è¾‘ç¨¿ æ ¡ç‚¹æœ¬å…¨16å†Œ SPAN&gt; ä¸Šæµ·å¤ç±å‡ºç‰ˆ2014ï¼ˆ2.71Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1m88qIKqXccFLv8pOxLW6Mw" target="_blank" rel="noopener">https://pan.baidu.com/s/1m88qIKqXccFLv8pOxLW6Mw</a></p><p>æå–ç ï¼šmjki</p></blockquote><p>5ã€åä¸‰ç»æ³¨ç–åä¸‰ç»æ³¨ç–ï¼ˆè‰ºæ–‡å°ä¹¦é¦†å½±å°ï¼‰ï¼ˆ1.51Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1-66pNjdLpLR4NQOa5OkRKA" target="_blank" rel="noopener">https://pan.baidu.com/s/1-66pNjdLpLR4NQOa5OkRKA</a></p><p>æå–ç ï¼š5kp1</p></blockquote><p>åä¸‰ç»æ³¨ç–.ä¸‰ç™¾ä¸‰åäº”å·ï¼ˆ10.17Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1tBmiCgQXekrs3DVbbB96dw" target="_blank" rel="noopener">https://pan.baidu.com/s/1tBmiCgQXekrs3DVbbB96dw</a></p><p>æå–ç ï¼šw19t</p></blockquote><p>åä¸‰ç»æ³¨ç– ç¹ä½“ç«–æ’ï¼ˆ2.45Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/15VfSp9fOyUk7V1gGzsw6eQ" target="_blank" rel="noopener">https://pan.baidu.com/s/15VfSp9fOyUk7V1gGzsw6eQ</a></p><p>æå–ç ï¼š0kqu</p></blockquote><p>åä¸‰ç»æ³¨ç–ï¼ˆ188Mï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1bGuA1EJ611s0OKjYe-yXEA" target="_blank" rel="noopener">https://pan.baidu.com/s/1bGuA1EJ611s0OKjYe-yXEA</a></p><p>æå–ç ï¼š74xe</p></blockquote><h5 id="ï¼ˆäºŒï¼‰ä¸›ä¹¦ç±»"><a href="#ï¼ˆäºŒï¼‰ä¸›ä¹¦ç±»" class="headerlink" title="ï¼ˆäºŒï¼‰ä¸›ä¹¦ç±»"></a>ï¼ˆäºŒï¼‰ä¸›ä¹¦ç±»</h5><p>1ã€ç»å…¸çè—åˆé›†ç³»åˆ—ï¼ˆ490.91Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1cKEfaoFPv2qP-BUeEN8tIQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1cKEfaoFPv2qP-BUeEN8tIQ</a></p><p>æå–ç ï¼šgwqy</p></blockquote><p>2ã€ä¸­åå¤§å…¸ï¼ˆ9.02Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/12AsHuJZ6zW2joUJnF7lkdw" target="_blank" rel="noopener">https://pan.baidu.com/s/12AsHuJZ6zW2joUJnF7lkdw</a></p><p>æå–ç ï¼šhibi</p></blockquote><p>3ã€Kindleä¼´ä¾£ç”µå­ä¹¦åº“ï¼Œè§£å‹å¯†ç ä¸ºsz520ï¼ˆ30.61Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1eYsq4h_l-nJArHJiM_u-HA" target="_blank" rel="noopener">https://pan.baidu.com/s/1eYsq4h_l-nJArHJiM_u-HA</a></p><p>æå–ç ï¼šjpe8</p></blockquote><p>4ã€Kindleäººç”µå­ä¹¦åˆé›†,è§£å‹å¯†ç ä¸ºsz520ï¼ˆ81.52Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1K7sanuh9SLAzyF8KxZA-bw" target="_blank" rel="noopener">https://pan.baidu.com/s/1K7sanuh9SLAzyF8KxZA-bw</a></p><p>æå–ç ï¼š73lm</p></blockquote><p>5ã€Kindleä¹¦åº“48208å†Œï¼ˆ8.48ï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1RU3z3YHEhoI0v6FuE4d1fA" target="_blank" rel="noopener">https://pan.baidu.com/s/1RU3z3YHEhoI0v6FuE4d1fA</a></p><p>æå–ç ï¼šwlcf</p></blockquote><p>6ã€Wodeå°ä¹¦å±‹ï¼ˆ125.11Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1B525W-jieQNv2nXcm6Sjgg" target="_blank" rel="noopener">https://pan.baidu.com/s/1B525W-jieQNv2nXcm6Sjgg</a></p><p>æå–ç ï¼šbcf8</p></blockquote><p>7ã€äºšé©¬é€ŠKindleå•†åº—12,000å†ŒåŸç‰ˆè‹±æ–‡ä¹¦ï¼Œè§£å‹å¯†ç ä¸ºsz520ï¼ˆ18.44Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1NAd_sckOhDGPgufxr3Qsig" target="_blank" rel="noopener">https://pan.baidu.com/s/1NAd_sckOhDGPgufxr3Qsig</a></p><p>æå–ç ï¼šsb0s</p></blockquote><h5 id="ï¼ˆä¸‰ï¼‰æœŸåˆŠç±»ç”³æŠ¥å½±å°æœ¬ï¼ˆ160-03Gï¼‰"><a href="#ï¼ˆä¸‰ï¼‰æœŸåˆŠç±»ç”³æŠ¥å½±å°æœ¬ï¼ˆ160-03Gï¼‰" class="headerlink" title="ï¼ˆä¸‰ï¼‰æœŸåˆŠç±»ç”³æŠ¥å½±å°æœ¬ï¼ˆ160.03Gï¼‰"></a>ï¼ˆä¸‰ï¼‰æœŸåˆŠç±»ç”³æŠ¥å½±å°æœ¬ï¼ˆ160.03Gï¼‰</h5><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1E_tw_pO_bQJAHbPke82ihg" target="_blank" rel="noopener">https://pan.baidu.com/s/1E_tw_pO_bQJAHbPke82ihg</a></p><p>æå–ç ï¼ša97b</p></blockquote><hr><p>ç§åŸŸæµé‡.epub</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1NidWmrQycJiBmYUY2YLjrw" target="_blank" rel="noopener">https://pan.baidu.com/s/1NidWmrQycJiBmYUY2YLjrw</a> </p><p>æå–ç ï¼šfdqm </p></blockquote><p>2è½´æ€ç»´ï¼šé—®é¢˜ç®€åŒ–çš„æ¶æ„æœ¯.epub</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/11gauxZAFEs2LtKZMNd75ew" target="_blank" rel="noopener">https://pan.baidu.com/s/11gauxZAFEs2LtKZMNd75ew</a> </p><p>æå–ç ï¼š1l0q </p></blockquote><p>ä¸­å›½ä¼˜åŠ¿.epub</p><p>äººæ°‘å¸æˆ˜ç•¥ï¼šä¸­å›½å¦‚ä½•æ„å»ºå›½é™…è´§å¸ï¼ˆå·´æ›™æ¾å€¾æƒ…ä½œåºâ€œåœ¨å…¨çƒè´¸æ˜“æ‘©æ“¦ä¸­é‡æ–°æ€è€ƒäººæ°‘å¸æˆ˜ç•¥â€ï¼‰.epub</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1vfiYwO8-DcAMw-AC0a9YzQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1vfiYwO8-DcAMw-AC0a9YzQ</a> </p><p>æå–ç ï¼š2u56</p></blockquote><p>äººï¼Œå²æœˆï¼Œç”Ÿæ´»ï¼šå…¨2å†Œ.epub</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1eLNBaEXUQe4kQCPSM0Vb3Q" target="_blank" rel="noopener">https://pan.baidu.com/s/1eLNBaEXUQe4kQCPSM0Vb3Q</a> </p><p>æå–ç ï¼šo6io</p></blockquote><p>åˆ†äº«ç»æµæ—¶ä»£ï¼ˆå¥—è£…6å†Œï¼‰.epub</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1HbXOyab58P-nTZXAPhX-zQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1HbXOyab58P-nTZXAPhX-zQ</a> </p><p>æå–ç ï¼š6rj3 </p></blockquote><p>å˜é‡2</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1v_A8K3mZYkB1RAR4hZEWAw" target="_blank" rel="noopener">https://pan.baidu.com/s/1v_A8K3mZYkB1RAR4hZEWAw</a> </p><p>æå–ç ï¼šb56c</p></blockquote><p>å­¦ä¼šå¦‚ä½•å­¦ä¹ .epub</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1SLByiAwOwzfU3cHfroprCQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1SLByiAwOwzfU3cHfroprCQ</a> </p><p>æå–ç ï¼ši7og</p></blockquote><p>å¸ƒåŠ³å°”è±¡é™ epub</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1fzF_9aHHqgLx9quz1xRNtg" target="_blank" rel="noopener">https://pan.baidu.com/s/1fzF_9aHHqgLx9quz1xRNtg</a> </p><p>æå–ç ï¼š8idr</p></blockquote><p>æƒ…å¢ƒå½±å“åŠ›.epub</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1ydbnQ7aphCNicPFuQti4ew" target="_blank" rel="noopener">https://pan.baidu.com/s/1ydbnQ7aphCNicPFuQti4ew</a> </p><p>æå–ç ï¼š3itj</p></blockquote><p>æŠ€æœ¯å„æ–­ï¼šæ–‡åŒ–å‘æŠ€æœ¯æŠ•é™.epub</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1OnpcuE92TIZOeqorTLvMTQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1OnpcuE92TIZOeqorTLvMTQ</a> </p><p>æå–ç ï¼šo8zc</p></blockquote><p>æ‘†è„±å…±æƒ…ï¼ˆè€¶é²å¤§å­¦å…¬å¼€è¯¾æ•™æˆä¿ç½—Â·å¸ƒå¢å§†é¢ è¦†ä¹‹ä½œï¼Œåªæœ‰æ‘†è„±æƒ…ç»ªå…±æƒ…ï¼Œæ‰èƒ½åšå‡ºäººç”Ÿç†æ€§æ€ç»´ï¼ï¼‰.epub</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/15uuJ2tAi-Wt2e5qND5q7SA" target="_blank" rel="noopener">https://pan.baidu.com/s/15uuJ2tAi-Wt2e5qND5q7SA</a> </p><p>æå–ç ï¼šn6yo </p></blockquote><p>æ•°å­¦ã€é€»è¾‘ä¸ç°è±¡å­¦ï¼šè®ºèƒ¡å¡å°”æ€æƒ³çš„å‘ç«¯.epub</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1xBbDRAVwYFKtGP1ViWuxIg" target="_blank" rel="noopener">https://pan.baidu.com/s/1xBbDRAVwYFKtGP1ViWuxIg</a> </p><p>æå–ç ï¼ša9ds </p></blockquote><p>æ–¯å¦ç¦ç¤¾ä¼šåˆ›æ–°è¯„è®º02ï¼ˆæœ¬ä¹¦å›Šæ‹¬å‰æ²¿çš„å®è·µä¸ç ”ç©¶ï¼Œèƒ½å¤ŸæŒ‡å¯¼å’Œæ¿€åŠ±æ¥è‡ªä¸–ç•Œå„åœ°å’Œç¤¾ä¼šå„ä¸ªéƒ¨é—¨çš„ç¤¾ä¼šåˆ›æ–°æ´»åŠ¨ï¼‰.epub</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1Q13_0rPMdRwY-ZIsWVoZ1w" target="_blank" rel="noopener">https://pan.baidu.com/s/1Q13_0rPMdRwY-ZIsWVoZ1w</a> </p><p>æå–ç ï¼š8nau</p></blockquote><p>æ¨ªè¶ŠæœªçŸ¥.epub</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1frA6ae2RjcDcOalCErb-Zw" target="_blank" rel="noopener">https://pan.baidu.com/s/1frA6ae2RjcDcOalCErb-Zw</a> </p><p>æå–ç ï¼šiug8.</p></blockquote><p>çŒé­”äººå¥—è£…ï¼»1-7ï¼½.epub</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1eroz8KEHVVQyoKCgz_pYKg" target="_blank" rel="noopener">https://pan.baidu.com/s/1eroz8KEHVVQyoKCgz_pYKg</a> </p><p>æå–ç ï¼še072 </p></blockquote><p>è¯·åœæ­¢æ— æ•ˆæ²Ÿé€šï¼ˆæ— æ•ˆæ²Ÿé€šæ­£åœ¨æ¯æ‰ä½ çš„äººè„‰å’Œç”Ÿæ´»ï¼ä¸­å›½ç‰ˆçš„ã€Šè¶…çº§èŠå¤©æœ¯ã€‹ï¼46ä¸ªæœ€ä¸ºæœ‰æ•ˆçš„æ²Ÿé€šæŠ€å·§ï¼Œ100ä¸ªæœ€ä¸ºå¸¸è§çš„æ²Ÿé€šåœºæ™¯ï¼Œä¸€å­¦å°±ä¼šè¶…çº§å®ç”¨çš„æ²Ÿé€šæŠ€å·§ï¼ï¼‰.epub</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1u1SyeIRLVK0IN7C8097xRw" target="_blank" rel="noopener">https://pan.baidu.com/s/1u1SyeIRLVK0IN7C8097xRw</a> </p><p>æå–ç ï¼šj7xr</p></blockquote><p>èµŒè¿.epub</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1kFF01FSPRjFG8ox5qwksbg" target="_blank" rel="noopener">https://pan.baidu.com/s/1kFF01FSPRjFG8ox5qwksbg</a> </p><p>æå–ç ï¼š7mzf </p></blockquote><p>é€ƒä¸å¼€çš„ç»æµå‘¨æœŸ2ï¼ˆç†è§£é‡‘èåŠ¨è¡æ—¶æœŸçš„çœŸå®æƒ…å†µï¼‰.epub</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1rZ6xqdAs0vw8eQHWEeevOg" target="_blank" rel="noopener">https://pan.baidu.com/s/1rZ6xqdAs0vw8eQHWEeevOg</a> </p><p>æå–ç ï¼šzk50</p></blockquote><p>é‡‘èåŸç½ªä¸é‡‘èæ–‡æ˜.epub</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1lgmbqbb-DNK9RHBIZUAxoQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1lgmbqbb-DNK9RHBIZUAxoQ</a> </p><p>æå–ç ï¼šqxnc </p></blockquote><p>é’±ä»å“ªé‡Œæ¥</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1dVk0RdvVlgstClYlFcdRQw" target="_blank" rel="noopener">https://pan.baidu.com/s/1dVk0RdvVlgstClYlFcdRQw</a> </p><p>æå–ç ï¼š80em</p></blockquote><hr><p>1.æ—©ç¨»ç”°10è¬pdfå£“ç¸®ç‰ˆ201705zipï¼ˆ1663.11Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1kHSjYWycsvvjSQAKBV0cjg" target="_blank" rel="noopener">https://pan.baidu.com/s/1kHSjYWycsvvjSQAKBV0cjg</a></p><p>æå–ç ï¼šqhkw</p></blockquote><p>2.æ±å¤§10975_4Gzip[44]ï¼ˆ167.65Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1VTqQRnp06NBVpTZrZORiGQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1VTqQRnp06NBVpTZrZORiGQ</a></p><p>æå–ç ï¼šyye0</p></blockquote><p>3.å„ç±»çæœ¬å¤ç±ã€å²æ–™çºªä¼ ã€å†›äº‹å…µæ³•ã€å¤ä»£å…µä¹¦æˆ˜ç­–ã€åœ°ç†å ªèˆ†æ–¹å¿—ã€éå¸¸ç¨€å°‘ä¸å¤–ä¼ çš„çæœ¬æ”¶è—ä¹¦ç±ï¼ˆ70.21Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1Ht58WTd3_c1Md3WcidvPDA" target="_blank" rel="noopener">https://pan.baidu.com/s/1Ht58WTd3_c1Md3WcidvPDA</a></p><p>æå–ç ï¼š9yme</p></blockquote><p>4.å®‹ä¼šè¦è¾‘ç¨¿ æ ¡ç‚¹æœ¬å…¨16å†Œ SPAN&gt; ä¸Šæµ·å¤ç±å‡ºç‰ˆ2014ï¼ˆ2.71Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1m88qIKqXccFLv8pOxLW6Mw" target="_blank" rel="noopener">https://pan.baidu.com/s/1m88qIKqXccFLv8pOxLW6Mw</a></p><p>æå–ç ï¼šmjki</p></blockquote><p>5.åä¸‰ç»æ³¨ç–ï¼ˆè‰ºæ–‡å°ä¹¦é¦†å½±å°ï¼‰ï¼ˆ1.51Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1-66pNjdLpLR4NQOa5OkRKA" target="_blank" rel="noopener">https://pan.baidu.com/s/1-66pNjdLpLR4NQOa5OkRKA</a></p><p>æå–ç ï¼š5kp1</p></blockquote><p>6.åä¸‰ç»æ³¨ç–.ä¸‰ç™¾ä¸‰åäº”å·ï¼ˆ10.17Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1tBmiCgQXekrs3DVbbB96dw" target="_blank" rel="noopener">https://pan.baidu.com/s/1tBmiCgQXekrs3DVbbB96dw</a></p><p>æå–ç ï¼šw19t</p></blockquote><p>7.åä¸‰ç»æ³¨ç– ç¹ä½“ç«–æ’ï¼ˆ2.45Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/15VfSp9fOyUk7V1gGzsw6eQ" target="_blank" rel="noopener">https://pan.baidu.com/s/15VfSp9fOyUk7V1gGzsw6eQ</a></p><p>æå–ç ï¼š0kqu</p></blockquote><p>8.åä¸‰ç»æ³¨ç–ï¼ˆ188Mï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1bGuA1EJ611s0OKjYe-yXEA" target="_blank" rel="noopener">https://pan.baidu.com/s/1bGuA1EJ611s0OKjYe-yXEA</a></p><p>æå–ç ï¼š74xe</p></blockquote><p>9.ã€Šæ¸…å®å½•ã€‹å…¨æœ¬</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/18RqV4a4Qz9nrKnwfHyoaxgæå–ç ï¼šibcv" target="_blank" rel="noopener">https://pan.baidu.com/s/18RqV4a4Qz9nrKnwfHyoaxgæå–ç ï¼šibcv</a></p></blockquote><p>10.é€šå²ç±»</p><blockquote><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1ecTWh_q1szRu7lJme5Oo9g" target="_blank" rel="noopener">https://pan.baidu.com/s/1ecTWh_q1szRu7lJme5Oo9g</a></p><p>æå–ç : ng4x</p></blockquote><p>ï¼ˆäºŒï¼‰ç³»åˆ—ä¸›ä¹¦åˆé›†</p><p>1.ç»å…¸çè—åˆé›†ç³»åˆ—ï¼ˆ490.91Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1cKEfaoFPv2qP-BUeEN8tIQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1cKEfaoFPv2qP-BUeEN8tIQ</a></p><p>æå–ç ï¼šgwqy</p></blockquote><p>2.ä¸­åå¤§å…¸ï¼ˆ9.02Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/12AsHuJZ6zW2joUJnF7lkdw" target="_blank" rel="noopener">https://pan.baidu.com/s/12AsHuJZ6zW2joUJnF7lkdw</a></p><p>æå–ç ï¼šhibi</p></blockquote><p>3.kindleä¼´ä¾£ç”µå­ä¹¦åº“ï¼Œè§£å‹å¯†ç ä¸ºsz520ï¼ˆ30.61Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1eYsq4h_l-nJArHJiM_u-HA" target="_blank" rel="noopener">https://pan.baidu.com/s/1eYsq4h_l-nJArHJiM_u-HA</a></p><p>æå–ç ï¼šjpe8</p></blockquote><p>4.kindleäººç”µå­ä¹¦åˆé›†,è§£å‹å¯†ç ä¸ºsz520ï¼ˆ81.52Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1K7sanuh9SLAzyF8KxZA-bw" target="_blank" rel="noopener">https://pan.baidu.com/s/1K7sanuh9SLAzyF8KxZA-bw</a></p><p>æå–ç ï¼š73lm</p></blockquote><p>5.Kindleä¹¦åº“48208å†Œï¼ˆ8.48ï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1RU3z3YHEhoI0v6FuE4d1fA" target="_blank" rel="noopener">https://pan.baidu.com/s/1RU3z3YHEhoI0v6FuE4d1fA</a></p><p>æå–ç ï¼šwlcf</p></blockquote><p>6.wodeå°ä¹¦å±‹ï¼ˆ125.11Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1B525W-jieQNv2nXcm6Sjgg" target="_blank" rel="noopener">https://pan.baidu.com/s/1B525W-jieQNv2nXcm6Sjgg</a></p><p>æå–ç ï¼šbcf8</p></blockquote><p>7.äºšé©¬é€ŠKindleå•†åº—12,000å†ŒåŸç‰ˆè‹±æ–‡ä¹¦ï¼Œè§£å‹å¯†ç ä¸ºsz520ï¼ˆ18.44Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1NAd_sckOhDGPgufxr3Qsig" target="_blank" rel="noopener">https://pan.baidu.com/s/1NAd_sckOhDGPgufxr3Qsig</a></p><p>æå–ç ï¼šsb0s</p></blockquote><p>8.kindleç”µå­ä¹¦èµ„æº14G</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1vAluJd-AW_4VBEMSgbhGhA" target="_blank" rel="noopener">https://pan.baidu.com/s/1vAluJd-AW_4VBEMSgbhGhA</a></p><p>æå–ç ï¼švmnv</p></blockquote><p>9.å•†åŠ¡å°ä¹¦é¦†æ—¥æœ¬ä¸›ä¹¦</p><blockquote><p><a href="https://pan.baidu.com/s/1bn8ifLl" target="_blank" rel="noopener">https://pan.baidu.com/s/1bn8ifLl</a></p></blockquote><p>10.ä¸–ç•Œå†å²</p><blockquote><p><a href="https://pan.baidu.com/s/1bpaS799#list/path=%2F" target="_blank" rel="noopener">https://pan.baidu.com/s/1bpaS799#list/path=%2F</a></p></blockquote><p>11.è‹è”ä¸›ä¹¦</p><blockquote><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1xLMYdoON2cD7OeEZ3lETlg" target="_blank" rel="noopener">https://pan.baidu.com/s/1xLMYdoON2cD7OeEZ3lETlg</a> æå–ç : uz4d</p></blockquote><p>12.ä¸–ç•Œå†å²æ–‡åº“</p><blockquote><p><a href="https://pan.baidu.com/s/1QS07G#list/path=%2F" target="_blank" rel="noopener">https://pan.baidu.com/s/1QS07G#list/path=%2F</a></p></blockquote><p>13.æ¬§æ´²æ–‡å­¦å²</p><blockquote><p><a href="https://pan.baidu.com/s/1jG3PPPW#list/path=%2F" target="_blank" rel="noopener">https://pan.baidu.com/s/1jG3PPPW#list/path=%2F</a></p></blockquote><p>14.å‰‘æ¡¥ç§‘å­¦å²ä¸›ä¹¦</p><blockquote><p><a href="https://pan.baidu.com/s/1dDxjlS1" target="_blank" rel="noopener">https://pan.baidu.com/s/1dDxjlS1</a></p></blockquote><p>15.ä¿„å›½ç»ç•¥ä¸œæ–¹ä¸›ä¹¦</p><blockquote><p><a href="https://pan.baidu.com/s/1i5p2Dm9" target="_blank" rel="noopener">https://pan.baidu.com/s/1i5p2Dm9</a></p></blockquote><p>16.ç”²éª¨æ–‡ä¸›ä¹¦</p><blockquote><p><a href="https://pan.baidu.com/s/19O8ckrdiqwkrHrbozuexqg#list/path=%2F" target="_blank" rel="noopener">https://pan.baidu.com/s/19O8ckrdiqwkrHrbozuexqg#list/path=%2F</a></p></blockquote><p>17.å¤–å›½æ–‡è‰ºä¸›ä¹¦</p><blockquote><p><a href="https://pan.baidu.com/s/1i3vfGjj#list/path=%2F" target="_blank" rel="noopener">https://pan.baidu.com/s/1i3vfGjj#list/path=%2F</a></p></blockquote><p>18.ä¸œäºšå†å²</p><blockquote><p><a href="https://pan.baidu.com/s/1bpgYeKn#list/path=%2F&amp;parentPath=%2F" target="_blank" rel="noopener">https://pan.baidu.com/s/1bpgYeKn#list/path=%2F&amp;parentPath=%2F</a></p></blockquote><p>19.ä¸­å›½å² æ”¿æ²»ç»æµ</p><blockquote><p><a href="https://pan.baidu.com/s/1jHDDDv4#list/path=%2F" target="_blank" rel="noopener">https://pan.baidu.com/s/1jHDDDv4#list/path=%2F</a></p></blockquote><p>20.ä¸­å›½å² æ°‘æ—è¾¹ç–†</p><blockquote><p><a href="https://pan.baidu.com/s/1o8lvzFO#list/path=%2F" target="_blank" rel="noopener">https://pan.baidu.com/s/1o8lvzFO#list/path=%2F</a></p></blockquote><p>21.ä¸­å›½å² æ€æƒ³æ–‡åŒ–</p><blockquote><p><a href="https://pan.baidu.com/s/1slfPFqd#list/path=%2F" target="_blank" rel="noopener">https://pan.baidu.com/s/1slfPFqd#list/path=%2F</a></p></blockquote><p>22.ä¸‰è”ä¹¦åº—Â·æ–‡åŒ–ç”Ÿæ´»è¯‘ä¸›</p><blockquote><p><a href="https://pan.baidu.com/s/1mikpi1y#list/path=%2F" target="_blank" rel="noopener">https://pan.baidu.com/s/1mikpi1y#list/path=%2F</a></p></blockquote><p>23.ä¸œæ–¹å†å²å­¦æœ¯æ–‡åº“ç³»åˆ—ï¼Œ100æœ¬</p><blockquote><p>é“¾æ¥:<a href="https://pan.baidu.com/s/1PFluXcAwNqME_9SbphsDDA" target="_blank" rel="noopener">https://pan.baidu.com/s/1PFluXcAwNqME_9SbphsDDA</a> </p><p>æå–ç :p6gs</p></blockquote><p>24.ç”³æŠ¥å½±å°æœ¬ï¼ˆ160.03Gï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1E_tw_pO_bQJAHbPke82ihg" target="_blank" rel="noopener">https://pan.baidu.com/s/1E_tw_pO_bQJAHbPke82ihg</a></p><p>æå–ç ï¼ša97b</p></blockquote><p>25.ã€Šé˜é”¡å±±æ¡£æ¡ˆã€‹</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1LsHAVyhoFY4rxhkUKfWuvA" target="_blank" rel="noopener">https://pan.baidu.com/s/1LsHAVyhoFY4rxhkUKfWuvA</a></p><p>æå–ç ï¼šhd53</p></blockquote><p>26.ã€Šæ–°ç¼–å‰‘æ¡¥ä¸­ä¸–çºªå²ã€‹ï¼ˆè‹±æ–‡ç‰ˆï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/14bHThjINbrHF4jV-ZCaiCw" target="_blank" rel="noopener">https://pan.baidu.com/s/14bHThjINbrHF4jV-ZCaiCw</a></p><p>æå–ç ï¼šyunl</p></blockquote><p>27.ã€Šä¸­å›½å†å²åœ°å›¾é›†ã€‹</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1UcZxfnDwcm4_NacNtjPAvA" target="_blank" rel="noopener">https://pan.baidu.com/s/1UcZxfnDwcm4_NacNtjPAvA</a></p><p>æå–ç ï¼šb460</p></blockquote><p>28.è¾›å¾·å‹‡è‘—. åˆ¶é€ æ±‰æ­¦å¸ ç”±æ±‰æ­¦å¸æ™šå¹´æ”¿æ²»å½¢è±¡çš„å¡‘é€ çœ‹ã€Šèµ„æ²»é€šé‰´ã€‹çš„å†å²æ„å»º[M]. åŒ—äº¬ï¼šç”Ÿæ´»Â·è¯»ä¹¦Â·æ–°çŸ¥ä¸‰è”ä¹¦åº—, 2015.10</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/14wI3OVSOFLV6lGaQ7ShPNA" target="_blank" rel="noopener">https://pan.baidu.com/s/14wI3OVSOFLV6lGaQ7ShPNA</a></p><p>æå–ç ï¼švedy</p></blockquote><p>29.å“ˆä½›ä¸­å›½å²ï¼ˆå¥—è£…å…¨6å†Œï¼‰ï¼ˆPDF+å…¶ä»–æ ¼å¼ï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1_-sK8g1l2uunJDTWXpMkkg" target="_blank" rel="noopener">https://pan.baidu.com/s/1_-sK8g1l2uunJDTWXpMkkg</a></p><p>æå–ç ï¼š5ss4</p></blockquote><p>30.ä½•ç‚³æ££è‘—. è¯»å²é˜…ä¸–å…­åå¹´. æ¡‚æ—ï¼šå¹¿è¥¿å¸ˆèŒƒå¤§å­¦å‡ºç‰ˆç¤¾, 2009.03</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1jp5LAhHnUxpRuP1O79Fxsw" target="_blank" rel="noopener">https://pan.baidu.com/s/1jp5LAhHnUxpRuP1O79Fxsw</a></p><p>æå–ç ï¼š2czt</p></blockquote><p>31.ç¿æ—ä¸œè‘—. å”ä»£å²å­¦è®ºç¨¿ å¢è®¢æœ¬. åŒ—äº¬ï¼šé«˜ç­‰æ•™è‚²å‡ºç‰ˆç¤¾, 2015.01</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1FeOXHJg7zi5WxogpdNoaZw" target="_blank" rel="noopener">https://pan.baidu.com/s/1FeOXHJg7zi5WxogpdNoaZw</a></p><p>æå–ç ï¼šazsn</p></blockquote><hr><p>æ–°ä¹¦å­¦ä¹ ï¼š</p><p>â˜…ã€Šé’±ä»å“ªé‡Œæ¥ã€‹</p><p>*ä½œè€…ï¼šé¦™å¸…</p><p>â€”ï¼ˆ2019â€”2020å¹´ç½—æŒ¯å®‡â€œæ—¶é—´çš„æœ‹å‹â€è·¨å¹´æ¼”è®²é‡ç£…æ¨èï¼Œå¸®ä½ æ‰¾å‡†è‡ªå·±çš„è´¢å¯Œåæ ‡ã€‚ï¼‰</p><p>pdfï¼Œtxtï¼Œepubï¼Œmobi 4æ ¼å¼é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1d8DfQLjWgTjl68GIC5oH8g" target="_blank" rel="noopener">https://pan.baidu.com/s/1d8DfQLjWgTjl68GIC5oH8g</a> </p><p>æå–ç ï¼š6vqs</p><p>â˜…ã€Šæ·±åº¦è¯´æœï¼šè¶…çº§è¾©æ‰‹çš„å››å ‚æ€è¾¨è¡¨è¾¾è¯¾ã€‹</p><p>*ä½œè€…ï¼šæ¢ç§‹é˜³</p><p>â€”ï¼ˆé©¬ä¸œå€¾æƒ…æ¨èï¼Œé»„æ‰§ä¸­ã€é©¬è–‡è–‡ä½œåºï¼Œè¶…çº§è¾©æ‰‹çš„å››å ‚æ€è¾¨è¡¨è¾¾è¯¾ï¼‰pdfï¼Œtxtï¼Œepubï¼Œmobi 4æ ¼å¼é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/15Cj0KjlKFc9rIsVE9nEqtA" target="_blank" rel="noopener">https://pan.baidu.com/s/15Cj0KjlKFc9rIsVE9nEqtA</a> </p><p>æå–ç ï¼šq4f9</p><p>â˜…ã€Šç ´è§£ç”Ÿæ­»å¤§æ•°æ® : ä¸€ä¸ªåŒ»ç”Ÿå’Œ70äº¿äººçš„å¥åº·çœŸç›¸ã€‹</p><p>*ä½œè€…ï¼šæ°ç‘ç±³Â·N.å²å¯†æ–¯</p><p>â€”ï¼ˆã€Šç ´è§£ç”Ÿæ­»å¤§æ•°æ®ã€‹åœ¨è®²è¿°ç©†é›·æ•…äº‹çš„åŒæ—¶ï¼Œä¹Ÿæ™®åŠäº†å¥åº·å«ç”Ÿå²ï¼Œç‰¹åˆ«æ˜¯æ™®åŠäº†å…¨çƒç–¾ç—…è´Ÿæ‹…çš„çŸ¥è¯†ï¼Œå¹¶å¯¹å¥åº·å¤§æ•°æ®ã€å¥åº·å«ç”ŸæŠ•èµ„å’Œå¥åº·å«ç”Ÿæ”¿ç­–éƒ½æœ‰å¾ˆå¤šçš„æ¶‰åŠã€‚ï¼‰</p><p>pdfï¼Œtxtï¼Œepubï¼Œmobi 4æ ¼å¼é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1FtrIC7i8-IFEShxUso_sMQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1FtrIC7i8-IFEShxUso_sMQ</a> </p><p>æå–ç ï¼šsaju </p><p>â˜…ã€Šå˜¿ï¼æ›¼å·´ç§‘æ¯”Â·å¸ƒè±æ©ç‰¹ä¼ ã€‹</p><p>*ä½œè€…ï¼šæ›¹åš</p><p>â€”ï¼ˆç§‘æ¯”æ˜¯NBAå²ä¸Šï¼Œçº¯æŠ€æœ¯æœ€å®Œæ•´çš„çƒå‘˜ä¹‹ä¸€ï¼›æœ€å‹¤å¥‹çš„çƒå‘˜ä¹‹ä¸€ï¼›æœ€äº‰å¼ºå¥½èƒœçš„çƒå‘˜ä¹‹ä¸€ï¼›æœ€å¼ºçš„ä¸ªäººæ”»å‡»æ‰‹ä¹‹ä¸€ã€‚æ˜¯æ°¸è¿œçš„ç¯®çƒç‹è€…ã€‚è¿‡å¾€çš„20å¹´ï¼Œæ˜¯ç§‘æ¯”ä¼ å¥‡çš„20å¹´ï¼Œæœ¬ä¹¦ç”¨ç…§ç‰‡ã€ç”¨æ–‡å­—å‘ç§‘æ¯”è‡´æ•¬ï¼Œå‘é’æ˜¥è‡´æ•¬ã€‚ï¼‰</p><p>pdfï¼Œtxtï¼Œepubï¼Œmobi 4æ ¼å¼é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1ZP_x0l6MWJjNjb6QFOHsTA" target="_blank" rel="noopener">https://pan.baidu.com/s/1ZP_x0l6MWJjNjb6QFOHsTA</a> </p><p>æå–ç ï¼šg5h1</p><p>æ–°ä¹¦å­¦ä¹ ï¼š</p><p>â˜…ã€Šè®¤çŸ¥ï¼šäººè¡Œä¸ºèƒŒåçš„æ€ç»´ä¸æ™ºèƒ½ã€‹</p><p>*ä½œè€…ï¼šèµ«ä¼¯ç‰¹Â·è¥¿è’™</p><p>â€”ï¼ˆæœ¬ä¹¦æ˜¯è‘—åå¿ƒç†å­¦å®¶å’Œäººå·¥æ™ºèƒ½å¼€åˆ›è€…èµ«ä¼¯ç‰¹â€¢è¥¿è’™å…³äºäººç±»è®¤çŸ¥çš„ä½œå“ã€‚æœ¬ä¹¦ä»‹ç»äº†äººçš„è®¤çŸ¥ç»“æ„ï¼ŒåŒ…æ‹¬æ³¨æ„åŠ›ã€è®°å¿†ç­‰æ–¹é¢ï¼Œç„¶ååˆ†æäº†äººä»¬æ€ç»´è¿‡ç¨‹ä¸­é—®é¢˜è§£å†³çš„é€”å¾„å’Œç­–ç•¥ã€‚ä¹¦ä¸­è¿›ä¸€æ­¥åˆ†æäº†å¯¹äºå¤æ‚é—®é¢˜ï¼Œä¸“å®¶å’Œæ™®é€šäººä¸åŒçš„å¿ƒç†è¡¨å¾ï¼Œä»¥åŠåº”è¯¥å¦‚ä½•åº”å¯¹å¤æ‚é—®é¢˜ã€‚ï¼‰</p><p>pdfï¼Œtxtï¼Œepubï¼Œmobi 4æ ¼å¼é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1DGuXn31Md2VfDb91kpPFZA" target="_blank" rel="noopener">https://pan.baidu.com/s/1DGuXn31Md2VfDb91kpPFZA</a> </p><p>æå–ç ï¼šjkss</p><p>â˜…ã€Šå¤§å±€è§‚ï¼šçœŸå®ä¸–ç•Œä¸­çš„ç»æµå­¦æ€ç»´ã€‹</p><p>*ä½œè€…ï¼šä½•å¸†</p><p>â€”ï¼ˆè¿™æ˜¯ä¸€åº§ç»æµå­¦å®¶æ­å»ºçš„æ€ç»´è®­ç»ƒè¥ã€‚ï¼‰</p><p>pdfï¼Œtxtï¼Œepubï¼Œmobi 4æ ¼å¼é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1GRk1KAPEZm45irlDpbXxeg" target="_blank" rel="noopener">https://pan.baidu.com/s/1GRk1KAPEZm45irlDpbXxeg</a> </p><p>æå–ç ï¼šb1g5</p><p>â˜…ã€Šäº²å¯†é™·é˜±ï¼šçˆ±ã€æ¬²æœ›ä¸å¹³è¡¡è‰ºæœ¯ã€‹</p><p>*ä½œè€…ï¼š[æ¯”åˆ©æ—¶]åŸƒä¸ç‰¹Â·ä½©ç‘å°”</p><p>â€”ï¼ˆ ç°ä»£äº²å¯†å…³ç³»é¢†åŸŸæ•™æ¯ã€35å¹´å©šæ‹å¿ƒç†å’¨è¯¢å¸ˆæƒå¨ä»£è¡¨ä½œï¼Œå…¨çƒç°è±¡çº§å©šæ‹ç•…é”€ä¹¦ï¼ŒTEDæ¼”è®²ç‚¹å‡»é‡è¶…2800ä¸‡ ï¼Œ30ç§è¯­è¨€å‡ºç‰ˆï¼Œ12å¹´ç•…é”€ä¸è¡°ï¼‰</p><p>pdfï¼Œtxtï¼Œepubï¼Œmobi 4æ ¼å¼é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/187AaMSxCP6wHFdYXmLraxQ" target="_blank" rel="noopener">https://pan.baidu.com/s/187AaMSxCP6wHFdYXmLraxQ</a> </p><p>æå–ç ï¼šcxjo</p><p>â˜…ã€Šå»ç”Ÿæ´»ï¼šæ¾æµ¦å¼¥å¤ªéƒçš„ç”Ÿæ´»å·§æ€ã€‹</p><p>*ä½œè€…ï¼šã€æ—¥ã€‘æ¾æµ¦å¼¥å¤ªéƒ, åº„åƒé‡Œ</p><p>â€”ï¼ˆç»§æ—¥æœ¬å›½æ°‘ç”Ÿæ´»æŒ‡å—ã€Š100ä¸ªåŸºæœ¬ã€‹ä¹‹åï¼Œå½±å“æ•°ç™¾ä¸‡æ—¥æœ¬å¹´è½»äººçš„ç”Ÿæ´»ç¾å­¦å¤§å¸ˆæ¾æµ¦å¼¥å¤ªéƒåˆä¸€ç”Ÿæ´»å“²å­¦åŠ›ä½œã€‚ï¼‰</p><p>pdfï¼Œtxtï¼Œepubï¼Œmobi 4æ ¼å¼é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1u0L5ZuJynIAyGH85XFQKQw" target="_blank" rel="noopener">https://pan.baidu.com/s/1u0L5ZuJynIAyGH85XFQKQw</a> </p><p>æå–ç ï¼š04ay </p><p>æ¨Šç™»è¯»ä¹¦2020-01-25ã€Šä¸­å›½æ–‡åŒ–çš„ç²¾ç¥ã€‹é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1RisdAFc_LqXuKF9OX-iY-w" target="_blank" rel="noopener">https://pan.baidu.com/s/1RisdAFc_LqXuKF9OX-iY-w</a> </p><p>æå–ç ï¼še0w9 </p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>EBook</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç”µå­ä¹¦</tag>
      
      <tag>EBook</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Spring Cloud Feignè®¾è®¡åŸç†</title>
    <link href="/2019/12/24/Spring-Cloud-Feign%E8%AE%BE%E8%AE%A1%E5%8E%9F%E7%90%86/"/>
    <url>/2019/12/24/Spring-Cloud-Feign%E8%AE%BE%E8%AE%A1%E5%8E%9F%E7%90%86/</url>
    
    <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯Feignï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯Feignï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯Feignï¼Ÿ"></a>ä»€ä¹ˆæ˜¯Feignï¼Ÿ</h2><p>Feign çš„è‹±æ–‡è¡¨æ„ä¸ºâ€œå‡è£…ï¼Œä¼ªè£…ï¼Œå˜å½¢â€ï¼Œ æ˜¯ä¸€ä¸ªhttpè¯·æ±‚è°ƒç”¨çš„è½»é‡çº§æ¡†æ¶ï¼Œå¯ä»¥ä»¥Javaæ¥å£æ³¨è§£çš„æ–¹å¼è°ƒç”¨Httpè¯·æ±‚ï¼Œè€Œä¸ç”¨åƒJavaä¸­é€šè¿‡å°è£…HTTPè¯·æ±‚æŠ¥æ–‡çš„æ–¹å¼ç›´æ¥è°ƒç”¨ã€‚Feigné€šè¿‡å¤„ç†æ³¨è§£ï¼Œå°†è¯·æ±‚æ¨¡æ¿åŒ–ï¼Œå½“å®é™…è°ƒç”¨çš„æ—¶å€™ï¼Œä¼ å…¥å‚æ•°ï¼Œæ ¹æ®å‚æ•°å†åº”ç”¨åˆ°è¯·æ±‚ä¸Šï¼Œè¿›è€Œè½¬åŒ–æˆçœŸæ­£çš„è¯·æ±‚ï¼Œè¿™ç§è¯·æ±‚ç›¸å¯¹è€Œè¨€æ¯”è¾ƒç›´è§‚ã€‚<br>Feignè¢«å¹¿æ³›åº”ç”¨åœ¨Spring Cloud çš„è§£å†³æ–¹æ¡ˆä¸­ï¼Œæ˜¯å­¦ä¹ åŸºäºSpring Cloud å¾®æœåŠ¡æ¶æ„ä¸å¯æˆ–ç¼ºçš„é‡è¦ç»„ä»¶ã€‚<br>å¼€æºé¡¹ç›®åœ°å€ï¼š<br><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2FOpenFeign%2Ffeign" target="_blank" rel="noopener">https://github.com/OpenFeign/feign</a></p><h2 id="Feignè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ"><a href="#Feignè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ" class="headerlink" title="Feignè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ"></a>Feignè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h2><p><strong>å°è£…äº†Httpè°ƒç”¨æµç¨‹ï¼Œæ›´é€‚åˆé¢å‘æ¥å£åŒ–çš„å˜æˆä¹ æƒ¯</strong><br>åœ¨æœåŠ¡è°ƒç”¨çš„åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸è°ƒç”¨åŸºäºHttpåè®®çš„æœåŠ¡ï¼Œè€Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨åˆ°çš„æ¡†æ¶å¯èƒ½æœ‰HttpURLConnectionã€Apache HttpComponnetsã€OkHttp3 ã€Nettyç­‰ç­‰ï¼Œè¿™äº›æ¡†æ¶åœ¨åŸºäºè‡ªèº«çš„ä¸“æ³¨ç‚¹æä¾›äº†è‡ªèº«ç‰¹æ€§ã€‚è€Œä»è§’è‰²åˆ’åˆ†ä¸Šæ¥çœ‹ï¼Œä»–ä»¬çš„èŒèƒ½æ˜¯ä¸€è‡´çš„æä¾›Httpè°ƒç”¨æœåŠ¡ã€‚å…·ä½“æµç¨‹å¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1ga7scfseulj30p10gdq3t.jpg" srcset="/img/loading.gif" alt="img"></p><h2 id="Feignæ˜¯å¦‚ä½•è®¾è®¡çš„ï¼Ÿ"><a href="#Feignæ˜¯å¦‚ä½•è®¾è®¡çš„ï¼Ÿ" class="headerlink" title="Feignæ˜¯å¦‚ä½•è®¾è®¡çš„ï¼Ÿ"></a>Feignæ˜¯å¦‚ä½•è®¾è®¡çš„ï¼Ÿ</h2><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1ga7sck4dinj30o70ufwgj.jpg" srcset="/img/loading.gif" alt="img"></p><h4 id="PHASE-1-åŸºäºé¢å‘æ¥å£çš„åŠ¨æ€ä»£ç†æ–¹å¼ç”Ÿæˆå®ç°ç±»"><a href="#PHASE-1-åŸºäºé¢å‘æ¥å£çš„åŠ¨æ€ä»£ç†æ–¹å¼ç”Ÿæˆå®ç°ç±»" class="headerlink" title="PHASE 1. åŸºäºé¢å‘æ¥å£çš„åŠ¨æ€ä»£ç†æ–¹å¼ç”Ÿæˆå®ç°ç±»"></a>PHASE 1. åŸºäºé¢å‘æ¥å£çš„åŠ¨æ€ä»£ç†æ–¹å¼ç”Ÿæˆå®ç°ç±»</h4><p>åœ¨ä½¿ç”¨feign æ—¶ï¼Œä¼šå®šä¹‰å¯¹åº”çš„æ¥å£ç±»ï¼Œåœ¨æ¥å£ç±»ä¸Šä½¿ç”¨Httpç›¸å…³çš„æ³¨è§£ï¼Œæ ‡è¯†HTTPè¯·æ±‚å‚æ•°ä¿¡æ¯,å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">GitHub</span> </span>&#123;  <span class="hljs-meta">@RequestLine</span>(<span class="hljs-string">"GET /repos/&#123;owner&#125;/&#123;repo&#125;/contributors"</span>)  <span class="hljs-function">List&lt;Contributor&gt; <span class="hljs-title">contributors</span><span class="hljs-params">(@Param(<span class="hljs-string">"owner"</span>)</span> String owner, @<span class="hljs-title">Param</span><span class="hljs-params">(<span class="hljs-string">"repo"</span>)</span> String repo)</span>;&#125;<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Contributor</span> </span>&#123;  String login;  <span class="hljs-keyword">int</span> contributions;&#125;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> </span>&#123;  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String... args)</span> </span>&#123;    GitHub github = Feign.builder()                         .decoder(<span class="hljs-keyword">new</span> GsonDecoder())                         .target(GitHub.class, "https://api.github.com");      <span class="hljs-comment">// Fetch and print a list of the contributors to this library.</span>    List&lt;Contributor&gt; contributors = github.contributors(<span class="hljs-string">"OpenFeign"</span>, <span class="hljs-string">"feign"</span>);    <span class="hljs-keyword">for</span> (Contributor contributor : contributors) &#123;      System.out.println(contributor.login + <span class="hljs-string">" ("</span> + contributor.contributions + <span class="hljs-string">")"</span>);    &#125;  &#125;&#125;</code></pre><p>åœ¨Feign åº•å±‚ï¼Œé€šè¿‡åŸºäºé¢å‘æ¥å£çš„åŠ¨æ€ä»£ç†æ–¹å¼ç”Ÿæˆå®ç°ç±»ï¼Œå°†è¯·æ±‚è°ƒç”¨å§”æ‰˜åˆ°åŠ¨æ€ä»£ç†å®ç°ç±»ï¼ŒåŸºæœ¬åŸç†å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1ga7sct0h8dj30ln0a3aar.jpg" srcset="/img/loading.gif" alt="img"></p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ReflectiveFeign</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Feign</span></span>&#123; <span class="hljs-comment">///çœç•¥éƒ¨åˆ†ä»£ç </span> <span class="hljs-meta">@Override</span> <span class="hljs-keyword">public</span> &lt;T&gt; <span class="hljs-function">T <span class="hljs-title">newInstance</span><span class="hljs-params">(Target&lt;T&gt; target)</span> </span>&#123;   <span class="hljs-comment">//æ ¹æ®æ¥å£ç±»å’ŒContractåè®®è§£ææ–¹å¼ï¼Œè§£ææ¥å£ç±»ä¸Šçš„æ–¹æ³•å’Œæ³¨è§£ï¼Œè½¬æ¢æˆå†…éƒ¨çš„MethodHandlerå¤„ç†æ–¹å¼</span>   Map&lt;String, MethodHandler&gt; nameToHandler = targetToHandlersByName.apply(target);   Map&lt;Method, MethodHandler&gt; methodToHandler = <span class="hljs-keyword">new</span> LinkedHashMap&lt;Method, MethodHandler&gt;();   List&lt;DefaultMethodHandler&gt; defaultMethodHandlers = <span class="hljs-keyword">new</span> LinkedList&lt;DefaultMethodHandler&gt;();   <span class="hljs-keyword">for</span> (Method method : target.type().getMethods()) &#123;     <span class="hljs-keyword">if</span> (method.getDeclaringClass() == Object<span class="hljs-class">.<span class="hljs-keyword">class</span>) </span>&#123;       <span class="hljs-keyword">continue</span>;     &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(Util.isDefault(method)) &#123;       DefaultMethodHandler handler = <span class="hljs-keyword">new</span> DefaultMethodHandler(method);       defaultMethodHandlers.add(handler);       methodToHandler.put(method, handler);     &#125; <span class="hljs-keyword">else</span> &#123;       methodToHandler.put(method, nameToHandler.get(Feign.configKey(target.type(), method)));     &#125;   &#125;   InvocationHandler handler = factory.create(target, methodToHandler);   <span class="hljs-comment">// åŸºäºProxy.newProxyInstance ä¸ºæ¥å£ç±»åˆ›å»ºåŠ¨æ€å®ç°ï¼Œå°†æ‰€æœ‰çš„è¯·æ±‚è½¬æ¢ç»™InvocationHandler å¤„ç†ã€‚</span>   T proxy = (T) Proxy.newProxyInstance(target.type().getClassLoader(), <span class="hljs-keyword">new</span> Class&lt;?&gt;[]&#123;target.type()&#125;, handler);   <span class="hljs-keyword">for</span>(DefaultMethodHandler defaultMethodHandler : defaultMethodHandlers) &#123;     defaultMethodHandler.bindTo(proxy);   &#125;   <span class="hljs-keyword">return</span> proxy; &#125; <span class="hljs-comment">//çœç•¥éƒ¨åˆ†ä»£ç </span></code></pre><h4 id="PHASE-2-æ ¹æ®Contractåè®®è§„åˆ™ï¼Œè§£ææ¥å£ç±»çš„æ³¨è§£ä¿¡æ¯ï¼Œè§£ææˆå†…éƒ¨è¡¨ç°ï¼š"><a href="#PHASE-2-æ ¹æ®Contractåè®®è§„åˆ™ï¼Œè§£ææ¥å£ç±»çš„æ³¨è§£ä¿¡æ¯ï¼Œè§£ææˆå†…éƒ¨è¡¨ç°ï¼š" class="headerlink" title="PHASE 2. æ ¹æ®Contractåè®®è§„åˆ™ï¼Œè§£ææ¥å£ç±»çš„æ³¨è§£ä¿¡æ¯ï¼Œè§£ææˆå†…éƒ¨è¡¨ç°ï¼š"></a>PHASE 2. æ ¹æ®Contractåè®®è§„åˆ™ï¼Œè§£ææ¥å£ç±»çš„æ³¨è§£ä¿¡æ¯ï¼Œè§£ææˆå†…éƒ¨è¡¨ç°ï¼š</h4><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1ga7sczwxdyj30pf0didgq.jpg" srcset="/img/loading.gif" alt="img"></p><p>Feign å®šä¹‰äº†è½¬æ¢åè®®ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š</p><pre><code class="hljs java"><span class="hljs-comment">/**</span><span class="hljs-comment"> * Defines what annotations and values are valid on interfaces.</span><span class="hljs-comment"> */</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Contract</span> </span>&#123;  <span class="hljs-comment">/**</span><span class="hljs-comment">   * Called to parse the methods in the class that are linked to HTTP requests.</span><span class="hljs-comment">   * ä¼ å…¥æ¥å£å®šä¹‰ï¼Œè§£ææˆç›¸åº”çš„æ–¹æ³•å†…éƒ¨å…ƒæ•°æ®è¡¨ç¤º</span><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> targetType &#123;<span class="hljs-doctag">@link</span> feign.Target#type() type&#125; of the Feign interface.</span><span class="hljs-comment">   */</span>  <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> break this and correct spelling at some point</span>  <span class="hljs-function">List&lt;MethodMetadata&gt; <span class="hljs-title">parseAndValidatateMetadata</span><span class="hljs-params">(Class&lt;?&gt; targetType)</span></span>;&#125;</code></pre><h5 id="é»˜è®¤Contract-å®ç°"><a href="#é»˜è®¤Contract-å®ç°" class="headerlink" title="é»˜è®¤Contract å®ç°"></a>é»˜è®¤Contract å®ç°</h5><p>Feign é»˜è®¤æœ‰ä¸€å¥—è‡ªå·±çš„åè®®è§„èŒƒï¼Œè§„å®šäº†ä¸€äº›æ³¨è§£ï¼Œå¯ä»¥æ˜ å°„æˆå¯¹åº”çš„Httpè¯·æ±‚ï¼Œå¦‚å®˜æ–¹çš„ä¸€ä¸ªä¾‹å­ï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">GitHub</span> </span>&#123;    <span class="hljs-meta">@RequestLine</span>(<span class="hljs-string">"GET /repos/&#123;owner&#125;/&#123;repo&#125;/contributors"</span>)  <span class="hljs-function">List&lt;Contributor&gt; <span class="hljs-title">getContributors</span><span class="hljs-params">(@Param(<span class="hljs-string">"owner"</span>)</span> String owner, @<span class="hljs-title">Param</span><span class="hljs-params">(<span class="hljs-string">"repo"</span>)</span> String repository)</span>;    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Contributor</span> </span>&#123;    String login;    <span class="hljs-keyword">int</span> contributions;  &#125;&#125;</code></pre><p>ä¸Šè¿°çš„ä¾‹å­ä¸­ï¼Œå°è¯•è°ƒç”¨GitHub.getContributors(â€œfooâ€,â€myrepoâ€)çš„çš„æ—¶å€™ï¼Œä¼šè½¬æ¢æˆå¦‚ä¸‹çš„HTTPè¯·æ±‚ï¼š</p><pre><code class="hljs http">GET /repos/foo/myrepo/contributorsHOST XXXX.XXX.XXX</code></pre><p>Feign é»˜è®¤çš„åè®®è§„èŒƒ</p><table><thead><tr><th>æ³¨è§£</th><th>æ¥å£Target</th><th>ä½¿ç”¨è¯´æ˜</th></tr></thead><tbody><tr><td><code>@RequestLine</code></td><td>æ–¹æ³•ä¸Š</td><td>å®šä¹‰HttpMethod å’Œ UriTemplate. UriTemplate ä¸­ä½¿ç”¨<code>{}</code> åŒ…è£¹çš„è¡¨è¾¾å¼ï¼Œå¯ä»¥é€šè¿‡åœ¨æ–¹æ³•å‚æ•°ä¸Šä½¿ç”¨@Param è‡ªåŠ¨æ³¨å…¥</td></tr><tr><td><code>@Param</code></td><td>æ–¹æ³•å‚æ•°</td><td>å®šä¹‰æ¨¡æ¿å˜é‡ï¼Œæ¨¡æ¿å˜é‡çš„å€¼å¯ä»¥ä½¿ç”¨åç§°çš„æ–¹å¼ä½¿ç”¨æ¨¡æ¿æ³¨å…¥è§£æ</td></tr><tr><td><code>@Headers</code></td><td>ç±»ä¸Šæˆ–è€…æ–¹æ³•ä¸Š</td><td>å®šä¹‰å¤´éƒ¨æ¨¡æ¿å˜é‡ï¼Œä½¿ç”¨@Param æ³¨è§£æä¾›å‚æ•°å€¼çš„æ³¨å…¥ã€‚å¦‚æœè¯¥æ³¨è§£æ·»åŠ åœ¨æ¥å£ç±»ä¸Šï¼Œåˆ™æ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šæºå¸¦å¯¹åº”çš„Headerä¿¡æ¯ï¼›å¦‚æœåœ¨æ–¹æ³•ä¸Šï¼Œåˆ™åªä¼šæ·»åŠ åˆ°å¯¹åº”çš„æ–¹æ³•è¯·æ±‚ä¸Š</td></tr><tr><td><code>@QueryMap</code></td><td>æ–¹æ³•ä¸Š</td><td>å®šä¹‰ä¸€ä¸ªé”®å€¼å¯¹æˆ–è€… pojoï¼Œå‚æ•°å€¼å°†ä¼šè¢«è½¬æ¢æˆURLä¸Šçš„ query å­—ç¬¦ä¸²ä¸Š</td></tr><tr><td><code>@HeaderMap</code></td><td>æ–¹æ³•ä¸Š</td><td>å®šä¹‰ä¸€ä¸ªHeaderMap, ä¸ UrlTemplate å’ŒHeaderTemplate ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨@Param æ³¨è§£æä¾›å‚æ•°å€¼</td></tr></tbody></table><p>å…·ä½“FeignContract æ˜¯å¦‚ä½•è§£æçš„ï¼Œä¸åœ¨æœ¬æ–‡çš„ä»‹ç»èŒƒå›´å†…ï¼Œè¯¦æƒ…è¯·å‚è€ƒä»£ç ï¼š<br><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2FOpenFeign%2Ffeign%2Fblob%2Fmaster%2Fcore%2Fsrc%2Fmain%2Fjava%2Ffeign%2FContract.java" target="_blank" rel="noopener">https://github.com/OpenFeign/feign/blob/master/core/src/main/java/feign/Contract.java</a></p><h5 id="åŸºäºSpring-MVCçš„åè®®è§„èŒƒSpringMvcContract"><a href="#åŸºäºSpring-MVCçš„åè®®è§„èŒƒSpringMvcContract" class="headerlink" title="åŸºäºSpring MVCçš„åè®®è§„èŒƒSpringMvcContract:"></a>åŸºäºSpring MVCçš„åè®®è§„èŒƒSpringMvcContract:</h5><p>å½“å‰Spring Cloud å¾®æœåŠ¡è§£å†³æ–¹æ¡ˆä¸­ï¼Œä¸ºäº†é™ä½å­¦ä¹ æˆæœ¬ï¼Œé‡‡ç”¨äº†Spring MVCçš„éƒ¨åˆ†æ³¨è§£æ¥å®Œæˆ è¯·æ±‚åè®®è§£æï¼Œä¹Ÿå°±æ˜¯è¯´ ï¼Œå†™å®¢æˆ·ç«¯è¯·æ±‚æ¥å£å’Œåƒå†™æœåŠ¡ç«¯ä»£ç ä¸€æ ·ï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å¯ä»¥é€šè¿‡SDKçš„æ–¹å¼è¿›è¡Œçº¦å®šï¼Œå®¢æˆ·ç«¯åªéœ€è¦å¼•å…¥æœåŠ¡ç«¯å‘å¸ƒçš„SDK APIï¼Œå°±å¯ä»¥ä½¿ç”¨é¢å‘æ¥å£çš„ç¼–ç æ–¹å¼å¯¹æ¥æœåŠ¡ï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1ga7sd3ug9pj30hv0bpmxp.jpg" srcset="/img/loading.gif" alt="img"></p><blockquote><p>æˆ‘ä»¬å›¢é˜Ÿå†…éƒ¨å°±æ˜¯æŒ‰ç…§è¿™ç§æ€è·¯ï¼Œç»“åˆSpring Boot Starter çš„ç‰¹æ€§ï¼Œå®šä¹‰äº†æœåŠ¡ç«¯starter,<br>æœåŠ¡æ¶ˆè´¹è€…åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œåªéœ€è¦å¼•å…¥Starterï¼Œå°±å¯ä»¥è°ƒç”¨æœåŠ¡ã€‚è¿™ä¸ªæ¯”è¾ƒé€‚åˆå¹³å°æ— å…³æ€§ï¼Œæ¥å£æŠ½è±¡å‡ºæ¥çš„å¥½å¤„å°±æ˜¯å¯ä»¥æ ¹æ®æœåŠ¡è°ƒç”¨å®ç°æ–¹å¼è‡ªæœ‰åˆ‡æ¢ï¼š</p><ol><li>å¯ä»¥åŸºäºç®€å•çš„HttpæœåŠ¡è°ƒç”¨ï¼›</li><li>å¯ä»¥åŸºäºSpring Cloud å¾®æœåŠ¡æ¶æ„è°ƒç”¨ï¼›</li><li>å¯ä»¥åŸºäºDubbo SOAæœåŠ¡æ²»ç†</li></ol><p>è¿™ç§æ¨¡å¼æ¯”è¾ƒé€‚åˆåœ¨SaSSæ··åˆè½¯ä»¶æœåŠ¡çš„æ¨¡å¼ä¸‹è‡ªæœ‰åˆ‡æ¢ï¼Œæ ¹æ®å®¢æˆ·çš„ç¡¬ä»¶èƒ½åŠ›é€‰æ‹©åˆé€‚çš„æ–¹å¼éƒ¨ç½²ï¼Œä¹Ÿå¯ä»¥åŸºäºè‡ªèº«çš„æœåŠ¡é›†ç¾¤éƒ¨ç½²å¾®æœåŠ¡</p></blockquote><p>è‡³äºSpring Cloud æ˜¯å¦‚ä½•å®ç° åè®®è§£æçš„ï¼Œå¯å‚è€ƒä»£ç ï¼š<br><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fspring-cloud%2Fspring-cloud-openfeign%2Fblob%2Fmaster%2Fspring-cloud-openfeign-core%2Fsrc%2Fmain%2Fjava%2Forg%2Fspringframework%2Fcloud%2Fopenfeign%2Fsupport%2FSpringMvcContract.java" target="_blank" rel="noopener">https://github.com/spring-cloud/spring-cloud-openfeign/blob/master/spring-cloud-openfeign-core/src/main/java/org/springframework/cloud/openfeign/support/SpringMvcContract.java</a></p><p>å½“ç„¶ï¼Œç›®å‰çš„Spring MVCçš„æ³¨è§£å¹¶ä¸æ˜¯å¯ä»¥å®Œå…¨ä½¿ç”¨çš„ï¼Œæœ‰ä¸€äº›æ³¨è§£å¹¶ä¸æ”¯æŒ,å¦‚<code>@GetMapping</code>,<code>@PutMapping</code> ç­‰ï¼Œä»…æ”¯æŒä½¿ç”¨<code>@RequestMapping</code> ç­‰ï¼Œå¦å¤–æ³¨è§£ç»§æ‰¿æ€§æ–¹é¢ä¹Ÿæœ‰äº›é—®é¢˜ï¼›å…·ä½“é™åˆ¶ç»†èŠ‚ï¼Œæ¯ä¸ªç‰ˆæœ¬èƒ½ä¼šæœ‰äº›å‡ºå…¥ï¼Œå¯ä»¥å‚è€ƒä¸Šè¿°çš„ä»£ç å®ç°ï¼Œæ¯”è¾ƒç®€å•ã€‚</p><blockquote><p>Spring Cloud æ²¡æœ‰åŸºäºSpring MVC å…¨éƒ¨æ³¨è§£æ¥åšFeign å®¢æˆ·ç«¯æ³¨è§£åè®®è§£æï¼Œä¸ªäººè®¤ä¸ºè¿™ä¸ªæ˜¯ä¸€ä¸ªä¸å°çš„å‘ã€‚åœ¨åˆšå…¥æ‰‹Spring Cloud çš„æ—¶å€™ï¼Œå°±ç¢°åˆ°è¿™ä¸ªé—®é¢˜ã€‚åæ¥æ˜¯æ·±å…¥ä»£ç æ‰è§£å†³çš„â€¦. è¿™ä¸ªåº”è¯¥æœ‰äººå†™äº†å¢å¼ºç±»æ¥å¤„ç†ï¼Œæš‚ä¸”ä¸è¡¨ï¼Œå…ˆMARKä¸€ä¸‹ï¼Œæ˜¯ä¸€ä¸ªå¼€æºä»£ç ç»ƒæ‰‹çš„å¥½æœºä¼šã€‚</p></blockquote><h5 id="PHASE-3-åŸºäº-RequestBeanï¼ŒåŠ¨æ€ç”ŸæˆRequest"><a href="#PHASE-3-åŸºäº-RequestBeanï¼ŒåŠ¨æ€ç”ŸæˆRequest" class="headerlink" title="PHASE 3. åŸºäº RequestBeanï¼ŒåŠ¨æ€ç”ŸæˆRequest"></a>PHASE 3. åŸºäº RequestBeanï¼ŒåŠ¨æ€ç”ŸæˆRequest</h5><p>æ ¹æ®ä¼ å…¥çš„Beanå¯¹è±¡å’Œæ³¨è§£ä¿¡æ¯ï¼Œä»ä¸­æå–å‡ºç›¸åº”çš„å€¼ï¼Œæ¥æ„é€ Http Request å¯¹è±¡ï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1ga7sd6wfyrj30r60bb0tf.jpg" srcset="/img/loading.gif" alt="img"></p><h5 id="PHASE-4-ä½¿ç”¨Encoder-å°†Beanè½¬æ¢æˆ-HttpæŠ¥æ–‡æ­£æ–‡ï¼ˆæ¶ˆæ¯è§£æå’Œè½¬ç é€»è¾‘ï¼‰"><a href="#PHASE-4-ä½¿ç”¨Encoder-å°†Beanè½¬æ¢æˆ-HttpæŠ¥æ–‡æ­£æ–‡ï¼ˆæ¶ˆæ¯è§£æå’Œè½¬ç é€»è¾‘ï¼‰" class="headerlink" title="PHASE 4. ä½¿ç”¨Encoder å°†Beanè½¬æ¢æˆ HttpæŠ¥æ–‡æ­£æ–‡ï¼ˆæ¶ˆæ¯è§£æå’Œè½¬ç é€»è¾‘ï¼‰"></a>PHASE 4. ä½¿ç”¨Encoder å°†Beanè½¬æ¢æˆ HttpæŠ¥æ–‡æ­£æ–‡ï¼ˆæ¶ˆæ¯è§£æå’Œè½¬ç é€»è¾‘ï¼‰</h5><p>Feign æœ€ç»ˆä¼šå°†è¯·æ±‚è½¬æ¢æˆHttp æ¶ˆæ¯å‘é€å‡ºå»ï¼Œä¼ å…¥çš„è¯·æ±‚å¯¹è±¡æœ€ç»ˆä¼šè§£ææˆæ¶ˆæ¯ä½“ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1ga7sd8dfm6j30jz0i574y.jpg" srcset="/img/loading.gif" alt="img"></p><p>åœ¨æ¥å£å®šä¹‰ä¸ŠFeignåšçš„æ¯”è¾ƒç®€å•ï¼ŒæŠ½è±¡å‡ºäº†Encoder å’Œdecoder æ¥å£ï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Encoder</span> </span>&#123;  <span class="hljs-comment">/** Type literal for &#123;<span class="hljs-doctag">@code</span> Map&lt;String, ?&gt;&#125;, indicating the object to encode is a form. */</span>  Type MAP_STRING_WILDCARD = Util.MAP_STRING_WILDCARD;  <span class="hljs-comment">/**</span><span class="hljs-comment">   * Converts objects to an appropriate representation in the template.</span><span class="hljs-comment">   *  å°†å®ä½“å¯¹è±¡è½¬æ¢æˆHttpè¯·æ±‚çš„æ¶ˆæ¯æ­£æ–‡ä¸­</span><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> object   what to encode as the request body.</span><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> bodyType the type the object should be encoded as. &#123;<span class="hljs-doctag">@link</span> #MAP_STRING_WILDCARD&#125;</span><span class="hljs-comment">   *                 indicates form encoding.</span><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> template the request template to populate.</span><span class="hljs-comment">   * <span class="hljs-doctag">@throws</span> EncodeException when encoding failed due to a checked exception.</span><span class="hljs-comment">   */</span>  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">encode</span><span class="hljs-params">(Object object, Type bodyType, RequestTemplate template)</span> <span class="hljs-keyword">throws</span> EncodeException</span>;  <span class="hljs-comment">/**</span><span class="hljs-comment">   * Default implementation of &#123;<span class="hljs-doctag">@code</span> Encoder&#125;.</span><span class="hljs-comment">   */</span>  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Default</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Encoder</span> </span>&#123;    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">encode</span><span class="hljs-params">(Object object, Type bodyType, RequestTemplate template)</span> </span>&#123;      <span class="hljs-keyword">if</span> (bodyType == String<span class="hljs-class">.<span class="hljs-keyword">class</span>) </span>&#123;        template.body(object.toString());      &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (bodyType == <span class="hljs-keyword">byte</span>[]<span class="hljs-class">.<span class="hljs-keyword">class</span>) </span>&#123;        template.body((<span class="hljs-keyword">byte</span>[]) object, <span class="hljs-keyword">null</span>);      &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (object != <span class="hljs-keyword">null</span>) &#123;        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> EncodeException(            format(<span class="hljs-string">"%s is not a type supported by this encoder."</span>, object.getClass()));      &#125;    &#125;  &#125;&#125;</code></pre><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Decoder</span> </span>&#123;  <span class="hljs-comment">/**</span><span class="hljs-comment">   * Decodes an http response into an object corresponding to its &#123;<span class="hljs-doctag">@link</span></span><span class="hljs-comment">   * java.lang.reflect.Method#getGenericReturnType() generic return type&#125;. If you need to wrap</span><span class="hljs-comment">   * exceptions, please do so via &#123;<span class="hljs-doctag">@link</span> DecodeException&#125;.</span><span class="hljs-comment">   *  ä»Response ä¸­æå–Httpæ¶ˆæ¯æ­£æ–‡ï¼Œé€šè¿‡æ¥å£ç±»å£°æ˜çš„è¿”å›ç±»å‹ï¼Œæ¶ˆæ¯è‡ªåŠ¨è£…é…</span><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> response the response to decode </span><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> type     &#123;<span class="hljs-doctag">@link</span> java.lang.reflect.Method#getGenericReturnType() generic return type&#125; of</span><span class="hljs-comment">   *                 the method corresponding to this &#123;<span class="hljs-doctag">@code</span> response&#125;.</span><span class="hljs-comment">   * <span class="hljs-doctag">@return</span> instance of &#123;<span class="hljs-doctag">@code</span> type&#125;</span><span class="hljs-comment">   * <span class="hljs-doctag">@throws</span> IOException     will be propagated safely to the caller.</span><span class="hljs-comment">   * <span class="hljs-doctag">@throws</span> DecodeException when decoding failed due to a checked exception besides IOException.</span><span class="hljs-comment">   * <span class="hljs-doctag">@throws</span> FeignException  when decoding succeeds, but conveys the operation failed.</span><span class="hljs-comment">   */</span>  <span class="hljs-function">Object <span class="hljs-title">decode</span><span class="hljs-params">(Response response, Type type)</span> <span class="hljs-keyword">throws</span> IOException, DecodeException, FeignException</span>;  <span class="hljs-comment">/** Default implementation of &#123;<span class="hljs-doctag">@code</span> Decoder&#125;. */</span>  <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Default</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StringDecoder</span> </span>&#123;    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> Object <span class="hljs-title">decode</span><span class="hljs-params">(Response response, Type type)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;      <span class="hljs-keyword">if</span> (response.status() == <span class="hljs-number">404</span>) <span class="hljs-keyword">return</span> Util.emptyValueOf(type);      <span class="hljs-keyword">if</span> (response.body() == <span class="hljs-keyword">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">byte</span>[]<span class="hljs-class">.<span class="hljs-keyword">class</span>.<span class="hljs-title">equals</span>(<span class="hljs-title">type</span>)) </span>&#123;        <span class="hljs-keyword">return</span> Util.toByteArray(response.body().asInputStream());      &#125;      <span class="hljs-keyword">return</span> <span class="hljs-keyword">super</span>.decode(response, type);    &#125;  &#125;&#125;</code></pre><p>ç›®å‰Feign æœ‰ä»¥ä¸‹å®ç°ï¼š</p><table><thead><tr><th align="left">Encoder/ Decoder å®ç°</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">JacksonEncoderï¼ŒJacksonDecoder</td><td align="left">åŸºäº Jackson æ ¼å¼çš„æŒä¹…åŒ–è½¬æ¢åè®®</td></tr><tr><td align="left">GsonEncoderï¼ŒGsonDecoder</td><td align="left">åŸºäºGoogle GSON æ ¼å¼çš„æŒä¹…åŒ–è½¬æ¢åè®®</td></tr><tr><td align="left">SaxEncoderï¼ŒSaxDecoder</td><td align="left">åŸºäºXML æ ¼å¼çš„Sax åº“æŒä¹…åŒ–è½¬æ¢åè®®</td></tr><tr><td align="left">JAXBEncoderï¼ŒJAXBDecoder</td><td align="left">åŸºäºXML æ ¼å¼çš„JAXB åº“æŒä¹…åŒ–è½¬æ¢åè®®</td></tr><tr><td align="left">ResponseEntityEncoderï¼ŒResponseEntityDecoder</td><td align="left">Spring MVC åŸºäº ResponseEntity&lt; T &gt; è¿”å›æ ¼å¼çš„è½¬æ¢åè®®</td></tr><tr><td align="left">SpringEncoderï¼ŒSpringDecoder</td><td align="left">åŸºäºSpring MVC HttpMessageConverters ä¸€å¥—æœºåˆ¶å®ç°çš„è½¬æ¢åè®® ,åº”ç”¨äºSpring Cloud ä½“ç³»ä¸­</td></tr></tbody></table><h5 id="PHASE-5-æ‹¦æˆªå™¨è´Ÿè´£å¯¹è¯·æ±‚å’Œè¿”å›è¿›è¡Œè£…é¥°å¤„ç†"><a href="#PHASE-5-æ‹¦æˆªå™¨è´Ÿè´£å¯¹è¯·æ±‚å’Œè¿”å›è¿›è¡Œè£…é¥°å¤„ç†" class="headerlink" title="PHASE 5. æ‹¦æˆªå™¨è´Ÿè´£å¯¹è¯·æ±‚å’Œè¿”å›è¿›è¡Œè£…é¥°å¤„ç†"></a>PHASE 5. æ‹¦æˆªå™¨è´Ÿè´£å¯¹è¯·æ±‚å’Œè¿”å›è¿›è¡Œè£…é¥°å¤„ç†</h5><p>åœ¨è¯·æ±‚è½¬æ¢çš„è¿‡ç¨‹ä¸­ï¼ŒFeign æŠ½è±¡å‡ºæ¥äº†æ‹¦æˆªå™¨æ¥å£ï¼Œç”¨äºç”¨æˆ·è‡ªå®šä¹‰å¯¹è¯·æ±‚çš„æ“ä½œï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">RequestInterceptor</span> </span>&#123;  <span class="hljs-comment">/**</span><span class="hljs-comment">   * å¯ä»¥åœ¨æ„é€ RequestTemplate è¯·æ±‚æ—¶ï¼Œå¢åŠ æˆ–è€…ä¿®æ”¹Header, Method, Body ç­‰ä¿¡æ¯</span><span class="hljs-comment">   * Called for every request. Add data using methods on the supplied &#123;<span class="hljs-doctag">@link</span> RequestTemplate&#125;.</span><span class="hljs-comment">   */</span>  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">apply</span><span class="hljs-params">(RequestTemplate template)</span></span>;&#125;</code></pre><p>æ¯”å¦‚ï¼Œå¦‚æœå¸Œæœ›Httpæ¶ˆæ¯ä¼ é€’è¿‡ç¨‹ä¸­è¢«å‹ç¼©ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªè¯·æ±‚æ‹¦æˆªå™¨ï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FeignAcceptGzipEncodingInterceptor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseRequestInterceptor</span> </span>&#123;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * Creates new instance of &#123;<span class="hljs-doctag">@link</span> FeignAcceptGzipEncodingInterceptor&#125;.</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> properties the encoding properties</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-title">FeignAcceptGzipEncodingInterceptor</span><span class="hljs-params">(FeignClientEncodingProperties properties)</span> </span>&#123;        <span class="hljs-keyword">super</span>(properties);    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * &#123;<span class="hljs-doctag">@inheritDoc</span>&#125;</span><span class="hljs-comment">     */</span>    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">apply</span><span class="hljs-params">(RequestTemplate template)</span> </span>&#123;        <span class="hljs-comment">//  åœ¨Header å¤´éƒ¨æ·»åŠ ç›¸åº”çš„æ•°æ®ä¿¡æ¯</span>        addHeader(template, HttpEncoding.ACCEPT_ENCODING_HEADER, HttpEncoding.GZIP_ENCODING,                HttpEncoding.DEFLATE_ENCODING);    &#125;&#125;</code></pre><h5 id="PHASE-6-æ—¥å¿—è®°å½•"><a href="#PHASE-6-æ—¥å¿—è®°å½•" class="headerlink" title="PHASE 6. æ—¥å¿—è®°å½•"></a>PHASE 6. æ—¥å¿—è®°å½•</h5><p>åœ¨å‘é€å’Œæ¥æ”¶è¯·æ±‚çš„æ—¶å€™ï¼ŒFeignå®šä¹‰äº†ç»Ÿä¸€çš„æ—¥å¿—é—¨é¢æ¥è¾“å‡ºæ—¥å¿—ä¿¡æ¯ , å¹¶ä¸”å°†æ—¥å¿—çš„è¾“å‡ºå®šä¹‰äº†å››ä¸ªç­‰çº§ï¼š</p><table><thead><tr><th align="left">çº§åˆ«</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">NONE</td><td align="left">ä¸åšä»»ä½•è®°å½•</td></tr><tr><td align="left">BASIC</td><td align="left">åªè®°å½•è¾“å‡ºHttp æ–¹æ³•åç§°ã€è¯·æ±‚URLã€è¿”å›çŠ¶æ€ç å’Œæ‰§è¡Œæ—¶é—´</td></tr><tr><td align="left">HEADERS</td><td align="left">è®°å½•è¾“å‡ºHttp æ–¹æ³•åç§°ã€è¯·æ±‚URLã€è¿”å›çŠ¶æ€ç å’Œæ‰§è¡Œæ—¶é—´ å’Œ Header ä¿¡æ¯</td></tr><tr><td align="left">FULL</td><td align="left">è®°å½•Request å’ŒResponseçš„Headerï¼ŒBodyå’Œä¸€äº›è¯·æ±‚å…ƒæ•°æ®</td></tr></tbody></table><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Logger</span> </span>&#123;  <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">methodTag</span><span class="hljs-params">(String configKey)</span> </span>&#123;    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> StringBuilder().append(<span class="hljs-string">'['</span>).append(configKey.substring(<span class="hljs-number">0</span>, configKey.indexOf(<span class="hljs-string">'('</span>)))        .append(<span class="hljs-string">"] "</span>).toString();  &#125;  <span class="hljs-comment">/**</span><span class="hljs-comment">   * Override to log requests and responses using your own implementation. Messages will be http</span><span class="hljs-comment">   * request and response text.</span><span class="hljs-comment">   *</span><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> configKey value of &#123;<span class="hljs-doctag">@link</span> Feign#configKey(Class, java.lang.reflect.Method)&#125;</span><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> format    &#123;<span class="hljs-doctag">@link</span> java.util.Formatter format string&#125;</span><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> args      arguments applied to &#123;<span class="hljs-doctag">@code</span> format&#125;</span><span class="hljs-comment">   */</span>  <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">log</span><span class="hljs-params">(String configKey, String format, Object... args)</span></span>;  <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">logRequest</span><span class="hljs-params">(String configKey, Level logLevel, Request request)</span> </span>&#123;    log(configKey, <span class="hljs-string">"---&gt; %s %s HTTP/1.1"</span>, request.method(), request.url());    <span class="hljs-keyword">if</span> (logLevel.ordinal() &gt;= Level.HEADERS.ordinal()) &#123;      <span class="hljs-keyword">for</span> (String field : request.headers().keySet()) &#123;        <span class="hljs-keyword">for</span> (String value : valuesOrEmpty(request.headers(), field)) &#123;          log(configKey, <span class="hljs-string">"%s: %s"</span>, field, value);        &#125;      &#125;      <span class="hljs-keyword">int</span> bodyLength = <span class="hljs-number">0</span>;      <span class="hljs-keyword">if</span> (request.body() != <span class="hljs-keyword">null</span>) &#123;        bodyLength = request.body().length;        <span class="hljs-keyword">if</span> (logLevel.ordinal() &gt;= Level.FULL.ordinal()) &#123;          String              bodyText =              request.charset() != <span class="hljs-keyword">null</span> ? <span class="hljs-keyword">new</span> String(request.body(), request.charset()) : <span class="hljs-keyword">null</span>;          log(configKey, <span class="hljs-string">""</span>); <span class="hljs-comment">// CRLF</span>          log(configKey, <span class="hljs-string">"%s"</span>, bodyText != <span class="hljs-keyword">null</span> ? bodyText : <span class="hljs-string">"Binary data"</span>);        &#125;      &#125;      log(configKey, <span class="hljs-string">"---&gt; END HTTP (%s-byte body)"</span>, bodyLength);    &#125;  &#125;  <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">logRetry</span><span class="hljs-params">(String configKey, Level logLevel)</span> </span>&#123;    log(configKey, <span class="hljs-string">"---&gt; RETRYING"</span>);  &#125;  <span class="hljs-function"><span class="hljs-keyword">protected</span> Response <span class="hljs-title">logAndRebufferResponse</span><span class="hljs-params">(String configKey, Level logLevel, Response response,</span></span><span class="hljs-function"><span class="hljs-params">                                            <span class="hljs-keyword">long</span> elapsedTime)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;    String reason = response.reason() != <span class="hljs-keyword">null</span> &amp;&amp; logLevel.compareTo(Level.NONE) &gt; <span class="hljs-number">0</span> ?        <span class="hljs-string">" "</span> + response.reason() : <span class="hljs-string">""</span>;    <span class="hljs-keyword">int</span> status = response.status();    log(configKey, <span class="hljs-string">"&lt;--- HTTP/1.1 %s%s (%sms)"</span>, status, reason, elapsedTime);    <span class="hljs-keyword">if</span> (logLevel.ordinal() &gt;= Level.HEADERS.ordinal()) &#123;      <span class="hljs-keyword">for</span> (String field : response.headers().keySet()) &#123;        <span class="hljs-keyword">for</span> (String value : valuesOrEmpty(response.headers(), field)) &#123;          log(configKey, <span class="hljs-string">"%s: %s"</span>, field, value);        &#125;      &#125;      <span class="hljs-keyword">int</span> bodyLength = <span class="hljs-number">0</span>;      <span class="hljs-keyword">if</span> (response.body() != <span class="hljs-keyword">null</span> &amp;&amp; !(status == <span class="hljs-number">204</span> || status == <span class="hljs-number">205</span>)) &#123;        <span class="hljs-comment">// HTTP 204 No Content "...response MUST NOT include a message-body"</span>        <span class="hljs-comment">// HTTP 205 Reset Content "...response MUST NOT include an entity"</span>        <span class="hljs-keyword">if</span> (logLevel.ordinal() &gt;= Level.FULL.ordinal()) &#123;          log(configKey, <span class="hljs-string">""</span>); <span class="hljs-comment">// CRLF</span>        &#125;        <span class="hljs-keyword">byte</span>[] bodyData = Util.toByteArray(response.body().asInputStream());        bodyLength = bodyData.length;        <span class="hljs-keyword">if</span> (logLevel.ordinal() &gt;= Level.FULL.ordinal() &amp;&amp; bodyLength &gt; <span class="hljs-number">0</span>) &#123;          log(configKey, <span class="hljs-string">"%s"</span>, decodeOrDefault(bodyData, UTF_8, <span class="hljs-string">"Binary data"</span>));        &#125;        log(configKey, <span class="hljs-string">"&lt;--- END HTTP (%s-byte body)"</span>, bodyLength);        <span class="hljs-keyword">return</span> response.toBuilder().body(bodyData).build();      &#125; <span class="hljs-keyword">else</span> &#123;        log(configKey, <span class="hljs-string">"&lt;--- END HTTP (%s-byte body)"</span>, bodyLength);      &#125;    &#125;    <span class="hljs-keyword">return</span> response;  &#125;  <span class="hljs-function"><span class="hljs-keyword">protected</span> IOException <span class="hljs-title">logIOException</span><span class="hljs-params">(String configKey, Level logLevel, IOException ioe, <span class="hljs-keyword">long</span> elapsedTime)</span> </span>&#123;    log(configKey, <span class="hljs-string">"&lt;--- ERROR %s: %s (%sms)"</span>, ioe.getClass().getSimpleName(), ioe.getMessage(),        elapsedTime);    <span class="hljs-keyword">if</span> (logLevel.ordinal() &gt;= Level.FULL.ordinal()) &#123;      StringWriter sw = <span class="hljs-keyword">new</span> StringWriter();      ioe.printStackTrace(<span class="hljs-keyword">new</span> PrintWriter(sw));      log(configKey, sw.toString());      log(configKey, <span class="hljs-string">"&lt;--- END ERROR"</span>);    &#125;    <span class="hljs-keyword">return</span> ioe;  &#125;</code></pre><h5 id="PHASE-7-åŸºäºé‡è¯•å™¨å‘é€HTTPè¯·æ±‚"><a href="#PHASE-7-åŸºäºé‡è¯•å™¨å‘é€HTTPè¯·æ±‚" class="headerlink" title="PHASE 7 . åŸºäºé‡è¯•å™¨å‘é€HTTPè¯·æ±‚"></a>PHASE 7 . åŸºäºé‡è¯•å™¨å‘é€HTTPè¯·æ±‚</h5><p>Feign å†…ç½®äº†ä¸€ä¸ªé‡è¯•å™¨ï¼Œå½“HTTPè¯·æ±‚å‡ºç°IOå¼‚å¸¸æ—¶ï¼ŒFeignä¼šæœ‰ä¸€ä¸ªæœ€å¤§å°è¯•æ¬¡æ•°å‘é€è¯·æ±‚ï¼Œä»¥ä¸‹æ˜¯Feignæ ¸å¿ƒ<br>ä»£ç é€»è¾‘ï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SynchronousMethodHandler</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">MethodHandler</span> </span>&#123;  <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç </span>  <span class="hljs-meta">@Override</span>  <span class="hljs-function"><span class="hljs-keyword">public</span> Object <span class="hljs-title">invoke</span><span class="hljs-params">(Object[] argv)</span> <span class="hljs-keyword">throws</span> Throwable </span>&#123;   <span class="hljs-comment">//æ ¹æ®è¾“å…¥å‚æ•°ï¼Œæ„é€ Http è¯·æ±‚ã€‚</span>    RequestTemplate template = buildTemplateFromArgs.create(argv);    <span class="hljs-comment">// å…‹éš†å‡ºä¸€ä»½é‡è¯•å™¨</span>    Retryer retryer = <span class="hljs-keyword">this</span>.retryer.clone();    <span class="hljs-comment">// å°è¯•æœ€å¤§æ¬¡æ•°ï¼Œå¦‚æœä¸­é—´æœ‰ç»“æœï¼Œç›´æ¥è¿”å›</span>    <span class="hljs-keyword">while</span> (<span class="hljs-keyword">true</span>) &#123;      <span class="hljs-keyword">try</span> &#123;        <span class="hljs-keyword">return</span> executeAndDecode(template);      &#125; <span class="hljs-keyword">catch</span> (RetryableException e) &#123;        retryer.continueOrPropagate(e);        <span class="hljs-keyword">if</span> (logLevel != Logger.Level.NONE) &#123;          logger.logRetry(metadata.configKey(), logLevel);        &#125;        <span class="hljs-keyword">continue</span>;      &#125;    &#125;  &#125;</code></pre><p>é‡è¯•å™¨æœ‰å¦‚ä¸‹å‡ ä¸ªæ§åˆ¶å‚æ•°ï¼š</p><table><thead><tr><th align="left">é‡è¯•å‚æ•°</th><th align="left">è¯´æ˜</th><th align="left">é»˜è®¤å€¼</th></tr></thead><tbody><tr><td align="left">period</td><td align="left">åˆå§‹é‡è¯•æ—¶é—´é—´éš”ï¼Œå½“è¯·æ±‚å¤±è´¥åï¼Œé‡è¯•å™¨å°†ä¼šæš‚åœ åˆå§‹æ—¶é—´é—´éš”(çº¿ç¨‹ sleep çš„æ–¹å¼)åå†å¼€å§‹ï¼Œé¿å…å¼ºåˆ·è¯·æ±‚ï¼Œæµªè´¹æ€§èƒ½</td><td align="left">100ms</td></tr><tr><td align="left">maxPeriod</td><td align="left">å½“è¯·æ±‚è¿ç»­å¤±è´¥æ—¶ï¼Œé‡è¯•çš„æ—¶é—´é—´éš”å°†æŒ‰ç…§ï¼š<code>long interval = (long) (period * Math.pow(1.5, attempt - 1));</code> è®¡ç®—ï¼ŒæŒ‰ç…§ç­‰æ¯”ä¾‹æ–¹å¼å»¶é•¿ï¼Œä½†æ˜¯æœ€å¤§é—´éš”æ—¶é—´ä¸º maxPeriod, è®¾ç½®æ­¤å€¼èƒ½å¤Ÿé¿å… é‡è¯•æ¬¡æ•°è¿‡å¤šçš„æƒ…å†µä¸‹æ‰§è¡Œå‘¨æœŸå¤ªé•¿</td><td align="left">1000ms</td></tr><tr><td align="left">maxAttempts</td><td align="left">æœ€å¤§é‡è¯•æ¬¡æ•°</td><td align="left">5</td></tr></tbody></table><p>å…·ä½“çš„ä»£ç å®ç°å¯å‚è€ƒï¼š<br><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2FOpenFeign%2Ffeign%2Fblob%2Fmaster%2Fcore%2Fsrc%2Fmain%2Fjava%2Ffeign%2FRetryer.java" target="_blank" rel="noopener">https://github.com/OpenFeign/feign/blob/master/core/src/main/java/feign/Retryer.java</a></p><h5 id="PHASE-8-å‘é€Httpè¯·æ±‚"><a href="#PHASE-8-å‘é€Httpè¯·æ±‚" class="headerlink" title="PHASE 8. å‘é€Httpè¯·æ±‚"></a>PHASE 8. å‘é€Httpè¯·æ±‚</h5><p>Feign çœŸæ­£å‘é€HTTPè¯·æ±‚æ˜¯å§”æ‰˜ç»™ <code>feign.Client</code> æ¥åšçš„ï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Client</span> </span>&#123;  <span class="hljs-comment">/**</span><span class="hljs-comment">   * Executes a request against its &#123;<span class="hljs-doctag">@link</span> Request#url() url&#125; and returns a response.</span><span class="hljs-comment">   *  æ‰§è¡ŒHttpè¯·æ±‚ï¼Œå¹¶è¿”å›Response</span><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> request safe to replay.</span><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> options options to apply to this request.</span><span class="hljs-comment">   * <span class="hljs-doctag">@return</span> connected response, &#123;<span class="hljs-doctag">@link</span> Response.Body&#125; is absent or unread.</span><span class="hljs-comment">   * <span class="hljs-doctag">@throws</span> IOException on a network error connecting to &#123;<span class="hljs-doctag">@link</span> Request#url()&#125;.</span><span class="hljs-comment">   */</span>  <span class="hljs-function">Response <span class="hljs-title">execute</span><span class="hljs-params">(Request request, Options options)</span> <span class="hljs-keyword">throws</span> IOException</span>;  &#125;</code></pre><p>Feign é»˜è®¤åº•å±‚é€šè¿‡JDK çš„ <code>java.net.HttpURLConnection</code> å®ç°äº†<code>feign.Client</code>æ¥å£ç±»,åœ¨æ¯æ¬¡å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œéƒ½ä¼šåˆ›å»ºæ–°çš„HttpURLConnection é“¾æ¥ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆé»˜è®¤æƒ…å†µä¸‹Feignçš„æ€§èƒ½å¾ˆå·®çš„åŸå› ã€‚å¯ä»¥é€šè¿‡æ‹“å±•è¯¥æ¥å£ï¼Œä½¿ç”¨Apache HttpClient æˆ–è€…OkHttp3ç­‰åŸºäºè¿æ¥æ± çš„é«˜æ€§èƒ½Httpå®¢æˆ·ç«¯ï¼Œæˆ‘ä»¬é¡¹ç›®å†…éƒ¨ä½¿ç”¨çš„å°±æ˜¯OkHttp3ä½œä¸ºHttp å®¢æˆ·ç«¯ã€‚</p><p>å¦‚ä¸‹æ˜¯Feign çš„é»˜è®¤å®ç°ï¼Œä¾›å‚è€ƒï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Default</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Client</span> </span>&#123;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> SSLSocketFactory sslContextFactory;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> HostnameVerifier hostnameVerifier;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * Null parameters imply platform defaults.</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Default</span><span class="hljs-params">(SSLSocketFactory sslContextFactory, HostnameVerifier hostnameVerifier)</span> </span>&#123;      <span class="hljs-keyword">this</span>.sslContextFactory = sslContextFactory;      <span class="hljs-keyword">this</span>.hostnameVerifier = hostnameVerifier;    &#125;    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> Response <span class="hljs-title">execute</span><span class="hljs-params">(Request request, Options options)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;      HttpURLConnection connection = convertAndSend(request, options);      <span class="hljs-keyword">return</span> convertResponse(connection).toBuilder().request(request).build();    &#125;    <span class="hljs-function">HttpURLConnection <span class="hljs-title">convertAndSend</span><span class="hljs-params">(Request request, Options options)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;      <span class="hljs-keyword">final</span> HttpURLConnection          connection =          (HttpURLConnection) <span class="hljs-keyword">new</span> URL(request.url()).openConnection();      <span class="hljs-keyword">if</span> (connection <span class="hljs-keyword">instanceof</span> HttpsURLConnection) &#123;        HttpsURLConnection sslCon = (HttpsURLConnection) connection;        <span class="hljs-keyword">if</span> (sslContextFactory != <span class="hljs-keyword">null</span>) &#123;          sslCon.setSSLSocketFactory(sslContextFactory);        &#125;        <span class="hljs-keyword">if</span> (hostnameVerifier != <span class="hljs-keyword">null</span>) &#123;          sslCon.setHostnameVerifier(hostnameVerifier);        &#125;      &#125;      connection.setConnectTimeout(options.connectTimeoutMillis());      connection.setReadTimeout(options.readTimeoutMillis());      connection.setAllowUserInteraction(<span class="hljs-keyword">false</span>);      connection.setInstanceFollowRedirects(<span class="hljs-keyword">true</span>);      connection.setRequestMethod(request.method());      Collection&lt;String&gt; contentEncodingValues = request.headers().get(CONTENT_ENCODING);      <span class="hljs-keyword">boolean</span>          gzipEncodedRequest =          contentEncodingValues != <span class="hljs-keyword">null</span> &amp;&amp; contentEncodingValues.contains(ENCODING_GZIP);      <span class="hljs-keyword">boolean</span>          deflateEncodedRequest =          contentEncodingValues != <span class="hljs-keyword">null</span> &amp;&amp; contentEncodingValues.contains(ENCODING_DEFLATE);      <span class="hljs-keyword">boolean</span> hasAcceptHeader = <span class="hljs-keyword">false</span>;      Integer contentLength = <span class="hljs-keyword">null</span>;      <span class="hljs-keyword">for</span> (String field : request.headers().keySet()) &#123;        <span class="hljs-keyword">if</span> (field.equalsIgnoreCase(<span class="hljs-string">"Accept"</span>)) &#123;          hasAcceptHeader = <span class="hljs-keyword">true</span>;        &#125;        <span class="hljs-keyword">for</span> (String value : request.headers().get(field)) &#123;          <span class="hljs-keyword">if</span> (field.equals(CONTENT_LENGTH)) &#123;            <span class="hljs-keyword">if</span> (!gzipEncodedRequest &amp;&amp; !deflateEncodedRequest) &#123;              contentLength = Integer.valueOf(value);              connection.addRequestProperty(field, value);            &#125;          &#125; <span class="hljs-keyword">else</span> &#123;            connection.addRequestProperty(field, value);          &#125;        &#125;      &#125;      <span class="hljs-comment">// Some servers choke on the default accept string.</span>      <span class="hljs-keyword">if</span> (!hasAcceptHeader) &#123;        connection.addRequestProperty(<span class="hljs-string">"Accept"</span>, <span class="hljs-string">"*/*"</span>);      &#125;      <span class="hljs-keyword">if</span> (request.body() != <span class="hljs-keyword">null</span>) &#123;        <span class="hljs-keyword">if</span> (contentLength != <span class="hljs-keyword">null</span>) &#123;          connection.setFixedLengthStreamingMode(contentLength);        &#125; <span class="hljs-keyword">else</span> &#123;          connection.setChunkedStreamingMode(<span class="hljs-number">8196</span>);        &#125;        connection.setDoOutput(<span class="hljs-keyword">true</span>);        OutputStream out = connection.getOutputStream();        <span class="hljs-keyword">if</span> (gzipEncodedRequest) &#123;          out = <span class="hljs-keyword">new</span> GZIPOutputStream(out);        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (deflateEncodedRequest) &#123;          out = <span class="hljs-keyword">new</span> DeflaterOutputStream(out);        &#125;        <span class="hljs-keyword">try</span> &#123;          out.write(request.body());        &#125; <span class="hljs-keyword">finally</span> &#123;          <span class="hljs-keyword">try</span> &#123;            out.close();          &#125; <span class="hljs-keyword">catch</span> (IOException suppressed) &#123; <span class="hljs-comment">// NOPMD</span>          &#125;        &#125;      &#125;      <span class="hljs-keyword">return</span> connection;    &#125;    <span class="hljs-function">Response <span class="hljs-title">convertResponse</span><span class="hljs-params">(HttpURLConnection connection)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;      <span class="hljs-keyword">int</span> status = connection.getResponseCode();      String reason = connection.getResponseMessage();      <span class="hljs-keyword">if</span> (status &lt; <span class="hljs-number">0</span>) &#123;        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IOException(format(<span class="hljs-string">"Invalid status(%s) executing %s %s"</span>, status,            connection.getRequestMethod(), connection.getURL()));      &#125;      Map&lt;String, Collection&lt;String&gt;&gt; headers = <span class="hljs-keyword">new</span> LinkedHashMap&lt;String, Collection&lt;String&gt;&gt;();      <span class="hljs-keyword">for</span> (Map.Entry&lt;String, List&lt;String&gt;&gt; field : connection.getHeaderFields().entrySet()) &#123;        <span class="hljs-comment">// response message</span>        <span class="hljs-keyword">if</span> (field.getKey() != <span class="hljs-keyword">null</span>) &#123;          headers.put(field.getKey(), field.getValue());        &#125;      &#125;      Integer length = connection.getContentLength();      <span class="hljs-keyword">if</span> (length == -<span class="hljs-number">1</span>) &#123;        length = <span class="hljs-keyword">null</span>;      &#125;      InputStream stream;      <span class="hljs-keyword">if</span> (status &gt;= <span class="hljs-number">400</span>) &#123;        stream = connection.getErrorStream();      &#125; <span class="hljs-keyword">else</span> &#123;        stream = connection.getInputStream();      &#125;      <span class="hljs-keyword">return</span> Response.builder()              .status(status)              .reason(reason)              .headers(headers)              .body(stream, length)              .build();    &#125;  &#125;</code></pre><h2 id="Feign-çš„æ€§èƒ½æ€ä¹ˆæ ·ï¼Ÿ"><a href="#Feign-çš„æ€§èƒ½æ€ä¹ˆæ ·ï¼Ÿ" class="headerlink" title="Feign çš„æ€§èƒ½æ€ä¹ˆæ ·ï¼Ÿ"></a>Feign çš„æ€§èƒ½æ€ä¹ˆæ ·ï¼Ÿ</h2><p>Feign æ•´ä½“æ¡†æ¶éå¸¸å°å·§ï¼Œåœ¨å¤„ç†è¯·æ±‚è½¬æ¢å’Œæ¶ˆæ¯è§£æçš„è¿‡ç¨‹ä¸­ï¼ŒåŸºæœ¬ä¸Šæ²¡ä»€ä¹ˆæ—¶é—´æ¶ˆè€—ã€‚çœŸæ­£å½±å“æ€§èƒ½çš„ï¼Œæ˜¯å¤„ç†Httpè¯·æ±‚çš„ç¯èŠ‚ã€‚<br>å¦‚ä¸Šæ‰€è¿°ï¼Œç”±äºé»˜è®¤æƒ…å†µä¸‹ï¼ŒFeigné‡‡ç”¨çš„æ˜¯JDKçš„<code>HttpURLConnection</code>,æ‰€ä»¥æ•´ä½“æ€§èƒ½å¹¶ä¸é«˜ï¼Œåˆšå¼€å§‹æ¥è§¦Spring Cloud çš„åŒå­¦ï¼Œå¦‚æœæ²¡æ³¨æ„è¿™äº›ç»†èŠ‚ï¼Œå¯èƒ½ä¼šå¯¹Spring Cloud æœ‰å¾ˆå¤§çš„åè§ã€‚<br>æˆ‘ä»¬é¡¹ç›®å†…éƒ¨ä½¿ç”¨çš„æ˜¯OkHttp3 ä½œä¸ºè¿æ¥å®¢æˆ·ç«¯ã€‚</p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>springCloud</category>
      
    </categories>
    
    
    <tags>
      
      <tag>springCloud</tag>
      
      <tag>Feign</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[fastjson]æŠŠå¯¹è±¡è½¬åŒ–æˆjsoné¿å…</title>
    <link href="/2019/12/14/fastjson-%E6%8A%8A%E5%AF%B9%E8%B1%A1%E8%BD%AC%E5%8C%96%E6%88%90json%E9%81%BF%E5%85%8D/"/>
    <url>/2019/12/14/fastjson-%E6%8A%8A%E5%AF%B9%E8%B1%A1%E8%BD%AC%E5%8C%96%E6%88%90json%E9%81%BF%E5%85%8D/</url>
    
    <content type="html"><![CDATA[<p>DisableCircularReferenceDetectæ¥ç¦æ­¢å¾ªç¯å¼•ç”¨æ£€æµ‹ï¼š</p><p>JSON.toJSONString(â€¦, SerializerFeature.DisableCircularReferenceDetect)</p><p>å½“è¿›è¡ŒtoJSONStringçš„æ—¶å€™ï¼Œé»˜è®¤å¦‚æœé‡ç”¨å¯¹è±¡çš„è¯ï¼Œä¼šä½¿ç”¨å¼•ç”¨çš„æ–¹å¼è¿›è¡Œå¼•ç”¨å¯¹è±¡ã€‚</p><pre><code class="hljs json">"é¢œè‰²": [        &#123;          <span class="hljs-attr">"$ref"</span>: <span class="hljs-string">"$.itemSkuList[0].itemSpecificationList[0]"</span>        &#125;,         &#123;          <span class="hljs-attr">"$ref"</span>: <span class="hljs-string">"$.itemSkuList[1].itemSpecificationList[0]"</span>        &#125;      ]</code></pre><h3 id="å¾ªç¯å¼•ç”¨"><a href="#å¾ªç¯å¼•ç”¨" class="headerlink" title="å¾ªç¯å¼•ç”¨"></a>å¾ªç¯å¼•ç”¨</h3><p>å¾ˆå¤šåœºæ™¯ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åºåˆ—åŒ–çš„å¯¹è±¡ä¸­å­˜åœ¨å¾ªç¯å¼•ç”¨ï¼Œåœ¨è®¸å¤šçš„jsonåº“ä¸­ï¼Œè¿™ä¼šå¯¼è‡´stackoverflowã€‚åœ¨åŠŸèƒ½å¼ºå¤§çš„fastjsonä¸­ï¼Œä½ ä¸éœ€è¦æ‹…å¿ƒè¿™ä¸ªé—®é¢˜ã€‚ä¾‹å¦‚ï¼š</p><pre><code class="hljs java">A a = <span class="hljs-keyword">new</span> A();  B b = <span class="hljs-keyword">new</span> B(a);  a.setB(b);  String text = JSON.toJSONString(a); <span class="hljs-comment">//&#123;"b":&#123;"a":&#123;"$ref":".."&#125;&#125;&#125;  </span>A a1 = JSON.parseObject(text, A<span class="hljs-class">.<span class="hljs-keyword">class</span>)</span>;  Assert.assertTrue(a1 == a1.getB().getA());</code></pre><p>å¼•ç”¨æ˜¯é€šè¿‡â€$refâ€æ¥è¡¨ç¤ºçš„</p><table><thead><tr><th align="left">å¼•ç”¨</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><code>&quot;$ref&quot;:&quot;..&quot;</code></td><td align="left">ä¸Šä¸€çº§</td></tr><tr><td align="left"><code>&quot;$ref&quot;:&quot;@&quot;</code></td><td align="left">å½“å‰å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è‡ªå¼•ç”¨</td></tr><tr><td align="left"><code>&quot;$ref&quot;:&quot;$&quot;</code></td><td align="left">æ ¹å¯¹è±¡</td></tr><tr><td align="left"><code>&quot;$ref&quot;:&quot;$.children.0&quot;</code></td><td align="left">åŸºäºè·¯å¾„çš„å¼•ç”¨ï¼Œç›¸å½“äº root.getChildren().get(0)</td></tr></tbody></table><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>fastjson</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[fastjson]SerializerFeatureè¯¦è§£</title>
    <link href="/2019/12/14/fastjson-SerializerFeature%E8%AF%A6%E8%A7%A3/"/>
    <url>/2019/12/14/fastjson-SerializerFeature%E8%AF%A6%E8%A7%A3/</url>
    
    <content type="html"><![CDATA[<h1 id="SerializerFeatureå±æ€§"><a href="#SerializerFeatureå±æ€§" class="headerlink" title="SerializerFeatureå±æ€§"></a>SerializerFeatureå±æ€§</h1><table><thead><tr><th>åç§°</th><th>å«ä¹‰</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>QuoteFieldNames</td><td>è¾“å‡ºkeyæ—¶æ˜¯å¦ä½¿ç”¨åŒå¼•å·,é»˜è®¤ä¸ºtrue</td><td></td></tr><tr><td>UseSingleQuotes</td><td>ä½¿ç”¨å•å¼•å·è€Œä¸æ˜¯åŒå¼•å·,é»˜è®¤ä¸ºfalse</td><td></td></tr><tr><td>WriteMapNullValue</td><td>æ˜¯å¦è¾“å‡ºå€¼ä¸ºnullçš„å­—æ®µ,é»˜è®¤ä¸ºfalse</td><td></td></tr><tr><td>WriteEnumUsingToString</td><td>Enumè¾“å‡ºname()æˆ–è€…original,é»˜è®¤ä¸ºfalse</td><td></td></tr><tr><td>UseISO8601DateFormat</td><td>Dateä½¿ç”¨ISO8601æ ¼å¼è¾“å‡ºï¼Œé»˜è®¤ä¸ºfalse</td><td></td></tr><tr><td>WriteNullListAsEmpty</td><td>Listå­—æ®µå¦‚æœä¸ºnull,è¾“å‡ºä¸º[],è€Œénull</td><td></td></tr><tr><td>WriteNullStringAsEmpty</td><td>å­—ç¬¦ç±»å‹å­—æ®µå¦‚æœä¸ºnull,è¾“å‡ºä¸ºâ€â€œ,è€Œénull</td><td></td></tr><tr><td>WriteNullNumberAsZero</td><td>æ•°å€¼å­—æ®µå¦‚æœä¸ºnull,è¾“å‡ºä¸º0,è€Œénull</td><td></td></tr><tr><td>WriteNullBooleanAsFalse</td><td>Booleanå­—æ®µå¦‚æœä¸ºnull,è¾“å‡ºä¸ºfalse,è€Œénull</td><td></td></tr><tr><td>SkipTransientField</td><td>å¦‚æœæ˜¯trueï¼Œç±»ä¸­çš„Getæ–¹æ³•å¯¹åº”çš„Fieldæ˜¯transientï¼Œåºåˆ—åŒ–æ—¶å°†ä¼šè¢«å¿½ç•¥ã€‚é»˜è®¤ä¸ºtrue</td><td></td></tr><tr><td>SortField</td><td>æŒ‰å­—æ®µåç§°æ’åºåè¾“å‡ºã€‚é»˜è®¤ä¸ºfalse</td><td></td></tr><tr><td>WriteTabAsSpecial</td><td>æŠŠ\tåšè½¬ä¹‰è¾“å‡ºï¼Œé»˜è®¤ä¸ºfalse</td><td><code>ä¸æ¨è</code></td></tr><tr><td>PrettyFormat</td><td>ç»“æœæ˜¯å¦æ ¼å¼åŒ–,é»˜è®¤ä¸ºfalse</td><td></td></tr><tr><td>WriteClassName</td><td>åºåˆ—åŒ–æ—¶å†™å…¥ç±»å‹ä¿¡æ¯ï¼Œé»˜è®¤ä¸ºfalseã€‚ååºåˆ—åŒ–æ˜¯éœ€ç”¨åˆ°</td><td></td></tr><tr><td>DisableCircularReferenceDetect</td><td>æ¶ˆé™¤å¯¹åŒä¸€å¯¹è±¡å¾ªç¯å¼•ç”¨çš„é—®é¢˜ï¼Œé»˜è®¤ä¸ºfalse</td><td></td></tr><tr><td>WriteSlashAsSpecial</td><td>å¯¹æ–œæ â€™/â€™è¿›è¡Œè½¬ä¹‰</td><td></td></tr><tr><td>BrowserCompatible</td><td>å°†ä¸­æ–‡éƒ½ä¼šåºåˆ—åŒ–ä¸º\uXXXXæ ¼å¼ï¼Œå­—èŠ‚æ•°ä¼šå¤šä¸€äº›ï¼Œä½†æ˜¯èƒ½å…¼å®¹IE 6ï¼Œé»˜è®¤ä¸ºfalse</td><td></td></tr><tr><td>WriteDateUseDateFormat</td><td>å…¨å±€ä¿®æ”¹æ—¥æœŸæ ¼å¼,é»˜è®¤ä¸ºfalseã€‚JSON.DEFFAULT_DATE_FORMAT = â€œyyyy-MM-ddâ€;JSON.toJSONString(obj, SerializerFeature.WriteDateUseDateFormat);</td><td></td></tr><tr><td>DisableCheckSpecialChar</td><td>ä¸€ä¸ªå¯¹è±¡çš„å­—ç¬¦ä¸²å±æ€§ä¸­å¦‚æœæœ‰ç‰¹æ®Šå­—ç¬¦å¦‚åŒå¼•å·ï¼Œå°†ä¼šåœ¨è½¬æˆjsonæ—¶å¸¦æœ‰åæ–œæ è½¬ç§»ç¬¦ã€‚å¦‚æœä¸éœ€è¦è½¬ä¹‰ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªå±æ€§ã€‚é»˜è®¤ä¸ºfalse</td><td></td></tr><tr><td>NotWriteRootClassName</td><td>å«ä¹‰</td><td></td></tr><tr><td>BeanToArray</td><td>å°†å¯¹è±¡è½¬ä¸ºarrayè¾“å‡º</td><td></td></tr><tr><td>WriteNonStringKeyAsString</td><td>å«ä¹‰</td><td></td></tr><tr><td>NotWriteDefaultValue</td><td>å«ä¹‰</td><td></td></tr><tr><td>BrowserSecure</td><td>å«ä¹‰</td><td></td></tr><tr><td>IgnoreNonFieldGetter</td><td>å«ä¹‰</td><td></td></tr><tr><td>WriteEnumUsingName</td><td>å«ä¹‰</td><td>-</td></tr></tbody></table><h1 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h1><h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><ul><li>Userã€Wordæ¥æ¨¡æ‹Ÿå„ç§æ•°æ®ç±»å‹ã€‚</li><li>SerializerFeatureTestï¼šJSONéƒ¨åˆ†ç¤ºä¾‹çš„ç¤ºä¾‹æ–¹æ³•ã€‚</li></ul><h2 id="Userç±»å‹ï¼šç¼ºçœgetã€setæ–¹æ³•"><a href="#Userç±»å‹ï¼šç¼ºçœgetã€setæ–¹æ³•" class="headerlink" title="Userç±»å‹ï¼šç¼ºçœgetã€setæ–¹æ³•"></a>Userç±»å‹ï¼šç¼ºçœgetã€setæ–¹æ³•</h2><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;    <span class="hljs-keyword">private</span> String name;    <span class="hljs-keyword">private</span> String add;    <span class="hljs-keyword">private</span> String old;&#125;</code></pre><h2 id="Wordç±»å‹ï¼šç¼ºçœgetã€setæ–¹æ³•"><a href="#Wordç±»å‹ï¼šç¼ºçœgetã€setæ–¹æ³•" class="headerlink" title="Wordç±»å‹ï¼šç¼ºçœgetã€setæ–¹æ³•"></a>Wordç±»å‹ï¼šç¼ºçœgetã€setæ–¹æ³•</h2><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Word</span> </span>&#123;    <span class="hljs-keyword">private</span> String d;    <span class="hljs-keyword">private</span> String e;    <span class="hljs-keyword">private</span> String f;    <span class="hljs-keyword">private</span> String a;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> b;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">boolean</span> c;    <span class="hljs-keyword">private</span> Date date;    <span class="hljs-keyword">private</span> Map&lt;String , Object&gt; map;    <span class="hljs-keyword">private</span> List&lt;User&gt; list;&#125;</code></pre><h3 id="SerializerFeatureTest-æµ‹è¯•ç±»"><a href="#SerializerFeatureTest-æµ‹è¯•ç±»" class="headerlink" title="SerializerFeatureTest:æµ‹è¯•ç±»"></a>SerializerFeatureTest:æµ‹è¯•ç±»</h3><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SerializerFeatureTest</span> </span>&#123;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Word word;    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span> </span>&#123;        word = <span class="hljs-keyword">new</span> Word();        word.setA(<span class="hljs-string">"a"</span>);        word.setB(<span class="hljs-number">2</span>);        word.setC(<span class="hljs-keyword">true</span>);        word.setD(<span class="hljs-string">"d"</span>);        word.setE(<span class="hljs-string">""</span>);        word.setF(<span class="hljs-keyword">null</span>);        word.setDate(<span class="hljs-keyword">new</span> Date());        List&lt;User&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;User&gt;();        User user1 = <span class="hljs-keyword">new</span> User();        user1.setId(<span class="hljs-number">1</span>);        user1.setOld(<span class="hljs-string">"11"</span>);        user1.setName(<span class="hljs-string">"ç”¨æˆ·1"</span>);        user1.setAdd(<span class="hljs-string">"åŒ—äº¬"</span>);        User user2 = <span class="hljs-keyword">new</span> User();        user2.setId(<span class="hljs-number">2</span>);        user2.setOld(<span class="hljs-string">"22"</span>);        user2.setName(<span class="hljs-string">"ç”¨æˆ·2"</span>);        user2.setAdd(<span class="hljs-string">"ä¸Šæµ·"</span>);        User user3 = <span class="hljs-keyword">new</span> User();        user3.setId(<span class="hljs-number">3</span>);        user3.setOld(<span class="hljs-string">"33"</span>);        user3.setName(<span class="hljs-string">"ç”¨æˆ·3"</span>);        user3.setAdd(<span class="hljs-string">"å¹¿å·"</span>);        list.add(user3);        list.add(user2);        list.add(<span class="hljs-keyword">null</span>);        list.add(user1);        word.setList(list);        Map&lt;String , Object&gt; map = <span class="hljs-keyword">new</span> HashedMap();        map.put(<span class="hljs-string">"mapa"</span>, <span class="hljs-string">"mapa"</span>);        map.put(<span class="hljs-string">"mapo"</span>, <span class="hljs-string">"mapo"</span>);        map.put(<span class="hljs-string">"mapz"</span>, <span class="hljs-string">"mapz"</span>);        map.put(<span class="hljs-string">"user1"</span>, user1);        map.put(<span class="hljs-string">"user3"</span>, user3);        map.put(<span class="hljs-string">"user4"</span>, <span class="hljs-keyword">null</span>);        map.put(<span class="hljs-string">"list"</span>, list);        word.setMap(map);    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;        init();<span class="hljs-comment">//        useSingleQuotes();</span><span class="hljs-comment">//        writeMapNullValue();</span><span class="hljs-comment">//        useISO8601DateFormat();</span><span class="hljs-comment">//        writeNullListAsEmpty();</span><span class="hljs-comment">//        writeNullStringAsEmpty();</span><span class="hljs-comment">//        sortField();</span><span class="hljs-comment">//        prettyFormat();</span><span class="hljs-comment">//        writeDateUseDateFormat();</span><span class="hljs-comment">//        beanToArray();</span>        showJsonBySelf();    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * 9:è‡ªå®šä¹‰</span><span class="hljs-comment">     * æ ¼å¼åŒ–è¾“å‡º</span><span class="hljs-comment">     * æ˜¾ç¤ºå€¼ä¸ºnullçš„å­—æ®µ</span><span class="hljs-comment">     * å°†ä¸ºnullçš„å­—æ®µå€¼æ˜¾ç¤ºä¸º""</span><span class="hljs-comment">     * DisableCircularReferenceDetect:æ¶ˆé™¤å¾ªç¯å¼•ç”¨</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">showJsonBySelf</span><span class="hljs-params">()</span> </span>&#123;        System.out.println(JSON.toJSONString(word));        System.out.println(JSON.toJSONString(word, SerializerFeature.PrettyFormat,                SerializerFeature.WriteMapNullValue, SerializerFeature.WriteNullStringAsEmpty,                SerializerFeature.DisableCircularReferenceDetect,                SerializerFeature.WriteNullListAsEmpty));    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * 8:</span><span class="hljs-comment">     * å°†å¯¹è±¡è½¬ä¸ºarrayè¾“å‡º</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">beanToArray</span><span class="hljs-params">()</span> </span>&#123;        word.setMap(<span class="hljs-keyword">null</span>);        word.setList(<span class="hljs-keyword">null</span>);        System.out.println(JSON.toJSONString(word));        System.out.println(JSON.toJSONString(word, SerializerFeature.BeanToArray));    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * 7:</span><span class="hljs-comment">     * WriteDateUseDateFormat:å…¨å±€ä¿®æ”¹æ—¥æœŸæ ¼å¼,é»˜è®¤ä¸ºfalseã€‚</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">writeDateUseDateFormat</span><span class="hljs-params">()</span> </span>&#123;        word.setMap(<span class="hljs-keyword">null</span>);        word.setList(<span class="hljs-keyword">null</span>);        System.out.println(JSON.toJSONString(word));        JSON.DEFFAULT_DATE_FORMAT = <span class="hljs-string">"yyyy-MM-dd"</span>;        System.out.println(JSON.toJSONString(word, SerializerFeature.WriteDateUseDateFormat));    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * 6:</span><span class="hljs-comment">     * PrettyFormat</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">prettyFormat</span><span class="hljs-params">()</span> </span>&#123;        word.setMap(<span class="hljs-keyword">null</span>);        word.setList(<span class="hljs-keyword">null</span>);        System.out.println(JSON.toJSONString(word));        System.out.println(JSON.toJSONString(word, SerializerFeature.PrettyFormat));    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * SortField:æŒ‰å­—æ®µåç§°æ’åºåè¾“å‡ºã€‚é»˜è®¤ä¸ºfalse</span><span class="hljs-comment">     * è¿™é‡Œä½¿ç”¨çš„æ˜¯fastjsonï¼šä¸ºäº†æ›´å¥½ä½¿ç”¨sort field martchä¼˜åŒ–ç®—æ³•æå‡parserçš„æ€§èƒ½ï¼Œfastjsonåºåˆ—åŒ–çš„æ—¶å€™ï¼Œ</span><span class="hljs-comment">     * ç¼ºçœæŠŠSerializerFeature.SortFieldç‰¹æ€§æ‰“å¼€äº†ã€‚</span><span class="hljs-comment">     * ååºåˆ—åŒ–çš„æ—¶å€™ä¹Ÿç¼ºçœæŠŠSortFeidFastMatchçš„é€‰é¡¹æ‰“å¼€äº†ã€‚</span><span class="hljs-comment">     * è¿™æ ·ï¼Œå¦‚æœä½ ç”¨fastjsonåºåˆ—åŒ–çš„æ–‡æœ¬ï¼Œè¾“å‡ºçš„ç»“æœæ˜¯æŒ‰ç…§fieldNameæ’åºè¾“å‡ºçš„ï¼Œparseræ—¶ä¹Ÿèƒ½åˆ©ç”¨è¿™ä¸ªé¡ºåºè¿›è¡Œä¼˜åŒ–è¯»å–ã€‚</span><span class="hljs-comment">     * è¿™ç§æƒ…å†µä¸‹ï¼Œparserèƒ½å¤Ÿè·å¾—éå¸¸å¥½çš„æ€§èƒ½ã€‚</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sortField</span><span class="hljs-params">()</span> </span>&#123;        System.out.println(JSON.toJSONString(word));        System.out.println(JSON.toJSONString(word, SerializerFeature.SortField));    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     *  5:</span><span class="hljs-comment">     *  WriteNullStringAsEmpty:å­—ç¬¦ç±»å‹å­—æ®µå¦‚æœä¸ºnull,è¾“å‡ºä¸º"",è€Œénull</span><span class="hljs-comment">     *  éœ€è¦é…åˆWriteMapNullValueä½¿ç”¨ï¼Œç°å°†nullè¾“å‡º</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">writeNullStringAsEmpty</span><span class="hljs-params">()</span> </span>&#123;        word.setE(<span class="hljs-keyword">null</span>);        System.out.println(JSONObject.toJSONString(word));        System.out.println(<span class="hljs-string">"è®¾ç½®WriteMapNullValueåï¼š"</span>);        System.out.println(JSONObject.toJSONString(word, SerializerFeature.WriteMapNullValue));        System.out.println(<span class="hljs-string">"è®¾ç½®WriteMapNullValueã€WriteNullStringAsEmptyåï¼š"</span>);        System.out.println(JSONObject.toJSONString(word, SerializerFeature.WriteMapNullValue, SerializerFeature.WriteNullStringAsEmpty));    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * 4:</span><span class="hljs-comment">     * WriteNullListAsEmpty:Listå­—æ®µå¦‚æœä¸ºnull,è¾“å‡ºä¸º[],è€Œénull</span><span class="hljs-comment">     * éœ€è¦é…åˆWriteMapNullValueä½¿ç”¨ï¼Œç°å°†nullè¾“å‡º</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">writeNullListAsEmpty</span><span class="hljs-params">()</span> </span>&#123;        word.setList(<span class="hljs-keyword">null</span>);        System.out.println(JSONObject.toJSONString(word));        System.out.println(<span class="hljs-string">"è®¾ç½®WriteNullListAsEmptyåï¼š"</span>);        System.out.println(JSONObject.toJSONString(word, SerializerFeature.WriteMapNullValue, SerializerFeature.WriteNullListAsEmpty));    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * 3:</span><span class="hljs-comment">     * UseISO8601DateFormat:Dateä½¿ç”¨ISO8601æ ¼å¼è¾“å‡ºï¼Œé»˜è®¤ä¸ºfalse</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">useISO8601DateFormat</span><span class="hljs-params">()</span> </span>&#123;        System.out.println(JSONObject.toJSONString(word));        System.out.println(<span class="hljs-string">"è®¾ç½®UseISO8601DateFormatåï¼š"</span>);        System.out.println(JSONObject.toJSONString(word, SerializerFeature.UseISO8601DateFormat));    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * 2:</span><span class="hljs-comment">     * WriteMapNullValue:æ˜¯å¦è¾“å‡ºå€¼ä¸ºnullçš„å­—æ®µ,é»˜è®¤ä¸ºfalse</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">writeMapNullValue</span><span class="hljs-params">()</span> </span>&#123;        System.out.println(JSONObject.toJSONString(word));        System.out.println(<span class="hljs-string">"è®¾ç½®WriteMapNullValueåï¼š"</span>);        System.out.println(JSONObject.toJSONString(word, SerializerFeature.WriteMapNullValue));    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * 1:</span><span class="hljs-comment">     * UseSingleQuotes:ä½¿ç”¨å•å¼•å·è€Œä¸æ˜¯åŒå¼•å·,é»˜è®¤ä¸ºfalse</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">useSingleQuotes</span><span class="hljs-params">()</span> </span>&#123;        System.out.println(JSONObject.toJSONString(word));        System.out.println(<span class="hljs-string">"è®¾ç½®useSingleQuotesåï¼š"</span>);        System.out.println(JSONObject.toJSONString(word, SerializerFeature.UseSingleQuotes));    &#125;&#125;</code></pre><h2 id="å¯¹åº”è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š"><a href="#å¯¹åº”è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š" class="headerlink" title="å¯¹åº”è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š"></a>å¯¹åº”è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</h2><p>1ã€useSingleQuotesï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9yms5h9h1j30f003dwef.jpg" srcset="/img/loading.gif" alt="img"></p><p>2ã€writeMapNullValueï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9yms6k0jhj30iu02rwee.jpg" srcset="/img/loading.gif" alt="img"></p><p>3ã€useISO8601DateFormatï¼š </p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9yms7xdzkj30jn03oglo.jpg" srcset="/img/loading.gif" alt="img"></p><p>4ã€writeNullListAsEmptyï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9yms8q45pj30lt048aa4.jpg" srcset="/img/loading.gif" alt="img"></p><p>5ã€writeNullStringAsEmptyï¼š </p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9yms95rxsj30oj05sq37.jpg" srcset="/img/loading.gif" alt="img"></p><p>6ã€prettyFormatï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9yms9ntfej30kk07ywej.jpg" srcset="/img/loading.gif" alt="img"></p><p>7ã€writeDateUseDateFormatï¼š </p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymsbzofuj30jr040t8o.jpg" srcset="/img/loading.gif" alt="img"></p><p>8ã€beanToArrayï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymsd1sldj30ja037glk.jpg" srcset="/img/loading.gif" alt="img"></p><p>9ã€è‡ªå®šä¹‰ç»„åˆï¼šshowJsonBySelfï¼š </p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymse2vkzj30wl0csjs0.jpg" srcset="/img/loading.gif" alt="img"></p><p> æ­¤æ—¶å®Œæ•´çš„è¾“å‡ºå¦‚ä¸‹ï¼š</p><pre><code class="hljs json">&#123;<span class="hljs-attr">"a"</span>:<span class="hljs-string">"a"</span>,<span class="hljs-attr">"b"</span>:<span class="hljs-number">2</span>,<span class="hljs-attr">"c"</span>:<span class="hljs-literal">true</span>,<span class="hljs-attr">"d"</span>:<span class="hljs-string">"d"</span>,<span class="hljs-attr">"date"</span>:<span class="hljs-number">1473839656840</span>,<span class="hljs-attr">"e"</span>:<span class="hljs-string">""</span>,<span class="hljs-attr">"list"</span>:[&#123;<span class="hljs-attr">"add"</span>:<span class="hljs-string">"å¹¿å·"</span>,<span class="hljs-attr">"id"</span>:<span class="hljs-number">3</span>,<span class="hljs-attr">"name"</span>:<span class="hljs-string">"ç”¨æˆ·3"</span>,<span class="hljs-attr">"old"</span>:<span class="hljs-string">"33"</span>&#125;,&#123;<span class="hljs-attr">"add"</span>:<span class="hljs-string">"ä¸Šæµ·"</span>,<span class="hljs-attr">"id"</span>:<span class="hljs-number">2</span>,<span class="hljs-attr">"name"</span>:<span class="hljs-string">"ç”¨æˆ·2"</span>,<span class="hljs-attr">"old"</span>:<span class="hljs-string">"22"</span>&#125;,<span class="hljs-literal">null</span>,&#123;<span class="hljs-attr">"add"</span>:<span class="hljs-string">"åŒ—äº¬"</span>,<span class="hljs-attr">"id"</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">"name"</span>:<span class="hljs-string">"ç”¨æˆ·1"</span>,<span class="hljs-attr">"old"</span>:<span class="hljs-string">"11"</span>&#125;],<span class="hljs-attr">"map"</span>:&#123;<span class="hljs-attr">"list"</span>:[&#123;<span class="hljs-attr">"$ref"</span>:<span class="hljs-string">"$.list[0]"</span>&#125;,&#123;<span class="hljs-attr">"$ref"</span>:<span class="hljs-string">"$.list[1]"</span>&#125;,<span class="hljs-literal">null</span>,&#123;<span class="hljs-attr">"$ref"</span>:<span class="hljs-string">"$.list[3]"</span>&#125;],<span class="hljs-attr">"user3"</span>:&#123;<span class="hljs-attr">"$ref"</span>:<span class="hljs-string">"$.list[0]"</span>&#125;,<span class="hljs-attr">"mapz"</span>:<span class="hljs-string">"mapz"</span>,<span class="hljs-attr">"mapo"</span>:<span class="hljs-string">"mapo"</span>,<span class="hljs-attr">"mapa"</span>:<span class="hljs-string">"mapa"</span>,<span class="hljs-attr">"user1"</span>:&#123;<span class="hljs-attr">"$ref"</span>:<span class="hljs-string">"$.list[3]"</span>&#125;&#125;&#125;&#123;    <span class="hljs-attr">"a"</span>:<span class="hljs-string">"a"</span>,    <span class="hljs-attr">"b"</span>:<span class="hljs-number">2</span>,    <span class="hljs-attr">"c"</span>:<span class="hljs-literal">true</span>,    <span class="hljs-attr">"d"</span>:<span class="hljs-string">"d"</span>,    <span class="hljs-attr">"date"</span>:<span class="hljs-number">1473839656840</span>,    <span class="hljs-attr">"e"</span>:<span class="hljs-string">""</span>,    <span class="hljs-attr">"f"</span>:<span class="hljs-string">""</span>,    <span class="hljs-attr">"list"</span>:[        &#123;            <span class="hljs-attr">"add"</span>:<span class="hljs-string">"å¹¿å·"</span>,            <span class="hljs-attr">"id"</span>:<span class="hljs-number">3</span>,            <span class="hljs-attr">"name"</span>:<span class="hljs-string">"ç”¨æˆ·3"</span>,            <span class="hljs-attr">"old"</span>:<span class="hljs-string">"33"</span>        &#125;,        &#123;            <span class="hljs-attr">"add"</span>:<span class="hljs-string">"ä¸Šæµ·"</span>,            <span class="hljs-attr">"id"</span>:<span class="hljs-number">2</span>,            <span class="hljs-attr">"name"</span>:<span class="hljs-string">"ç”¨æˆ·2"</span>,            <span class="hljs-attr">"old"</span>:<span class="hljs-string">"22"</span>        &#125;,        <span class="hljs-literal">null</span>,        &#123;            <span class="hljs-attr">"add"</span>:<span class="hljs-string">"åŒ—äº¬"</span>,            <span class="hljs-attr">"id"</span>:<span class="hljs-number">1</span>,            <span class="hljs-attr">"name"</span>:<span class="hljs-string">"ç”¨æˆ·1"</span>,            <span class="hljs-attr">"old"</span>:<span class="hljs-string">"11"</span>        &#125;    ],    <span class="hljs-attr">"map"</span>:&#123;        <span class="hljs-attr">"list"</span>:[            &#123;                <span class="hljs-attr">"add"</span>:<span class="hljs-string">"å¹¿å·"</span>,                <span class="hljs-attr">"id"</span>:<span class="hljs-number">3</span>,                <span class="hljs-attr">"name"</span>:<span class="hljs-string">"ç”¨æˆ·3"</span>,                <span class="hljs-attr">"old"</span>:<span class="hljs-string">"33"</span>            &#125;,            &#123;                <span class="hljs-attr">"add"</span>:<span class="hljs-string">"ä¸Šæµ·"</span>,                <span class="hljs-attr">"id"</span>:<span class="hljs-number">2</span>,                <span class="hljs-attr">"name"</span>:<span class="hljs-string">"ç”¨æˆ·2"</span>,                <span class="hljs-attr">"old"</span>:<span class="hljs-string">"22"</span>            &#125;,            <span class="hljs-literal">null</span>,            &#123;                <span class="hljs-attr">"add"</span>:<span class="hljs-string">"åŒ—äº¬"</span>,                <span class="hljs-attr">"id"</span>:<span class="hljs-number">1</span>,                <span class="hljs-attr">"name"</span>:<span class="hljs-string">"ç”¨æˆ·1"</span>,                <span class="hljs-attr">"old"</span>:<span class="hljs-string">"11"</span>            &#125;        ],        <span class="hljs-attr">"user4"</span>:<span class="hljs-literal">null</span>,        <span class="hljs-attr">"user3"</span>:&#123;            <span class="hljs-attr">"add"</span>:<span class="hljs-string">"å¹¿å·"</span>,            <span class="hljs-attr">"id"</span>:<span class="hljs-number">3</span>,            <span class="hljs-attr">"name"</span>:<span class="hljs-string">"ç”¨æˆ·3"</span>,            <span class="hljs-attr">"old"</span>:<span class="hljs-string">"33"</span>        &#125;,        <span class="hljs-attr">"mapz"</span>:<span class="hljs-string">"mapz"</span>,        <span class="hljs-attr">"mapo"</span>:<span class="hljs-string">"mapo"</span>,        <span class="hljs-attr">"mapa"</span>:<span class="hljs-string">"mapa"</span>,        <span class="hljs-attr">"user1"</span>:&#123;            <span class="hljs-attr">"add"</span>:<span class="hljs-string">"åŒ—äº¬"</span>,            <span class="hljs-attr">"id"</span>:<span class="hljs-number">1</span>,            <span class="hljs-attr">"name"</span>:<span class="hljs-string">"ç”¨æˆ·1"</span>,            <span class="hljs-attr">"old"</span>:<span class="hljs-string">"11"</span>        &#125;    &#125;&#125;</code></pre><p>æ³¨æ„ï¼š<br>- <a href="http://blog.csdn.net/u010246789/article/details/52538953" target="_blank" rel="noopener">fastjsonæŠŠå¯¹è±¡è½¬åŒ–æˆjsoné¿å…$ref</a></p><p>å­¦ä¹ åœ°å€ï¼š<br>- <a href="http://blog.csdn.net/glarystar/article/details/6654494" target="_blank" rel="noopener">http://blog.csdn.net/glarystar/article/details/6654494</a><br>- <a href="http://blog.csdn.net/u013163567/article/details/50736096" target="_blank" rel="noopener">http://blog.csdn.net/u013163567/article/details/50736096</a></p><p>é¡¹ç›®githubåœ°å€ï¼š<br>- <a href="https://github.com/gubaijin/buildmavenweb" target="_blank" rel="noopener">https://github.com/gubaijin/buildmavenweb</a></p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>fastjson</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>API ç½‘å…³ä»å…¥é—¨åˆ°æ”¾å¼ƒ</title>
    <link href="/2019/12/07/API-%E7%BD%91%E5%85%B3%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83/"/>
    <url>/2019/12/07/API-%E7%BD%91%E5%85%B3%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æ¥æºï¼š<a href="http://www.jiangxinlingdu.com/thought/2019/09/12/gateway.html" target="_blank" rel="noopener">åŒ å¿ƒé›¶åº¦</a><a href="http://www.jiangxinlingdu.com/thought/2019/09/12/gateway.html" target="_blank" rel="noopener">http://www.jiangxinlingdu.com/thought/2019/09/12/gateway.html</a></p></blockquote><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a><strong>å‰è¨€</strong></h2><p>å‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªç”µå•†ç½‘ç«™ï¼Œé‚£ä¹ˆè¿™é‡Œä¼šæ¶‰åŠåˆ°å¾ˆå¤šåç«¯çš„å¾®æœåŠ¡ï¼Œæ¯”å¦‚ä¼šå‘˜ã€å•†å“ã€æ¨èæœåŠ¡ç­‰ç­‰ã€‚</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymmel0tcj30dg0dc0t7.jpg" srcset="/img/loading.gif" alt="img"></p><p>é‚£ä¹ˆè¿™é‡Œå°±ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼ŒAPP/Browseræ€ä¹ˆå»è®¿é—®è¿™äº›åç«¯çš„æœåŠ¡? å¦‚æœä¸šåŠ¡æ¯”è¾ƒç®€å•çš„è¯ï¼Œå¯ä»¥ç»™æ¯ä¸ªä¸šåŠ¡éƒ½åˆ†é…ä¸€ä¸ªç‹¬ç«‹çš„åŸŸå(<a href="https://service.api.company.com)ï¼Œä½†è¿™ç§æ–¹å¼ä¼šæœ‰å‡ ä¸ªé—®é¢˜" target="_blank" rel="noopener">https://service.api.company.com)ï¼Œä½†è¿™ç§æ–¹å¼ä¼šæœ‰å‡ ä¸ªé—®é¢˜</a>:</p><ul><li>æ¯ä¸ªä¸šåŠ¡éƒ½ä¼šéœ€è¦é‰´æƒã€é™æµã€æƒé™æ ¡éªŒç­‰é€»è¾‘ï¼Œå¦‚æœæ¯ä¸ªä¸šåŠ¡éƒ½å„è‡ªä¸ºæˆ˜ï¼Œè‡ªå·±é€ è½®å­å®ç°ä¸€éï¼Œä¼šå¾ˆè›‹ç–¼ï¼Œå®Œå…¨å¯ä»¥æŠ½å‡ºæ¥ï¼Œæ”¾åˆ°ä¸€ä¸ªç»Ÿä¸€çš„åœ°æ–¹å»åšã€‚</li><li>å¦‚æœä¸šåŠ¡é‡æ¯”è¾ƒç®€å•çš„è¯ï¼Œè¿™ç§æ–¹å¼å‰æœŸä¸ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä½†éšç€ä¸šåŠ¡è¶Šæ¥è¶Šå¤æ‚ï¼Œæ¯”å¦‚æ·˜å®ã€äºšé©¬é€Šæ‰“å¼€ä¸€ä¸ªé¡µé¢å¯èƒ½ä¼šæ¶‰åŠåˆ°æ•°ç™¾ä¸ªå¾®æœåŠ¡ååŒå·¥ä½œï¼Œå¦‚æœæ¯ä¸€ä¸ªå¾®æœåŠ¡éƒ½åˆ†é…ä¸€ä¸ªåŸŸåçš„è¯ï¼Œä¸€æ–¹é¢å®¢æˆ·ç«¯ä»£ç ä¼šå¾ˆéš¾ç»´æŠ¤ï¼Œæ¶‰åŠåˆ°æ•°ç™¾ä¸ªåŸŸåï¼Œå¦ä¸€æ–¹é¢æ˜¯è¿æ¥æ•°çš„ç“¶é¢ˆï¼Œæƒ³è±¡ä¸€ä¸‹ä½ æ‰“å¼€ä¸€ä¸ªAPPï¼Œé€šè¿‡æŠ“åŒ…å‘ç°æ¶‰åŠåˆ°äº†æ•°ç™¾ä¸ªè¿œç¨‹è°ƒç”¨ï¼Œè¿™åœ¨ç§»åŠ¨ç«¯ä¸‹ä¼šæ˜¾å¾—éå¸¸ä½æ•ˆã€‚</li><li>æ¯ä¸Šçº¿ä¸€ä¸ªæ–°çš„æœåŠ¡ï¼Œéƒ½éœ€è¦è¿ç»´å‚ä¸ï¼Œç”³è¯·åŸŸåã€é…ç½®Nginxç­‰ï¼Œå½“ä¸Šçº¿ã€ä¸‹çº¿æœåŠ¡å™¨æ—¶ï¼ŒåŒæ ·ä¹Ÿéœ€è¦è¿ç»´å‚ä¸ï¼Œå¦å¤–é‡‡ç”¨åŸŸåè¿™ç§æ–¹å¼ï¼Œå¯¹äºç¯å¢ƒçš„éš”ç¦»ä¹Ÿä¸å¤ªå‹å¥½ï¼Œè°ƒç”¨è€…éœ€è¦è‡ªå·±æ ¹æ®åŸŸåè‡ªå·±è¿›è¡Œåˆ¤æ–­ã€‚</li><li>å¦å¤–è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œåç«¯æ¯ä¸ªå¾®æœåŠ¡å¯èƒ½æ˜¯ç”±ä¸åŒè¯­è¨€ç¼–å†™çš„ã€é‡‡ç”¨äº†ä¸åŒçš„åè®®ï¼Œæ¯”å¦‚HTTPã€Dubboã€GRPCç­‰ï¼Œä½†æ˜¯ä½ ä¸å¯èƒ½è¦æ±‚å®¢æˆ·ç«¯å»é€‚é…è¿™ä¹ˆå¤šç§åè®®ï¼Œè¿™æ˜¯ä¸€é¡¹éå¸¸æœ‰æŒ‘æˆ˜çš„å·¥ä½œï¼Œé¡¹ç›®ä¼šå˜çš„éå¸¸å¤æ‚ä¸”å¾ˆéš¾ç»´æŠ¤ã€‚</li><li>åæœŸå¦‚æœéœ€è¦å¯¹å¾®æœåŠ¡è¿›è¡Œé‡æ„çš„è¯ï¼Œä¹Ÿä¼šå˜çš„éå¸¸éº»çƒ¦ï¼Œéœ€è¦å®¢æˆ·ç«¯é…åˆä½ ä¸€èµ·è¿›è¡Œæ”¹é€ ï¼Œæ¯”å¦‚å•†å“æœåŠ¡ï¼Œéšç€ä¸šåŠ¡å˜çš„è¶Šæ¥è¶Šå¤æ‚ï¼ŒåæœŸéœ€è¦è¿›è¡Œæ‹†åˆ†æˆå¤šä¸ªå¾®æœåŠ¡ï¼Œè¿™ä¸ªæ—¶å€™å¯¹å¤–æä¾›çš„æœåŠ¡ä¹Ÿéœ€è¦æ‹†åˆ†æˆå¤šä¸ªï¼ŒåŒæ—¶éœ€è¦å®¢æˆ·ç«¯é…åˆä½ è¿›è¡Œæ”¹é€ ï¼Œéå¸¸è›‹ç–¼ã€‚</li></ul><h2 id="API-Gateway"><a href="#API-Gateway" class="headerlink" title="API Gateway"></a><strong>API Gateway</strong></h2><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymmfjn96j30dg0dcdgb.jpg" srcset="/img/loading.gif" alt=""></p><p>æ›´å¥½çš„æ–¹å¼æ˜¯é‡‡ç”¨APIç½‘å…³ï¼Œå®ç°ä¸€ä¸ªAPIç½‘å…³æ¥ç®¡æ‰€æœ‰çš„å…¥å£æµé‡ï¼Œç±»ä¼¼Nginxçš„ä½œç”¨ï¼Œå°†æ‰€æœ‰ç”¨æˆ·çš„è¯·æ±‚è½¬å‘ç»™åç«¯çš„æœåŠ¡å™¨ï¼Œä½†ç½‘å…³åšçš„ä¸ä»…ä»…åªæ˜¯ç®€å•çš„è½¬å‘ï¼Œä¹Ÿä¼šé’ˆå¯¹æµé‡åšä¸€äº›æ‰©å±•ï¼Œæ¯”å¦‚é‰´æƒã€é™æµã€æƒé™ã€ç†”æ–­ã€åè®®è½¬æ¢ã€é”™è¯¯ç ç»Ÿä¸€ã€ç¼“å­˜ã€æ—¥å¿—ã€ç›‘æ§ã€å‘Šè­¦ç­‰ï¼Œè¿™æ ·å°†é€šç”¨çš„é€»è¾‘æŠ½å‡ºæ¥ï¼Œç”±ç½‘å…³ç»Ÿä¸€å»åšï¼Œä¸šåŠ¡æ–¹ä¹Ÿèƒ½å¤Ÿæ›´ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘ï¼Œæå‡è¿­ä»£çš„æ•ˆç‡ã€‚</p><p>é€šè¿‡å¼•å…¥APIç½‘å…³ï¼Œå®¢æˆ·ç«¯åªéœ€è¦ä¸APIç½‘å…³äº¤äº’ï¼Œè€Œä¸ç”¨ä¸å„ä¸ªä¸šåŠ¡æ–¹çš„æ¥å£åˆ†åˆ«é€šè®¯ï¼Œä½†å¤šå¼•å…¥ä¸€ä¸ªç»„ä»¶å°±å¤šå¼•å…¥äº†ä¸€ä¸ªæ½œåœ¨çš„æ•…éšœç‚¹ï¼Œå› æ­¤è¦å®ç°ä¸€ä¸ªé«˜æ€§èƒ½ã€ç¨³å®šçš„ç½‘å…³ï¼Œä¹Ÿä¼šæ¶‰åŠåˆ°å¾ˆå¤šç‚¹ã€‚</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymmg0sxxj30sg0kpabh.jpg" srcset="/img/loading.gif" alt="img"></p><h2 id="APIæ³¨å†Œ"><a href="#APIæ³¨å†Œ" class="headerlink" title="APIæ³¨å†Œ"></a><strong>APIæ³¨å†Œ</strong></h2><p>ä¸šåŠ¡æ–¹å¦‚ä½•æ¥å…¥ç½‘å…³?ä¸€èˆ¬æ¥è¯´æœ‰å‡ ç§æ–¹å¼ã€‚</p><ul><li>ç¬¬ä¸€ç§é‡‡ç”¨æ’ä»¶æ‰«æä¸šåŠ¡æ–¹çš„APIï¼Œæ¯”å¦‚Spring MVCçš„æ³¨è§£ï¼Œå¹¶ç»“åˆSwaggerçš„æ³¨è§£ï¼Œä»è€Œå®ç°å‚æ•°æ ¡éªŒã€æ–‡æ¡£&amp;&amp;SDKç”Ÿæˆç­‰åŠŸèƒ½ï¼Œæ‰«æå®Œæˆä¹‹åï¼Œéœ€è¦ä¸ŠæŠ¥åˆ°ç½‘å…³çš„å­˜å‚¨æœåŠ¡ã€‚</li><li>æ‰‹åŠ¨å½•å…¥ã€‚æ¯”å¦‚æ¥å£çš„è·¯å¾„ã€è¯·æ±‚å‚æ•°ã€å“åº”å‚æ•°ã€è°ƒç”¨æ–¹å¼ç­‰ä¿¡æ¯ï¼Œä½†è¿™ç§æ–¹å¼ç›¸å¯¹æ¥è¯´ä¼šéº»çƒ¦ä¸€äº›ï¼Œå¦‚æœå‚æ•°è¿‡å¤šçš„è¯ï¼Œå‰æœŸå½•å…¥ä¼šå¾ˆè´¹æ—¶è´¹åŠ›ã€‚</li></ul><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymmguf7zj30u00fraal.jpg" srcset="/img/loading.gif" alt=""></p><ul><li>é…ç½®æ–‡ä»¶å¯¼å…¥ã€‚æ¯”å¦‚é€šè¿‡Swagger\OpenAPIç­‰ï¼Œæ¯”å¦‚é˜¿é‡Œäº‘çš„ç½‘å…³:</li></ul><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymmhua4lj30u0064t93.jpg" srcset="/img/loading.gif" alt=""></p><h2 id="åè®®è½¬æ¢"><a href="#åè®®è½¬æ¢" class="headerlink" title="åè®®è½¬æ¢"></a><strong>åè®®è½¬æ¢</strong></h2><p>å†…éƒ¨çš„APIå¯èƒ½æ˜¯ç”±å¾ˆå¤šç§ä¸åŒçš„åè®®å®ç°çš„ï¼Œæ¯”å¦‚HTTPã€Dubboã€GRPCç­‰ï¼Œä½†å¯¹äºç”¨æˆ·æ¥è¯´å…¶ä¸­å¾ˆå¤šéƒ½ä¸æ˜¯å¾ˆå‹å¥½ï¼Œæˆ–è€…æ ¹æœ¬æ²¡æ³•å¯¹å¤–æš´éœ²ï¼Œæ¯”å¦‚DubboæœåŠ¡ï¼Œå› æ­¤éœ€è¦åœ¨ç½‘å…³å±‚åšä¸€æ¬¡åè®®è½¬æ¢ï¼Œå°†ç”¨æˆ·çš„HTTPåè®®è¯·æ±‚ï¼Œåœ¨ç½‘å…³å±‚è½¬æ¢æˆåº•å±‚å¯¹åº”çš„åè®®ï¼Œæ¯”å¦‚HTTP -&gt; Dubbo, ä½†è¿™é‡Œéœ€è¦æ³¨æ„å¾ˆå¤šé—®é¢˜ï¼Œæ¯”å¦‚å‚æ•°ç±»å‹ï¼Œå¦‚æœç±»å‹æé”™äº†ï¼Œå¯¼è‡´è½¬æ¢å‡ºé—®é¢˜ï¼Œè€Œæ—¥å¿—åˆä¸å¤Ÿè¯¦ç»†çš„è¯ï¼Œé—®é¢˜ä¼šå¾ˆéš¾å®šä½ã€‚</p><h2 id="æœåŠ¡å‘ç°"><a href="#æœåŠ¡å‘ç°" class="headerlink" title="æœåŠ¡å‘ç°"></a><strong>æœåŠ¡å‘ç°</strong></h2><p>ç½‘å…³ä½œä¸ºæµé‡çš„å…¥å£ï¼Œè´Ÿè´£è¯·æ±‚çš„è½¬å‘ï¼Œä½†é¦–å…ˆéœ€è¦çŸ¥é“è½¬å‘ç»™è°ï¼Œå¦‚ä½•å¯»å€ï¼Œè¿™é‡Œæœ‰å‡ ç§æ–¹å¼:</p><ul><li>å†™æ­»åœ¨ä»£ç /é…ç½®æ–‡ä»¶é‡Œï¼Œè¿™ç§æ–¹å¼è™½ç„¶æ¯”è¾ƒæŒ«ï¼Œä½†ä¹Ÿèƒ½ä½¿ç”¨ï¼Œæ¯”å¦‚çº¿ä¸Šä»ç„¶ä½¿ç”¨çš„æ˜¯ç‰©ç†æœºï¼ŒIPå˜åŠ¨ä¸ä¼šå¾ˆé¢‘ç¹ï¼Œä½†æ‰©ç¼©å®¹ã€åŒ…æ‹¬åº”ç”¨ä¸Šä¸‹çº¿éƒ½ä¼šå¾ˆéº»çƒ¦ï¼Œç½‘å…³è‡ªèº«ç”šè‡³éœ€è¦å®ç°ä¸€å¥—å¥åº·ç›‘æµ‹æœºåˆ¶ã€‚</li><li>åŸŸåã€‚é‡‡ç”¨åŸŸåä¹Ÿæ˜¯ä¸€ç§ä¸é”™çš„æ–¹æ¡ˆï¼Œå¯¹äºæ‰€æœ‰çš„è¯­è¨€éƒ½é€‚ç”¨ï¼Œä½†å¯¹äºå†…éƒ¨çš„æœåŠ¡ï¼Œèµ°åŸŸåä¼šå¾ˆä½æ•ˆï¼Œå¦å¤–ç¯å¢ƒéš”ç¦»ä¹Ÿä¸å¤ªå‹å¥½ï¼Œæ¯”å¦‚é¢„å‘ã€çº¿ä¸Šé€šå¸¸æ˜¯åŒä¸€ä¸ªæ•°æ®åº“ï¼Œå› æ­¤ç½‘å…³è¯»å–åˆ°çš„å¯èƒ½æ˜¯åŒä¸€ä¸ªåŸŸåï¼Œè¿™æ—¶å€™é¢„å‘çš„ç½‘å…³è°ƒç”¨çš„å°±æ˜¯çº¿ä¸Šçš„æœåŠ¡ã€‚</li><li>æ³¨å†Œä¸­å¿ƒã€‚é‡‡ç”¨æ³¨å†Œä¸­å¿ƒå°±ä¸ä¼šæœ‰ä¸Šè¿°çš„è¿™äº›é—®é¢˜ï¼Œå³ä½¿æ˜¯åœ¨å®¹å™¨ç¯å¢ƒä¸‹ï¼ŒèŠ‚ç‚¹çš„IPå˜æ›´æ¯”è¾ƒé¢‘ç¹ï¼Œä½†èŠ‚ç‚¹åˆ—è¡¨çš„å®æ—¶ç»´æŠ¤ä¼šç”±æ³¨å†Œä¸­å¿ƒæå®šï¼Œå¯¹ç½‘å…³æ˜¯é€æ˜çš„ï¼Œå¦å¤–åº”ç”¨çš„æ­£å¸¸ä¸Šä¸‹çº¿ã€åŒ…æ‹¬å¼‚å¸¸å®•æœºç­‰æƒ…å†µï¼Œä¹Ÿä¼šç”±æ³¨å†Œä¸­å¿ƒçš„å¥åº·æ£€æŸ¥æœºåˆ¶æ£€æµ‹åˆ°ï¼Œå¹¶å®æ—¶åé¦ˆç»™ç½‘å…³ã€‚å¹¶ä¸”é‡‡ç”¨æ³¨å†Œä¸­å¿ƒæ€§èƒ½ä¹Ÿæ²¡æœ‰é¢å¤–çš„æ€§èƒ½æŸè€—ï¼Œé‡‡ç”¨åŸŸåçš„æ–¹å¼ï¼Œé¢å¤–éœ€è¦èµ°ä¸€æ¬¡DNSè§£æã€Nginxè½¬å‘ç­‰ï¼Œä¸­é—´å¤šäº†å¾ˆå¤šè·³ï¼Œæ€§èƒ½ä¼šæœ‰å¾ˆå¤§çš„ä¸‹é™ï¼Œä½†é‡‡ç”¨æ³¨å†Œä¸­å¿ƒï¼Œç½‘å…³æ˜¯å’Œä¸šåŠ¡æ–¹ç›´æ¥ç‚¹å¯¹ç‚¹çš„é€šè®¯ï¼Œä¸ä¼šæœ‰é¢å¤–çš„æŸè€—ã€‚</li></ul><h2 id="æœåŠ¡è°ƒç”¨"><a href="#æœåŠ¡è°ƒç”¨" class="headerlink" title="æœåŠ¡è°ƒç”¨"></a><strong>æœåŠ¡è°ƒç”¨</strong></h2><p>ç½‘å…³ç”±äºå¯¹æ¥å¾ˆå¤šç§ä¸åŒçš„åè®®ï¼Œå› æ­¤å¯èƒ½éœ€è¦å®ç°å¾ˆå¤šç§è°ƒç”¨æ–¹å¼ï¼Œæ¯”å¦‚HTTPã€Dubboç­‰ï¼ŒåŸºäºæ€§èƒ½åŸå› ï¼Œæœ€å¥½éƒ½é‡‡ç”¨å¼‚æ­¥çš„æ–¹å¼ï¼Œè€ŒHttpã€Dubboéƒ½æ˜¯æ”¯æŒå¼‚æ­¥çš„ï¼Œæ¯”å¦‚apacheå°±æä¾›äº†åŸºäºNIOå®ç°çš„å¼‚æ­¥HTTPå®¢æˆ·ç«¯ã€‚</p><p>å› ä¸ºç½‘å…³ä¼šæ¶‰åŠåˆ°å¾ˆå¤šå¼‚æ­¥è°ƒç”¨ï¼Œæ¯”å¦‚æ‹¦æˆªå™¨ã€HTTPå®¢æˆ·ç«¯ã€dubboã€redisç­‰ï¼Œå› æ­¤éœ€è¦è€ƒè™‘ä¸‹å¼‚æ­¥è°ƒç”¨çš„æ–¹å¼ï¼Œå¦‚æœåŸºäºå›è°ƒæˆ–è€…futureçš„è¯ï¼Œä»£ç åµŒå¥—ä¼šå¾ˆæ·±ï¼Œå¯è¯»æ€§å¾ˆå·®ï¼Œå¯ä»¥å‚è€ƒzuulå’Œspring cloud gatewayçš„æ–¹æ¡ˆï¼ŒåŸºäºå“åº”å¼è¿›è¡Œæ”¹é€ ã€‚</p><h2 id="ä¼˜é›…ä¸‹çº¿"><a href="#ä¼˜é›…ä¸‹çº¿" class="headerlink" title="ä¼˜é›…ä¸‹çº¿"></a><strong>ä¼˜é›…ä¸‹çº¿</strong></h2><p>ä¼˜é›…ä¸‹çº¿ä¹Ÿæ˜¯ç½‘å…³éœ€è¦å…³æ³¨çš„ä¸€ä¸ªé—®é¢˜ï¼Œç½‘å…³åº•å±‚ä¼šæ¶‰åŠåˆ°å¾ˆå¤šç§åè®®ï¼Œæ¯”å¦‚HTTPã€Dubboï¼Œè€ŒHTTPåˆå¯ä»¥ç»§ç»­ç»†åˆ†ï¼Œæ¯”å¦‚åŸŸåã€æ³¨å†Œä¸­å¿ƒç­‰ï¼Œæœ‰äº›è‡ªèº«å°±æ”¯æŒä¼˜é›…ä¸‹çº¿ï¼Œæ¯”å¦‚Nginxè‡ªèº«æ˜¯æ”¯æŒå¥åº·ç›‘æµ‹æœºåˆ¶çš„ï¼Œå¦‚æœæ£€æµ‹åˆ°æŸä¸€ä¸ªèŠ‚ç‚¹å·²ç»æŒ‚æ‰äº†ï¼Œå°±ä¼šæŠŠè¿™ä¸ªèŠ‚ç‚¹æ‘˜æ‰ï¼Œå¯¹äºåº”ç”¨æ­£å¸¸ä¸‹çº¿ï¼Œéœ€è¦ç»“åˆå‘å¸ƒç³»ç»Ÿï¼Œé¦–å…ˆè¿›è¡Œé€»è¾‘ä¸‹çº¿ï¼Œç„¶åå¯¹åç»­Nginxçš„å¥åº·ç›‘æµ‹è¯·æ±‚ç›´æ¥è¿”å›å¤±è´¥(æ¯”å¦‚ç›´æ¥è¿”å›500),ç„¶åç­‰å¾…ä¸€æ®µæ—¶é—´(æ ¹æ®Nginxé…ç½®å†³å®š)ï¼Œç„¶åå†å°†åº”ç”¨å®é™…ä¸‹çº¿æ‰ã€‚å¦å¤–å¯¹äºæ³¨å†Œä¸­å¿ƒçš„å…¶å®ä¹Ÿç±»ä¼¼ï¼Œä¸€èˆ¬æ³¨å†Œä¸­å¿ƒæ˜¯åªæ”¯æŒæ‰‹åŠ¨ä¸‹çº¿çš„ï¼Œå¯ä»¥åœ¨é€»è¾‘ä¸‹çº¿é˜¶æ®µè°ƒç”¨æ³¨å†Œä¸­å¿ƒçš„æ¥å£å°†èŠ‚ç‚¹ä¸‹çº¿æ‰ï¼Œè€Œæœ‰äº›ä¸æ”¯æŒä¸»åŠ¨ä¸‹çº¿çš„ï¼Œéœ€è¦ç»“åˆç¼“å­˜çš„é…ç½®ï¼Œè®©åº”ç”¨å»¶è¿Ÿä¸‹çº¿ã€‚å¦å¤–å¯¹äºå…¶ä»–æ¯”å¦‚Dubboç­‰åŸç†ä¹Ÿæ˜¯ç±»ä¼¼ã€‚</p><h2 id="æ€§èƒ½"><a href="#æ€§èƒ½" class="headerlink" title="æ€§èƒ½"></a><strong>æ€§èƒ½</strong></h2><p>ç½‘å…³ä½œä¸ºæ‰€æœ‰æµé‡çš„å…¥å£ï¼Œæ€§èƒ½æ˜¯é‡ä¸­ä¹‹é‡ï¼Œæ—©æœŸå¤§éƒ¨åˆ†ç½‘å…³éƒ½æ˜¯åŸºäºåŒæ­¥é˜»å¡æ¨¡å‹æ„å»ºçš„ï¼Œæ¯”å¦‚Zuul 1.xã€‚ä½†è¿™ç§åŒæ­¥çš„æ¨¡å‹æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œæ¯ä¸ªè¯·æ±‚/è¿æ¥éƒ½ä¼šå ç”¨ä¸€ä¸ªçº¿ç¨‹ï¼Œè€Œçº¿ç¨‹åœ¨JVMä¸­æ˜¯ä¸€ä¸ªå¾ˆé‡çš„èµ„æºï¼Œæ¯”å¦‚Tomcaté»˜è®¤å°±æ˜¯200ä¸ªçº¿ç¨‹ï¼Œå¦‚æœç½‘å…³éš”ç¦»æ²¡æœ‰åšå¥½çš„è¯ï¼Œå½“å‘ç”Ÿç½‘ç»œå»¶è¿Ÿã€FullGCã€ç¬¬ä¸‰æ–¹æœåŠ¡æ…¢ç­‰æƒ…å†µé€ æˆä¸Šæ¸¸æœåŠ¡å»¶è¿Ÿæ—¶ï¼Œçº¿ç¨‹æ± å¾ˆå®¹æ˜“ä¼šè¢«æ‰“æ»¡ï¼Œé€ æˆæ–°çš„è¯·æ±‚è¢«æ‹’ç»ï¼Œä½†è¿™ä¸ªæ—¶å€™å…¶å®çº¿ç¨‹éƒ½é˜»å¡åœ¨IOä¸Šï¼Œç³»ç»Ÿçš„èµ„æºè¢«æ²¡æœ‰å¾—åˆ°å……åˆ†çš„åˆ©ç”¨ã€‚å¦å¤–ä¸€ç‚¹ï¼Œå®¹æ˜“å—ç½‘ç»œã€ç£ç›˜IOç­‰å»¶è¿Ÿå½±å“ã€‚éœ€è¦è°¨æ…è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå¦‚æœè®¾ç½®ä¸å½“ï¼Œä¸”æœåŠ¡éš”ç¦»åšçš„ä¸æ˜¯å¾ˆå®Œå–„çš„è¯ï¼Œç½‘å…³å¾ˆå®¹æ˜“è¢«ä¸€ä¸ªæ…¢æ¥å£æ‹–å®ã€‚</p><p>è€Œå¼‚æ­¥åŒ–çš„æ–¹å¼åˆ™å®Œå…¨ä¸åŒï¼Œé€šå¸¸æƒ…å†µä¸‹ä¸€ä¸ªCPUæ ¸å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹å³å¯å¤„ç†æ‰€æœ‰çš„è¯·æ±‚ã€å“åº”ã€‚ä¸€ä¸ªè¯·æ±‚çš„ç”Ÿå‘½å‘¨æœŸä¸å†å›ºå®šäºä¸€ä¸ªçº¿ç¨‹ï¼Œè€Œæ˜¯ä¼šåˆ†æˆä¸åŒçš„é˜¶æ®µäº¤ç”±ä¸åŒçš„çº¿ç¨‹æ± å¤„ç†ï¼Œç³»ç»Ÿçš„èµ„æºèƒ½å¤Ÿå¾—åˆ°æ›´å……åˆ†çš„åˆ©ç”¨ã€‚è€Œä¸”å› ä¸ºçº¿ç¨‹ä¸å†è¢«æŸä¸€ä¸ªè¿æ¥ç‹¬å ï¼Œä¸€ä¸ªè¿æ¥æ‰€å ç”¨çš„ç³»ç»Ÿèµ„æºä¹Ÿä¼šä½å¾—å¤šï¼Œåªæ˜¯ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦åŠ ä¸Šå‡ ä¸ªç›‘å¬å™¨ç­‰ï¼Œè€Œåœ¨é˜»å¡æ¨¡å‹ä¸­ï¼Œæ¯æ¡è¿æ¥éƒ½ä¼šç‹¬å ä¸€ä¸ªçº¿ç¨‹ï¼Œè€Œçº¿ç¨‹æ˜¯ä¸€ä¸ªéå¸¸é‡çš„èµ„æºã€‚å¯¹äºä¸Šæ¸¸æœåŠ¡çš„å»¶è¿Ÿæƒ…å†µï¼Œä¹Ÿèƒ½å¤Ÿå¾—åˆ°å¾ˆå¤§çš„ç¼“è§£ï¼Œå› ä¸ºåœ¨é˜»å¡æ¨¡å‹ä¸­ï¼Œæ…¢è¯·æ±‚ä¼šç‹¬å ä¸€ä¸ªçº¿ç¨‹èµ„æºï¼Œè€Œå¼‚æ­¥åŒ–ä¹‹åï¼Œå› ä¸ºå•æ¡è¿æ¥æ‰€å ç”¨çš„èµ„æºå˜çš„éå¸¸ä½ï¼Œç³»ç»Ÿå¯ä»¥åŒæ—¶å¤„ç†å¤§é‡çš„è¯·æ±‚ã€‚</p><p>å¦‚æœæ˜¯JVMå¹³å°ï¼ŒZuul 2ã€Spring Cloud gatewayç­‰éƒ½æ˜¯ä¸é”™çš„å¼‚æ­¥ç½‘å…³é€‰å‹ï¼Œå¦å¤–ä¹Ÿå¯ä»¥åŸºäºNettyã€Spring Boot2.xçš„webfluxã€vert.xæˆ–è€…servlet3.1çš„å¼‚æ­¥æ”¯æŒè¿›è¡Œè‡ªç ”ã€‚</p><h2 id="ç¼“å­˜"><a href="#ç¼“å­˜" class="headerlink" title="ç¼“å­˜"></a><strong>ç¼“å­˜</strong></h2><p>å¯¹äºä¸€äº›å¹‚ç­‰çš„getè¯·æ±‚ï¼Œå¯ä»¥åœ¨ç½‘å…³å±‚é¢æ ¹æ®ä¸šåŠ¡æ–¹æŒ‡å®šçš„ç¼“å­˜å¤´åšä¸€å±‚ç¼“å­˜ï¼Œå­˜å‚¨åˆ°Redisç­‰äºŒçº§ç¼“å­˜ä¸­ï¼Œè¿™æ ·ä¸€äº›é‡å¤çš„è¯·æ±‚ï¼Œå¯ä»¥åœ¨ç½‘å…³å±‚ç›´æ¥å¤„ç†ï¼Œè€Œä¸ç”¨æ‰“åˆ°ä¸šåŠ¡çº¿ï¼Œé™ä½ä¸šåŠ¡æ–¹çš„å‹åŠ›ï¼Œå¦å¤–å¦‚æœä¸šåŠ¡æ–¹èŠ‚ç‚¹æŒ‚æ‰ï¼Œç½‘å…³ä¹Ÿèƒ½å¤Ÿè¿”å›è‡ªèº«çš„ç¼“å­˜ã€‚</p><h2 id="é™æµ"><a href="#é™æµ" class="headerlink" title="é™æµ"></a><strong>é™æµ</strong></h2><p>é™æµå¯¹äºæ¯ä¸ªä¸šåŠ¡ç»„ä»¶æ¥è¯´ï¼Œå¯ä»¥è¯´éƒ½æ˜¯ä¸€ä¸ªå¿…é¡»çš„ç»„ä»¶ï¼Œå¦‚æœé™æµåšä¸å¥½çš„è¯ï¼Œå½“è¯·æ±‚é‡çªå¢æ—¶ï¼Œå¾ˆå®¹æ˜“å¯¼è‡´ä¸šåŠ¡æ–¹çš„æœåŠ¡æŒ‚æ‰ï¼Œæ¯”å¦‚åŒ11ã€åŒ12ç­‰å¤§ä¿ƒæ—¶ï¼Œæ¥å£çš„è¯·æ±‚é‡æ˜¯å¹³æ—¶çš„æ•°å€ï¼Œå¦‚æœæ²¡æœ‰è¯„ä¼°å¥½å®¹é‡ï¼Œåˆæ²¡æœ‰åšé™æµçš„è¯ï¼Œå¾ˆå®¹æ˜“æœåŠ¡æ•´ä¸ªä¸å¯ç”¨ï¼Œå› æ­¤éœ€è¦æ ¹æ®ä¸šåŠ¡æ–¹æ¥å£çš„å¤„ç†èƒ½åŠ›ï¼Œåšå¥½é™æµç­–ç•¥ï¼Œç›¸ä¿¡å¤§å®¶éƒ½è§è¿‡æ·˜å®ã€ç™¾åº¦æŠ¢çº¢åŒ…æ—¶çš„é™çº§é¡µé¢ã€‚</p><p>å› æ­¤ä¸€å®šè¦åœ¨æ¥å…¥å±‚åšå¥½é™æµç­–ç•¥ï¼Œå¯¹äºéæ ¸å¿ƒæ¥å£å¯ä»¥ç›´æ¥å°†é™çº§æ‰ï¼Œä¿éšœæ ¸å¿ƒæœåŠ¡çš„å¯ç”¨æ€§ï¼Œå¯¹äºæ ¸å¿ƒæ¥å£ï¼Œéœ€è¦æ ¹æ®å‹æµ‹æ—¶å¾—åˆ°çš„æ¥å£å®¹é‡ï¼Œåˆ¶å®šå¯¹åº”çš„é™æµç­–ç•¥ã€‚é™æµåˆåˆ†ä¸ºå‡ ç§:</p><ul><li>å•æœºã€‚å•æœºæ€§èƒ½æ¯”è¾ƒé«˜ï¼Œä¸æ¶‰åŠè¿œç¨‹è°ƒç”¨ï¼Œåªæ˜¯æœ¬åœ°è®¡æ•°ï¼Œå¯¹æ¥å£RTå½±å“æœ€å°ã€‚ä½†éœ€è¦è€ƒè™‘ä¸‹é™æµæ•°çš„è®¾ç½®ï¼Œæ¯”å¦‚æ˜¯é’ˆå¯¹å•å°ç½‘å…³ã€è¿˜æ˜¯æ•´ä¸ªç½‘å…³é›†ç¾¤ï¼Œå¦‚æœæ˜¯æ•´ä¸ªé›†ç¾¤çš„è¯ï¼Œéœ€è¦è€ƒè™‘åˆ°ç½‘å…³ç¼©å®¹ã€æ‰©å®¹æ—¶ä¿®æ”¹å¯¹åº”çš„é™æµæ•°ã€‚</li><li>åˆ†å¸ƒå¼ã€‚åˆ†å¸ƒå¼çš„å°±éœ€è¦ä¸€ä¸ªå­˜å‚¨èŠ‚ç‚¹ç»´æŠ¤å½“å‰æ¥å£çš„è°ƒç”¨æ•°ï¼Œæ¯”å¦‚redisã€sentinelç­‰ï¼Œè¿™ç§æ–¹å¼ç”±äºæ¶‰åŠåˆ°è¿œç¨‹è°ƒç”¨ï¼Œä¼šæœ‰äº›æ€§èƒ½æŸè€—ï¼Œå¦å¤–ä¹Ÿéœ€è¦è€ƒè™‘åˆ°å­˜å‚¨æŒ‚æ‰çš„é—®é¢˜ï¼Œæ¯”å¦‚rediså¦‚æœæŒ‚æ‰ï¼Œç½‘å…³éœ€è¦è€ƒè™‘é™çº§æ–¹æ¡ˆï¼Œæ˜¯é™çº§åˆ°æœ¬åœ°é™æµï¼Œè¿˜æ˜¯ç›´æ¥å°†é™æµåŠŸèƒ½æœ¬èº«é™çº§æ‰ã€‚</li></ul><p>å¦å¤–è¿˜æœ‰ä¸åŒçš„ç­–ç•¥:ç®€å•è®¡æ•°ã€ä»¤ç‰Œæ¡¶ç­‰ï¼Œå¤§éƒ¨åˆ†åœºæ™¯ä¸‹å…¶å®ç®€å•è®¡æ•°å·²ç»å¤Ÿç”¨äº†ï¼Œä½†å¦‚æœéœ€è¦æ”¯æŒçªå‘æµé‡ç­‰åœºæ™¯æ—¶ï¼Œå¯ä»¥é‡‡ç”¨ä»¤ç‰Œæ¡¶ç­‰æ–¹æ¡ˆã€‚è¿˜éœ€è¦è€ƒè™‘æ ¹æ®ä»€ä¹ˆé™æµï¼Œæ¯”å¦‚æ˜¯IPã€æ¥å£ã€ç”¨æˆ·ç»´åº¦ã€è¿˜æ˜¯è¯·æ±‚å‚æ•°ä¸­çš„æŸäº›å€¼ï¼Œè¿™é‡Œå¯ä»¥é‡‡ç”¨è¡¨è¾¾å¼ï¼Œç›¸å¯¹æ¯”è¾ƒçµæ´»ã€‚</p><h2 id="ç¨³å®šæ€§"><a href="#ç¨³å®šæ€§" class="headerlink" title="ç¨³å®šæ€§"></a><strong>ç¨³å®šæ€§</strong></h2><p>ç¨³å®šæ€§æ˜¯ç½‘å…³éå¸¸é‡è¦çš„ä¸€ç¯ï¼Œç›‘æ§ã€å‘Šè­¦éœ€è¦åšçš„å¾ˆå®Œå–„æ‰å¯ä»¥ï¼Œæ¯”å¦‚æ¥å£è°ƒç”¨é‡ã€å“åº”æ—¶é—´ã€å¼‚å¸¸ã€é”™è¯¯ç ã€æˆåŠŸç‡ç­‰ç›¸å…³çš„ç›‘æ§å‘Šè­¦ï¼Œè¿˜æœ‰çº¿ç¨‹æ± ç›¸å…³çš„ä¸€äº›ï¼Œæ¯”å¦‚æ´»è·ƒçº¿ç¨‹æ•°ã€é˜Ÿåˆ—ç§¯å‹ç­‰ï¼Œè¿˜æœ‰äº›ç³»ç»Ÿå±‚é¢çš„ï¼Œæ¯”å¦‚CPUã€å†…å­˜ã€FullGCè¿™äº›åŸºæœ¬çš„ã€‚</p><p>ç½‘å…³æ˜¯æ‰€æœ‰æœåŠ¡çš„å…¥å£ï¼Œå¯¹äºç½‘å…³çš„ç¨³å®šæ€§çš„è¦æ±‚ç›¸å¯¹äºå…¶ä»–æœåŠ¡ä¼šæ›´é«˜ï¼Œæœ€å¥½èƒ½å¤Ÿä¸€ç›´ç¨³å®šçš„è¿è¡Œï¼Œå°½é‡å°‘é‡å¯ï¼Œä½†å½“æ–°å¢åŠŸèƒ½ã€æˆ–è€…åŠ æ—¥å¿—æ’æŸ¥é—®é¢˜æ—¶ï¼Œä¸å¯é¿å…çš„éœ€è¦é‡æ–°å‘å¸ƒï¼Œå› æ­¤å¯ä»¥å‚è€ƒzuulçš„æ–¹å¼ï¼Œå°†æ‰€æœ‰çš„æ ¸å¿ƒåŠŸèƒ½éƒ½åŸºäºä¸åŒçš„æ‹¦æˆªå™¨å®ç°ï¼Œæ‹¦æˆªå™¨çš„ä»£ç é‡‡ç”¨Groovyç¼–å†™ï¼Œå­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼Œæ”¯æŒåŠ¨æ€åŠ è½½ã€ç¼–è¯‘ã€è¿è¡Œï¼Œè¿™æ ·åœ¨å‡ºäº†é—®é¢˜çš„æ—¶å€™èƒ½å¤Ÿç¬¬ä¸€æ—¶é—´å®šä½å¹¶è§£å†³ï¼Œå¹¶ä¸”å¦‚æœç½‘å…³éœ€è¦å¼€å‘æ–°åŠŸèƒ½ï¼Œåªéœ€è¦å¢åŠ æ–°çš„æ‹¦æˆªå™¨ï¼Œå¹¶åŠ¨æ€æ·»åŠ åˆ°ç½‘å…³å³å¯ï¼Œä¸éœ€è¦é‡æ–°å‘å¸ƒã€‚</p><h2 id="ç†”æ–­é™çº§"><a href="#ç†”æ–­é™çº§" class="headerlink" title="ç†”æ–­é™çº§"></a><strong>ç†”æ–­é™çº§</strong></h2><p>ç†”æ–­æœºåˆ¶ä¹Ÿæ˜¯éå¸¸é‡è¦çš„ä¸€é¡¹ã€‚è‹¥æŸä¸€ä¸ªæœåŠ¡æŒ‚æ‰ã€æ¥å£å“åº”ä¸¥é‡è¶…æ—¶ç­‰å‘ç”Ÿï¼Œåˆ™å¯èƒ½æ•´ä¸ªç½‘å…³éƒ½è¢«ä¸€ä¸ªæ¥å£æ‹–å®ï¼Œå› æ­¤éœ€è¦å¢åŠ ç†”æ–­é™çº§ï¼Œå½“å‘ç”Ÿç‰¹å®šå¼‚å¸¸çš„æ—¶å€™ï¼Œå¯¹æ¥å£é™çº§ç”±ç½‘å…³ç›´æ¥è¿”å›ï¼Œå¯ä»¥åŸºäºHystrixæˆ–è€…Resilience4jå®ç°ã€‚</p><h2 id="æ—¥å¿—"><a href="#æ—¥å¿—" class="headerlink" title="æ—¥å¿—"></a><strong>æ—¥å¿—</strong></h2><p>ç”±äºæ‰€æœ‰çš„è¯·æ±‚éƒ½æ˜¯ç”±ç½‘å…³å¤„ç†çš„ï¼Œå› æ­¤æ—¥å¿—ä¹Ÿéœ€è¦ç›¸å¯¹æ¯”è¾ƒå®Œå–„ï¼Œæ¯”å¦‚æ¥å£çš„è€—æ—¶ã€è¯·æ±‚æ–¹å¼ã€è¯·æ±‚IPã€è¯·æ±‚å‚æ•°ã€å“åº”å‚æ•°(æ³¨æ„è„±æ•)ç­‰ï¼Œå¦å¤–ç”±äºå¯èƒ½æ¶‰åŠåˆ°å¾ˆå¤šå¾®æœåŠ¡ï¼Œå› æ­¤éœ€è¦æä¾›ä¸€ä¸ªç»Ÿä¸€çš„traceIdæ–¹ä¾¿å…³è”æ‰€æœ‰çš„æ—¥å¿—ï¼Œå¯ä»¥å°†è¿™ä¸ªtraceIdç½®äºå“åº”å¤´ä¸­ï¼Œæ–¹ä¾¿æ’æŸ¥é—®é¢˜ã€‚</p><h2 id="éš”ç¦»"><a href="#éš”ç¦»" class="headerlink" title="éš”ç¦»"></a><strong>éš”ç¦»</strong></h2><p>æ¯”å¦‚çº¿ç¨‹æ± ã€httpè¿æ¥æ± ã€redisç­‰åº”ç”¨å±‚é¢çš„éš”ç¦»ï¼Œå¦å¤–ä¹Ÿå¯ä»¥æ ¹æ®ä¸šåŠ¡åœºæ™¯ï¼Œå°†æ ¸å¿ƒä¸šåŠ¡éƒ¨ç½²å¸¦å•ç‹¬çš„ç½‘å…³é›†ç¾¤ï¼Œä¸å…¶ä»–éæ ¸å¿ƒä¸šåŠ¡éš”ç¦»å¼€ã€‚</p><h2 id="ç½‘å…³ç®¡æ§å¹³å°"><a href="#ç½‘å…³ç®¡æ§å¹³å°" class="headerlink" title="ç½‘å…³ç®¡æ§å¹³å°"></a><strong>ç½‘å…³ç®¡æ§å¹³å°</strong></h2><p>è¿™å—ä¹Ÿæ˜¯éå¸¸é‡è¦çš„ä¸€ç¯ï¼Œéœ€è¦è€ƒè™‘å¥½æ•´ä¸ªæµç¨‹çš„ç”¨æˆ·ä½“éªŒï¼Œæ¯”å¦‚æ¥å…¥åˆ°ç½‘å…³çš„è¿™ä¸ªæµç¨‹ï¼Œèƒ½ä¸èƒ½å°½é‡ç®€åŒ–ã€æ™ºèƒ½ï¼Œæ¯”å¦‚å¦‚æœæ˜¯dubboæ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ°gitä»“åº“ä¸­è·å–æºç ã€è§£æå¯¹åº”çš„ç±»ã€æ–¹æ³•ï¼Œä»è€Œå®ç°è‡ªåŠ¨å¡«å……ï¼Œå°½é‡å¸®ç”¨æˆ·å‡å°‘æ“ä½œï¼›å¦å¤–æ¥å£ä¸€èˆ¬æ˜¯ä»æµ‹è¯•-&gt;é¢„å‘-&gt;çº¿ä¸Šï¼Œå¦‚æœæ¯æ¬¡éƒ½è¦å¡«å†™ä¸€éè¡¨å•ä¼šéå¸¸éº»çƒ¦ï¼Œæˆ‘ä»¬èƒ½ä¸èƒ½è‡ªåŠ¨æŠŠè¿™ä¸ªäº‹æƒ…åšæ‰ï¼Œå¦å¤–å¦‚æœç½‘å…³éƒ¨ç½²åˆ°äº†å¤šä¸ªå¯ç”¨åŒºã€ç”šè‡³ä¸åŒçš„å›½å®¶ï¼Œé‚£è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ¥å£æ•°æ®åŒæ­¥åŠŸèƒ½ï¼Œä¸ç„¶ç”¨æˆ·éœ€è¦åˆ°æ¯ä¸ªåå°éƒ½æ“ä½œä¸€éï¼Œéå¸¸éº»çƒ¦ã€‚</p><p>è¿™å—ä¸ªäººçš„å»ºè®®æ˜¯ç›´æ¥å‚è€ƒé˜¿é‡Œäº‘ã€awsç­‰æä¾›çš„ç½‘å…³æœåŠ¡å³å¯ï¼ŒåŠŸèƒ½éå¸¸å…¨é¢ã€‚</p><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a><strong>å…¶ä»–</strong></h2><p>å…¶ä»–è¿˜æœ‰äº›éœ€è¦è€ƒè™‘åˆ°çš„ç‚¹ï¼Œæ¯”å¦‚æ¥å£mockï¼Œæ–‡æ¡£ç”Ÿæˆã€sdkä»£ç ç”Ÿæˆã€é”™è¯¯ç ç»Ÿä¸€ã€æœåŠ¡æ²»ç†ç›¸å…³çš„ç­‰ï¼Œè¿™é‡Œå°±ä¸ç´¯è¿°äº†ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a><strong>æ€»ç»“</strong></h2><p>ç›®å‰çš„ç½‘å…³è¿˜æ˜¯ä¸­å¿ƒåŒ–çš„æ¶æ„ï¼Œæ‰€æœ‰çš„è¯·æ±‚éƒ½éœ€è¦èµ°ä¸€æ¬¡ç½‘å…³ï¼Œå› æ­¤å½“å¤§ä¿ƒæˆ–è€…æµé‡çªå¢æ—¶ï¼Œç½‘å…³å¯èƒ½ä¼šæˆä¸ºæ€§èƒ½çš„ç“¶é¢ˆï¼Œè€Œä¸”å½“ç½‘å…³æ¥å…¥çš„å¤§é‡æ¥å£çš„æ—¶å€™ï¼Œåšå¥½æµé‡è¯„ä¼°ä¹Ÿä¸æ˜¯ä¸€é¡¹å®¹æ˜“çš„å·¥ä½œï¼Œæ¯æ¬¡å¤§ä¿ƒå‰éƒ½éœ€è¦è·Ÿä¸šåŠ¡æ–¹ä¸€èµ·é’ˆå¯¹æ¥å£åšå‹æµ‹ï¼Œè¯„ä¼°å‡ºå¤§è‡´çš„å®¹é‡ï¼Œå¹¶å¯¹ç½‘å…³è¿›è¡Œæ‰©å®¹ï¼Œè€Œä¸”ç½‘å…³æ˜¯æ‰€æœ‰æµé‡çš„å…¥å£ï¼Œæ‰€æœ‰çš„è¯·æ±‚éƒ½æ˜¯ç”±ç½‘å…³å¤„ç†ï¼Œè¦æƒ³å‡†ç¡®çš„è¯„ä¼°å‡ºå®¹é‡å¾ˆå¤æ‚ã€‚å¯ä»¥å‚è€ƒç›®å‰æ¯”è¾ƒæµè¡Œçš„ServiceMeshï¼Œé‡‡ç”¨å»ä¸­å¿ƒåŒ–çš„æ–¹æ¡ˆï¼Œå°†ç½‘å…³çš„é€»è¾‘ä¸‹æ²‰åˆ°sidecarä¸­ï¼Œsidecarå’Œåº”ç”¨éƒ¨ç½²åˆ°åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¹¶æ¥ç®¡åº”ç”¨æµå…¥ã€æµå‡ºçš„æµé‡ï¼Œè¿™æ ·å¤§ä¿ƒæ—¶ï¼Œåªéœ€è¦å¯¹ç›¸å…³çš„ä¸šåŠ¡å‹æµ‹ï¼Œå¹¶é’ˆå¯¹æ€§æ‰©å®¹å³å¯ï¼Œå¦å¤–å‡çº§ä¹Ÿä¼šæ›´å¹³æ»‘ï¼Œä¸­å¿ƒåŒ–çš„ç½‘å…³ï¼Œå³ä½¿ç°åº¦å‘å¸ƒï¼Œä½†æ˜¯ç†è®ºä¸Šæ‰€æœ‰ä¸šåŠ¡æ–¹çš„æµé‡éƒ½ä¼šæµå…¥åˆ°æ–°ç‰ˆæœ¬çš„ç½‘å…³ï¼Œå¦‚æœå‡ºäº†é—®é¢˜ï¼Œä¼šå½±å“åˆ°æ‰€æœ‰çš„ä¸šåŠ¡ï¼Œä½†è¿™ç§å»ä¸­å¿ƒåŒ–çš„æ–¹å¼ï¼Œå¯ä»¥å…ˆé’ˆå¯¹éæ ¸å¿ƒä¸šåŠ¡å‡çº§ï¼Œè§‚å¯Ÿä¸€æ®µæ—¶é—´æ²¡é—®é¢˜åï¼Œå†å…¨é‡æ¨ä¸Šçº¿ã€‚å¦å¤–ServiceMeshçš„æ–¹æ¡ˆï¼Œå¯¹äºå¤šè¯­è¨€æ”¯æŒä¹Ÿæ›´å‹å¥½ã€‚</p><p> ä½œè€…ï¼šaCoder2013<br> é“¾æ¥ï¼šgithub.com/aCoder2013/blog/issues/35</p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>gateway</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç½‘å…³</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‹ç¼©20Mæ–‡ä»¶ä»30ç§’åˆ°1ç§’çš„ä¼˜åŒ–è¿‡ç¨‹</title>
    <link href="/2019/11/20/%E5%8E%8B%E7%BC%A920M%E6%96%87%E4%BB%B6%E4%BB%8E30%E7%A7%92%E5%88%B01%E7%A7%92%E7%9A%84%E4%BC%98%E5%8C%96%E8%BF%87%E7%A8%8B/"/>
    <url>/2019/11/20/%E5%8E%8B%E7%BC%A920M%E6%96%87%E4%BB%B6%E4%BB%8E30%E7%A7%92%E5%88%B01%E7%A7%92%E7%9A%84%E4%BC%98%E5%8C%96%E8%BF%87%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æ–‡ç« æ¥æºå…¬ä¼—å·ï¼š<strong>ITç‰§åœº</strong></p></blockquote><p>æœ‰ä¸€ä¸ªéœ€æ±‚éœ€è¦å°†å‰ç«¯ä¼ è¿‡æ¥çš„10å¼ ç…§ç‰‡ï¼Œç„¶ååç«¯è¿›è¡Œå¤„ç†ä»¥åå‹ç¼©æˆä¸€ä¸ªå‹ç¼©åŒ…é€šè¿‡ç½‘ç»œæµä¼ è¾“å‡ºå»ã€‚ä¹‹å‰æ²¡æœ‰æ¥è§¦è¿‡ç”¨Javaå‹ç¼©æ–‡ä»¶çš„ï¼Œæ‰€ä»¥å°±ç›´æ¥ä¸Šç½‘æ‰¾äº†ä¸€ä¸ªä¾‹å­æ”¹äº†ä¸€ä¸‹ç”¨äº†ï¼Œæ”¹å®Œä»¥åä¹Ÿèƒ½ä½¿ç”¨ï¼Œä½†æ˜¯éšç€å‰ç«¯æ‰€ä¼ å›¾ç‰‡çš„å¤§å°è¶Šæ¥è¶Šå¤§çš„æ—¶å€™ï¼Œè€—è´¹çš„æ—¶é—´ä¹Ÿåœ¨æ€¥å‰§å¢åŠ ï¼Œæœ€åæµ‹äº†ä¸€ä¸‹å‹ç¼©20Mçš„æ–‡ä»¶ç«Ÿç„¶éœ€è¦30ç§’çš„æ—¶é—´ã€‚å‹ç¼©æ–‡ä»¶çš„ä»£ç å¦‚ä¸‹ã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">zipFileNoBuffer</span><span class="hljs-params">()</span> </span>&#123;    File zipFile = <span class="hljs-keyword">new</span> File(ZIP_FILE);    <span class="hljs-keyword">try</span> (ZipOutputStream zipOut = <span class="hljs-keyword">new</span> ZipOutputStream(<span class="hljs-keyword">new</span> FileOutputStream(zipFile))) &#123;        <span class="hljs-comment">//å¼€å§‹æ—¶é—´</span>        <span class="hljs-keyword">long</span> beginTime = System.currentTimeMillis();        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;            <span class="hljs-keyword">try</span> (InputStream input = <span class="hljs-keyword">new</span> FileInputStream(JPG_FILE)) &#123;                zipOut.putNextEntry(<span class="hljs-keyword">new</span> ZipEntry(FILE_NAME + i));                <span class="hljs-keyword">int</span> temp = <span class="hljs-number">0</span>;                <span class="hljs-keyword">while</span> ((temp = input.read()) != -<span class="hljs-number">1</span>) &#123;                    zipOut.write(temp);                &#125;            &#125;        &#125;        printInfo(beginTime);    &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;        e.printStackTrace();    &#125;&#125;</code></pre><p>è¿™é‡Œæ‰¾äº†ä¸€å¼ 2Må¤§å°çš„å›¾ç‰‡ï¼Œå¹¶ä¸”å¾ªç¯åæ¬¡è¿›è¡Œæµ‹è¯•ã€‚æ‰“å°çš„ç»“æœå¦‚ä¸‹ï¼Œæ—¶é—´å¤§æ¦‚æ˜¯30ç§’ã€‚</p><pre><code class="hljs css"><span class="hljs-selector-tag">fileSize</span><span class="hljs-selector-pseudo">:20M</span><span class="hljs-selector-tag">consum</span> <span class="hljs-selector-tag">time</span><span class="hljs-selector-pseudo">:29599</span></code></pre><h2 id="ç¬¬ä¸€æ¬¡ä¼˜åŒ–è¿‡ç¨‹-ä»30ç§’åˆ°2ç§’"><a href="#ç¬¬ä¸€æ¬¡ä¼˜åŒ–è¿‡ç¨‹-ä»30ç§’åˆ°2ç§’" class="headerlink" title="ç¬¬ä¸€æ¬¡ä¼˜åŒ–è¿‡ç¨‹-ä»30ç§’åˆ°2ç§’"></a>ç¬¬ä¸€æ¬¡ä¼˜åŒ–è¿‡ç¨‹-ä»30ç§’åˆ°2ç§’</h2><p>è¿›è¡Œä¼˜åŒ–é¦–å…ˆæƒ³åˆ°çš„æ˜¯åˆ©ç”¨<strong>ç¼“å†²åŒº</strong><code>BufferInputStream</code>ã€‚åœ¨<code>FileInputStream</code>ä¸­<code>read()</code>æ–¹æ³•æ¯æ¬¡åªè¯»å–ä¸€ä¸ªå­—èŠ‚ã€‚æºç ä¸­ä¹Ÿæœ‰è¯´æ˜ã€‚</p><pre><code class="hljs java"><span class="hljs-comment">/**</span><span class="hljs-comment"> * Reads a byte of data from this input stream. This method blocks</span><span class="hljs-comment"> * if no input is yet available.</span><span class="hljs-comment"> *</span><span class="hljs-comment"> * <span class="hljs-doctag">@return</span>     the next byte of data, or &lt;code&gt;-1&lt;/code&gt; if the end of the</span><span class="hljs-comment"> *             file is reached.</span><span class="hljs-comment"> * <span class="hljs-doctag">@exception</span>  IOException  if an I/O error occurs.</span><span class="hljs-comment"> */</span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">native</span> <span class="hljs-keyword">int</span> <span class="hljs-title">read</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException</span>;</code></pre><p>è¿™æ˜¯ä¸€ä¸ªè°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸åŸç”Ÿæ“ä½œç³»ç»Ÿè¿›è¡Œäº¤äº’ï¼Œä»ç£ç›˜ä¸­è¯»å–æ•°æ®ã€‚æ¯è¯»å–ä¸€ä¸ªå­—èŠ‚çš„æ•°æ®å°±è°ƒç”¨ä¸€æ¬¡æœ¬åœ°æ–¹æ³•ä¸æ“ä½œç³»ç»Ÿäº¤äº’ï¼Œæ˜¯éå¸¸è€—æ—¶çš„ã€‚ä¾‹å¦‚æˆ‘ä»¬ç°åœ¨æœ‰30000ä¸ªå­—èŠ‚çš„æ•°æ®ï¼Œå¦‚æœä½¿ç”¨<code>FileInputStream</code>é‚£ä¹ˆå°±éœ€è¦è°ƒç”¨30000æ¬¡çš„æœ¬åœ°æ–¹æ³•æ¥è·å–è¿™äº›æ•°æ®ï¼Œè€Œå¦‚æœä½¿ç”¨ç¼“å†²åŒºçš„è¯ï¼ˆè¿™é‡Œå‡è®¾åˆå§‹çš„ç¼“å†²åŒºå¤§å°è¶³å¤Ÿæ”¾ä¸‹30000å­—èŠ‚çš„æ•°æ®ï¼‰é‚£ä¹ˆåªéœ€è¦è°ƒç”¨ä¸€æ¬¡å°±è¡Œã€‚å› ä¸ºç¼“å†²åŒºåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨<code>read()</code>æ–¹æ³•çš„æ—¶å€™ä¼šç›´æ¥ä»ç£ç›˜ä¸­å°†æ•°æ®ç›´æ¥è¯»å–åˆ°å†…å­˜ä¸­ã€‚éšåå†ä¸€ä¸ªå­—èŠ‚ä¸€ä¸ªå­—èŠ‚çš„æ…¢æ…¢è¿”å›ã€‚</p><blockquote><p><code>BufferedInputStream</code>å†…éƒ¨å°è£…äº†ä¸€ä¸ªbyteæ•°ç»„ç”¨äºå­˜æ”¾æ•°æ®ï¼Œé»˜è®¤å¤§å°æ˜¯8192</p></blockquote><p>ä¼˜åŒ–è¿‡åçš„ä»£ç å¦‚ä¸‹</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">zipFileBuffer</span><span class="hljs-params">()</span> </span>&#123;    File zipFile = <span class="hljs-keyword">new</span> File(ZIP_FILE);    <span class="hljs-keyword">try</span> (ZipOutputStream zipOut = <span class="hljs-keyword">new</span> ZipOutputStream(<span class="hljs-keyword">new</span> FileOutputStream(zipFile));            BufferedOutputStream bufferedOutputStream = <span class="hljs-keyword">new</span> BufferedOutputStream(zipOut)) &#123;        <span class="hljs-comment">//å¼€å§‹æ—¶é—´</span>        <span class="hljs-keyword">long</span> beginTime = System.currentTimeMillis();        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;            <span class="hljs-keyword">try</span> (BufferedInputStream bufferedInputStream = <span class="hljs-keyword">new</span> BufferedInputStream(<span class="hljs-keyword">new</span> FileInputStream(JPG_FILE))) &#123;                zipOut.putNextEntry(<span class="hljs-keyword">new</span> ZipEntry(FILE_NAME + i));                <span class="hljs-keyword">int</span> temp = <span class="hljs-number">0</span>;                <span class="hljs-keyword">while</span> ((temp = bufferedInputStream.read()) != -<span class="hljs-number">1</span>) &#123;                    bufferedOutputStream.write(temp);                &#125;            &#125;        &#125;        printInfo(beginTime);    &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;        e.printStackTrace();    &#125;&#125;</code></pre><p>è¾“å‡º</p><pre><code class="hljs css"><span class="hljs-selector-tag">------Buffer</span><span class="hljs-selector-tag">fileSize</span><span class="hljs-selector-pseudo">:20M</span><span class="hljs-selector-tag">consum</span> <span class="hljs-selector-tag">time</span><span class="hljs-selector-pseudo">:1808</span></code></pre><p>å¯ä»¥çœ‹åˆ°ç›¸æ¯”è¾ƒäºç¬¬ä¸€æ¬¡ä½¿ç”¨<code>FileInputStream</code>æ•ˆç‡å·²ç»æå‡äº†è®¸å¤šäº†</p><h2 id="ç¬¬äºŒæ¬¡ä¼˜åŒ–è¿‡ç¨‹-ä»2ç§’åˆ°1ç§’"><a href="#ç¬¬äºŒæ¬¡ä¼˜åŒ–è¿‡ç¨‹-ä»2ç§’åˆ°1ç§’" class="headerlink" title="ç¬¬äºŒæ¬¡ä¼˜åŒ–è¿‡ç¨‹-ä»2ç§’åˆ°1ç§’"></a>ç¬¬äºŒæ¬¡ä¼˜åŒ–è¿‡ç¨‹-ä»2ç§’åˆ°1ç§’</h2><p>ä½¿ç”¨ç¼“å†²åŒº<code>buffer</code>çš„è¯å·²ç»æ˜¯æ»¡è¶³äº†æˆ‘çš„éœ€æ±‚äº†ï¼Œä½†æ˜¯ç§‰ç€å­¦ä»¥è‡´ç”¨çš„æƒ³æ³•ï¼Œå°±æƒ³ç€ç”¨NIOä¸­çŸ¥è¯†è¿›è¡Œä¼˜åŒ–ä¸€ä¸‹ã€‚</p><h3 id="ä½¿ç”¨Channel"><a href="#ä½¿ç”¨Channel" class="headerlink" title="ä½¿ç”¨Channel"></a>ä½¿ç”¨Channel</h3><p>ä¸ºä»€ä¹ˆè¦ç”¨<code>Channel</code>å‘¢ï¼Ÿå› ä¸ºåœ¨NIOä¸­æ–°å‡ºäº†<code>Channel</code>å’Œ<code>ByteBuffer</code>ã€‚æ­£æ˜¯å› ä¸ºå®ƒä»¬çš„ç»“æ„æ›´åŠ ç¬¦åˆæ“ä½œç³»ç»Ÿæ‰§è¡ŒI/Oçš„æ–¹å¼ï¼Œæ‰€ä»¥å…¶é€Ÿåº¦ç›¸æ¯”è¾ƒäºä¼ ç»ŸIOè€Œè¨€é€Ÿåº¦æœ‰äº†æ˜¾è‘—çš„æé«˜ã€‚<code>Channel</code>å°±åƒä¸€ä¸ªåŒ…å«ç€ç…¤çŸ¿çš„çŸ¿è—ï¼Œè€Œ<code>ByteBuffer</code>åˆ™æ˜¯æ´¾é€åˆ°çŸ¿è—çš„å¡è½¦ã€‚ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬ä¸æ•°æ®çš„äº¤äº’éƒ½æ˜¯ä¸<code>ByteBuffer</code>çš„äº¤äº’ã€‚</p><p>åœ¨NIOä¸­èƒ½å¤Ÿäº§ç”Ÿ<code>FileChannel</code>çš„æœ‰ä¸‰ä¸ªç±»ã€‚åˆ†åˆ«æ˜¯<code>FileInputStream</code>ã€<code>FileOutputStream</code>ã€ä»¥åŠæ—¢èƒ½è¯»åˆèƒ½å†™çš„<code>RandomAccessFile</code>ã€‚</p><p>æºç å¦‚ä¸‹</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">zipFileChannel</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-comment">//å¼€å§‹æ—¶é—´</span>    <span class="hljs-keyword">long</span> beginTime = System.currentTimeMillis();    File zipFile = <span class="hljs-keyword">new</span> File(ZIP_FILE);    <span class="hljs-keyword">try</span> (ZipOutputStream zipOut = <span class="hljs-keyword">new</span> ZipOutputStream(<span class="hljs-keyword">new</span> FileOutputStream(zipFile));            WritableByteChannel writableByteChannel = Channels.newChannel(zipOut)) &#123;        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;            <span class="hljs-keyword">try</span> (FileChannel fileChannel = <span class="hljs-keyword">new</span> FileInputStream(JPG_FILE).getChannel()) &#123;                zipOut.putNextEntry(<span class="hljs-keyword">new</span> ZipEntry(i + SUFFIX_FILE));                fileChannel.transferTo(<span class="hljs-number">0</span>, FILE_SIZE, writableByteChannel);            &#125;        &#125;        printInfo(beginTime);    &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;        e.printStackTrace();    &#125;&#125;</code></pre><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™é‡Œå¹¶æ²¡æœ‰ä½¿ç”¨<code>ByteBuffer</code>è¿›è¡Œæ•°æ®ä¼ è¾“ï¼Œè€Œæ˜¯ä½¿ç”¨äº†<code>transferTo</code>çš„æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯å°†ä¸¤ä¸ªé€šé“è¿›è¡Œç›´è¿ã€‚</p><pre><code class="hljs csharp">This method <span class="hljs-keyword">is</span> potentially much more efficient than a simple loop* that reads <span class="hljs-keyword">from</span> <span class="hljs-keyword">this</span> channel and writes to the target channel.  Many* operating systems can transfer bytes directly <span class="hljs-keyword">from</span> the filesystem cache* to the target channel without actually copying them.</code></pre><p>è¿™æ˜¯æºç ä¸Šçš„æè¿°æ–‡å­—ï¼Œå¤§æ¦‚æ„æ€å°±æ˜¯ä½¿ç”¨<code>transferTo</code>çš„æ•ˆç‡æ¯”å¾ªç¯ä¸€ä¸ª<code>Channel</code>è¯»å–å‡ºæ¥ç„¶åå†å¾ªç¯å†™å…¥å¦ä¸€ä¸ª<code>Channel</code>å¥½ã€‚æ“ä½œç³»ç»Ÿèƒ½å¤Ÿç›´æ¥ä¼ è¾“å­—èŠ‚ä»æ–‡ä»¶ç³»ç»Ÿç¼“å­˜åˆ°ç›®æ ‡çš„<code>Channel</code>ä¸­ï¼Œè€Œä¸éœ€è¦å®é™…çš„<code>copy</code>é˜¶æ®µã€‚</p><blockquote><p>copyé˜¶æ®µå°±æ˜¯ä»å†…æ ¸ç©ºé—´è½¬åˆ°ç”¨æˆ·ç©ºé—´çš„ä¸€ä¸ªè¿‡ç¨‹</p></blockquote><p>å¯ä»¥çœ‹åˆ°é€Ÿåº¦ç›¸æ¯”è¾ƒä½¿ç”¨ç¼“å†²åŒºå·²ç»æœ‰äº†ä¸€äº›çš„æé«˜ã€‚</p><pre><code class="hljs css"><span class="hljs-selector-tag">------Channel</span><span class="hljs-selector-tag">fileSize</span><span class="hljs-selector-pseudo">:20M</span><span class="hljs-selector-tag">consum</span> <span class="hljs-selector-tag">time</span><span class="hljs-selector-pseudo">:1416</span></code></pre><h4 id="å†…æ ¸ç©ºé—´å’Œç”¨æˆ·ç©ºé—´"><a href="#å†…æ ¸ç©ºé—´å’Œç”¨æˆ·ç©ºé—´" class="headerlink" title="å†…æ ¸ç©ºé—´å’Œç”¨æˆ·ç©ºé—´"></a>å†…æ ¸ç©ºé—´å’Œç”¨æˆ·ç©ºé—´</h4><p>é‚£ä¹ˆä¸ºä»€ä¹ˆä»å†…æ ¸ç©ºé—´è½¬å‘ç”¨æˆ·ç©ºé—´è¿™æ®µè¿‡ç¨‹ä¼šæ…¢å‘¢ï¼Ÿé¦–å…ˆæˆ‘ä»¬éœ€äº†è§£çš„æ˜¯ä»€ä¹ˆæ˜¯å†…æ ¸ç©ºé—´å’Œç”¨æˆ·ç©ºé—´ã€‚åœ¨å¸¸ç”¨çš„æ“ä½œç³»ç»Ÿä¸­ä¸ºäº†ä¿æŠ¤ç³»ç»Ÿä¸­çš„æ ¸å¿ƒèµ„æºï¼Œäºæ˜¯å°†ç³»ç»Ÿè®¾è®¡ä¸ºå››ä¸ªåŒºåŸŸï¼Œè¶Šå¾€é‡Œæƒé™è¶Šå¤§ï¼Œæ‰€ä»¥Ring0è¢«ç§°ä¹‹ä¸ºå†…æ ¸ç©ºé—´ï¼Œç”¨æ¥è®¿é—®ä¸€äº›å…³é”®æ€§çš„èµ„æºã€‚Ring3è¢«ç§°ä¹‹ä¸ºç”¨æˆ·ç©ºé—´ã€‚</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/13146186-38f92e6466efaf60.jpg" srcset="/img/loading.gif" alt="img"></p><p>image</p><blockquote><p>ç”¨æˆ·æ€ã€å†…æ ¸æ€ï¼šçº¿ç¨‹å¤„äºå†…æ ¸ç©ºé—´ç§°ä¹‹ä¸ºå†…æ ¸æ€ï¼Œçº¿ç¨‹å¤„äºç”¨æˆ·ç©ºé—´å±äºç”¨æˆ·æ€</p></blockquote><p>é‚£ä¹ˆæˆ‘ä»¬å¦‚æœæ­¤æ—¶åº”ç”¨ç¨‹åºï¼ˆåº”ç”¨ç¨‹åºæ˜¯éƒ½å±äºç”¨æˆ·æ€çš„ï¼‰éœ€è¦è®¿é—®æ ¸å¿ƒèµ„æºæ€ä¹ˆåŠå‘¢ï¼Ÿé‚£å°±éœ€è¦è°ƒç”¨å†…æ ¸ä¸­æ‰€æš´éœ²å‡ºçš„æ¥å£ç”¨ä»¥è°ƒç”¨ï¼Œç§°ä¹‹ä¸º<strong>ç³»ç»Ÿè°ƒç”¨</strong>ã€‚ä¾‹å¦‚æ­¤æ—¶æˆ‘ä»¬åº”ç”¨ç¨‹åºéœ€è¦è®¿é—®ç£ç›˜ä¸Šçš„æ–‡ä»¶ã€‚æ­¤æ—¶åº”ç”¨ç¨‹åºå°±ä¼šè°ƒç”¨ç³»ç»Ÿè°ƒç”¨çš„æ¥å£<code>open</code>æ–¹æ³•ï¼Œç„¶åå†…æ ¸å»è®¿é—®ç£ç›˜ä¸­çš„æ–‡ä»¶ï¼Œå°†æ–‡ä»¶å†…å®¹è¿”å›ç»™åº”ç”¨ç¨‹åºã€‚å¤§è‡´çš„æµç¨‹å¦‚ä¸‹</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/13146186-53cc9499caddb485.jpg" srcset="/img/loading.gif" alt="img"></p><p>image</p><h4 id="ç›´æ¥ç¼“å†²åŒºå’Œéç›´æ¥ç¼“å†²åŒº"><a href="#ç›´æ¥ç¼“å†²åŒºå’Œéç›´æ¥ç¼“å†²åŒº" class="headerlink" title="ç›´æ¥ç¼“å†²åŒºå’Œéç›´æ¥ç¼“å†²åŒº"></a>ç›´æ¥ç¼“å†²åŒºå’Œéç›´æ¥ç¼“å†²åŒº</h4><p>æ—¢ç„¶æˆ‘ä»¬è¦è¯»å–ä¸€ä¸ªç£ç›˜çš„æ–‡ä»¶ï¼Œè¦åºŸè¿™ä¹ˆå¤§çš„å‘¨æŠ˜ã€‚æœ‰æ²¡æœ‰ä»€ä¹ˆç®€å•çš„æ–¹æ³•èƒ½å¤Ÿä½¿æˆ‘ä»¬çš„åº”ç”¨ç›´æ¥æ“ä½œç£ç›˜æ–‡ä»¶ï¼Œä¸éœ€è¦å†…æ ¸è¿›è¡Œä¸­è½¬å‘¢ï¼Ÿæœ‰ï¼Œé‚£å°±æ˜¯å»ºç«‹ç›´æ¥ç¼“å†²åŒºäº†ã€‚</p><ul><li><p>éç›´æ¥ç¼“å†²åŒºï¼šéç›´æ¥ç¼“å†²åŒºå°±æ˜¯æˆ‘ä»¬ä¸Šé¢æ‰€è®²å†…æ ¸æ€ä½œä¸ºä¸­é—´äººï¼Œæ¯æ¬¡éƒ½éœ€è¦å†…æ ¸åœ¨ä¸­é—´ä½œä¸ºä¸­è½¬ã€‚</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/13146186-6bbfb5446221cb2d.jpg" srcset="/img/loading.gif" alt="img"></p><p>image</p></li><li><p>ç›´æ¥ç¼“å†²åŒºï¼šç›´æ¥ç¼“å†²åŒºä¸éœ€è¦å†…æ ¸ç©ºé—´ä½œä¸ºä¸­è½¬copyæ•°æ®ï¼Œè€Œæ˜¯ç›´æ¥åœ¨ç‰©ç†å†…å­˜ç”³è¯·ä¸€å—ç©ºé—´ï¼Œè¿™å—ç©ºé—´æ˜ å°„åˆ°å†…æ ¸åœ°å€ç©ºé—´å’Œç”¨æˆ·åœ°å€ç©ºé—´ï¼Œåº”ç”¨ç¨‹åºä¸ç£ç›˜ä¹‹é—´æ•°æ®çš„å­˜å–é€šè¿‡è¿™å—ç›´æ¥ç”³è¯·çš„ç‰©ç†å†…å­˜è¿›è¡Œäº¤äº’ã€‚</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/13146186-92211d2b9a85215e.jpg" srcset="/img/loading.gif" alt="img"></p><p>image</p></li></ul><p>æ—¢ç„¶ç›´æ¥ç¼“å†²åŒºé‚£ä¹ˆå¿«ï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆä¸éƒ½ç”¨ç›´æ¥ç¼“å†²åŒºå‘¢ï¼Ÿå…¶å®ç›´æ¥ç¼“å†²åŒºæœ‰ä»¥ä¸‹çš„ç¼ºç‚¹ã€‚ç›´æ¥ç¼“å†²åŒºçš„ç¼ºç‚¹ï¼š</p><ol><li>ä¸å®‰å…¨</li><li>æ¶ˆè€—æ›´å¤šï¼Œå› ä¸ºå®ƒä¸æ˜¯åœ¨JVMä¸­ç›´æ¥å¼€è¾Ÿç©ºé—´ã€‚è¿™éƒ¨åˆ†å†…å­˜çš„å›æ”¶åªèƒ½ä¾èµ–äºåƒåœ¾å›æ”¶æœºåˆ¶ï¼Œåƒåœ¾ä»€ä¹ˆæ—¶å€™å›æ”¶ä¸å—æˆ‘ä»¬æ§åˆ¶ã€‚</li><li>æ•°æ®å†™å…¥ç‰©ç†å†…å­˜ç¼“å†²åŒºä¸­ï¼Œç¨‹åºå°±ä¸§å¤±äº†å¯¹è¿™äº›æ•°æ®çš„ç®¡ç†ï¼Œå³ä»€ä¹ˆæ—¶å€™è¿™äº›æ•°æ®è¢«æœ€ç»ˆå†™å…¥ä»ç£ç›˜åªèƒ½ç”±æ“ä½œç³»ç»Ÿæ¥å†³å®šï¼Œåº”ç”¨ç¨‹åºæ— æ³•å†å¹²æ¶‰ã€‚</li></ol><blockquote><p>ç»¼ä¸Šæ‰€è¿°ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨<code>transferTo</code>æ–¹æ³•å°±æ˜¯ç›´æ¥å¼€è¾Ÿäº†ä¸€æ®µç›´æ¥ç¼“å†²åŒºã€‚æ‰€ä»¥æ€§èƒ½ç›¸æ¯”è€Œè¨€æé«˜äº†è®¸å¤š</p></blockquote><h3 id="ä½¿ç”¨å†…å­˜æ˜ å°„æ–‡ä»¶"><a href="#ä½¿ç”¨å†…å­˜æ˜ å°„æ–‡ä»¶" class="headerlink" title="ä½¿ç”¨å†…å­˜æ˜ å°„æ–‡ä»¶"></a>ä½¿ç”¨å†…å­˜æ˜ å°„æ–‡ä»¶</h3><p>NIOä¸­æ–°å‡ºçš„å¦ä¸€ä¸ªç‰¹æ€§å°±æ˜¯å†…å­˜æ˜ å°„æ–‡ä»¶ï¼Œå†…å­˜æ˜ å°„æ–‡ä»¶ä¸ºä»€ä¹ˆé€Ÿåº¦å¿«å‘¢ï¼Ÿå…¶å®åŸå› å’Œä¸Šé¢æ‰€è®²çš„ä¸€æ ·ï¼Œä¹Ÿæ˜¯åœ¨å†…å­˜ä¸­å¼€è¾Ÿäº†ä¸€æ®µç›´æ¥ç¼“å†²åŒºã€‚ä¸æ•°æ®ç›´æ¥ä½œäº¤äº’ã€‚æºç å¦‚ä¸‹</p><pre><code class="hljs java"><span class="hljs-comment">//Version 4 ä½¿ç”¨Mapæ˜ å°„æ–‡ä»¶</span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">zipFileMap</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-comment">//å¼€å§‹æ—¶é—´</span>    <span class="hljs-keyword">long</span> beginTime = System.currentTimeMillis();    File zipFile = <span class="hljs-keyword">new</span> File(ZIP_FILE);    <span class="hljs-keyword">try</span> (ZipOutputStream zipOut = <span class="hljs-keyword">new</span> ZipOutputStream(<span class="hljs-keyword">new</span> FileOutputStream(zipFile));            WritableByteChannel writableByteChannel = Channels.newChannel(zipOut)) &#123;        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;            zipOut.putNextEntry(<span class="hljs-keyword">new</span> ZipEntry(i + SUFFIX_FILE));            <span class="hljs-comment">//å†…å­˜ä¸­çš„æ˜ å°„æ–‡ä»¶</span>            MappedByteBuffer mappedByteBuffer = <span class="hljs-keyword">new</span> RandomAccessFile(JPG_FILE_PATH, <span class="hljs-string">"r"</span>).getChannel()                    .map(FileChannel.MapMode.READ_ONLY, <span class="hljs-number">0</span>, FILE_SIZE);            writableByteChannel.write(mappedByteBuffer);        &#125;        printInfo(beginTime);    &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;        e.printStackTrace();    &#125;&#125;</code></pre><p>æ‰“å°å¦‚ä¸‹</p><pre><code class="hljs css"><span class="hljs-selector-tag">---------Map</span><span class="hljs-selector-tag">fileSize</span><span class="hljs-selector-pseudo">:20M</span><span class="hljs-selector-tag">consum</span> <span class="hljs-selector-tag">time</span><span class="hljs-selector-pseudo">:1305</span></code></pre><p>å¯ä»¥çœ‹åˆ°é€Ÿåº¦å’Œä½¿ç”¨Channelçš„é€Ÿåº¦å·®ä¸å¤šçš„ã€‚</p><h3 id="ä½¿ç”¨Pipe"><a href="#ä½¿ç”¨Pipe" class="headerlink" title="ä½¿ç”¨Pipe"></a>ä½¿ç”¨Pipe</h3><p>Java NIO ç®¡é“æ˜¯2ä¸ªçº¿ç¨‹ä¹‹é—´çš„å•å‘æ•°æ®è¿æ¥ã€‚Pipeæœ‰ä¸€ä¸ªsourceé€šé“å’Œä¸€ä¸ªsinké€šé“ã€‚å…¶ä¸­sourceé€šé“ç”¨äºè¯»å–æ•°æ®ï¼Œsinké€šé“ç”¨äºå†™å…¥æ•°æ®ã€‚å¯ä»¥çœ‹åˆ°æºç ä¸­çš„ä»‹ç»ï¼Œå¤§æ¦‚æ„æ€å°±æ˜¯å†™å…¥çº¿ç¨‹ä¼šé˜»å¡è‡³æœ‰è¯»çº¿ç¨‹ä»é€šé“ä¸­è¯»å–æ•°æ®ã€‚å¦‚æœæ²¡æœ‰æ•°æ®å¯è¯»ï¼Œè¯»çº¿ç¨‹ä¹Ÿä¼šé˜»å¡è‡³å†™çº¿ç¨‹å†™å…¥æ•°æ®ã€‚ç›´è‡³é€šé“å…³é—­ã€‚</p><pre><code class="hljs ruby">Whether <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> a thread writing bytes to a pipe will block <span class="hljs-keyword">until</span> anotherthread reads those bytes</code></pre><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/13146186-3fbae68c65487c14.jpg" srcset="/img/loading.gif" alt="img"></p><p>image</p><p>æˆ‘æƒ³è¦çš„æ•ˆæœæ˜¯è¿™æ ·çš„ã€‚æºç å¦‚ä¸‹</p><pre><code class="hljs java"><span class="hljs-comment">//Version 5 ä½¿ç”¨Pip</span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">zipFilePip</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-keyword">long</span> beginTime = System.currentTimeMillis();    <span class="hljs-keyword">try</span>(WritableByteChannel out = Channels.newChannel(<span class="hljs-keyword">new</span> FileOutputStream(ZIP_FILE))) &#123;        Pipe pipe = Pipe.open();        <span class="hljs-comment">//å¼‚æ­¥ä»»åŠ¡</span>        CompletableFuture.runAsync(()-&gt;runTask(pipe));        <span class="hljs-comment">//è·å–è¯»é€šé“</span>        ReadableByteChannel readableByteChannel = pipe.source();        ByteBuffer buffer = ByteBuffer.allocate(((<span class="hljs-keyword">int</span>) FILE_SIZE)*<span class="hljs-number">10</span>);        <span class="hljs-keyword">while</span> (readableByteChannel.read(buffer)&gt;= <span class="hljs-number">0</span>) &#123;            buffer.flip();            out.write(buffer);            buffer.clear();        &#125;    &#125;<span class="hljs-keyword">catch</span> (Exception e)&#123;        e.printStackTrace();    &#125;    printInfo(beginTime);&#125;<span class="hljs-comment">//å¼‚æ­¥ä»»åŠ¡</span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">runTask</span><span class="hljs-params">(Pipe pipe)</span> </span>&#123;    <span class="hljs-keyword">try</span>(ZipOutputStream zos = <span class="hljs-keyword">new</span> ZipOutputStream(Channels.newOutputStream(pipe.sink()));            WritableByteChannel out = Channels.newChannel(zos)) &#123;        System.out.println(<span class="hljs-string">"Begin"</span>);        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;            zos.putNextEntry(<span class="hljs-keyword">new</span> ZipEntry(i+SUFFIX_FILE));            FileChannel jpgChannel = <span class="hljs-keyword">new</span> FileInputStream(<span class="hljs-keyword">new</span> File(JPG_FILE_PATH)).getChannel();            jpgChannel.transferTo(<span class="hljs-number">0</span>, FILE_SIZE, out);            jpgChannel.close();        &#125;    &#125;<span class="hljs-keyword">catch</span> (Exception e)&#123;        e.printStackTrace();    &#125;&#125;</code></pre><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul><li>ç”Ÿæ´»å¤„å¤„éƒ½éœ€è¦å­¦ä¹ ï¼Œæœ‰æ—¶å€™åªæ˜¯ä¸€ä¸ªç®€å•çš„ä¼˜åŒ–ï¼Œå¯ä»¥è®©ä½ æ·±å…¥å­¦ä¹ åˆ°å„ç§ä¸åŒçš„çŸ¥è¯†ã€‚æ‰€ä»¥åœ¨å­¦ä¹ ä¸­è¦ä¸æ±‚ç”šè§£ï¼Œä¸ä»…è¦çŸ¥é“è¿™ä¸ªçŸ¥è¯†ä¹Ÿè¦äº†è§£ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšã€‚</li><li>çŸ¥è¡Œåˆä¸€ï¼šå­¦ä¹ å®Œä¸€ä¸ªçŸ¥è¯†è¦å°½é‡åº”ç”¨ä¸€éã€‚è¿™æ ·æ‰èƒ½è®°å¾—ç‰¢é ã€‚</li></ul><h2 id="æºç åœ°å€"><a href="#æºç åœ°å€" class="headerlink" title="æºç åœ°å€"></a>æºç åœ°å€</h2><p><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fmodouxiansheng%2FDoraemon" target="_blank" rel="noopener">æºç åœ°å€</a></p><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><ul><li><a href="https://www.jianshu.com/p/f90866dcbffc" target="_blank" rel="noopener">https://www.jianshu.com/p/f90866dcbffc</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fjuejin.im%2Fpost%2F5af942c6f265da0b7026050c" target="_blank" rel="noopener">https://juejin.im/post/5af942c6f265da0b7026050c</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Ftime.geekbang.org%2Fcolumn%2Farticle%2F90109" target="_blank" rel="noopener">è¶£è°ˆLinuxæ“ä½œç³»ç»Ÿ</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fmy.oschina.net%2FhappyBKs%2Fblog%2F1592329" target="_blank" rel="noopener">JAVA NIO ç›´æ¥ç¼“å†²åŒºå’Œéç›´æ¥ç¼“å†²åŒº</a></li></ul><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee-20200407103256742.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>IO</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é‡æ¸©ä¹”å¸ƒæ–¯æœ€ç»å…¸æ¼”è®²ï¼šæ±‚çŸ¥è‹¥é¥¥ è™šå¿ƒè‹¥æ„š</title>
    <link href="/2019/11/04/%E9%87%8D%E6%B8%A9%E4%B9%94%E5%B8%83%E6%96%AF%E6%9C%80%E7%BB%8F%E5%85%B8%E6%BC%94%E8%AE%B2%EF%BC%9A%E6%B1%82%E7%9F%A5%E8%8B%A5%E9%A5%A5-%E8%99%9A%E5%BF%83%E8%8B%A5%E6%84%9A/"/>
    <url>/2019/11/04/%E9%87%8D%E6%B8%A9%E4%B9%94%E5%B8%83%E6%96%AF%E6%9C%80%E7%BB%8F%E5%85%B8%E6%BC%94%E8%AE%B2%EF%BC%9A%E6%B1%82%E7%9F%A5%E8%8B%A5%E9%A5%A5-%E8%99%9A%E5%BF%83%E8%8B%A5%E6%84%9A/</url>
    
    <content type="html"><![CDATA[<p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymmi8zu7j30ev0ghq33.jpg" srcset="/img/loading.gif" alt="Jobs"></p><p>ã€€ã€€Thank you. I am honored to be with you today at your commencement from one of the finest universities in the world. Truth be told, I never graduated from college. This is the closest Iâ€™ve ever gotten to a college graduation. Today I want to tell you three stories from my life. Thatâ€™s it. No big deal. Just three stories.</p><p>ã€€ã€€å¾ˆè£å¹¸å’Œå¤§å®¶ä¸€é“å‚åŠ è¿™æ‰€ä¸–ç•Œä¸Šæœ€å¥½çš„ä¸€åº§å¤§å­¦çš„æ¯•ä¸šå…¸ç¤¼ã€‚æˆ‘å¤§å­¦æ²¡æ¯•ä¸šï¼Œè¯´å®è¯ï¼Œè¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡ç¦»å¤§å­¦æ¯•ä¸šå…¸ç¤¼è¿™ä¹ˆè¿‘ã€‚ä»Šå¤©æˆ‘æƒ³ç»™å¤§å®¶è®²ä¸‰ä¸ªæˆ‘è‡ªå·±çš„æ•…äº‹ï¼Œä¸è®²åˆ«çš„ï¼Œä¹Ÿä¸è®²å¤§é“ç†ï¼Œå°±è®²ä¸‰ä¸ªæ•…äº‹ã€‚</p><p>ã€€ã€€The first story is about connecting the dots. I dropped out of Reed College after the first 6 months, but then stayed around as a drop-in for another 18 months or so before I really quit. So why did I drop out?</p><p>ã€€ã€€ç¬¬ä¸€ä¸ªæ•…äº‹è®²çš„æ˜¯ç‚¹ä¸ç‚¹ä¹‹é—´çš„å…³ç³»ã€‚æˆ‘åœ¨é‡Œå¾·å­¦é™¢(Reed College)åªè¯»äº†å…­ä¸ªæœˆå°±é€€å­¦äº†ï¼Œæ­¤åä¾¿åœ¨å­¦æ ¡é‡Œæ—å¬ï¼Œåˆè¿‡äº†å¤§çº¦ä¸€å¹´åŠï¼Œæˆ‘å½»åº•ç¦»å¼€ã€‚é‚£ä¹ˆï¼Œæˆ‘ä¸ºä»€ä¹ˆé€€å­¦å‘¢?</p><p>ã€€ã€€It started before I was born. My biological mother was a young, unwed college graduate student, and she decided to put me up for adoption. She felt very strongly that I should be adopted by college graduates, so everything was all set for me to be adopted at birth by a lawyer and his wife. Except that when I popped out they decided at the last minute that they really wanted a girl. So my parents, who were on a waiting list, got a call in the middle of the night asking: â€œWe have an unexpected baby boy; do you want him?â€ They said: â€œOf course.â€ My biological mother later found out that my mother had never graduated from college and that my father had never graduated from high school. She refused to sign the final adoption papers. She only relented a few months later when my parents promised that I would someday go to college.</p><p>ã€€ã€€è¿™å¾—ä»æˆ‘å‡ºç”Ÿå‰è®²èµ·ã€‚æˆ‘çš„ç”Ÿæ¯æ˜¯ä¸€åå¹´è½»çš„æœªå©šåœ¨æ ¡ç ”ç©¶ç”Ÿï¼Œå¥¹å†³å®šå°†æˆ‘é€ç»™åˆ«äººæ”¶å…»ã€‚å¥¹éå¸¸å¸Œæœ›æ”¶å…»æˆ‘çš„æ˜¯æœ‰å¤§å­¦å­¦å†çš„äººï¼Œæ‰€ä»¥æŠŠä¸€åˆ‡éƒ½å®‰æ’å¥½äº†ï¼Œæˆ‘ä¸€å‡ºç”Ÿå°±äº¤ç»™ä¸€å¯¹å¾‹å¸ˆå¤«å¦‡æ”¶å…»ã€‚æ²¡æƒ³åˆ°æˆ‘è½åœ°çš„éœé‚£é—´ï¼Œé‚£å¯¹å¤«å¦‡å´å†³å®šæ”¶å…»ä¸€åå¥³å­©ã€‚å°±è¿™æ ·ï¼Œæˆ‘çš„å…»çˆ¶æ¯â”€å½“æ—¶ä»–ä»¬è¿˜åœ¨ç™»è®°å†Œä¸Šæ’é˜Ÿç­‰ç€å‘¢â”€åŠå¤œä¸‰æ›´æ¥åˆ°ä¸€ä¸ªç”µè¯: â€œæˆ‘ä»¬è¿™å„¿æœ‰ä¸€ä¸ªæ²¡äººè¦çš„ç”·å©´ï¼Œä½ ä»¬è¦ä¹ˆ?â€â€œå½“ç„¶è¦â€ä»–ä»¬å›ç­”ã€‚ä½†æ˜¯ï¼Œæˆ‘çš„ç”Ÿæ¯åæ¥å‘ç°æˆ‘çš„å…»æ¯ä¸æ˜¯å¤§å­¦æ¯•ä¸šç”Ÿï¼Œæˆ‘çš„å…»çˆ¶ç”šè‡³è¿ä¸­å­¦éƒ½æ²¡æœ‰æ¯•ä¸šï¼Œæ‰€ä»¥å¥¹æ‹’ç»åœ¨æœ€åçš„æ”¶å…»æ–‡ä»¶ä¸Šç­¾å­—ã€‚ä¸è¿‡ï¼Œæ²¡è¿‡å‡ ä¸ªæœˆå¥¹å°±å¿ƒè½¯äº†ï¼Œå› ä¸ºæˆ‘çš„å…»çˆ¶æ¯è®¸è¯ºæ—¥åä¸€å®šé€æˆ‘ä¸Šå¤§å­¦ã€‚</p><p>ã€€ã€€And 17 years later I did go to college. But I naively chose a college that was almost as expensive as Stanford, and all of my working-class parentsâ€™ savings were being spent on my college tuition. After six months, I couldnâ€™t see the value in it. I had no idea what I wanted to do with my life and no idea how college was going to help me figure it out. And here I was spending all of the money my parents had saved their entire life. So I decided to drop out and trust that it would all work out OK. It was pretty scary at the time, but looking back it was one of the best decisions I ever made. The minute I dropped out I could stop taking the required classes that didnâ€™t interest me, and begin dropping in on the ones that looked interestingã€‚It wasnâ€™t all romantic. I didnâ€™t have a dorm room, so I slept on the floor in friendsâ€™ rooms, I returned coke bottles for the 5? deposits to buy food with, and I would walk the 7 miles across town every Sunday night to get one good meal a week at the Hare Krishna temple. I loved it. And much of what I stumbled into by following my curiosity and intuition turned out to be priceless later on. Let me give you one example:</p><p>ã€€ã€€17 å¹´åï¼Œæˆ‘çœŸçš„è¿›äº†å¤§å­¦ã€‚å½“æ—¶æˆ‘å¾ˆå¤©çœŸï¼Œé€‰äº†ä¸€æ‰€å­¦è´¹å‡ ä¹å’Œæ–¯å¦ç¦å¤§å­¦ä¸€æ ·æ˜‚è´µçš„å­¦æ ¡ï¼Œå½“å·¥äººçš„å…»çˆ¶æ¯å€¾å…¶æ‰€æœ‰çš„ç§¯è“„ä¸ºæˆ‘æ”¯ä»˜äº†å¤§å­¦å­¦è´¹ã€‚è¯»äº†å…­ä¸ªæœˆåï¼Œæˆ‘å´çœ‹ä¸å‡ºä¸Šå­¦æœ‰ä»€ä¹ˆæ„ä¹‰ã€‚æˆ‘æ—¢ä¸çŸ¥é“è‡ªå·±è¿™ä¸€ç”Ÿæƒ³å¹²ä»€ä¹ˆï¼Œä¹Ÿä¸çŸ¥é“å¤§å­¦æ˜¯å¦èƒ½å¤Ÿå¸®æˆ‘å¼„æ˜ç™½è‡ªå·±æƒ³å¹²ä»€ä¹ˆã€‚è¿™æ—¶ï¼Œæˆ‘å°±è¦èŠ±å…‰çˆ¶æ¯ä¸€è¾ˆå­èŠ‚çœä¸‹æ¥çš„é’±äº†ã€‚æ‰€ä»¥ï¼Œæˆ‘å†³å®šé€€å­¦ï¼Œå¹¶ä¸”åšä¿¡æ—¥åä¼šè¯æ˜æˆ‘è¿™æ ·åšæ˜¯å¯¹çš„ã€‚å½“å¹´åšå‡ºè¿™ä¸ªå†³å®šæ—¶å¿ƒé‡Œç›´æ‰“é¼“ï¼Œä½†ç°åœ¨å›æƒ³èµ·æ¥ï¼Œè¿™è¿˜çœŸæ˜¯æˆ‘æœ‰ç”Ÿä»¥æ¥åšå‡ºçš„æœ€å¥½çš„å†³å®šä¹‹ä¸€ã€‚ä»é€€å­¦é‚£ä¸€åˆ»èµ·ï¼Œæˆ‘å°±å¯ä»¥ä¸å†é€‰é‚£äº›æˆ‘æ¯«æ— å…´è¶£çš„å¿…ä¿®è¯¾ï¼Œå¼€å§‹æ—å¬ä¸€äº›çœ‹ä¸Šå»æœ‰æ„æ€çš„è¯¾ã€‚é‚£äº›æ—¥å­ä¸€ç‚¹å„¿éƒ½ä¸æµªæ¼«ã€‚æˆ‘æ²¡æœ‰å®¿èˆï¼Œåªèƒ½ç¡åœ¨æœ‹å‹æˆ¿é—´çš„åœ°æ¿ä¸Šã€‚æˆ‘å»é€€è¿˜å¯ä¹ç“¶ï¼Œç”¨é‚£äº”åˆ†é’±çš„æŠ¼é‡‘æ¥ä¹°åƒçš„ã€‚æ¯ä¸ªæ˜ŸæœŸå¤©æ™šä¸Šæˆ‘éƒ½è¦èµ°ä¸ƒè‹±é‡Œï¼Œåˆ°åŸé‚£å¤´çš„é»‘å°”-ç§‘é‡Œæ–½çº³ç¤¼æ‹œå ‚å»ï¼Œåƒæ¯å‘¨æ‰èƒ½äº«ç”¨ä¸€æ¬¡çš„ç¾é¤ã€‚æˆ‘å–œæ¬¢è¿™æ ·ã€‚æˆ‘å‡­è‘—å¥½å¥‡å¿ƒå’Œç›´è§‰æ‰€å¹²çš„è¿™äº›äº‹æƒ…ï¼Œæœ‰è®¸å¤šåæ¥éƒ½è¯æ˜æ˜¯æ— ä»·ä¹‹å®ã€‚æˆ‘ç»™å¤§å®¶ä¸¾ä¸ªä¾‹å­:</p><p>ã€€ã€€Reed College at that time offered perhaps the best calligraphy instruction in the country. Throughout the campus every poster, every label on every drawer, was beautifully hand calligraphed. Because I had dropped out and didnâ€™t have to take the normal classes, I decided to take a calligraphy class to learn how to do this. I learned about serif and san serif typefaces, about varying the amount of space between different letter combinations, about what makes great typography great. It was beautiful, historical, artistically subtle in a way that science canâ€™t capture, and I found it fascinating.</p><p>ã€€ã€€å½“æ—¶ï¼Œé‡Œå¾·å­¦é™¢çš„ä¹¦æ³•è¯¾å¤§æ¦‚æ˜¯å…¨å›½æœ€å¥½çš„ã€‚æ ¡å›­é‡Œæ‰€æœ‰çš„å…¬å‘Šæ å’Œæ¯ä¸ªæŠ½å±‰æ ‡ç­¾ä¸Šçš„å­—éƒ½å†™å¾—éå¸¸æ¼‚äº®ã€‚å½“æ—¶æˆ‘å·²ç»é€€å­¦ï¼Œä¸ç”¨æ­£å¸¸ä¸Šè¯¾ï¼Œæ‰€ä»¥æˆ‘å†³å®šé€‰ä¸€é—¨ä¹¦æ³•è¯¾ï¼Œå­¦å­¦æ€ä¹ˆå†™å¥½å­—ã€‚æˆ‘å­¦ä¹ å†™å¸¦çŸ­æˆªçº¿å’Œä¸å¸¦çŸ­æˆªçº¿çš„å°åˆ·å­—ä½“ï¼Œæ ¹æ®ä¸åŒå­—æ¯ç»„åˆè°ƒæ•´å…¶é—´è·ï¼Œä»¥åŠæ€æ ·æŠŠç‰ˆå¼è°ƒæ•´å¾—å¥½ä¸ŠåŠ å¥½ã€‚è¿™é—¨è¯¾å¤ªæ£’äº†ï¼Œæ—¢æœ‰å†å²ä»·å€¼ï¼Œåˆæœ‰è‰ºæœ¯é€ è¯£ï¼Œè¿™ä¸€ç‚¹ç§‘å­¦å°±åšä¸åˆ°ï¼Œè€Œæˆ‘è§‰å¾—å®ƒå¦™ä¸å¯è¨€ã€‚</p><p>ã€€ã€€None of this had even a hope of any practical application in my life. But ten years later, when we were designing the first Macintosh computer, it all came back to me. And we designed it all into the Mac. It was the first computer with beautiful typography. If I had never dropped in on that single course in college, the Mac would have never had multiple typefaces or proportionally spaced fonts. And since Windows just copied the Mac, its likely that no personal computer would have them. If I had never dropped out, I would have never dropped in on this calligraphy class, and personal computers might not have the wonderful typography that they do. Of course it was impossible to connect the dots looking forward when I was in college. But it was very, very clear looking backwards ten years later.</p><p>ã€€ã€€å½“æ—¶æˆ‘å¹¶ä¸æŒ‡æœ›ä¹¦æ³•åœ¨ä»¥åçš„ç”Ÿæ´»ä¸­èƒ½æœ‰ä»€ä¹ˆå®ç”¨ä»·å€¼ã€‚ä½†æ˜¯ï¼Œåå¹´ä¹‹åï¼Œæˆ‘ä»¬åœ¨è®¾è®¡ç¬¬ä¸€å° Macintosh è®¡ç®—æœºæ—¶ï¼Œå®ƒä¸€ä¸‹å­æµ®ç°åœ¨æˆ‘çœ¼å‰ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬æŠŠè¿™äº›ä¸œè¥¿å…¨éƒ½è®¾è®¡è¿›äº†è®¡ç®—æœºä¸­ã€‚è¿™æ˜¯ç¬¬ä¸€å°æœ‰è¿™ä¹ˆæ¼‚äº®çš„æ–‡å­—ç‰ˆå¼çš„è®¡ç®—æœºã€‚è¦ä¸æ˜¯æˆ‘å½“åˆåœ¨å¤§å­¦é‡Œå¶ç„¶é€‰äº†è¿™ä¹ˆä¸€é—¨è¯¾ï¼ŒMacintosh è®¡ç®—æœºç»ä¸ä¼šæœ‰é‚£ä¹ˆå¤šç§å°åˆ·å­—ä½“æˆ–é—´è·å®‰æ’åˆç†çš„å­—å·ã€‚è¦ä¸æ˜¯ Windows ç…§æ¬äº† Macintoshï¼Œä¸ªäººç”µè„‘å¯èƒ½ä¸ä¼šæœ‰è¿™äº›å­—ä½“å’Œå­—å·ã€‚è¦ä¸æ˜¯é€€äº†å­¦ï¼Œæˆ‘å†³ä¸ä¼šç¢°å·§é€‰äº†è¿™é—¨ä¹¦æ³•è¯¾ï¼Œä¸ªäººç”µè„‘ä¹Ÿå¯èƒ½ä¸ä¼šæœ‰ç°åœ¨è¿™äº›æ¼‚äº®çš„ç‰ˆå¼äº†ã€‚å½“ç„¶ï¼Œæˆ‘åœ¨å¤§å­¦é‡Œä¸å¯èƒ½ä»è¿™ä¸€ç‚¹ä¸Šçœ‹åˆ°å®ƒä¸å°†æ¥çš„å…³ç³»ã€‚åå¹´ä¹‹åå†å›å¤´çœ‹ï¼Œä¸¤è€…ä¹‹é—´çš„å…³ç³»å°±éå¸¸ã€éå¸¸æ¸…æ¥šäº†ã€‚</p><p>ã€€ã€€Again, you canâ€™t connect the dots looking forward; you can only connect them looking backwards. So you have to trust that the dots will somehow connect in your future. You have to trust in something â€” your gut, destiny, life, karma, whatever. This approach has never let me down, and it has made all the difference in my life.</p><p>ã€€ã€€ä½ ä»¬åŒæ ·ä¸å¯èƒ½ä»ç°åœ¨è¿™ä¸ªç‚¹ä¸Šçœ‹åˆ°å°†æ¥;åªæœ‰å›å¤´çœ‹æ—¶ï¼Œæ‰ä¼šå‘ç°å®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚æ‰€ä»¥ï¼Œè¦ç›¸ä¿¡è¿™äº›ç‚¹è¿Ÿæ—©ä¼šè¿æ¥åˆ°ä¸€èµ·ã€‚ä½ ä»¬å¿…é¡»ä¿¡èµ–æŸäº›ä¸œè¥¿â”€ç›´è§‰ã€å½’å®¿ã€ç”Ÿå‘½ï¼Œè¿˜æœ‰ä¸šåŠ›ï¼Œç­‰ç­‰ã€‚è¿™æ ·åšä»æ¥æ²¡æœ‰è®©æˆ‘çš„å¸Œæœ›è½ç©ºè¿‡ï¼Œè€Œä¸”è¿˜å½»åº•æ”¹å˜äº†æˆ‘çš„ç”Ÿæ´»ã€‚</p><p>ã€€ã€€My second story is about love and loss. I was lucky â€” I found what I loved to do early in life. Woz and I started Apple in my parents garage when I was 20. We worked hard, and in 10 years Apple had grown from just the two of us in a garage into a $2 billion company with over 4000 employees. We had just released our finest creation â€” the Macintosh â€” a year earlier, and I had just turned 30. And then I got fired. How can you get fired from a company you started? Well, as Apple grew we hired someone who I thought was very talented to run the company with me, and for the first year or so things went well. But then our visions of the future began to diverge and eventually we had a falling out. When we did, our Board of Directors sided with him. So at 30 I was out. And very publicly out. What had been the focus of my entire adult life was gone, and it was devastating.</p><p>ã€€ã€€æˆ‘çš„ç¬¬äºŒä¸ªæ•…äº‹æ˜¯å…³äºå¥½æ¶ä¸å¾—å¤±ã€‚å¹¸è¿çš„æ˜¯ï¼Œæˆ‘åœ¨å¾ˆå°çš„æ—¶å€™å°±å‘ç°è‡ªå·±å–œæ¬¢åšä»€ä¹ˆã€‚æˆ‘åœ¨ 20 å²æ—¶å’Œæ²ƒå…¹åœ¨æˆ‘çˆ¶æ¯çš„è½¦åº“é‡ŒåŠèµ·äº†è‹¹æœå…¬å¸ã€‚æˆ‘ä»¬å¹²å¾—å¾ˆå–åŠ›ï¼Œåå¹´åï¼Œè‹¹æœå…¬å¸å°±ä»è½¦åº“é‡Œæˆ‘ä»¬ä¸¤ä¸ªäººå‘å±•æˆä¸ºä¸€ä¸ªæ‹¥æœ‰ 20 äº¿å…ƒèµ„äº§ã€4,000 åå‘˜å·¥çš„å¤§ä¼ä¸šã€‚é‚£æ—¶ï¼Œæˆ‘ä»¬åˆšåˆšæ¨å‡ºäº†æˆ‘ä»¬æœ€å¥½çš„äº§å“â”€ Macintosh ç”µè„‘â”€é‚£æ˜¯åœ¨ç¬¬ 9 å¹´ï¼Œæˆ‘åˆšæ»¡ 30 å²ã€‚å¯åæ¥ï¼Œæˆ‘è¢«è§£é›‡äº†ã€‚ä½ æ€ä¹ˆä¼šè¢«è‡ªå·±åŠçš„å…¬å¸è§£é›‡å‘¢?æ˜¯è¿™æ ·ï¼Œéšè‘—è‹¹æœå…¬å¸è¶Šåšè¶Šå¤§ï¼Œæˆ‘ä»¬è˜äº†ä¸€ä½æˆ‘è®¤ä¸ºéå¸¸æœ‰æ‰åçš„äººä¸æˆ‘ä¸€é“ç®¡ç†å…¬å¸ã€‚åœ¨å¼€å§‹çš„ä¸€å¹´å¤šé‡Œï¼Œä¸€åˆ‡éƒ½å¾ˆé¡ºåˆ©ã€‚å¯æ˜¯ï¼Œéšåæˆ‘ä¿©å¯¹å…¬å¸å‰æ™¯çš„çœ‹æ³•å¼€å§‹å‡ºç°åˆ†æ­§ï¼Œæœ€åæˆ‘ä¿©åç›®äº†ã€‚è¿™æ—¶ï¼Œè‘£äº‹ä¼šç«™åœ¨äº†ä»–é‚£ä¸€è¾¹ï¼Œæ‰€ä»¥åœ¨ 30 å²é‚£å¹´ï¼Œæˆ‘ç¦»å¼€äº†å…¬å¸ï¼Œè€Œä¸”è¿™ä»¶äº‹é—¹å¾—æ»¡åŸé£é›¨ã€‚æˆ‘æˆå¹´åçš„æ•´ä¸ªç”Ÿæ´»é‡å¿ƒéƒ½æ²¡æœ‰äº†ï¼Œè¿™ä½¿æˆ‘å¿ƒåŠ›äº¤ç˜ã€‚</p><p>ã€€ã€€I really didnâ€™t know what to do for a few months. I felt that I had let the previous generation of entrepreneurs down - that I had dropped the baton as it was being passed to me. I met with David Packard and Bob Noyce and tried to apologize for screwing up so badly. I was a very public failure, and I even thought about running away from the valley. But something slowly began to dawn on me â€” I still loved what I did. The turn of events at Apple had not changed that one bit. I had been rejected, but I was still in love. And so I decided to start over.</p><p>ã€€ã€€ä¸€è¿å‡ ä¸ªæœˆï¼Œæˆ‘çœŸçš„ä¸çŸ¥é“åº”è¯¥æ€ä¹ˆåŠã€‚æˆ‘æ„Ÿåˆ°è‡ªå·±ç»™è€ä¸€ä»£çš„åˆ›ä¸šè€…ä¸¢äº†è„¸â”€å› ä¸ºæˆ‘æ‰”æ‰äº†äº¤åˆ°è‡ªå·±æ‰‹é‡Œçš„æ¥åŠ›æ£’ã€‚æˆ‘å»è§äº†æˆ´ç»´å¸•å¡å¾·å’Œé²å‹ƒ.è¯ºä¼Šæ–¯ï¼Œæƒ³ä¸ºæŠŠäº‹æƒ…æå¾—è¿™ä¹ˆç³Ÿç³•è¯´å£°é“æ­‰ã€‚è¿™æ¬¡å¤±è´¥å¼„å¾—æ²¸æ²¸æ‰¬æ‰¬çš„ï¼Œæˆ‘ç”šè‡³æƒ³è¿‡é€ƒç¦»ç¡…è°·ã€‚ä½†æ˜¯ï¼Œæ¸æ¸åœ°ï¼Œæˆ‘å¼€å§‹æœ‰äº†ä¸€ä¸ªæƒ³æ³•â”€æˆ‘ä»ç„¶çƒ­çˆ±æˆ‘è¿‡å»åšçš„ä¸€åˆ‡ã€‚åœ¨è‹¹æœå…¬å¸å‘ç”Ÿçš„è¿™äº›é£æ³¢ä¸æ¯«æ²¡æœ‰æ”¹å˜è¿™ä¸€ç‚¹ã€‚æˆ‘è™½ç„¶è¢«æ‹’ä¹‹é—¨å¤–ï¼Œä½†æˆ‘ä»ç„¶æ·±çˆ±æˆ‘çš„äº‹ä¸šã€‚äºæ˜¯ï¼Œæˆ‘å†³å®šä»å¤´å¼€å§‹ã€‚</p><p>ã€€ã€€I didnâ€™t see it then, but it turned out that getting fired from Apple was the best thing that could have ever happened to me. The heaviness of being successful was replaced by the lightness of being a beginner again, less sure about everything. It freed me to enter one of the most creative periods of my life.</p><p>ã€€ã€€è™½ç„¶å½“æ—¶æˆ‘å¹¶æ²¡æœ‰æ„è¯†åˆ°ï¼Œä½†äº‹å®è¯æ˜ï¼Œè¢«è‹¹æœå…¬å¸ç‚’é±¿é±¼æ˜¯æˆ‘ä¸€ç”Ÿä¸­ç¢°åˆ°çš„æœ€å¥½çš„äº‹æƒ…ã€‚å°½ç®¡å‰æ™¯æœªåœï¼Œä½†ä»å¤´å¼€å§‹çš„è½»æ¾æ„Ÿå–ä»£äº†ä¿æŒæˆåŠŸçš„æ²‰é‡æ„Ÿã€‚è¿™ä½¿æˆ‘è¿›å…¥äº†ä¸€ç”Ÿä¸­æœ€å¯Œæœ‰åˆ›é€ åŠ›çš„æ—¶æœŸä¹‹ä¸€ã€‚</p><p>ã€€ã€€During the next five years, I started a company named NeXT, another company named Pixar, and fell in love with an amazing woman who would become my wife. Pixar went on to create the worlds first computer animated feature film, Toy Story, and is now the most successful animation studio in the world. In a remarkable turn of events, Apple bought NeXT, I retuned to Apple, and the technology we developed at NeXT is at the heart of Appleâ€™s current renaissance. And Laurene and I have a wonderful family together.</p><p>ã€€ã€€åœ¨æ­¤åçš„äº”å¹´é‡Œï¼Œæˆ‘å¼€äº†ä¸€å®¶åå« NeXT çš„å…¬å¸å’Œä¸€å®¶å«çš®å…‹æ–¯çš„å…¬å¸ï¼Œæˆ‘è¿˜çˆ±ä¸Šä¸€ä½äº†ä¸èµ·çš„å¥³äººï¼Œåæ¥å¨¶äº†å¥¹ã€‚çš®å…‹æ–¯å…¬å¸æ¨å‡ºäº†ä¸–ç•Œä¸Šç¬¬ä¸€éƒ¨ç”¨ç”µè„‘åˆ¶ä½œçš„åŠ¨ç”»ç‰‡ã€Šç©å…·æ€»åŠ¨å‘˜ã€‹(Toy Story)ï¼Œå®ƒç°åœ¨æ˜¯å…¨çƒæœ€æˆåŠŸçš„åŠ¨ç”»åˆ¶ä½œå®¤ã€‚ä¸–é“è½®å›ï¼Œè‹¹æœå…¬å¸ä¹°ä¸‹ NeXT åï¼Œæˆ‘åˆå›åˆ°äº†è‹¹æœå…¬å¸ï¼Œæˆ‘ä»¬åœ¨ NeXT å…¬å¸å¼€å‘çš„æŠ€æœ¯æˆäº†è‹¹æœå…¬å¸è¿™æ¬¡é‡æ–°å´›èµ·çš„æ ¸å¿ƒã€‚æˆ‘å’ŒåŠ³ä¼¦å¨œ(Laurene)ä¹Ÿå»ºç«‹äº†ç¾æ»¡çš„å®¶åº­ã€‚</p><p>ã€€ã€€Iâ€™m pretty sure none of this would have happened if I hadnâ€™t been fired from Apple. It was awful tasting medicine, but I guess the patient needed it. Sometimes life hits you in the head with a brick. Donâ€™t lose faith. Iâ€™m convinced that the only thing that kept me going was that I loved what I did. Youâ€™ve got to find what you love. And that is as true for your work as it is for your lovers. Your work is going to fill a large part of your life, and the only way to be truly satisfied is to do what you believe is great work. And the only way to do great work is to love what you do. If you havenâ€™t found it yet, keep looking. Donâ€™t settle. As with all matters of the heart, youâ€™ll know when you find it. And, like any great relationship, it just gets better and better as the years roll on. So keep looking until you find it. Donâ€™t settle.</p><p>ã€€ã€€æˆ‘ç¡®ä¿¡ï¼Œå¦‚æœä¸æ˜¯è¢«è‹¹æœå…¬å¸è§£é›‡ï¼Œè¿™ä¸€åˆ‡å†³ä¸å¯èƒ½å‘ç”Ÿã€‚è¿™æ˜¯ä¸€å‰‚è‹¦è¯ï¼Œå¯æˆ‘è®¤ä¸ºè‹¦è¯åˆ©äºç—…ã€‚æœ‰æ—¶ç”Ÿæ´»ä¼šå½“å¤´ç»™ä½ ä¸€æ£’ï¼Œä½†ä¸è¦ç°å¿ƒã€‚æˆ‘åšä¿¡è®©æˆ‘ä¸€å¾€æ— å‰çš„å”¯ä¸€åŠ›é‡å°±æ˜¯æˆ‘çƒ­çˆ±æˆ‘æ‰€åšçš„ä¸€åˆ‡ã€‚æ‰€ä»¥ï¼Œä¸€å®šå¾—çŸ¥é“è‡ªå·±å–œæ¬¢ä»€ä¹ˆï¼Œé€‰æ‹©çˆ±äººæ—¶å¦‚æ­¤ï¼Œé€‰æ‹©å·¥ä½œæ—¶åŒæ ·å¦‚æ­¤ã€‚å·¥ä½œå°†æ˜¯ç”Ÿæ´»ä¸­çš„ä¸€å¤§éƒ¨åˆ†ï¼Œè®©è‡ªå·±çœŸæ­£æ»¡æ„çš„å”¯ä¸€åŠæ³•ï¼Œæ˜¯åšè‡ªå·±è®¤ä¸ºæ˜¯æœ‰æ„ä¹‰çš„å·¥ä½œ;åšæœ‰æ„ä¹‰çš„å·¥ä½œçš„å”¯ä¸€åŠæ³•ï¼Œæ˜¯çƒ­çˆ±è‡ªå·±çš„å·¥ä½œã€‚ä½ ä»¬å¦‚æœè¿˜æ²¡æœ‰å‘ç°è‡ªå·±å–œæ¬¢ä»€ä¹ˆï¼Œé‚£å°±ä¸æ–­åœ°å»å¯»æ‰¾ï¼Œä¸è¦æ€¥äºåšå‡ºå†³å®šã€‚å°±åƒä¸€åˆ‡è¦å‡­ç€æ„Ÿè§‰å»åšçš„äº‹æƒ…ä¸€æ ·ï¼Œä¸€æ—¦æ‰¾åˆ°äº†è‡ªå·±å–œæ¬¢çš„äº‹ï¼Œæ„Ÿè§‰å°±ä¼šå‘Šè¯‰ä½ ã€‚å°±åƒä»»ä½•ä¸€ç§ç¾å¦™çš„ä¸œè¥¿ï¼Œå†ä¹…å¼¥æ–°ã€‚æ‰€ä»¥è¯´ï¼Œè¦ä¸æ–­åœ°å¯»æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°è‡ªå·±å–œæ¬¢çš„ä¸œè¥¿ã€‚ä¸è¦åŠé€”è€ŒåºŸã€‚</p><p>ã€€ã€€My third story is about death. When I was 17, I read a quote that went something like: â€œIf you live each day as if it was your last, someday youâ€™ll most certainly be right.â€ It made an impression on me, and since then, for the past 33 years, I have looked in the mirror every morning and asked myself: â€œIf today were the last day of my life, would I want to do what I am about to do today?â€ And whenever the answer has been â€œNoâ€ for too many days in a row, I know I need to change something.</p><p>ã€€ã€€æˆ‘çš„ç¬¬ä¸‰ä¸ªæ•…äº‹ä¸æ­»äº¡æœ‰å…³ã€‚17 å²é‚£å¹´ï¼Œæˆ‘è¯»åˆ°è¿‡è¿™æ ·ä¸€æ®µè¯ï¼Œå¤§æ„æ˜¯:â€œå¦‚æœæŠŠæ¯ä¸€å¤©éƒ½å½“ä½œç”Ÿå‘½çš„æœ€åä¸€å¤©ï¼Œæ€»æœ‰ä¸€å¤©ä½ ä¼šå¦‚æ„¿ä»¥å¿ã€‚â€æˆ‘è®°ä½äº†è¿™å¥è¯ï¼Œä»é‚£æ—¶èµ·ï¼Œ33 å¹´è¿‡å»äº†ï¼Œæˆ‘æ¯å¤©æ—©æ™¨éƒ½å¯¹ç€é•œå­è‡ªé—®: â€œå‡å¦‚ä»Šå¤©æ˜¯ç”Ÿå‘½çš„æœ€åä¸€å¤©ï¼Œæˆ‘è¿˜ä¼šå»åšä»Šå¤©è¦åšçš„äº‹å—?â€å¦‚æœä¸€è¿è®¸å¤šå¤©æˆ‘çš„å›ç­”éƒ½æ˜¯â€œä¸â€ï¼Œæˆ‘çŸ¥é“è‡ªå·±åº”è¯¥æœ‰æ‰€æ”¹å˜äº†ã€‚</p><p>ã€€ã€€Remembering that Iâ€™ll be dead soon is the most important tool Iâ€™ve ever encountered to help me make the big choices in life. Because almost everything â€” all external expectations, all pride, all fear of embarrassment or failure - these things just fall away in the face of death, leaving only what is truly important. Remembering that you are going to die is the best way I know to avoid the trap of thinking you have something to lose. You are already naked. There is no reason not to follow your heart.</p><p>ã€€ã€€è®©æˆ‘èƒ½å¤Ÿåšå‡ºäººç”Ÿé‡å¤§æŠ‰æ‹©çš„æœ€ä¸»è¦åŠæ³•æ˜¯ï¼Œè®°ä½ç”Ÿå‘½éšæ—¶éƒ½æœ‰å¯èƒ½ç»“æŸã€‚å› ä¸ºå‡ ä¹æ‰€æœ‰çš„ä¸œè¥¿â”€æ‰€æœ‰å¯¹è‡ªèº«ä¹‹å¤–çš„å¸Œæ±‚ã€æ‰€æœ‰çš„å°Šä¸¥ã€æ‰€æœ‰å¯¹å›°çª˜å’Œå¤±è´¥çš„ææƒ§â”€åœ¨æ­»äº¡æ¥ä¸´æ—¶éƒ½å°†ä¸å¤å­˜åœ¨ï¼Œåªå‰©ä¸‹çœŸæ­£é‡è¦çš„ä¸œè¥¿ã€‚è®°ä½è‡ªå·±éšæ—¶éƒ½ä¼šæ­»å»ï¼Œè¿™æ˜¯æˆ‘æ‰€çŸ¥é“çš„é˜²æ­¢æ‚£å¾—æ‚£å¤±çš„æœ€å¥½æ–¹æ³•ã€‚ä½ å·²ç»ä¸€æ— æ‰€æœ‰äº†ï¼Œè¿˜æœ‰ä»€ä¹ˆç†ç”±ä¸è·Ÿç€è‡ªå·±çš„æ„Ÿè§‰èµ°å‘¢ã€‚</p><p>ã€€ã€€About a year ago I was diagnosed with cancer. I had a scan at 7:30 in the morning, and it clearly showed a tumor on my pancreas. I didnâ€™t even know what a pancreas was. The doctors told me this was almost certainly a type of cancer that is incurable, and that I should expect to live no longer than three to six months. My doctor advised me to go home and get my affairs in order, which is doctorâ€™s code for prepare to die. It means to try to tell your kids everything you thought youâ€™d have the next 10 years to tell them in just a few months. It means to make sure everything is buttoned up so that it will be as easy as possible for your family. It means to say your goodbyes. ã€€ã€€</p><p>ã€€ã€€å¤§çº¦ä¸€å¹´å‰ï¼Œæˆ‘è¢«è¯Šæ–­æ‚£äº†ç™Œç—‡ã€‚é‚£å¤©æ—©ä¸Šä¸ƒç‚¹åŠï¼Œæˆ‘åšäº†ä¸€æ¬¡æ‰«ææ£€æŸ¥ï¼Œç»“æœæ¸…æ¥šåœ°è¡¨æ˜æˆ‘çš„èƒ°è…ºä¸Šé•¿äº†ä¸€ä¸ªç˜¤å­ï¼Œå¯é‚£æ—¶æˆ‘è¿èƒ°è…ºæ˜¯ä»€ä¹ˆè¿˜ä¸çŸ¥é“å‘¢!åŒ»ç”Ÿå‘Šè¯‰æˆ‘è¯´ï¼Œå‡ ä¹å¯ä»¥ç¡®è¯Šè¿™æ˜¯ä¸€ç§æ— æ³•æ²»æ„ˆçš„æ¶æ€§è‚¿ç˜¤ï¼Œæˆ‘æœ€å¤šè¿˜èƒ½æ´» 3 åˆ° 6 ä¸ªæœˆã€‚åŒ»ç”Ÿå»ºè®®æˆ‘å›å»æŠŠä¸€åˆ‡éƒ½å®‰æ’å¥½ï¼Œå…¶å®è¿™æ˜¯åœ¨æš—ç¤ºâ€œå‡†å¤‡åäº‹â€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠŠä»Šååå¹´è¦è·Ÿå­©å­ä»¬è¯´çš„äº‹æƒ…åœ¨è¿™å‡ ä¸ªæœˆå†…å˜±å’å®Œ;ä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠŠä¸€åˆ‡éƒ½å®‰æ’å¦¥å½“ï¼Œå°½å¯èƒ½ä¸ç»™å®¶äººç•™éº»çƒ¦;ä¹Ÿå°±æ˜¯è¯´ï¼Œå»è·Ÿå¤§å®¶è¯€åˆ«ã€‚</p><p>ã€€ã€€I lived with that diagnosis all day. Later that evening I had a biopsy, where they stuck an endoscope down my throat, through my stomach and into my intestines, put a needle into my pancreas and got a few cells from the tumor. I was sedated, but my wife, who was there, told me that when they viewed the cells under a microscope the doctors started crying because it turned out to be a very rare form of pancreatic cancer that is curable with surgery. I had the surgery and Iâ€™m fine now.</p><p>ã€€ã€€é‚£ä¸€æ•´å¤©é‡Œï¼Œæˆ‘çš„è„‘å­ä¸€ç›´æ²¡ç¦»å¼€è¿™ä¸ªè¯Šæ–­ã€‚åˆ°äº†æ™šä¸Šï¼Œæˆ‘åšäº†ä¸€æ¬¡ç»„ç»‡åˆ‡ç‰‡æ£€æŸ¥ï¼Œä»–ä»¬æŠŠä¸€ä¸ªå†…çª¥é•œé€šè¿‡å–‰å’™ç©¿è¿‡æˆ‘çš„èƒƒè¿›å…¥è‚ å­ï¼Œç”¨é’ˆå¤´åœ¨èƒ°è…ºçš„ç˜¤å­ä¸Šå–äº†ä¸€äº›ç»†èƒç»„ç»‡ã€‚å½“æ—¶æˆ‘ç”¨äº†éº»é†‰å‰‚ï¼Œé™ªåœ¨ä¸€æ—çš„å¦»å­åæ¥å‘Šè¯‰æˆ‘ï¼ŒåŒ»ç”Ÿåœ¨æ˜¾å¾®é•œé‡Œçœ‹äº†ç»†èƒä¹‹åå«äº†èµ·æ¥ï¼ŒåŸæ¥è¿™æ˜¯ä¸€ç§å°‘è§çš„å¯ä»¥é€šè¿‡å¤–ç§‘æ‰‹æœ¯æ²»æ„ˆçš„æ¶æ€§è‚¿ç˜¤ã€‚æˆ‘åšäº†æ‰‹æœ¯ï¼Œç°åœ¨å¥½äº†ã€‚</p><p>ã€€ã€€This was the closest Iâ€™ve been to facing death, and I hope its the closest I get for a few more decades. Having lived through it, I can now say this to you with a bit more certainty than when death was a useful but purely intellectual concept:No one wants to die. Even people who want to go to heaven donâ€™t want to die to get there. And yet death is the destination we all share. No one has ever escaped it. And that is as it should be, because Death is very likely the single best invention of Life. It is Lifeâ€™s change agent. It clears out the old to make way for the new. Right now the new is you, but someday not too long from now, you will gradually become the old and be cleared away. Sorry to be so dramatic, but it is quite true.</p><p>ã€€ã€€è¿™æ˜¯æˆ‘å’Œæ­»ç¥ç¦»å¾—æœ€è¿‘çš„ä¸€æ¬¡ï¼Œæˆ‘å¸Œæœ›ä¹Ÿæ˜¯ä»Šåå‡ åå¹´é‡Œæœ€è¿‘çš„ä¸€æ¬¡ã€‚æœ‰äº†è¿™æ¬¡ç»å†ä¹‹åï¼Œç°åœ¨æˆ‘å¯ä»¥æ›´åŠ å®åœ¨åœ°å’Œä½ ä»¬è°ˆè®ºæ­»äº¡ï¼Œè€Œä¸æ˜¯çº¯ç²¹çº¸ä¸Šè°ˆå…µï¼Œé‚£å°±æ˜¯: è°éƒ½ä¸æ„¿æ„æ­»ã€‚å°±æ˜¯é‚£äº›æƒ³è¿›å¤©å ‚çš„äººä¹Ÿä¸æ„¿æ„æ­»åå†è¿›ã€‚ç„¶è€Œï¼Œæ­»äº¡æ˜¯æˆ‘ä»¬å…±åŒçš„å½’å®¿ï¼Œæ²¡äººèƒ½æ‘†è„±ã€‚æˆ‘ä»¬æ³¨å®šä¼šæ­»ï¼Œå› ä¸ºæ­»äº¡å¾ˆå¯èƒ½æ˜¯ç”Ÿå‘½æœ€å¥½çš„ä¸€é¡¹å‘æ˜ã€‚å®ƒæ¨è¿›ç”Ÿå‘½çš„å˜è¿ï¼Œæ—§çš„ä¸å»ï¼Œæ–°çš„ä¸æ¥ã€‚ç°åœ¨ï¼Œä½ ä»¬å°±æ˜¯æ–°çš„ï¼Œä½†åœ¨ä¸ä¹…çš„å°†æ¥ï¼Œä½ ä»¬ä¹Ÿä¼šé€æ¸æˆä¸ºæ—§çš„ï¼Œä¹Ÿä¼šè¢«æ·˜æ±°ã€‚å¯¹ä¸èµ·ï¼Œè¯è¯´å¾—å¤ªè¿‡åˆ†äº†ï¼Œä¸è¿‡è¿™æ˜¯åƒçœŸä¸‡ç¡®çš„ã€‚</p><p>ã€€ã€€Your time is limited, so donâ€™t waste it living someone elseâ€™s life. Donâ€™t be trapped by dogma â€” which is living with the results of other peopleâ€™s thinking. Donâ€™t let the noise of othersâ€™ opinions drown out your own inner voice. And most important, have the courage to follow your heart and intuition. They somehow already know what you truly want to become. Everything else is secondary.</p><p>ã€€ã€€ä½ ä»¬çš„æ—¶é—´éƒ½æœ‰é™ï¼Œæ‰€ä»¥ä¸è¦æŒ‰ç…§åˆ«äººçš„æ„æ„¿å»æ´»ï¼Œè¿™æ˜¯æµªè´¹æ—¶é—´ã€‚ä¸è¦å›¿äºæˆè§ï¼Œé‚£æ˜¯åœ¨æŒ‰ç…§åˆ«äººè®¾æƒ³çš„ç»“æœè€Œæ´»ã€‚ä¸è¦è®©åˆ«äººè§‚ç‚¹çš„è’å™ªå£°æ·¹æ²¡è‡ªå·±çš„å¿ƒå£°ã€‚æœ€ä¸»è¦çš„æ˜¯ï¼Œè¦æœ‰è·Ÿç€è‡ªå·±æ„Ÿè§‰å’Œç›´è§‰èµ°çš„å‹‡æ°”ã€‚æ— è®ºå¦‚ä½•ï¼Œæ„Ÿè§‰å’Œç›´è§‰æ—©å°±çŸ¥é“ä½ åˆ°åº•æƒ³æˆä¸ºä»€ä¹ˆæ ·çš„äººï¼Œå…¶ä»–éƒ½æ˜¯æ¬¡è¦çš„ã€‚</p><p>ã€€ã€€When I was young, there was an amazing publication called The Whole Earth Catalog, which was one of the bibles of my generation. It was created by a fellow named Stewart Brand not far from here in Menlo Park, and he brought it to life with his poetic touch. This was in the late 1960â€™s, before personal computers and desktop publishing, so it was all made with typewriters, scissors, and polaroid cameras. It was sort of like Google in paperback form, 35 years before Google came along: it was idealistic, and overflowing with neat tools and great notions.</p><p>ã€€ã€€æˆ‘å¹´è½»æ—¶æœ‰ä¸€æœ¬éå¸¸å¥½çš„åˆŠç‰©ï¼Œå«ã€Šå…¨çƒæ¦‚è§ˆã€‹ï¼Œè¿™æ˜¯æˆ‘é‚£ä»£äººçš„å®ä¹¦ä¹‹ä¸€ï¼Œåˆ›åŠäººåå«æ–¯å›¾å°”ç‰¹å¸ƒå…°å¾·ï¼Œå°±ä½åœ¨ç¦»è¿™å„¿ä¸è¿œçš„é—¨æ´›å¸•å…‹å¸‚ã€‚ä»–ç”¨è¯—ä¸€èˆ¬çš„è¯­è¨€æŠŠåˆŠç‰©åŠå¾—ç”ŸåŠ¨æ´»æ³¼ã€‚é‚£æ˜¯ 20 ä¸–çºª 60 å¹´ä»£æœ«ï¼Œè¿˜æ²¡æœ‰ä¸ªäººç”µè„‘å’Œæ¡Œé¢å°åˆ·ç³»ç»Ÿï¼Œå…¨é æ‰“å­—æœºã€å‰ªåˆ€å’Œå®ä¸½è±ç…§ç›¸æœºã€‚å®ƒå°±åƒä¸€ç§çº¸è´¨çš„ Googleï¼Œå´æ¯” Google æ—©é—®ä¸–äº† 35 å¹´ã€‚è¿™ä»½åˆŠç‰©å¤ªå®Œç¾äº†ï¼ŒæŸ¥é˜…æ‰‹æ®µé½å¤‡ã€æ„æ€ä¸å‡¡ã€‚</p><p>ã€€ã€€Stewart and his team put out several issues of The Whole Earth Catalog, and then when it had run its course, they put out a final issue. It was the mid-1970s, and I was your age. On the back cover of their final issue was a photograph of an early morning country road, the kind you might find yourself hitchhiking on if you were so adventurous. Beneath it were the words: â€œStay Hungry. Stay Foolish.â€ It was their farewell message as they signed off. Stay Hungry. Stay Foolish. And I have always wished that for myself.</p><p>ã€€ã€€æ–¯å›¾å°”ç‰¹å’Œä»–çš„åŒäº‹ä»¬å‡ºäº†å¥½å‡ æœŸã€Šå…¨çƒæ¦‚è§ˆã€‹ï¼Œåˆ°æœ€ååŠä¸ä¸‹å»æ—¶ï¼Œä»–ä»¬å‡ºäº†æœ€åä¸€æœŸã€‚é‚£æ˜¯ 20 ä¸–çºª 70 å¹´ä»£ä¸­æœŸï¼Œæˆ‘ä¹Ÿå°±æ˜¯ä½ ä»¬ç°åœ¨çš„å¹´çºªã€‚æœ€åä¸€æœŸçš„å°åº•ä¸Šæ˜¯ä¸€å¼ æ¸…æ™¨ä¹¡é—´å°è·¯çš„ç…§ç‰‡ï¼Œå°±æ˜¯é‚£ç§çˆ±å†’é™©çš„äººç­‰åœ¨é‚£å„¿æ­ä¾¿è½¦çš„é‚£ç§å°è·¯ã€‚ç…§ç‰‡ä¸‹é¢å†™é“: å¥½å­¦è‹¥é¥¥ã€è°¦å‘è‹¥æ„šã€‚é‚£æ˜¯ä»–ä»¬åœåˆŠå‰çš„å‘Šåˆ«è¾ã€‚æ±‚çŸ¥è‹¥æ¸´ï¼Œå¤§æ™ºè‹¥æ„šã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä¸€ç›´æƒ³åšåˆ°çš„ã€‚</p><p>ã€€ã€€And now, as you graduate to begin anew, I wish that for you. Stay Hungry. Stay Foolish.</p><p>ã€€ã€€çœ¼ä¸‹æ­£å€¼è¯¸ä½å¤§å­¦æ¯•ä¸šã€å¼€å§‹æ–°ç”Ÿæ´»ä¹‹é™…ï¼Œæˆ‘åŒæ ·æ„¿å¤§å®¶ï¼šå¥½å­¦è‹¥é¥¥ã€è°¦å‘è‹¥æ„šã€‚</p><p>è§†é¢‘é“¾æ¥</p><p><a href="https://v.qq.com/x/page/k0550leuhtu.html?new=1" target="_blank" rel="noopener">https://v.qq.com/x/page/k0550leuhtu.html?new=1</a></p><hr><p><strong>ä¹”å¸ƒæ–¯è‹±æ–‡åå¥</strong></p><ol><li><p>â€œa leader and a follower innovation distinguishes between.â€</p><p>â€œé¢†è¢–å’Œè·Ÿé£è€…çš„åŒºåˆ«å°±åœ¨äºåˆ›æ–°ã€‚â€</p></li><li><p>â€œbecome a prominent pronoun, some people arenâ€™t used to an environment quality.â€<br>â€œæˆä¸ºå“è¶Šçš„ä»£åè¯ï¼Œå¾ˆå¤šäººå¹¶ä¸èƒ½é€‚åˆéœ€è¦æ°å‡ºç´ è´¨çš„ç¯å¢ƒã€‚â€</p></li><li><p>â€œthe only way to accomplish something weiye is deeply love own enterprise. If you havenâ€™t been able to find let oneself love career, continue to search, donâ€™t give up. Follow your heart, someday youâ€™ll find it.â€</p><p>â€œæˆå°±ä¸€ç•ªä¼Ÿä¸šçš„å”¯ä¸€é€”å¾„å°±æ˜¯çƒ­çˆ±è‡ªå·±çš„äº‹ä¸šã€‚å¦‚æœä½ è¿˜æ²¡èƒ½æ‰¾åˆ°è®©è‡ªå·±çƒ­çˆ±çš„äº‹ä¸šï¼Œç»§ç»­å¯»æ‰¾ï¼Œä¸è¦æ”¾å¼ƒã€‚è·Ÿéšè‡ªå·±çš„å¿ƒï¼Œæ€»æœ‰ä¸€å¤©ä½ ä¼šæ‰¾åˆ°çš„ã€‚â€</p></li><li><p>â€œnot everyone needs grew their own food, also not everyone needs doing their own wear clothes, we speak the language, use the others invention of mathematical invention othersâ€¦ we have been using someone elseâ€™s results. Use human existing Experience and knowledge to make inventions is a very great things. â€œ</p><p>â€œå¹¶ä¸æ˜¯æ¯ä¸ªäººéƒ½éœ€è¦ç§æ¤è‡ªå·±çš„ç²®é£Ÿï¼Œä¹Ÿä¸æ˜¯æ¯ä¸ªäººéƒ½éœ€è¦åšè‡ªå·±ç©¿çš„è¡£æœï¼Œæˆ‘ä»¬è¯´ç€åˆ«äººå‘æ˜çš„è¯­è¨€ï¼Œä½¿ç”¨åˆ«äººå‘æ˜çš„æ•°å­¦â€¦æˆ‘ä»¬ä¸€ç›´åœ¨ä½¿ç”¨åˆ«äººçš„æˆæœã€‚ä½¿ç”¨äººç±»çš„å·²æœ‰ç»éªŒå’ŒçŸ¥è¯†æ¥è¿›è¡Œå‘æ˜åˆ›é€ æ˜¯ä¸€ä»¶å¾ˆäº†ä¸èµ·çš„äº‹æƒ…ã€‚â€</p></li><li><p>â€œthereâ€™s a phrase in Buddhism, â€˜beginnerâ€™s mind. have a beginnerâ€™s mind is a wonderful thing.â€</p><p>â€œä½›æ•™ä¸­æœ‰ä¸€å¥è¯ï¼šåˆå­¦è€…çš„å¿ƒæ€ï¼›æ‹¥æœ‰åˆå­¦è€…çš„å¿ƒæ€æ˜¯ä»¶äº†ä¸èµ·çš„äº‹æƒ…ã€‚â€</p></li><li><p>â€œwe think watching TV, when peopleâ€™s brains basic stop work on your computer when you want to turn your brain.â€</p><p>â€œæˆ‘ä»¬è®¤ä¸ºçœ‹ç”µè§†çš„æ—¶å€™ï¼Œäººçš„å¤§è„‘åŸºæœ¬åœæ­¢å·¥ä½œï¼Œæ‰“å¼€ç”µè„‘çš„æ—¶å€™ï¼Œå¤§è„‘æ‰å¼€å§‹è¿è½¬ã€‚â€</p></li></ol><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    
    <tags>
      
      <tag>Jobs</tag>
      
      <tag>Steve Jobs</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Jenkinsæ„å»ºå·¥å…·é›†æˆ</title>
    <link href="/2019/11/03/Jenkins%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%E9%9B%86%E6%88%90/"/>
    <url>/2019/11/03/Jenkins%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%E9%9B%86%E6%88%90/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æ¥æºå…¬ä¼—å·ï¼š DevOpsæŒç»­é›†æˆ</p></blockquote><h2 id="1-é›†æˆmaven"><a href="#1-é›†æˆmaven" class="headerlink" title="1. é›†æˆmaven"></a>1. é›†æˆmaven</h2><h3 id="1-1-å…ˆå†³æ¡ä»¶"><a href="#1-1-å…ˆå†³æ¡ä»¶" class="headerlink" title="1.1 å…ˆå†³æ¡ä»¶"></a>1.1 å…ˆå†³æ¡ä»¶</h3><ul><li>JDKï¼šåœ¨maven3.3 ä»¥ä¸Šçš„ç‰ˆæœ¬éœ€è¦JDKç‰ˆæœ¬1.7+ã€‚å†…å­˜ï¼šæ²¡æœ‰æœ€ä½é™åˆ¶ã€‚</li><li>ç£ç›˜ï¼š1G+å¯ç”¨ç£ç›˜ç©ºé—´ã€‚æ“ä½œç³»ç»Ÿï¼šæ²¡æœ‰é™åˆ¶ã€‚</li><li>ä¸‹è½½maven <a href="http://maven.apache.org/download.cgi" target="_blank" rel="noopener">Download</a></li></ul><h3 id="1-2-å®‰è£…maven"><a href="#1-2-å®‰è£…maven" class="headerlink" title="1.2 å®‰è£…maven"></a>1.2 å®‰è£…maven</h3><pre><code class="hljs bash">tar zxf apache-maven-3.6.0-bin.tar.gz -C /usr/<span class="hljs-built_in">local</span>/<span class="hljs-comment">#è®¾ç½®å…¨å±€å˜é‡ï¼ˆ/etc/profileï¼‰</span><span class="hljs-built_in">export</span> MAVEN_HOME=/usr/<span class="hljs-built_in">local</span>/apache-maven-3.6.0<span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$MAVEN_HOME</span>/bin<span class="hljs-built_in">source</span> /etc/profile</code></pre><h3 id="1-3-Jenkinsé…ç½®maven"><a href="#1-3-Jenkinsé…ç½®maven" class="headerlink" title="1.3 Jenkinsé…ç½®maven"></a>1.3 Jenkinsé…ç½®maven</h3><ul><li><p>ç³»ç»Ÿè®¾ç½®-&gt;å…¨å±€å·¥å…·é…ç½® <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymn3b3fwj30o007xweq.jpg" srcset="/img/loading.gif" alt=""></p></li><li><p>ç¼–å†™Jenkinsfile</p>  <pre><code class="hljs bash">node &#123;    stage (<span class="hljs-string">"build"</span>)&#123;        mavenHome = tool <span class="hljs-string">'M3'</span>        sh <span class="hljs-string">"<span class="hljs-variable">$&#123;mavenHome&#125;</span>/bin/mvn -v"</span>    &#125;&#125;</code></pre></li></ul><ul><li>æ„å»ºæµ‹è¯• <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymn49lvrj30o00e4my9.jpg" srcset="/img/loading.gif" alt="">åˆ°æ­¤jenkinsé›†æˆmavenå°±å®Œæˆäº†ã€‚</li></ul><h3 id="1-4-mavenå¸¸ç”¨å‘½ä»¤"><a href="#1-4-mavenå¸¸ç”¨å‘½ä»¤" class="headerlink" title="1.4 mavenå¸¸ç”¨å‘½ä»¤"></a>1.4 mavenå¸¸ç”¨å‘½ä»¤</h3><pre><code class="hljs bash">clean install -DskipTestsclean package</code></pre><h2 id="2-é›†æˆAnt"><a href="#2-é›†æˆAnt" class="headerlink" title="2. é›†æˆAnt"></a>2. é›†æˆAnt</h2><h3 id="2-1-å…ˆå†³æ¡ä»¶"><a href="#2-1-å…ˆå†³æ¡ä»¶" class="headerlink" title="2.1 å…ˆå†³æ¡ä»¶"></a>2.1 å…ˆå†³æ¡ä»¶</h3><ul><li>ä¸‹è½½ï¼š<a href="https://ant.apache.org/bindownload.cgi" target="_blank" rel="noopener">Download</a><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymn4sopmj30kw0413z4.jpg" srcset="/img/loading.gif" alt=""></li></ul><h3 id="2-2-å®‰è£…ant"><a href="#2-2-å®‰è£…ant" class="headerlink" title="2.2 å®‰è£…ant"></a>2.2 å®‰è£…ant</h3><pre><code class="hljs bash">tar zxf apache-ant-1.10.5-bin.tar.gz -C /usr/<span class="hljs-built_in">local</span>/<span class="hljs-comment">#æ·»åŠ å…¨å±€å˜é‡ï¼ˆ/etc/profileï¼‰</span><span class="hljs-built_in">export</span> ANT_HOME=/usr/<span class="hljs-built_in">local</span>/apache-ant-1.10.5<span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$MAVEN_HOME</span>/bin:<span class="hljs-variable">$ANT_HOME</span>/bin<span class="hljs-built_in">source</span> /etc/profile</code></pre><ul><li>æµ‹è¯• <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymn644tjj30mw020jrn.jpg" srcset="/img/loading.gif" alt=""></li></ul><h3 id="2-3-Jenkinsé…ç½®ant"><a href="#2-3-Jenkinsé…ç½®ant" class="headerlink" title="2.3 Jenkinsé…ç½®ant"></a>2.3 Jenkinsé…ç½®ant</h3><ul><li><p>ç³»ç»Ÿè®¾ç½®-&gt;å…¨å±€å·¥å…·é…ç½®</p></li><li><p>ç¼–å†™Jenkinsfile</p>  <pre><code class="hljs bash">node &#123;    stage (<span class="hljs-string">"build"</span>)&#123;        antHome = tool <span class="hljs-string">'ANT'</span>        sh <span class="hljs-string">"<span class="hljs-variable">$&#123;antHome&#125;</span>/bin/ant -version"</span>    &#125;&#125;</code></pre></li></ul><ul><li><p>æ„å»ºæµ‹è¯•</p><p> <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymn730xij30m807rq3e.jpg" srcset="/img/loading.gif" alt=""> åˆ°æ­¤antçš„é›†æˆå°±å®Œæˆäº†</p></li></ul><h3 id="2-4-Antå¸¸ç”¨å‘½ä»¤"><a href="#2-4-Antå¸¸ç”¨å‘½ä»¤" class="headerlink" title="2.4 Antå¸¸ç”¨å‘½ä»¤"></a>2.4 Antå¸¸ç”¨å‘½ä»¤</h3><p><code>ant -buildfile -f build.xml</code></p><h2 id="3-é›†æˆGradle"><a href="#3-é›†æˆGradle" class="headerlink" title="3. é›†æˆGradle"></a>3. é›†æˆGradle</h2><h3 id="3-1-å…ˆå†³æ¡ä»¶"><a href="#3-1-å…ˆå†³æ¡ä»¶" class="headerlink" title="3.1 å…ˆå†³æ¡ä»¶"></a>3.1 å…ˆå†³æ¡ä»¶</h3><p> <img src="https://tva1.sinaimg.cn/large/006tNbRwgy1g9ymn7mrf3j30gd062wey.jpg" srcset="/img/loading.gif" alt=""></p><ul><li>ä¸‹è½½:<a href="https://downloads.gradle.org/distributions/gradle-5.3-bin.zip" target="_blank" rel="noopener">Download</a></li></ul><h3 id="3-2-å®‰è£…Gradle"><a href="#3-2-å®‰è£…Gradle" class="headerlink" title="3.2 å®‰è£…Gradle"></a>3.2 å®‰è£…Gradle</h3><pre><code class="hljs bash">unzip gradle-5.3-bin.zip -d /usr/<span class="hljs-built_in">local</span>/<span class="hljs-comment">#æ·»åŠ å…¨å±€å˜é‡ï¼ˆ/etc/profileï¼‰</span><span class="hljs-built_in">export</span> GRADLE_HOME=/usr/<span class="hljs-built_in">local</span>/gradle-5.3<span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>: <span class="hljs-variable">$GRADLE_HOME</span>/bin<span class="hljs-built_in">source</span> /etc/profile</code></pre><h3 id="3-3-Jenkinsé…ç½®gradle"><a href="#3-3-Jenkinsé…ç½®gradle" class="headerlink" title="3.3 Jenkinsé…ç½®gradle"></a>3.3 Jenkinsé…ç½®gradle</h3><ul><li><p>ç³»ç»Ÿè®¾ç½®-&gt;å…¨å±€å·¥å…·é…ç½®</p></li><li><p>ç¼–å†™Jenkinsfile</p>  <pre><code class="hljs bash">node &#123;    stage (<span class="hljs-string">"gradlebuild"</span>)&#123;        gradleHome = tool <span class="hljs-string">'GRADLE'</span>        sh <span class="hljs-string">"<span class="hljs-variable">$&#123;gradleHome&#125;</span>/bin/gradle -v"</span>    &#125;&#125;</code></pre></li></ul><ul><li>æ„å»ºæµ‹è¯• <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymn82gi8j30l20cu74x.jpg" srcset="/img/loading.gif" alt="">åˆ°æ­¤jenkinsé…ç½®gradleå®Œæˆ</li></ul><h3 id="3-4-Gradleå¸¸ç”¨å‘½ä»¤"><a href="#3-4-Gradleå¸¸ç”¨å‘½ä»¤" class="headerlink" title="3.4 Gradleå¸¸ç”¨å‘½ä»¤"></a>3.4 Gradleå¸¸ç”¨å‘½ä»¤</h3><ul><li>./gradlew -v ç‰ˆæœ¬å·ï¼Œé¦–æ¬¡è¿è¡Œï¼Œæ²¡æœ‰gradleçš„è¦ä¸‹è½½çš„å“¦ã€‚</li><li>./gradlew clean åˆ é™¤HelloWord/appç›®å½•ä¸‹çš„buildæ–‡ä»¶å¤¹</li><li>./gradlew build æ£€æŸ¥ä¾èµ–å¹¶ç¼–è¯‘æ‰“åŒ…</li><li>./gradlew assembleDebug ç¼–è¯‘å¹¶æ‰“DebugåŒ…</li><li>./gradlew assembleRelease ç¼–è¯‘å¹¶æ‰“Releaseçš„åŒ…</li><li>./gradlew installRelease Releaseæ¨¡å¼æ‰“åŒ…å¹¶å®‰è£…</li><li>./gradlew uninstallRelease å¸è½½Releaseæ¨¡å¼åŒ…</li></ul><h2 id="4-é›†æˆNPM"><a href="#4-é›†æˆNPM" class="headerlink" title="4.é›†æˆNPM"></a>4.é›†æˆNPM</h2><h3 id="4-1-å…ˆå†³æ¡ä»¶"><a href="#4-1-å…ˆå†³æ¡ä»¶" class="headerlink" title="4.1 å…ˆå†³æ¡ä»¶"></a>4.1 å…ˆå†³æ¡ä»¶</h3><ul><li>ä¸‹è½½<a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">Download</a></li></ul><h3 id="4-2-å®‰è£…Node"><a href="#4-2-å®‰è£…Node" class="headerlink" title="4.2 å®‰è£…Node"></a>4.2 å®‰è£…Node</h3><pre><code class="hljs bash">tar xf node-v10.15.3-linux-x64.tar.xz -C /usr/<span class="hljs-built_in">local</span>/<span class="hljs-comment">#æ·»åŠ å…¨å±€å˜é‡ï¼ˆ/etc/profileï¼‰</span><span class="hljs-built_in">export</span> NODE_HOME=/usr/<span class="hljs-built_in">local</span>/node-v10.15.3-linux-x64<span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>: <span class="hljs-variable">$NODE_HOME</span>/bin<span class="hljs-built_in">source</span> /etc/profile</code></pre><ul><li>æµ‹è¯•</li></ul><h3 id="4-3-Jenkinsé…ç½®Npm"><a href="#4-3-Jenkinsé…ç½®Npm" class="headerlink" title="4.3 Jenkinsé…ç½®Npm"></a>4.3 Jenkinsé…ç½®Npm</h3><ul><li><p>åœ¨Jenkinså…¨å±€å·¥å…·é…ç½®ä¸­å¹¶æ²¡æœ‰nodeï¼Œå¯ä»¥ç›´æ¥é€šè¿‡Jenkinsfileå®šä¹‰ä½¿ç”¨ã€‚</p></li><li><p>Jenkinsfile</p>  <pre><code class="hljs bash">node &#123;    stage (<span class="hljs-string">"npmbuild"</span>)&#123;        sh <span class="hljs-string">""</span><span class="hljs-string">"</span><span class="hljs-string">           export npmHome=/usr/local/node-v10.15.3-linux-x64</span><span class="hljs-string">           export PATH=\$PATH:\$npmHome/bin</span><span class="hljs-string">           npm -v</span><span class="hljs-string">           "</span><span class="hljs-string">""</span>    &#125;&#125;</code></pre></li></ul><ul><li>æ„å»ºæµ‹è¯•</li></ul><h3 id="4-4-Npmå¸¸ç”¨æ„å»ºå‘½ä»¤"><a href="#4-4-Npmå¸¸ç”¨æ„å»ºå‘½ä»¤" class="headerlink" title="4.4 Npmå¸¸ç”¨æ„å»ºå‘½ä»¤"></a>4.4 Npmå¸¸ç”¨æ„å»ºå‘½ä»¤</h3><p><code>npm install &amp;&amp; npm run build</code></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymn8kwtuj30o00ajwf3.jpg" srcset="/img/loading.gif" alt=""></p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Jenkins</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Jenkins</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Jenkinsç”¨æˆ·æƒé™æˆæƒç®¡ç†</title>
    <link href="/2019/11/03/Jenkins%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E6%8E%88%E6%9D%83%E7%AE%A1%E7%90%86/"/>
    <url>/2019/11/03/Jenkins%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E6%8E%88%E6%9D%83%E7%AE%A1%E7%90%86/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æ¥æºå…¬ä¼—å·ï¼š DevOpsæŒç»­é›†æˆ</p></blockquote><p><em>1.åˆ›å»ºrole</em></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymm1tit7j30u00g53zf.jpg" srcset="/img/loading.gif" alt=""></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymm2z33hj30u00eiwfg.jpg" srcset="/img/loading.gif" alt=""></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymm3wg6xj30u00l3js1.jpg" srcset="/img/loading.gif" alt=""></p><p><em>2.æˆæƒæ’ä»¶API</em></p><h3 id="åˆ›å»ºç”¨æˆ·"><a href="#åˆ›å»ºç”¨æˆ·" class="headerlink" title="åˆ›å»ºç”¨æˆ·"></a>åˆ›å»ºç”¨æˆ·</h3><pre><code class="hljs powershell">method:POSTurl: http://demo.com:<span class="hljs-number">8080</span>/securityRealm/createAccountByAdmin<span class="hljs-keyword">data</span>: &#123;<span class="hljs-string">"username"</span>: userName, <span class="hljs-string">"password1"</span>: <span class="hljs-string">'123456'</span>, <span class="hljs-string">"password2"</span>: <span class="hljs-string">'123456'</span>, <span class="hljs-string">"fullname"</span> : userName,<span class="hljs-string">"email"</span> : userName + <span class="hljs-string">'@jenkins.com'</span>&#125;</code></pre><h3 id="ç”¨æˆ·æˆæƒæ’ä»¶"><a href="#ç”¨æˆ·æˆæƒæ’ä»¶" class="headerlink" title="ç”¨æˆ·æˆæƒæ’ä»¶"></a>ç”¨æˆ·æˆæƒæ’ä»¶</h3><pre><code>method:POSTurl:http://demo.com:8080/role-strategy/strategy/assignRoleroletype: globalRoles projectRolesdata : {&apos;type&apos;: &apos;globalRoles&apos;,&apos;roleName&apos;: roleName,&apos;sid&apos;: userName}</code></pre><h2 id="è„šæœ¬å†…å®¹-Python"><a href="#è„šæœ¬å†…å®¹-Python" class="headerlink" title="è„šæœ¬å†…å®¹(Python)"></a>è„šæœ¬å†…å®¹(Python)</h2><pre><code class="hljs python"><span class="hljs-comment">#coding:utf8</span><span class="hljs-comment">#ç”¨æˆ·æˆæƒè„šæœ¬</span><span class="hljs-keyword">import</span> requests<span class="hljs-keyword">import</span> sys<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">auth</span><span class="hljs-params">(object)</span>:</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>        self.Jenkins = &#123;<span class="hljs-string">"url"</span>:<span class="hljs-string">"http://deme.com:8080/role-strategy/strategy/assignRole"</span>,                         <span class="hljs-string">"passwd"</span>:<span class="hljs-string">"xxxxxxxxxxxx"</span>&#125;    <span class="hljs-comment">#åˆ›å»ºç”¨æˆ·</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">Create</span><span class="hljs-params">(self,userName)</span>:</span>        uurl=<span class="hljs-string">"http://demo.com:8080/securityRealm/createAccountByAdmin"</span>        refdata = &#123;<span class="hljs-string">"username"</span>: userName,                   <span class="hljs-string">"password1"</span>: <span class="hljs-string">'123456'</span>,                   <span class="hljs-string">"password2"</span>: <span class="hljs-string">'123456'</span>,                   <span class="hljs-string">"fullname"</span> : userName,                   <span class="hljs-string">"email"</span> : userName + <span class="hljs-string">'@jenkins.com'</span>&#125;        response = requests.post(uurl,data=refdata,auth=(<span class="hljs-string">'admin'</span>,self.Jenkins[<span class="hljs-string">"passwd"</span>]))        <span class="hljs-comment">#print(response.status_code,response.text)</span>    <span class="hljs-comment">#æˆæƒ</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">Grant</span><span class="hljs-params">(self,roleType,roleName,userName)</span>:</span>        self.Create(userName)        <span class="hljs-keyword">if</span> roleType == <span class="hljs-string">"global"</span> :            data = &#123;<span class="hljs-string">'type'</span>: <span class="hljs-string">'globalRoles'</span>,<span class="hljs-string">'roleName'</span>: roleName,<span class="hljs-string">'sid'</span>: userName&#125;        <span class="hljs-keyword">elif</span> roleType == <span class="hljs-string">"project"</span> :            data = &#123;<span class="hljs-string">'type'</span>: <span class="hljs-string">'projectRoles'</span>,<span class="hljs-string">'roleName'</span>: roleName,<span class="hljs-string">'sid'</span>: userName&#125;        response = requests.post(self.Jenkins[<span class="hljs-string">"url"</span>],                                data=data,                                auth=(<span class="hljs-string">'admin'</span>, self.Jenkins[<span class="hljs-string">"passwd"</span>]))        print(response.status_code,response.text)        <span class="hljs-keyword">return</span> int(response.status_code)<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:    <span class="hljs-keyword">if</span>  sys.argv[<span class="hljs-number">1</span>] == <span class="hljs-string">"help"</span>:        print(<span class="hljs-string">"1. æ·»åŠ ç”¨æˆ·åˆ°users.txtä¸­ï¼Œæ¯è¡Œä¸€ä¸ª."</span>)        print(<span class="hljs-string">"2. python role.py  global globalName"</span>)        print(<span class="hljs-string">"3. python role.py  project projectName"</span>)    <span class="hljs-keyword">else</span>:        server = auth()        roleType = sys.argv[<span class="hljs-number">1</span>]        roleName = sys.argv[<span class="hljs-number">2</span>]        <span class="hljs-comment">#get users</span>        f = open(<span class="hljs-string">"users.txt"</span>,<span class="hljs-string">"r"</span>)        users = f.readlines()        f.close()        <span class="hljs-comment">#do grant</span>        <span class="hljs-keyword">for</span> user <span class="hljs-keyword">in</span> users :            result = server.Grant(roleType,roleName,user)            <span class="hljs-keyword">if</span> result &lt;=<span class="hljs-number">400</span> :                print(<span class="hljs-string">"---&gt;&#123;0&#125;--&gt;&#123;1&#125;--&gt;&#123;2&#125; ---&gt;Success!"</span>.format(user,roleType,roleName))            <span class="hljs-keyword">else</span>:                <span class="hljs-keyword">raise</span> Exception(<span class="hljs-string">"---&gt;&#123;0&#125;--&gt;&#123;1&#125;--&gt;&#123;2&#125; ---&gt;Error!"</span>.format(user,roleType,roleName))</code></pre><p>users.txt</p><pre><code class="hljs tex">zhangsanlisiwangwu</code></pre><p><em>æœ€åï¼šåˆ›å»ºä¸€ä¸ªjenkinså‚æ•°åŒ–jobæ¥ç®¡ç†ç”¨æˆ·çš„æˆæƒã€‚</em></p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Jenkins</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Jenkins</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Jenkinsé¡¹ç›®ã€è§†å›¾ã€æ’ä»¶ç®¡ç†</title>
    <link href="/2019/11/03/Jenkins%E9%A1%B9%E7%9B%AE%E3%80%81%E8%A7%86%E5%9B%BE%E3%80%81%E6%8F%92%E4%BB%B6%E7%AE%A1%E7%90%86/"/>
    <url>/2019/11/03/Jenkins%E9%A1%B9%E7%9B%AE%E3%80%81%E8%A7%86%E5%9B%BE%E3%80%81%E6%8F%92%E4%BB%B6%E7%AE%A1%E7%90%86/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æ¥æºå…¬ä¼—å·ï¼š DevOpsæŒç»­é›†æˆ</p></blockquote><h2 id="1-é¡¹ç›®ç®¡ç†"><a href="#1-é¡¹ç›®ç®¡ç†" class="headerlink" title="1. é¡¹ç›®ç®¡ç†"></a>1. é¡¹ç›®ç®¡ç†</h2><h3 id="1-1-å‘½åè§„èŒƒ"><a href="#1-1-å‘½åè§„èŒƒ" class="headerlink" title="1.1 å‘½åè§„èŒƒ"></a>1.1 å‘½åè§„èŒƒ</h3><ul><li>ä¸šåŠ¡åç§°-åº”ç”¨åç§°-åº”ç”¨ç±»å‹_ç¯å¢ƒç±»å‹ï¼š cxy-wlck-ui_TEST, åªæœ‰å‘½åè§„èŒƒæ‰æ–¹ä¾¿ç®¡ç†é¡¹ç›®ã€‚</li></ul><h3 id="1-2-æ–°å»ºé¡¹ç›®"><a href="#1-2-æ–°å»ºé¡¹ç›®" class="headerlink" title="1.2 æ–°å»ºé¡¹ç›®"></a>1.2 æ–°å»ºé¡¹ç›®</h3><ul><li><p>ç®¡ç†é¡µé¢</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymqjv0iuj30o00e6dh5.jpg" srcset="/img/loading.gif" alt=""></p></li><li><p>è®¾ç½®æ„å»ºå†å² <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymqksrhqj30o009jjrs.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></p></li><li><p>é€‰æ‹©å‚æ•°åŒ–æ„å»º <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymqmnw1pj30o00dp0t9.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></p></li><li><p>è®¾ç½®æ„å»ºè§¦å‘å™¨ <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymqn45u6j30o009qt9c.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></p></li><li><p>è®¾ç½®Jenkinsfile <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymqnuhrwj30o00dp0t1.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></p></li><li><p>æ„å»ºé¡¹ç›® <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymqp4ydkj30o007et96.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></p></li><li><p>æŸ¥çœ‹æ„å»ºæ—¥å¿—<img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymqpyesbj30o00ajmxv.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></p></li><li><p>è°ƒè¯•Pipeline <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymqqfr9mj30o00c9gme.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></p></li></ul><h3 id="1-3-åˆ é™¤-ç¦ç”¨é¡¹ç›®"><a href="#1-3-åˆ é™¤-ç¦ç”¨é¡¹ç›®" class="headerlink" title="1.3 åˆ é™¤/ç¦ç”¨é¡¹ç›®"></a>1.3 åˆ é™¤/ç¦ç”¨é¡¹ç›®</h3><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymqsivgdj30o00d20tz.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></p><h3 id="1-4-é¡¹ç›®åˆ†ç±»"><a href="#1-4-é¡¹ç›®åˆ†ç±»" class="headerlink" title="1.4 é¡¹ç›®åˆ†ç±»"></a>1.4 é¡¹ç›®åˆ†ç±»</h3><ul><li>ä»¥ä¸šåŠ¡ç®€ç§°ä¸ºåï¼Œåˆ›å»ºå·¥ç¨‹æ–‡ä»¶å¤¹ã€‚å°†åŒä¸€ä¸ªä¸šåŠ¡çš„å·¥ç¨‹å…¨éƒ¨æ”¾åˆ°åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ã€‚</li><li><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymqun77cj30o00gdtab.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></li><li>ç§»åŠ¨é¡¹ç›® <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymqvkxikj30o009bdgk.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></li><li><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymqzfoxwj30o006dt90.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></li><li>å¤–éƒ¨ <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymr0tgr3j30o004kq2z.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></li><li>å†…éƒ¨ <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymr1s9rvj30o007edg5.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></li></ul><h2 id="2-è§†å›¾ç®¡ç†"><a href="#2-è§†å›¾ç®¡ç†" class="headerlink" title="2. è§†å›¾ç®¡ç†"></a>2. è§†å›¾ç®¡ç†</h2><ul><li>é»˜è®¤ä¼šåˆ›å»ºä¸€ä¸ªallè§†å›¾é‡Œé¢å­˜æ”¾æ‰€æœ‰çš„é¡¹ç›®ã€‚</li></ul><h3 id="2-1-åˆ›å»ºè§†å›¾"><a href="#2-1-åˆ›å»ºè§†å›¾" class="headerlink" title="2.1 åˆ›å»ºè§†å›¾"></a>2.1 åˆ›å»ºè§†å›¾</h3><ul><li>å‡­æ®-&gt; ç³»ç»Ÿ-&gt; å…¨å±€å‡­æ®</li><li><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymr31lv4j30o007rgly.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></li><li><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymr51wdtj30o00870t1.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></li><li><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymr7pr3qj30o00ivdgq.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></li><li><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymra3m95j30o005wq34.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></li></ul><h3 id="2-2-åˆ é™¤è§†å›¾"><a href="#2-2-åˆ é™¤è§†å›¾" class="headerlink" title="2.2 åˆ é™¤è§†å›¾"></a>2.2 åˆ é™¤è§†å›¾</h3><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymrb1gsvj30o006h74o.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></p><h3 id="2-3-æ›´æ–°è§†å›¾"><a href="#2-3-æ›´æ–°è§†å›¾" class="headerlink" title="2.3 æ›´æ–°è§†å›¾"></a>2.3 æ›´æ–°è§†å›¾</h3><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymrc2gcjj30o006vmxl.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></p><h2 id="3-æ’ä»¶ç®¡ç†"><a href="#3-æ’ä»¶ç®¡ç†" class="headerlink" title="3. æ’ä»¶ç®¡ç†"></a>3. æ’ä»¶ç®¡ç†</h2><ul><li>ç³»ç»Ÿè®¾ç½®-&gt;æ’ä»¶ç®¡ç†ã€‚<br><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymrcwyspj30o0078mxq.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></li></ul><h3 id="3-1-å®‰è£…æ’ä»¶"><a href="#3-1-å®‰è£…æ’ä»¶" class="headerlink" title="3.1 å®‰è£…æ’ä»¶"></a>3.1 å®‰è£…æ’ä»¶</h3><ul><li>å‹¾é€‰è¦å®‰è£…çš„æ’ä»¶ï¼Œé€‰æ‹©å®‰è£…åä¸é‡å¯ã€‚ï¼ˆæœ‰äº›æ’ä»¶éœ€è¦å®‰è£…åé‡å¯ï¼‰</li></ul><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymrev3rtj30o00gjta9.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></p><ul><li>å®‰è£…<br><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymrft7ohj30o009uq3j.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></li></ul><h3 id="3-2-å¸è½½æ’ä»¶"><a href="#3-2-å¸è½½æ’ä»¶" class="headerlink" title="3.2 å¸è½½æ’ä»¶"></a>3.2 å¸è½½æ’ä»¶</h3><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymrgni6pj30o004gt8v.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></p><h3 id="3-3-ä¸Šä¼ æ’ä»¶"><a href="#3-3-ä¸Šä¼ æ’ä»¶" class="headerlink" title="3.3 ä¸Šä¼ æ’ä»¶"></a>3.3 ä¸Šä¼ æ’ä»¶</h3><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymrhlcdbj30o006lglu.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></p><h3 id="3-4-åˆ‡æ¢æ’ä»¶æ›´æ–°ç«™ç‚¹"><a href="#3-4-åˆ‡æ¢æ’ä»¶æ›´æ–°ç«™ç‚¹" class="headerlink" title="3.4 åˆ‡æ¢æ’ä»¶æ›´æ–°ç«™ç‚¹"></a>3.4 åˆ‡æ¢æ’ä»¶æ›´æ–°ç«™ç‚¹</h3><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymrjody2j30o004i0ss.jpg" srcset="/img/loading.gif" alt="ç®¡ç†é¡µé¢"></p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Jenkins</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Jenkins</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Jenkinsç”¨æˆ·ã€å‡­æ®ã€æƒé™ç®¡ç†</title>
    <link href="/2019/11/03/Jenkins%E7%94%A8%E6%88%B7%E3%80%81%E5%87%AD%E6%8D%AE%E3%80%81%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86/"/>
    <url>/2019/11/03/Jenkins%E7%94%A8%E6%88%B7%E3%80%81%E5%87%AD%E6%8D%AE%E3%80%81%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æ¥æºå…¬ä¼—å·ï¼š DevOpsæŒç»­é›†æˆ</p></blockquote><h2 id="1-ç”¨æˆ·ç®¡ç†"><a href="#1-ç”¨æˆ·ç®¡ç†" class="headerlink" title="1. ç”¨æˆ·ç®¡ç†"></a>1. ç”¨æˆ·ç®¡ç†</h2><ul><li><p>é…ç½®ç”¨æˆ·æ¥å…¥å…¥å£: ç³»ç»Ÿç®¡ç†-&gt;å…¨å±€å®‰å…¨é…ç½®ã€‚</p></li><li><p>é»˜è®¤ä½¿ç”¨çš„æ˜¯Jenkinsæ•°æ®åº“å­˜å‚¨ã€‚</p></li><li><p>å¯ä»¥é€‰æ‹©é›†æˆLDAPæœåŠ¡æˆ–è€…æ˜¯GItlabæœåŠ¡ï¼ˆéœ€è¦å®‰è£…æ’ä»¶åæ‰ä¼šæœ‰ï¼‰ã€‚</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymt45ftfj30o00bk0t1.jpg" srcset="/img/loading.gif" alt=""></p></li></ul><h3 id="1-1-æŸ¥çœ‹ç”¨æˆ·"><a href="#1-1-æŸ¥çœ‹ç”¨æˆ·" class="headerlink" title="1.1 æŸ¥çœ‹ç”¨æˆ·"></a>1.1 æŸ¥çœ‹ç”¨æˆ·</h3><ul><li>ä»¥ä½¿ç”¨Jenkinsä¸“æœ‰æ•°æ®åº“ä¸ºä¾‹ï¼Œç”¨æˆ·ç®¡ç†å…¥å£: ç³»ç»Ÿç®¡ç†-&gt; ç®¡ç†ç”¨æˆ·</li></ul><h3 id="1-2-åˆ›å»ºç”¨æˆ·"><a href="#1-2-åˆ›å»ºç”¨æˆ·" class="headerlink" title="1.2 åˆ›å»ºç”¨æˆ·"></a>1.2 åˆ›å»ºç”¨æˆ·</h3><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymt56ehoj30o00ahwes.jpg" srcset="/img/loading.gif" alt=""></p><h3 id="1-3-åˆ é™¤ç”¨æˆ·"><a href="#1-3-åˆ é™¤ç”¨æˆ·" class="headerlink" title="1.3 åˆ é™¤ç”¨æˆ·"></a>1.3 åˆ é™¤ç”¨æˆ·</h3><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymt62pwkj30o007zdg0.jpg" srcset="/img/loading.gif" alt=""></p><h3 id="1-4-æ›´æ–°ç”¨æˆ·"><a href="#1-4-æ›´æ–°ç”¨æˆ·" class="headerlink" title="1.4 æ›´æ–°ç”¨æˆ·"></a>1.4 æ›´æ–°ç”¨æˆ·</h3><p><img src="https://tva1.sinaimg.cn/large/006tNbRwgy1g9ymt6wyxuj30o00hpq3n.jpg" srcset="/img/loading.gif" alt=""></p><h2 id="2-å‡­æ®ç®¡ç†"><a href="#2-å‡­æ®ç®¡ç†" class="headerlink" title="2. å‡­æ®ç®¡ç†"></a>2. å‡­æ®ç®¡ç†</h2><ul><li>å‡­æ®å¯ä»¥ç”¨æ¥å­˜å‚¨éœ€è¦å¯†æ–‡ä¿æŠ¤çš„æ•°æ®åº“å¯†ç ã€Gitlabå¯†ç ä¿¡æ¯ã€‚</li><li>å‡­æ®ç±»å‹ï¼š <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymt7ev35j30o004sgls.jpg" srcset="/img/loading.gif" alt=""></li></ul><h3 id="2-1-æŸ¥çœ‹å‡­æ®"><a href="#2-1-æŸ¥çœ‹å‡­æ®" class="headerlink" title="2.1 æŸ¥çœ‹å‡­æ®"></a>2.1 æŸ¥çœ‹å‡­æ®</h3><ul><li>å‡­æ®-&gt; ç³»ç»Ÿ-&gt; å…¨å±€å‡­æ®</li><li></li></ul><h3 id="2-2-æ–°å»ºå‡­æ®"><a href="#2-2-æ–°å»ºå‡­æ®" class="headerlink" title="2.2 æ–°å»ºå‡­æ®"></a>2.2 æ–°å»ºå‡­æ®</h3><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymt8dvbzj30o0099glw.jpg" srcset="/img/loading.gif" alt=""></p><h3 id="2-3-åˆ é™¤å‡­æ®"><a href="#2-3-åˆ é™¤å‡­æ®" class="headerlink" title="2.3 åˆ é™¤å‡­æ®"></a>2.3 åˆ é™¤å‡­æ®</h3><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymt9cza4j30o008m3yy.jpg" srcset="/img/loading.gif" alt=""></p><h3 id="2-4-æ›´æ–°å‡­æ®"><a href="#2-4-æ›´æ–°å‡­æ®" class="headerlink" title="2.4 æ›´æ–°å‡­æ®"></a>2.4 æ›´æ–°å‡­æ®</h3><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymtamrgfj30o007p3yt.jpg" srcset="/img/loading.gif" alt=""></p><h3 id="2-5-ç§»åŠ¨å‡­æ®"><a href="#2-5-ç§»åŠ¨å‡­æ®" class="headerlink" title="2.5 ç§»åŠ¨å‡­æ®"></a>2.5 ç§»åŠ¨å‡­æ®</h3><ul><li>å‡­æ®æ”¯æŒå¤šä¸ªåŸŸï¼Œæ”¯æŒå°†å‡­æ®ç§»åŠ¨åˆ°å…¶ä»–åŸŸä¸­ã€‚ <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymtb3wc5j30o00660sz.jpg" srcset="/img/loading.gif" alt=""></li></ul><h2 id="3-æƒé™ç®¡ç†"><a href="#3-æƒé™ç®¡ç†" class="headerlink" title="3. æƒé™ç®¡ç†"></a>3. æƒé™ç®¡ç†</h2><ul><li>æƒé™é»˜è®¤ä½¿ç”¨ Role-Based Strategy,å…¶ä»–æ–¹å¼å¦‚å›¾æ‰€ç¤ºã€‚ <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymtbmfpvj30gd07pdfz.jpg" srcset="/img/loading.gif" alt=""></li></ul><h3 id="3-1-ç®¡ç†æƒé™"><a href="#3-1-ç®¡ç†æƒé™" class="headerlink" title="3.1 ç®¡ç†æƒé™"></a>3.1 ç®¡ç†æƒé™</h3><ul><li><p>ç³»ç»Ÿè®¾ç½®-&gt;Manage and Assign Roles-&gt;Manage Roles</p></li><li><p>Global rolesï¼šæ·»åŠ ç”¨æˆ·å’Œç”¨æˆ·ç»„ï¼Œåˆ†é…æŸä¸ªç”¨æˆ·å±äºå“ªä¸ªç”¨æˆ·ç»„ã€‚</p></li><li><p>Project rolesï¼šæ·»åŠ æŸä¸ªå·¥ç¨‹æˆ–æŸä¸€ç»„å·¥ç¨‹çš„ç”¨æˆ·æˆ–ç”¨æˆ·ç»„</p></li><li><p>Slave rolesï¼šæ·»åŠ æŸä¸ªèŠ‚ç‚¹æˆ–æŸä¸€ç»„èŠ‚ç‚¹çš„ç”¨æˆ·æˆ–ç”¨æˆ·ç»„</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymtc6lpmj30o007ggly.jpg" srcset="/img/loading.gif" alt=""></p></li></ul><h3 id="3-2-å…¨å±€æƒé™"><a href="#3-2-å…¨å±€æƒé™" class="headerlink" title="3.2 å…¨å±€æƒé™"></a>3.2 å…¨å±€æƒé™</h3><p>å‡­æ®å‚æ•°ã€å­—ç¬¦å‚æ•°ã€å¯†ç å‚æ•°ã€å¸ƒå°”å€¼å‚æ•°ã€æ–‡ä»¶å‚æ•°ã€æ–‡æœ¬å‚æ•°ã€è¿è¡Œæ—¶å‚æ•°ã€é€‰é¡¹å‚æ•° <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymtdyrwuj30o008m0tb.jpg" srcset="/img/loading.gif" alt=""></p><h3 id="3-3-é¡¹ç›®æƒé™"><a href="#3-3-é¡¹ç›®æƒé™" class="headerlink" title="3.3 é¡¹ç›®æƒé™"></a>3.3 é¡¹ç›®æƒé™</h3><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymteu2phj30o007iq3g.jpg" srcset="/img/loading.gif" alt=""></p><h3 id="3-4-æƒé™æˆæƒ"><a href="#3-4-æƒé™æˆæƒ" class="headerlink" title="3.4 æƒé™æˆæƒ"></a>3.4 æƒé™æˆæƒ</h3><ul><li>ç³»ç»Ÿè®¾ç½®-&gt;Manage and Assign Roles-&gt;Assign Roles <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymtfeal9j30o00g1t99.jpg" srcset="/img/loading.gif" alt=""></li></ul><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Jenkins</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Jenkins</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Jenkinså®‰è£…</title>
    <link href="/2019/11/03/Jenkins%E5%AE%89%E8%A3%85/"/>
    <url>/2019/11/03/Jenkins%E5%AE%89%E8%A3%85/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æ¥æºå…¬ä¼—å·ï¼š DevOpsæŒç»­é›†æˆ</p></blockquote><h2 id="1-å…ˆå†³æ¡ä»¶"><a href="#1-å…ˆå†³æ¡ä»¶" class="headerlink" title="1. å…ˆå†³æ¡ä»¶"></a>1. å…ˆå†³æ¡ä»¶</h2><h3 id="1-1-è½¯ä»¶è¦æ±‚"><a href="#1-1-è½¯ä»¶è¦æ±‚" class="headerlink" title="1.1 è½¯ä»¶è¦æ±‚"></a>1.1 è½¯ä»¶è¦æ±‚</h3><p>Java8 æ— è®ºæ˜¯Javaè¿è¡Œæ—¶ç¯å¢ƒï¼ˆJREï¼‰è¿˜æ˜¯Javaå¼€å‘å·¥å…·åŒ…ï¼ˆJDKï¼‰éƒ½å¯ä»¥ã€‚å®‰è£…JDKï¼šyum -y install java</p><h3 id="1-2-ç¡¬ä»¶è¦æ±‚"><a href="#1-2-ç¡¬ä»¶è¦æ±‚" class="headerlink" title="1.2 ç¡¬ä»¶è¦æ±‚"></a>1.2 ç¡¬ä»¶è¦æ±‚</h3><ul><li><p>æœ€ä½é…ç½®ï¼š256MBå¯ç”¨å†…å­˜ï¼Œ1GBå¯ç”¨ç£ç›˜ç©ºé—´ï¼ˆDockeræ¨è10GBï¼‰ã€‚</p></li><li><p>å°å›¢é˜Ÿé…ç½®ï¼š1GB+å¯ç”¨å†…å­˜ï¼Œ 50GB+å¯ç”¨ç£ç›˜ç©ºé—´ã€‚</p></li><li><p>æ³¨æ„ï¼šå¦‚æœå°†Jenkinsä»¥dockeræ–¹å¼è¿è¡Œçš„è¯ï¼Œè¿™äº›éƒ½ä¸æ˜¯å¿…é¡»çš„ã€‚</p></li></ul><h2 id="2-å®‰è£…éƒ¨ç½²"><a href="#2-å®‰è£…éƒ¨ç½²" class="headerlink" title="2. å®‰è£…éƒ¨ç½²"></a>2. å®‰è£…éƒ¨ç½²</h2><h3 id="2-1-åŸºäºWARåŒ…éƒ¨ç½²"><a href="#2-1-åŸºäºWARåŒ…éƒ¨ç½²" class="headerlink" title="2.1 åŸºäºWARåŒ…éƒ¨ç½²"></a>2.1 åŸºäºWARåŒ…éƒ¨ç½²</h3><p>Jenkinsçš„webåº”ç”¨ç¨‹åºarchiveï¼ˆwarï¼‰åŒ…æ˜¯å¯ä»¥åœ¨ä»»ä½•æ”¯æŒJavaçš„æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œã€‚Jenkinsæœ€æ–° waråŒ…</p><ul><li>å°†ä¸‹è½½çš„waråŒ…æ”¾åˆ°jenkinsçš„ç›®å½•ä¸­ï¼ˆå¯ä»¥è‡ªå®šä¹‰)ã€‚</li><li>è¿è¡Œå‘½ä»¤ java -jar jenkins.warå¯åŠ¨ã€‚</li><li>æ­¤æ—¶å¯ä»¥çœ‹åˆ°Jenkinsçš„å¯åŠ¨æ—¥å¿—ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰å¼‚å¸¸ã€‚</li><li>é€šè¿‡æµè§ˆå™¨è®¿é—®<a href="http://localhost:8080ã€‚">http://localhost:8080ã€‚</a></li></ul><p>æ³¨æ„ï¼šå¯ä»¥é€šè¿‡ â€“httpPortæ–¹å¼æŒ‡å®šç«¯å£ï¼Œ java -jar jenkins.war -httpPort=9090ã€‚</p><h3 id="2-2-åŸºäºMACç³»ç»Ÿéƒ¨ç½²"><a href="#2-2-åŸºäºMACç³»ç»Ÿéƒ¨ç½²" class="headerlink" title="2.2 åŸºäºMACç³»ç»Ÿéƒ¨ç½²"></a>2.2 åŸºäºMACç³»ç»Ÿéƒ¨ç½²</h3><ul><li>ä¸‹è½½è½¯ä»¶åŒ…æ‰‹åŠ¨å®‰è£…</li><li>brew install jenkins #å®‰è£…jenkinsæœ€æ–°ç‰ˆæœ¬</li><li>brew install jenkins-lts #å®‰è£…jenkinsLTSç‰ˆæœ¬</li></ul><h3 id="2-3-åŸºäºWindowsç³»ç»Ÿå®‰è£…"><a href="#2-3-åŸºäºWindowsç³»ç»Ÿå®‰è£…" class="headerlink" title="2.3 åŸºäºWindowsç³»ç»Ÿå®‰è£…"></a>2.3 åŸºäºWindowsç³»ç»Ÿå®‰è£…</h3><ul><li>ä¸‹è½½è½¯ä»¶åŒ…é€šè¿‡å‘å¯¼å®‰è£…å³å¯ã€‚</li></ul><h3 id="2-4-åŸºäºLinuxç³»ç»Ÿéƒ¨ç½²ï¼ˆæ¨èï¼‰"><a href="#2-4-åŸºäºLinuxç³»ç»Ÿéƒ¨ç½²ï¼ˆæ¨èï¼‰" class="headerlink" title="2.4 åŸºäºLinuxç³»ç»Ÿéƒ¨ç½²ï¼ˆæ¨èï¼‰"></a>2.4 åŸºäºLinuxç³»ç»Ÿéƒ¨ç½²ï¼ˆæ¨èï¼‰</h3><ul><li>ä¸‹è½½è½¯ä»¶åŒ…</li><li>rpm â€“ivh jenkins-2.150.3-1.1.noarch.rpm #å®‰è£…</li><li>service jenkins start #å¯åŠ¨æœåŠ¡</li><li>chkconfig jenkins on #å¼€æœºè‡ªå¯</li></ul><h2 id="3-å®‰è£…åé…ç½®"><a href="#3-å®‰è£…åé…ç½®" class="headerlink" title="3. å®‰è£…åé…ç½®"></a>3. å®‰è£…åé…ç½®</h2><h3 id="3-1-è§£é”Jenkins"><a href="#3-1-è§£é”Jenkins" class="headerlink" title="3.1 è§£é”Jenkins"></a>3.1 è§£é”Jenkins</h3><ul><li>å½“æ‚¨ç¬¬ä¸€æ¬¡è®¿é—®Jenkinsçš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šè¦æ±‚æ‚¨ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆçš„å¯†ç å¯¹å…¶è¿›è¡Œè§£é”ã€‚</li><li>è§£é”ç§˜é’¥å¯ä»¥é€šè¿‡$JENKINS_HOME/secrets/initialAdminPasswordæ–‡ä»¶è·å–ã€‚è¿˜å¯ä»¥é€šè¿‡åœ¨å¯åŠ¨æ—¥å¿—ä¸­è·å–ã€‚ <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymrvk8puj30o00gh74w.jpg" srcset="/img/loading.gif" alt=""></li></ul><h3 id="3-2-è‡ªå®šä¹‰Jenkinsæ’ä»¶"><a href="#3-2-è‡ªå®šä¹‰Jenkinsæ’ä»¶" class="headerlink" title="3.2 è‡ªå®šä¹‰Jenkinsæ’ä»¶"></a>3.2 è‡ªå®šä¹‰Jenkinsæ’ä»¶</h3><ul><li>è§£é”Jenkinsä¹‹åå†è‡ªå®šä¹‰Jenkinsé¡µé¢ï¼Œæ‚¨å¯ä»¥å®‰è£…ä»»ä½•æ•°é‡çš„æ’ä»¶ä½œä¸ºåˆå§‹åŒ–çš„ä¸€éƒ¨åˆ†ã€‚</li><li>åˆ†åˆ«æ˜¯å®‰è£…å»ºè®®çš„æ’ä»¶å’Œé€‰æ‹©è¦å®‰è£…çš„æ’ä»¶ï¼ˆå¦‚æœä¸ç¡®å®šè¦å®‰è£…é‚£äº›çš„æ—¶å€™å¯ä»¥é€‰æ‹©æ­¤é€‰é¡¹ï¼Œçµæ´»çš„è‡ªå®šä¹‰å®‰è£…ï¼‰ã€‚</li><li>æ’ä»¶å®‰è£…å¤šäº†ä¹Ÿæ²¡å…³ç³»ï¼Œå¯ä»¥åé¢å†jenkinsæ’ä»¶ç®¡ç†é¡µé¢åˆ é™¤å“¦ã€‚ <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymrwm0zhj30o00bvt9e.jpg" srcset="/img/loading.gif" alt=""></li></ul><h3 id="3-3-åˆ›å»ºç”¨æˆ·"><a href="#3-3-åˆ›å»ºç”¨æˆ·" class="headerlink" title="3.3 åˆ›å»ºç”¨æˆ·"></a>3.3 åˆ›å»ºç”¨æˆ·</h3><ul><li>åœ¨è¿™é‡Œåˆ›å»ºä¸€ä¸ªç®¡ç†å‘˜è´¦å·ï¼Œåˆ°æ­¤jenkinsçš„åˆå§‹åŒ–é…ç½®å·²å®Œæˆã€‚ <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymrz0si1j30o0097q34.jpg" srcset="/img/loading.gif" alt=""></li></ul><h3 id="3-4-é…ç½®æ›´æ–°ç«™ç‚¹"><a href="#3-4-é…ç½®æ›´æ–°ç«™ç‚¹" class="headerlink" title="3.4 é…ç½®æ›´æ–°ç«™ç‚¹"></a>3.4 é…ç½®æ›´æ–°ç«™ç‚¹</h3><ul><li>ç”±äºä½¿ç”¨å®˜æ–¹çš„ç«™ç‚¹é€Ÿåº¦ç›¸å¯¹å¾ˆæ…¢ï¼Œè¿™é‡Œé‡‡ç”¨æ¸…åå¤§å­¦çš„jenkinsæ›´æ–°ç«™ç‚¹ã€‚</li><li>ç«™ç‚¹åœ°å€: <a href="https://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json![](https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymrzyjnaj30o0057aal.jpg)" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json![](https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymrzyjnaj30o0057aal.jpg)</a></li></ul><h3 id="3-5-å®‰è£…slaveèŠ‚ç‚¹"><a href="#3-5-å®‰è£…slaveèŠ‚ç‚¹" class="headerlink" title="3.5 å®‰è£…slaveèŠ‚ç‚¹"></a>3.5 å®‰è£…slaveèŠ‚ç‚¹</h3><ul><li><p>ç³»ç»Ÿç®¡ç†-&gt;èŠ‚ç‚¹ç®¡ç†</p><p> <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9yms0taq3j30o00a43z1.jpg" srcset="/img/loading.gif" alt=""></p></li><li><p>åˆ›å»ºå®Œæˆåä¼šå‡ºç°slaveèŠ‚ç‚¹å¯åŠ¨çš„å‘½ä»¤ï¼Œä¸‹è½½agent.jarï¼Œç„¶åå¯åŠ¨æœåŠ¡ã€‚ <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9yms1twppj30o007egly.jpg" srcset="/img/loading.gif" alt=""></p></li><li><p>å¯åŠ¨å‘½ä»¤</p><p>  wget <a href="http://192.168.0.41/jnlpJars/agent.jar" target="_blank" rel="noopener">http://192.168.0.41/jnlpJars/agent.jar</a><br>  java -jar agent.jar -jnlpUrl <a href="http://192.168.0.41/computer/test1/slave-agent.jnlp" target="_blank" rel="noopener">http://192.168.0.41/computer/test1/slave-agent.jnlp</a> -secret 807b0135fb5b071d99930166ac4fc5dd0cf355e670a66da73120dfa2e8cebc5f -workDir â€œ/var/lib/jenkinsâ€</p></li><li><p>å¯åŠ¨æˆåŠŸ <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9yms2ncctj30o00cfq3m.jpg" srcset="/img/loading.gif" alt=""></p></li></ul><h3 id="3-6-Jenkinsé…ç½®æ–‡ä»¶"><a href="#3-6-Jenkinsé…ç½®æ–‡ä»¶" class="headerlink" title="3.6 Jenkinsé…ç½®æ–‡ä»¶"></a>3.6 Jenkinsé…ç½®æ–‡ä»¶</h3><ul><li>ä»¥rpmæ–¹å¼éƒ¨ç½²çš„é…ç½®æ–‡ä»¶åœ¨/etc/sysconfig/jenkinsï¼Œå¯ä»¥å®šä¹‰Jenkinså¯åŠ¨å‚æ•°å’Œç«¯å£ã€‚ <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9yms4ki1hj30o00a4my6.jpg" srcset="/img/loading.gif" alt=""></li></ul><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Jenkins</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Jenkins</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Jenkinsç®€ä»‹</title>
    <link href="/2019/11/03/Jenkins%E7%AE%80%E4%BB%8B/"/>
    <url>/2019/11/03/Jenkins%E7%AE%80%E4%BB%8B/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æ¥æºå…¬ä¼—å·ï¼š DevOpsæŒç»­é›†æˆ</p></blockquote><h2 id="1-è®¤è¯†Jenkins"><a href="#1-è®¤è¯†Jenkins" class="headerlink" title="1. è®¤è¯†Jenkins"></a>1. è®¤è¯†Jenkins</h2><h3 id="1-1-Jenkinsæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#1-1-Jenkinsæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="1.1 Jenkinsæ˜¯ä»€ä¹ˆï¼Ÿ"></a>1.1 Jenkinsæ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>Jenkinså®˜ç½‘ Jenkinså‰èº«æ˜¯Hudsonï¼Œä½¿ç”¨javaè¯­è¨€å¼€å‘çš„è‡ªåŠ¨åŒ–å‘å¸ƒå·¥å…·ã€‚åœ¨ä¸­å¤§å‹é‡‘èç­‰ä¼ä¸šä¸­æ™®éä½¿ç”¨Jenkinsæ¥ä½œä¸ºé¡¹ç›®å‘å¸ƒå·¥å…·ã€‚Jenkinså®˜æ–¹æä¾›çš„æ’ä»¶ä½¿Jenkinsæ›´ä¸ºå¼ºå¤§ã€‚</p><h3 id="1-2-Jenkinsç‰¹ç‚¹"><a href="#1-2-Jenkinsç‰¹ç‚¹" class="headerlink" title="1.2 Jenkinsç‰¹ç‚¹"></a>1.2 Jenkinsç‰¹ç‚¹</h3><ul><li>å¼€æºå…è´¹</li><li>å¤šå¹³å°æ”¯æŒï¼ˆwindows/linux/macosï¼‰</li><li>ä¸»ä»åˆ†å¸ƒå¼æ¶æ„</li><li>æä¾›webå¯è§†åŒ–é…ç½®ç®¡ç†é¡µé¢</li><li>å®‰è£…é…ç½®ç®€å•</li><li>æ’ä»¶èµ„æºä¸°å¯Œ</li></ul><h3 id="1-3-Jenkinså‘å±•"><a href="#1-3-Jenkinså‘å±•" class="headerlink" title="1.3 Jenkinså‘å±•"></a>1.3 Jenkinså‘å±•</h3><p>Jenkinsçš„å‰èº«æ˜¯Hudsonï¼Œé‡‡ç”¨JAVAç¼–å†™çš„æŒç»­é›†æˆå¼€æºå·¥å…·ã€‚Hudsonç”±Sunå…¬å¸åœ¨2004å¹´å¯åŠ¨ï¼Œç¬¬ä¸€ä¸ªç‰ˆæœ¬äº2005å¹´åœ¨java.netå‘å¸ƒã€‚2007å¹´å¼€å§‹Hudsoné€æ¸å–ä»£CruiseControlå’Œå…¶ä»–çš„å¼€æºæ„å»ºå·¥å…·çš„æ±Ÿæ¹–åœ°ä½ã€‚åœ¨2008å¹´çš„JavaOneå¤§ä¼šä¸Šåœ¨å¼€å‘è€…è§£å†³æ–¹æ¡ˆä¸­è·å¾—æœå…‹é€‰æ‹©å¤§å¥–ï¼ˆDukeâ€™s Choice Awardï¼‰ã€‚</p><p>åœ¨2010å¹´11æœˆæœŸé—´ï¼Œå› ä¸ºOracleå¯¹Sunçš„æ”¶è´­å¸¦æ¥äº†Hudsonçš„æ‰€æœ‰æƒé—®é¢˜ã€‚ä¸»è¦çš„é¡¹ç›®è´¡çŒ®è€…å’ŒOracleä¹‹é—´ï¼Œå°½ç®¡è¾¾æˆäº†å¾ˆå¤šåè®®ï¼Œä½†æœ‰ä¸ªå…³é”®é—®é¢˜å°±æ˜¯å•†æ ‡åç§°â€œHudsonâ€ã€‚ç”²éª¨æ–‡åœ¨2010å¹´12æœˆå£°æ˜æ‹¥æœ‰è¯¥åç§°å¹¶ç”³è¯·å•†æ ‡çš„æƒåˆ©ã€‚å› æ­¤ï¼Œ2011å¹´1æœˆ11æ—¥ï¼Œæœ‰äººè¦æ±‚æŠ•ç¥¨å°†é¡¹ç›®åç§°ä»â€œHudsonâ€æ”¹ä¸ºâ€œJenkinsâ€ã€‚2011å¹´1æœˆ29æ—¥ï¼Œè¯¥å»ºè®®å¾—åˆ°ç¤¾åŒºæŠ•ç¥¨çš„æ‰¹å‡†ï¼Œåˆ›å»ºäº†Jenkinsé¡¹ç›®ã€‚</p><p>2011å¹´2æœˆ1æ—¥ï¼Œç”²éª¨æ–‡è¡¨ç¤ºï¼Œä»–ä»¬æ‰“ç®—ç»§ç»­å¼€å‘Hudsonï¼Œå¹¶è®¤ä¸ºJenkinsåªæ˜¯ä¸€ä¸ªåˆ†æ”¯ï¼Œè€Œä¸æ˜¯é‡å‘½åã€‚å› æ­¤ï¼ŒJenkinså’ŒHudsonç»§ç»­ä½œä¸ºä¸¤ä¸ªç‹¬ç«‹çš„é¡¹ç›®ï¼Œæ¯ä¸ªéƒ½è®¤ä¸ºå¯¹æ–¹æ˜¯è‡ªå·±çš„åˆ†æ”¯ã€‚åˆ°2013å¹´12æœˆï¼ŒGitHubä¸Šçš„Jenkinsæ‹¥æœ‰567ä¸ªé¡¹ç›®æˆå‘˜å’Œçº¦1,100ä¸ªå…¬å…±ä»“åº“ï¼Œä¸æ­¤ç›¸å¯¹çš„Hudsonæœ‰32ä¸ªé¡¹ç›®æˆå‘˜å’Œ17ä¸ªå…¬å…±ä»“åº“ã€‚åˆ°ç°åœ¨ä¸¤è€…çš„å·®å¼‚æ›´å¤šï¼Œåº”è¯¥è¯´Jenkinså·²ç»å…¨é¢è¶…è¶Šäº†Hudsonã€‚æ­¤å¤–ï¼Œå¤§å®¶å¯èƒ½æ˜¯å‡ºäºè®¨åŒOracleçš„æƒ…ç»ªï¼Œä½œä¸ºJavaå¼€å‘è€…å¤©ç„¶åœ°åº”è¯¥æ”¯æŒå’Œä½¿ç”¨Jenkinsã€‚</p><h2 id="2-Jenkins-WebUI"><a href="#2-Jenkins-WebUI" class="headerlink" title="2. Jenkins WebUI"></a>2. Jenkins WebUI</h2><h3 id="2-1-ç®¡ç†é¡µé¢"><a href="#2-1-ç®¡ç†é¡µé¢" class="headerlink" title="2.1 ç®¡ç†é¡µé¢"></a>2.1 ç®¡ç†é¡µé¢</h3><p>ç³»ç»Ÿç®¡ç†é¡µé¢åŒ…å«ç³»ç»Ÿç®¡ç†ã€å…¨å±€å®‰å…¨ç®¡ç†ã€å…¨å±€å·¥å…·é…ç½®ã€èŠ‚ç‚¹ç®¡ç†ã€æˆæƒç®¡ç†ã€æ’ä»¶ç®¡ç†ã€ç³»ç»Ÿå¤‡ä»½ç®¡ç†ã€æ—¥å¿—ç›‘æ§ç®¡ç†<img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymm9o0udj30o00c7aaz.jpg" srcset="/img/loading.gif" alt=""></p><h3 id="2-2-é¡¹ç›®ç®¡ç†é¡µé¢"><a href="#2-2-é¡¹ç›®ç®¡ç†é¡µé¢" class="headerlink" title="2.2 é¡¹ç›®ç®¡ç†é¡µé¢"></a>2.2 é¡¹ç›®ç®¡ç†é¡µé¢</h3><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymma9vazj30o00cdmy0.jpg" srcset="/img/loading.gif" alt=""></p><h3 id="2-3-æ„å»ºè¾“å‡ºé¡µé¢"><a href="#2-3-æ„å»ºè¾“å‡ºé¡µé¢" class="headerlink" title="2.3 æ„å»ºè¾“å‡ºé¡µé¢"></a>2.3 æ„å»ºè¾“å‡ºé¡µé¢</h3><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymmbcwzkj30o00cb3z8.jpg" srcset="/img/loading.gif" alt=""></p><h2 id="3-Jenkinsæ„å»º"><a href="#3-Jenkinsæ„å»º" class="headerlink" title="3. Jenkinsæ„å»º"></a>3. Jenkinsæ„å»º</h2><h3 id="3-1-Jenkinsé¡¹ç›®ç±»å‹"><a href="#3-1-Jenkinsé¡¹ç›®ç±»å‹" class="headerlink" title="3.1 Jenkinsé¡¹ç›®ç±»å‹"></a>3.1 Jenkinsé¡¹ç›®ç±»å‹</h3><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymmc9js3j30o00fowfr.jpg" srcset="/img/loading.gif" alt=""></p><h3 id="3-2-Jenkinså‚æ•°ç±»å‹"><a href="#3-2-Jenkinså‚æ•°ç±»å‹" class="headerlink" title="3.2 Jenkinså‚æ•°ç±»å‹"></a>3.2 Jenkinså‚æ•°ç±»å‹</h3><p>å‡­æ®å‚æ•°ã€å­—ç¬¦å‚æ•°ã€å¯†ç å‚æ•°ã€å¸ƒå°”å€¼å‚æ•°ã€æ–‡ä»¶å‚æ•°ã€æ–‡æœ¬å‚æ•°ã€è¿è¡Œæ—¶å‚æ•°ã€é€‰é¡¹å‚æ•° <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymmd3gdoj30o00hjq3s.jpg" srcset="/img/loading.gif" alt=""></p><h3 id="3-3-Jenkinsè§¦å‘å™¨"><a href="#3-3-Jenkinsè§¦å‘å™¨" class="headerlink" title="3.3 Jenkinsè§¦å‘å™¨"></a>3.3 Jenkinsè§¦å‘å™¨</h3><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymmdplflj30o008oq35.jpg" srcset="/img/loading.gif" alt=""></p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Jenkins</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Jenkins</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‡ ä¸ªGitä»“åº“å¼€æºè½¯ä»¶çš„æ¯”è¾ƒ</title>
    <link href="/2019/11/01/%E5%87%A0%E4%B8%AAGit%E4%BB%93%E5%BA%93%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6%E7%9A%84%E6%AF%94%E8%BE%83/"/>
    <url>/2019/11/01/%E5%87%A0%E4%B8%AAGit%E4%BB%93%E5%BA%93%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6%E7%9A%84%E6%AF%94%E8%BE%83/</url>
    
    <content type="html"><![CDATA[<h1 id="å‡ ä¸ªGitä»“åº“å¼€æºè½¯ä»¶çš„æ¯”è¾ƒ"><a href="#å‡ ä¸ªGitä»“åº“å¼€æºè½¯ä»¶çš„æ¯”è¾ƒ" class="headerlink" title="å‡ ä¸ªGitä»“åº“å¼€æºè½¯ä»¶çš„æ¯”è¾ƒ"></a>å‡ ä¸ªGitä»“åº“å¼€æºè½¯ä»¶çš„æ¯”è¾ƒ</h1><table><thead><tr><th align="center">ç‰¹æ€§</th><th align="center">gitlab</th><th align="center">gitblit</th><th align="center">gitbucket</th><th align="center">gogs</th><th align="center">gitolite</th></tr></thead><tbody><tr><td align="center">å…¬å¼€åº“</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">âˆš</td></tr><tr><td align="center">ç§æœ‰åº“</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">âˆš</td></tr><tr><td align="center">åœ¨çº¿ç¼–è¾‘</td><td align="center">âˆš</td><td align="center">Ã—</td><td align="center">âˆš</td><td align="center">Ã—</td><td align="center">Ã—</td></tr><tr><td align="center">wiki</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">Ã—</td></tr><tr><td align="center">issue</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">Ã—</td></tr><tr><td align="center">fork</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">Ã—</td></tr><tr><td align="center">pull request</td><td align="center">âˆš</td><td align="center">Ã—</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">Ã—</td></tr><tr><td align="center">æ”¯æŒssh</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">Ã—</td><td align="center">âˆš</td><td align="center">ï¼Ÿ</td></tr><tr><td align="center">é‚®ä»¶é€šçŸ¥</td><td align="center">âˆš</td><td align="center">ï¼Ÿ</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">ï¼Ÿ</td></tr><tr><td align="center">é¡¹ç›®ç»Ÿè®¡</td><td align="center">âˆš</td><td align="center">Ã—</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">Ã—</td></tr><tr><td align="center">ç»„ç»‡ç®¡ç†</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">Ã—</td></tr><tr><td align="center">ä¸­æ–‡æ”¯æŒ</td><td align="center">Ã—</td><td align="center">âˆš</td><td align="center">Ã—</td><td align="center">âˆš</td><td align="center">Ã—</td></tr><tr><td align="center">æƒé™æ§åˆ¶</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">Ã—</td><td align="center">Ã—</td><td align="center">âˆš</td></tr><tr><td align="center">æ’ä»¶æœºåˆ¶</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">âˆš</td><td align="center">Ã—</td></tr><tr><td align="center">ç³»ç»Ÿèµ„æºè¦æ±‚</td><td align="center">é«˜</td><td align="center">é«˜</td><td align="center">é«˜</td><td align="center">å¾ˆä½</td><td align="center">ä½</td></tr><tr><td align="center">æ–¹ä¾¿å®‰è£…</td><td align="center">å·¨å¤§ä¸æ–¹ä¾¿</td><td align="center">å•æ–‡ä»¶éƒ¨ç½²</td><td align="center">å•æ–‡ä»¶éƒ¨ç½²</td><td align="center">å•æ–‡ä»¶éƒ¨ç½²</td><td align="center">æœªçŸ¥</td></tr><tr><td align="center">å¼€å‘è¯­è¨€</td><td align="center">ruby</td><td align="center">java</td><td align="center">scala</td><td align="center">go</td><td align="center">perl</td></tr><tr><td align="center">é¡¹ç›®å†å²ï¼ˆå¹´ï¼‰</td><td align="center">?</td><td align="center">5</td><td align="center">3</td><td align="center">2</td><td align="center"></td></tr><tr><td align="center">å¼€å‘è€…æ•°é‡</td><td align="center">?</td><td align="center">97</td><td align="center">80</td><td align="center">196</td><td align="center"></td></tr></tbody></table><p>é€šè¿‡è¿™ä¸ªè¡¨æ ¼å¾—å‡ºå¦‚ä¸‹çš„ç»“è®ºï¼š</p><ul><li>å¦‚æœä½ å¸Œæœ›å¼€å±•gitä»“åº“æ‰˜ç®¡æœåŠ¡å¹¶ä¸”ä¿¡ä»»gitlabçš„å®åŠ›ï¼Œå¯ä»¥é‡‡ç”¨gitlabï¼Œä¸è¿‡ä¸­æ–‡åŒ–çš„å·¥ä½œé‡ä¸å°ã€‚</li><li>å¦‚æœä»…ä»…æ˜¯å°å‹å›¢é˜Ÿçš„å†…éƒ¨gitä»“åº“ç®¡ç†ï¼Œgogsè¶³å¤Ÿäº†ã€‚å°½ç®¡ç¼ºå°‘ç»†è‡´çš„æƒé™æ§åˆ¶ï¼Œä½†æ˜¯æä½çš„èµ„æºå ç”¨ï¼Œä¸°å¯Œçš„åŠŸèƒ½è¿˜æ˜¯å¾ˆå¸å¼•äººçš„ã€‚è€Œä¸”ï¼Œgogsçš„å¼€å‘ä¼¼ä¹å¾ˆæ´»è·ƒï¼Œè´¡çŒ®äººæ•°ä¹Ÿæ¯”è¾ƒå¤šã€‚BTWï¼Œgogsé¡¹ç›®æ˜¯ä¸­å›½äººåˆ›å»ºçš„ã€‚</li><li>å¦‚æœå¿…é¡»é‡‡ç”¨javaéƒ¨ç½²ï¼Œgitblitç›®å‰æ˜¯ä¸é”™çš„é€‰æ‹©ï¼Œä½†æ˜¯gitblitç¼ºå°‘äº†pull requestè¿™ä¸ªé‡é‡çº§çš„åä½œå·¥å…·æ˜¯ä¸€å¤§é—æ†¾ã€‚</li></ul><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee-20200407103030299.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Git</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Git</tag>
      
      <tag>Vcs</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pythonçˆ¬å–æŸéŸ³ä¹ç½‘ç«™é‡Œé¢çš„æŸæ¿å—</title>
    <link href="/2019/10/22/Python%E7%88%AC%E5%8F%96%E6%9F%90%E9%9F%B3%E4%B9%90%E7%BD%91%E7%AB%99%E9%87%8C%E9%9D%A2%E7%9A%84%E6%9F%90%E6%9D%BF%E5%9D%97/"/>
    <url>/2019/10/22/Python%E7%88%AC%E5%8F%96%E6%9F%90%E9%9F%B3%E4%B9%90%E7%BD%91%E7%AB%99%E9%87%8C%E9%9D%A2%E7%9A%84%E6%9F%90%E6%9D%BF%E5%9D%97/</url>
    
    <content type="html"><![CDATA[<p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymp6b9hxj311s0ogwjk.jpg" srcset="/img/loading.gif" alt="img"></p><blockquote><p>Pythonçˆ¬å–æŸéŸ³ä¹ç½‘ç«™é‡Œé¢çš„æŸæ¿å—ã€‚</p><p>æœ¬ä»£ç åªä½œç”¨å­¦ä¹ äº¤æµä½¿ç”¨</p></blockquote><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><span class="hljs-comment"># @FileName: qq_music.py</span><span class="hljs-keyword">import</span> json<span class="hljs-keyword">import</span> os<span class="hljs-keyword">import</span> re<span class="hljs-keyword">import</span> requests<span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<span class="hljs-keyword">from</span> selenium.webdriver.chrome.options <span class="hljs-keyword">import</span> Options<span class="hljs-keyword">from</span> selenium.webdriver.common.by <span class="hljs-keyword">import</span> By<span class="hljs-keyword">from</span> selenium.webdriver.support <span class="hljs-keyword">import</span> expected_conditions <span class="hljs-keyword">as</span> EC<span class="hljs-keyword">from</span> selenium.webdriver.support.ui <span class="hljs-keyword">import</span> WebDriverWait<span class="hljs-keyword">from</span> tqdm <span class="hljs-keyword">import</span> tqdm<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QqMusic</span>:</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>        <span class="hljs-comment"># è®¾ç½® chrome æ— ç•Œé¢åŒ–æ¨¡å¼</span>        self.chrome_options = Options()        self.chrome_options.add_argument(<span class="hljs-string">'--headless'</span>)        self.chrome_options.add_argument(<span class="hljs-string">'--disable-gpu'</span>)        chrome_driver = <span class="hljs-string">"/usr/local/bin/chromedriver"</span>  <span class="hljs-comment"># æŒ‡å®šä½ç½®</span>        self.header = &#123;            <span class="hljs-string">"accept"</span>: <span class="hljs-string">"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3"</span>,            <span class="hljs-string">"accept-language"</span>: <span class="hljs-string">"zh-CN,zh;q=0.9"</span>,            <span class="hljs-string">"referer"</span>: <span class="hljs-string">"https://y.qq.com/n/yqq/toplist/26.html"</span>,            <span class="hljs-string">"upgrade-insecure-requests"</span>: <span class="hljs-string">"1"</span>,            <span class="hljs-string">"user-agent"</span>: <span class="hljs-string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36"</span>        &#125;        self.driver = webdriver.Chrome(chrome_driver, options=self.chrome_options)    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">loading_music</span><span class="hljs-params">(self)</span>:</span>        <span class="hljs-string">"""</span><span class="hljs-string">        ç­‰åˆ°åˆ—è¡¨é‡Œé¢çš„æ­Œæ›² åŠ è½½å®Œæˆååœ¨å¤„ç†</span><span class="hljs-string"></span><span class="hljs-string">        # ç­‰å¾…å…ƒç´ å‡ºç°åœ¨DOM</span><span class="hljs-string">        WebDriverWait(self._driver).until(EC.presence_of_element_located((By.ID, value)))</span><span class="hljs-string"></span><span class="hljs-string">        # ç­‰å¾…å…ƒç´ æ˜¾ç¤ºåœ¨é¡µé¢</span><span class="hljs-string">        WebDriverWait(self._driver,10).until(EC.visibility_of_element_located((By.NAME, value)))</span><span class="hljs-string"></span><span class="hljs-string">        # ç­‰å¾…å…ƒç´ ä»é¡µé¢æ¶ˆå¤±</span><span class="hljs-string">        WebDriverWait(self._driver, 10, 0.2).until_not(EC.visibility_of_element_located((By.CLASS_NAME, value))))</span><span class="hljs-string"></span><span class="hljs-string">        # ç­‰å¾…é¡µé¢çš„titleæ˜¾ç¤º</span><span class="hljs-string">        WebDriverWait(self._driver, 5,0.2).until(EC.title_contains(title))</span><span class="hljs-string"></span><span class="hljs-string">        ä¸€æ¬¡æŸ¥æ‰¾å¤šä¸ªå…ƒç´  (è¿™äº›æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªliståˆ—è¡¨):</span><span class="hljs-string">        find_elements_by_name</span><span class="hljs-string">        find_elements_by_xpath</span><span class="hljs-string">        find_elements_by_link_text</span><span class="hljs-string">        find_elements_by_partial_link_text</span><span class="hljs-string">        find_elements_by_tag_name</span><span class="hljs-string">        find_elements_by_class_name</span><span class="hljs-string">        find_elements_by_css_selector</span><span class="hljs-string">        :return:</span><span class="hljs-string">        """</span>        self.driver.get(<span class="hljs-string">"https://y.qq.com/n/yqq/toplist/26.html"</span>)        print(self.driver.title)        WebDriverWait(self.driver, <span class="hljs-number">10</span>).until(            EC.presence_of_all_elements_located((By.CLASS_NAME, <span class="hljs-string">"songlist__songname_txt"</span>)))        lists = self.driver.find_elements_by_class_name(<span class="hljs-string">"songlist__songname_txt"</span>)        pattern = re.compile(<span class="hljs-string">r"https://y.qq.com/n/yqq/song/(\S+).html"</span>)  <span class="hljs-comment"># å–å‡ºæ¯é¦–æ­Œçš„å…·ä½“é“¾æ¥</span>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(lists)):            li = lists.__getitem__(i)            a = li.find_element_by_class_name(<span class="hljs-string">"js_song"</span>)            href = a.get_attribute(<span class="hljs-string">"href"</span>)            music_name = a.get_attribute(<span class="hljs-string">"title"</span>)            m = pattern.match(href)            <span class="hljs-keyword">yield</span> m.group(<span class="hljs-number">1</span>), music_name    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">cut_download_url</span><span class="hljs-params">(self)</span>:</span>        <span class="hljs-string">"""</span><span class="hljs-string">        ç­›é€‰å’ŒæŸ¥æ‰¾ä¸‹è½½çš„url</span><span class="hljs-string">        :return:</span><span class="hljs-string">        """</span>        <span class="hljs-keyword">for</span> music_url, music_name <span class="hljs-keyword">in</span> self.loading_music():            data = json.dumps(&#123;<span class="hljs-string">"req"</span>: &#123;<span class="hljs-string">"module"</span>: <span class="hljs-string">"CDN.SrfCdnDispatchServer"</span>, <span class="hljs-string">"method"</span>: <span class="hljs-string">"GetCdnDispatch"</span>,                                       <span class="hljs-string">"param"</span>: &#123;<span class="hljs-string">"guid"</span>: <span class="hljs-string">"3802082216"</span>, <span class="hljs-string">"calltype"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"userip"</span>: <span class="hljs-string">""</span>&#125;                                       &#125;,                               <span class="hljs-string">"req_0"</span>: &#123;                                   <span class="hljs-string">"module"</span>: <span class="hljs-string">"vkey.GetVkeyServer"</span>, <span class="hljs-string">"method"</span>: <span class="hljs-string">"CgiGetVkey"</span>,                                   <span class="hljs-string">"param"</span>: &#123;                                       <span class="hljs-string">"guid"</span>: <span class="hljs-string">"3802082216"</span>, <span class="hljs-string">"songmid"</span>: [<span class="hljs-string">f'<span class="hljs-subst">&#123;music_url&#125;</span>'</span>],                                       <span class="hljs-string">"songtype"</span>: [<span class="hljs-number">0</span>], <span class="hljs-string">"uin"</span>: <span class="hljs-string">"0"</span>, <span class="hljs-string">"loginflag"</span>: <span class="hljs-number">1</span>, <span class="hljs-string">"platform"</span>: <span class="hljs-string">"20"</span>                                   &#125;                               &#125;, <span class="hljs-string">"comm"</span>: &#123;<span class="hljs-string">"uin"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"format"</span>: <span class="hljs-string">"json"</span>, <span class="hljs-string">"ct"</span>: <span class="hljs-number">24</span>, <span class="hljs-string">"cv"</span>: <span class="hljs-number">0</span>&#125;&#125;)            url = <span class="hljs-string">"https://u.y.qq.com/cgi-bin/musicu.fcg?callback=getplaysongvkey3131073469569151&amp;"</span> \                  <span class="hljs-string">"g_tk=5381&amp;jsonpCallback=getplaysongvkey3131073469569151&amp;loginUin=0&amp;hostUin=0&amp;"</span> \                  <span class="hljs-string">f"format=jsonp&amp;inCharset=utf8&amp;outCharset=utf-8Â¬ice=0&amp;platform=yqq&amp;needNewCode=0&amp;data=<span class="hljs-subst">&#123;data&#125;</span>"</span>            response = requests.get(url=<span class="hljs-string">f"<span class="hljs-subst">&#123;url&#125;</span>"</span>,                                    headers=self.header)            html = response.text            <span class="hljs-comment"># music_json = json.loads(re.findall(r'^\w+\((.*)\)$',html)[0])</span>            music_json = html.split(<span class="hljs-string">"("</span>)[<span class="hljs-number">1</span>].split(<span class="hljs-string">")"</span>)[<span class="hljs-number">0</span>]            music_json = json.loads(music_json)            req = music_json[<span class="hljs-string">'req'</span>][<span class="hljs-string">'data'</span>]            sip = req[<span class="hljs-string">"sip"</span>][<span class="hljs-number">-1</span>]            purl = music_json[<span class="hljs-string">'req_0'</span>][<span class="hljs-string">'data'</span>][<span class="hljs-string">'midurlinfo'</span>][<span class="hljs-number">0</span>][<span class="hljs-string">'purl'</span>]            url = <span class="hljs-string">f"<span class="hljs-subst">&#123;sip&#125;</span><span class="hljs-subst">&#123;purl&#125;</span>"</span>            <span class="hljs-keyword">yield</span> url, music_name    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">downloading</span><span class="hljs-params">(self, url, music_name)</span>:</span>        <span class="hljs-string">"""</span><span class="hljs-string">        å¼€å§‹ä¸‹è½½</span><span class="hljs-string">        :param url:</span><span class="hljs-string">        :param music_name:</span><span class="hljs-string">        :return:</span><span class="hljs-string">        """</span>        res = requests.get(<span class="hljs-string">f"<span class="hljs-subst">&#123;url&#125;</span>"</span>)        chunk_size = <span class="hljs-number">1024</span>        <span class="hljs-comment"># content_size = int(res.headers['content-length'])</span>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(<span class="hljs-string">"qq_music"</span>):            os.mkdir(<span class="hljs-string">"qq_music"</span>)        <span class="hljs-keyword">with</span> open(<span class="hljs-string">f"qq_music/<span class="hljs-subst">&#123;music_name&#125;</span>.m4a"</span>, <span class="hljs-string">'wb'</span>) <span class="hljs-keyword">as</span> f:            <span class="hljs-comment"># pbar = tqdm(total=int(content_size/1024))</span>            <span class="hljs-keyword">for</span> data <span class="hljs-keyword">in</span> res.iter_content(chunk_size=chunk_size):                f.write(data)                <span class="hljs-comment"># pbar.update()</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">run</span><span class="hljs-params">(self)</span>:</span>        downloads = [x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> self.cut_download_url()]        pbar = tqdm(total=len(downloads))        <span class="hljs-keyword">for</span> num, (url, music_name) <span class="hljs-keyword">in</span> enumerate(downloads):            self.downloading(url, music_name)            pbar.update()QqMusic().run()</code></pre><p>è¿è¡Œ</p><pre><code class="hljs bash">python3 qq_music.py</code></pre><p>ç»“æœï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymp77qqcj325e02oaaw.jpg" srcset="/img/loading.gif" alt="image-20191022190329400"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymp92c3jj31ei0jqq7q.jpg" srcset="/img/loading.gif" alt="image-20191022190449649"></p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…¬å…±DNSæ€§èƒ½å¤§æ¯”æ‹¼</title>
    <link href="/2019/10/21/%E5%85%AC%E5%85%B1DNS%E6%80%A7%E8%83%BD%E5%A4%A7%E6%AF%94%E6%8B%BC/"/>
    <url>/2019/10/21/%E5%85%AC%E5%85%B1DNS%E6%80%A7%E8%83%BD%E5%A4%A7%E6%AF%94%E6%8B%BC/</url>
    
    <content type="html"><![CDATA[<p>â€‹    ä»Šå¤©ä¸­åˆï¼Œè®¿é—®Giteeçªç„¶è®¿é—®ä¸è¿›å»ï¼Œç„¶åæ”¶åˆ°çº¢è–¯é€šçŸ¥ï¼šé˜¿é‡Œäº‘åœæ­¢äº† Gitee.com çš„åŸŸåè§£æã€‚</p><p>â€‹    <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymniewo5j30k8065mxv.jpg" srcset="/img/loading.gif" alt="msg"></p><p>â€‹    ç äº‘å®˜æ–¹ä¹Ÿéšåç»™å‡ºè§£å†³åŠæ³•</p><blockquote><p>æ²¡æœ‰ä»»ä½•æç¤ºï¼Œæ²¡æœ‰ä»»ä½•æå‰é€šçŸ¥ï¼Œé˜¿é‡Œäº‘åœæ­¢äº† Gitee.com çš„åŸŸåè§£æï¼ï¼ï¼</p><p>æˆ‘ä»¬æ­£åœ¨è·Ÿé˜¿é‡Œäº‘è”ç³»äº†è§£å…·ä½“æƒ…å†µï¼</p><p>å¦‚æœä½ è®¿é—®ä¸äº†è¯·æš‚æ—¶åœ¨ hosts é‡Œæ˜ å°„ gitee.com åŸŸååˆ° IPåœ°å€ 212.64.62.174</p><p>å¯¹æ­¤é€ æˆä½ çš„ä¸ä¾¿ï¼Œæˆ‘ä»¬æ·±è¡¨æ­‰æ„ã€‚</p></blockquote><p>â€‹    é‚£ä¹ˆå…ˆè§£é‡Šä¸€ä¸‹ä»€ä¹ˆæ˜¯DNSï¼Œç™¾åº¦ç™¾ç§‘è¯´ï¼šåŸŸåç³»ç»Ÿï¼ˆDomain Name Systemï¼Œç¼©å†™ï¼šDNSï¼‰æ˜¯äº’è”ç½‘çš„ä¸€é¡¹æœåŠ¡ã€‚å®ƒä½œä¸ºå°†åŸŸåå’ŒIPåœ°å€ç›¸äº’æ˜ å°„çš„ä¸€ä¸ªåˆ†å¸ƒå¼æ•°æ®åº“ï¼Œèƒ½å¤Ÿä½¿äººæ›´æ–¹ä¾¿åœ°è®¿é—®äº’è”ç½‘ã€‚é€šä¿—ä¸€ç‚¹æ¥è¯´å°±æ˜¯ï¼šæˆ‘ä»¬ä¸å¯èƒ½è®°ä½é‚£ä¹ˆå¤šçš„IPåœ°å€ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥è®°ä½åŸŸåå•Šï¼Œæ¯”å¦‚baidu.comï¼Œæˆ‘ä»¬åœ¨åœ°å€æ è¾“å…¥baidu.comä¹‹åï¼Œä¼šç»è¿‡ä¸€ä¸ªåŸŸåè§£ææœåŠ¡å™¨æŠŠæˆ‘ä»¬è¾“å…¥çš„åŸŸåè½¬æ¢ä¸ºIpã€‚æ‰€ä»¥DNSæœ€é€šä¿—æ¥è¯´å°±æ˜¯ä¸€ä¸ªåŸŸåè§£ææœåŠ¡å™¨ã€‚</p><p>â€‹    é‚£ä¹ˆä¸ºä»€ä¹ˆé˜¿é‡Œäº‘holdå¤„ç†ä¹‹åå¾ˆå¤šç”¨æˆ·å—å½±å“ï¼Œè€Œä¸€å°‘éƒ¨åˆ†ç”¨æˆ·æ²¡æœ‰å—å½±å“å‘¢ï¼Ÿæˆ–è€…è¯´ä¸ºä»€ä¹ˆä¿®æ”¹æœ¬åœ°Hostså°±å¯ä»¥ç»§ç»­æ­£å¸¸è®¿é—®å‘¢ï¼Ÿ</p><p>â€‹    å…¶å®æ‰€æœ‰çš„åŸŸåè§£æï¼Œä¼šå…ˆç»è¿‡ä¸€æ¬¡æœ¬åœ°HOSTSæ–‡ä»¶æ£€ç´¢ï¼Œå¦‚æœæœ¬åœ°æœ‰å¯¹åº”é…ç½®è§£æï¼Œä¼šå…ˆèµ°è‡ªå·±æœ¬åœ°æ‰€é…ç½®çš„è§£æï¼Œå¦‚æœæœ¬åœ°æ²¡æœ‰é…ç½®ï¼Œé‚£ä¹ˆä¼šç»§ç»­å¾€ä¸Šè§£æï¼Œç”±äºå›½å†…ç½‘ç»œè¿è¥å•†ä¸ºäº†å¤§å®¶ç½‘ç»œå“åº”é€Ÿåº¦ï¼ˆå‡å°‘åŸŸåè§£ææ—¶é—´ï¼‰å¹¶ä¸”ç°åœ¨ç»å¤§å¤šæ•°çš„ç«™ç‚¹éƒ½æ‰˜ç®¡åœ¨é˜¿é‡Œäº‘äº‘æœåŠ¡ä¸Šï¼Œæ‰€ä»¥ç»å¤§å¤šæ•°è¿è¥å•†éƒ½ä¼šæŠŠè‡ªå·±çš„DNSæœåŠ¡å™¨å®šå‘åˆ°é˜¿é‡Œäº‘çš„DNSè§£æå™¨ã€‚æ‰€ä»¥åªè¦æˆ‘ä»¬é¿å¼€é˜¿é‡Œäº‘DNSè§£æåŸºæœ¬å°±è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚è‡³äºå…¶å®ƒæ˜¯ä»€ä¹ˆåŸå› æˆ‘ä»¬ä¸åšå¤ªå¤šçš„æ¢è®¨ã€‚</p><p>â€‹    ä»¥ä¸‹å¯¹DNSè§£æå™¨è¿›è¡Œä¸€äº›æ€§èƒ½ä¸Šçš„åˆ†æã€‚</p><p><strong>DNSè§£æå™¨æ€§èƒ½å¤§æ¯”æ‹¼ï¼šCloudFlare vs è°·æ­Œvs Quad9 vs OpenDNS</strong></p><p>â€‹    å‡ ä¸ªæœˆå‰ï¼Œæˆ‘å¯¹å¸‚é¢ä¸Šå‡ æ¬¾é¡¶çº§çš„å…è´¹DNSè§£æå™¨çš„æ€§èƒ½ä½œäº†ä¸€ç•ªæ¯”è¾ƒã€‚å½“æ—¶æ°å¥½åœ¨Quad9å‘å¸ƒä¹‹åï¼Œæˆ‘è¯•å›¾ææ¸…æ¥šä½¿ç”¨å“ªä¸€ä¸ªDNSè§£æå™¨æ¯”è¾ƒå¥½ï¼Œä»¥ä¾¿æ¨èç»™äº²æœ‹å¥½å‹ã€‚é¢å‰æœ‰è°·æ­Œã€OpenDNSå’ŒQuad9ç­‰å¥½å¤šé€‰æ‹©ï¼Œä¸è¿‡æˆ‘å–œæ¬¢é€‰æ‹©ã€‚</p><p>æƒ…å†µåœ¨å®Œå…¨å˜å¾—å¥½è½¬ã€‚CloudFlareæ˜¯æœ€äº†è§£äº’è”ç½‘æ€§èƒ½çš„å…¬å¸ä¹‹ä¸€ï¼Œå®ƒæœ€è¿‘æ¨å‡ºäº†è‡ªå·±çš„å…è´¹DNSè§£æå™¨ã€‚å®ƒåœ¨é»˜è®¤æƒ…å†µä¸‹æ”¯æŒåŸºäºTLSçš„DNSå’ŒåŸºäºHTTPSçš„DNSï¼Œè¿™ä½¿å¾—å®ƒæ›´å¼•äººå…³æ³¨ã€‚</p><p>ç°åœ¨æˆ‘ä»¬æœ‰äº†æ›´æœ‰æ„æ€çš„æ¯”è¾ƒå¯¹è±¡ï¼šè°·æ­Œçš„8.8.8.8ã€Quad9çš„9.9.9.9å’ŒCloudFlareçš„1.1.1.1ï¼Œæ­¤å¤–è¿˜æœ‰OpenDNSçš„208.67.222.222å’Œå¦å¤–å‡ å®¶å°ä¼—æä¾›å•†ä½œä¸ºå¯ä¾›æˆ‘ä»¬ä½¿ç”¨çš„é€‰æ‹©ã€‚</p><p><strong>æµ‹è¯•çš„å‡ å®¶æä¾›å•†</strong></p><p>â€‹    ä¸å¦¨æ¯”è¾ƒä¸€ä¸‹å‡ å®¶æä¾›å•†ï¼Œçœ‹çœ‹å®ƒä»¬åœ¨ä¸–ç•Œå„åœ°çš„ç½‘é€Ÿæœ‰å¤šå¿«ã€‚è¿™äº›æ˜¯æˆ‘ä»¬é€‰æ‹©è¯„ä¼°çš„8å®¶é¡¶çº§çš„å…è´¹DNSæä¾›å•†ï¼š</p><ul><li>è°·æ­Œ 8.8.8.8ï¼šç§å¯†çš„ã€æœªç»è¿‡æ»¤çš„ã€‚è¿™æ˜¯æœ€å—æ¬¢è¿çš„é€‰æ‹©ã€‚</li><li>CloudFlare 1.1.1.1ï¼šç§å¯†çš„ã€æœªç»è¿‡æ»¤çš„ã€‚å®ƒæ˜¯æ–°ç©å®¶ã€‚</li><li>Quad 9 9.9.9.9ï¼šç§å¯†çš„ã€å…³æ³¨å®‰å…¨çš„ã€‚å®ƒæ˜¯é˜»æ­¢è®¿é—®æ¶æ„ç½‘ç«™çš„æ–°ç©å®¶ã€‚</li><li>OpenDNS 208.67.222.222ï¼šé˜»æ­¢æ¶æ„åŸŸåï¼Œå¹¶æä¾›é˜»æ­¢æˆäººå†…å®¹è¿™ä¸ªé€‰é¡¹çš„æ—§ç©å®¶ã€‚</li><li>è¯ºé¡¿DNS 199.85.126.20ï¼šé˜»æ­¢æ¶æ„åŸŸåï¼Œå¹¶ä¸å…¶é˜²ç—…æ¯’è½¯ä»¶é›†æˆèµ·æ¥çš„æ—§ç©å®¶ã€‚</li><li>CleanBrowsing 185.228.168.168ï¼šç§å¯†çš„ã€å…³æ³¨å®‰å…¨çš„ã€‚é˜»æ­¢è®¿é—®æˆäººå†…å®¹çš„æ–°ç©å®¶ã€‚</li><li>Yandex DNS 77.88.8.7ï¼šé˜»æ­¢æ¶æ„åŸŸåçš„æ—§ç©å®¶ã€‚å®ƒåœ¨ä¿„ç½—æ–¯éå¸¸å—æ¬¢è¿ã€‚</li><li>Comodo DNS 8.26.56.26ï¼šé˜»æ­¢æ¶æ„åŸŸåçš„æ—§ç©å®¶ã€‚</li></ul><p>ä¸‹é¢è¿™å¼ å›¾åˆ—å‡ºäº†å®ƒä»¬åœ¨éšç§é€‰é¡¹æ–¹é¢çš„åŠŸèƒ½ç‰¹æ€§ï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymnjxnv3j30m805swew.jpg" srcset="/img/loading.gif" alt=""></p><p><strong>éšç§é€‰é¡¹æ¯”è¾ƒ</strong></p><p>â€‹    ä¸Šé¢çš„éšç§é€‰é¡¹åŸºäºæä¾›å•†çš„æ‰¿è¯ºï¼šä¸è®°å½•æ—¥å¿—æˆ–ä¸å…±äº«ä½ çš„DNSè¯·æ±‚ã€‚</p><p><strong>åœ°ç‚¹</strong></p><p>â€‹    æˆ‘ä»¬ä»å…¨çƒçš„18ä¸ªåœ°ç‚¹è¿›è¡Œäº†æµ‹è¯•ã€‚æˆ‘ä»¬ä¸»è¦ä½¿ç”¨VPSæä¾›å•†+ä¸€äº›å®½å¸¦ä½ç½®ï¼Œå°è¯•ä»å°½å¯èƒ½å¤šçš„åœ°æ–¹æŸ¥è¯¢å®ƒä»¬çš„DNSã€‚å®ƒä¼šå‘Šè¯‰æˆ‘ä»¬å®ƒä»¬çš„è¿æ¥æœ‰å¤šå¯é ã€æ•°æ®ä¸­å¿ƒçš„ä½ç½®ä»¥åŠè¯¥åœ°åŒºæŸä¸ªç”¨æˆ·çš„ä½“éªŒæœ‰å¤šå®Œå–„ã€‚é€‰æ‹©çš„åœ°ç‚¹å¦‚ä¸‹ï¼š</p><ul><li>åŒ—ç¾ï¼šåœ£è¿­æˆˆã€æ´›æ‰çŸ¶ã€çº½çº¦ã€å¤šä¼¦å¤šã€è’™ç‰¹åˆ©å°”ã€äºšç‰¹å…°å¤§ã€è¾¾æ‹‰æ–¯ã€å¼—é‡Œè’™ç‰¹å’Œæ—§é‡‘å±±</li><li>æ¬§æ´²ï¼šä¼¦æ•¦ã€å·´é»ã€é˜¿å§†æ–¯ç‰¹ä¸¹å’Œæ³•å…°å…‹ç¦</li><li>äºšæ´²ï¼šä¸œäº¬ã€æ–°åŠ å¡ã€ç­åŠ ç½—å°”ï¼ˆå°åº¦ï¼‰ã€æ‚‰å°¼å’Œå¸ƒé‡Œæ–¯ç­ï¼ˆæ¾³å¤§åˆ©äºšï¼‰</li><li>å—ç¾æ´²ï¼šåœ£ä¿ç½—</li></ul><p><strong>æµ‹è¯•ç»“æœæ‘˜è¦</strong></p><p>â€‹    æˆ‘ä»¬çš„æµ‹è¯•éå¸¸ç®€å•ï¼Œæˆ‘ä»¬é’ˆå¯¹ä¸åŒçš„æµè¡ŒåŸŸåï¼ˆè°·æ­Œã€facebookã€twitterå’ŒGmailç­‰ï¼‰åœ¨ä¸€ä¸ªå°æ—¶å†…æ‰§è¡Œäº†70æ¬¡DNSæŸ¥è¯¢ã€‚æˆ‘ä»¬å¯¹æ¯ä¸ªä½ç½®çš„æ‰€æœ‰è¯·æ±‚æ±‚å¹³å‡å€¼ï¼Œä»¥è·å¾—æ¯ä¸ªDNSè§£æå™¨çš„æ•´ä½“æ€§èƒ½æŒ‡æ ‡ã€‚</p><p><strong>é•¿è¯çŸ­è¯´/æ‘˜è¦</strong></p><ul><li>æ‰€æœ‰æä¾›å•†ï¼ˆYandexé™¤å¤–ï¼‰åœ¨åŒ—ç¾å’Œæ¬§æ´²éƒ½è¡¨ç°éå¸¸å¥½ã€‚å®ƒä»¬åœ¨ç¾å›½ã€åŠ æ‹¿å¤§å’Œæ¬§æ´²çš„å“åº”æ—¶é—´å‡å°äº15æ¯«ç§’ï¼Œè¿™ä»¤äººæƒŠè®¶ã€‚å®é™…ä¸Šï¼Œä½ é€‰é¡¹å…¶ä¸­ä»»ä½•ä¸€å®¶ï¼Œéƒ½ä¸ä¼šæ³¨æ„åˆ°å‡ æ¯«ç§’çš„å»¶è¿Ÿå·®å¼‚ã€‚ç„¶è€Œï¼Œäºšæ´²å’Œå—ç¾æ´²åœ¨æ€»ä½“å¹³å‡å€¼ä¸Šæœ‰æ‰€ä¸åŒï¼Œå› ä¸ºä¸€äº›æä¾›å•†åœ¨é‚£é‡Œçš„è¿æ¥ä¸æ˜¯å¾ˆå¥½ã€‚</li><li>å°±æ‰€æœ‰åœ°ç‚¹ä¸­çš„72%è€Œè¨€ï¼ŒCloudFlareæ˜¯é€Ÿåº¦æœ€å¿«çš„DNSã€‚å®ƒåœ¨å…¨çƒçš„å¹³å‡å€¼å¾ˆä½ï¼Œä»…ä¸º4.98æ¯«ç§’ï¼Œä»¤äººåˆ®ç›®ç›¸çœ‹ã€‚</li><li>è°·æ­Œå’ŒQuad9åˆ†åˆ«ååˆ—ç¬¬äºŒå’Œç¬¬ä¸‰ã€‚Quad9åœ¨åŒ—ç¾å’Œæ¬§æ´²çš„é€Ÿåº¦æ¯”è°·æ­Œå¿«ï¼Œä½†åœ¨äºšæ´²/å—ç¾æ´²è¡¨ç°æ¬ ä½³ã€‚</li><li>CloudFlareåœ¨æ¯ä¸ªåœ°æ–¹éƒ½è¡¨ç°ä¸ä¿—ã€‚è°·æ­Œå’ŒQuad9åœ¨æŸäº›åœ°æ–¹çš„å“åº”æ—¶é—´å¾ˆé•¿ï¼Œç›¸æ¯”ä¹‹ä¸‹CloudFlareåœ¨å„ä¸ªåœ°æ–¹éƒ½è¡¨ç°å‡ºè‰²ã€‚</li><li>Yandexä»…é¢å‘ä¿„ç½—æ–¯ã€‚å®ƒä¸åƒå…¶ä»–æä¾›å•†é‚£æ ·åˆ©ç”¨ä»»æ’­ï¼ˆAnycastï¼‰ï¼Œåœ¨æ¯ä¸ªåœ°æ–¹éƒ½éå¸¸ç¼“æ…¢ã€‚</li><li>CleanBrowsingæ˜¯æä¾›æˆäººï¼ˆè‰²æƒ…ï¼‰å†…å®¹è¿‡æ»¤æœºåˆ¶çš„é€Ÿåº¦æœ€å¿«çš„æä¾›å•†ã€‚</li><li>æˆ‘ä»¬çŸ¥é“è‡ªå·±æ— æ³•ä¸€å¯¹ä¸€åœ°æ¯”è¾ƒè¿™äº›æä¾›å•†ï¼Œå› ä¸ºå®ƒä»¬éƒ½æ‹¥æœ‰å¯èƒ½å¢åŠ ä¸€äº›å»¶è¿Ÿçš„ç‰¹æ®ŠåŠŸèƒ½ï¼ˆæ¯”å¦‚Quad9å’ŒComodoé˜»æ­¢è®¿é—®æ¶æ„åŸŸåï¼‰ã€‚å…·ä½“ç»“æœå¦‚ä¸‹ã€‚</li></ul><p><strong>å…¨çƒå¹³å‡å€¼</strong></p><p>#1 CloudFlareï¼š4.98ms</p><p>#2 è°·æ­Œ: 16.44 ms</p><p>#3 Quad9: 18.25 ms</p><p>#4 CleanBrowsing: 19.14 ms</p><p>#5 è¯ºé¡¿: 34.75 ms</p><p>#6 OpenDNS: 46.51 ms</p><p>#7 Comodo: 71.90</p><p>#8 Yandex: 169.91</p><p><strong>åŒ—ç¾å¹³å‡å€¼</strong></p><p>#1 CloudFlare: 3.93 ms</p><p>#2 Quad9: 7.21 ms</p><p>#3 è¯ºé¡¿: 8.32 ms</p><p>#4 è°·æ­Œ: 8.53 ms</p><p>#5 CleanBrowsing: 11.83 ms</p><p>#6 OpenDNS: 14.66 ms</p><p>#7 Comodo: 25.91 ms</p><p>#8 Yandex: 119.09 ms</p><p><strong>æ¬§æ´²å¹³å‡å€¼</strong></p><p>#1 CloudFlare: 2.96</p><p>#2 Quad9: 4.35</p><p>#3 CleanBrowsing: 5.74</p><p>#4 è°·æ­Œ: 7.17</p><p>#5 OpenDNS: 8.99</p><p>#6 è¯ºé¡¿: 10.35</p><p>#7 Comodo: 13.06</p><p>#8 Yandex: 35.74</p><p><strong>æµ‹è¯•æ•°æ®</strong></p><p>ç¾å›½çº½çº¦</p><p>#1Quad9 1.50 ms</p><p>#2CloudFlare 1.57 ms</p><p>#4Norton_DNS 7.28 ms</p><p>#5Google_DNS 7.71 ms</p><p>#6OpenDNS 9.71 ms</p><p>#6CleanBrowsing 10.85 ms</p><p>#7Comodo_DNS 12.00 ms</p><p>#8Yandex_DNS 108.14 ms</p><p>ç¾å›½åœ£è¿­æˆˆ</p><p>#1 CloudFlare 8.57 ms</p><p>#2Norton_DNS 9.00 ms</p><p>#3Google_DNS 14.28 ms</p><p>#4CleanBrowsing 19.28 ms</p><p>#5OpenDNS 19.42 ms</p><p>#6Quad9 19.42 ms</p><p>#7Comodo_DNS 40.00 ms</p><p>#8Yandex_DNS 193.57 ms</p><p>åŠ æ‹¿å¤§å¤šä¼¦å¤š</p><p>#1 CloudFlare 3.42 ms</p><p>#2Google_DNS 9.42 ms</p><p>#3Norton_DNS 13.00 ms</p><p>#4CleanBrowsing 13.71 ms</p><p>#5Quad9 15.28 ms</p><p>#6OpenDNS 17.85 ms</p><p>#7Comodo_DNS 21.71 ms</p><p>#8Yandex_DNS 124.14 ms</p><p>åŠ æ‹¿å¤§è’™ç‰¹åˆ©å°”</p><p>#1 CleanBrowsing 15.28 ms</p><p>#2Google_DNS 16.71 ms</p><p>#3CloudFlare 17.00 ms</p><p>#4Quad9 17.71 ms</p><p>#5OpenDNS 23.42 ms</p><p>#6Norton_DNS 25.71 ms</p><p>#7Comodo_DNS 84.28 ms</p><p>#8Yandex_DNS 118.85 ms</p><p>ç¾å›½äºšç‰¹å…°å¤§</p><p>#1 Quad9 1.71 ms</p><p>#2CloudFlare 1.85 ms</p><p>#3Google_DNS 4.14 ms</p><p>#4CleanBrowsing 15.42 ms</p><p>#5Norton_DNS 17.00 ms</p><p>#6OpenDNS 17.14 ms</p><p>#7Comodo_DNS 18.57 ms</p><p>#8Yandex_DNS 127.57 ms</p><p>ç¾å›½è¾¾æ‹‰æ–¯</p><p>#1CloudFlare 2.10 ms</p><p>#2Norton_DNS 3.14 ms</p><p>#3Quad9 3.42 ms</p><p>#4OpenDNS 6.71 ms</p><p>#5Google_DNS 7.14 ms</p><p>#6CleanBrowsing 10.85 ms</p><p>#7Comodo_DNS 38.42 ms</p><p>#8Yandex_DNS 153.28 ms</p><p>ç¾å›½å¼—é‡Œè’™ç‰¹</p><p>#1 CloudFlare 2.00 ms</p><p>#2Norton_DNS 6.14 ms</p><p>#3Quad9 11.00 ms</p><p>#4CleanBrowsing 11.85 ms</p><p>#5Google_DNS 13.71 ms</p><p>#6Comodo_DNS 22.00 ms</p><p>#7OpenDNS 24.42 ms</p><p>#8Yandex_DNS 185.00 ms</p><p>ç¾å›½æ—§é‡‘å±±</p><p>#1 Norton_DNS 2.00 ms</p><p>#2Quad9 2.14 ms</p><p>#3CloudFlare 2.85 ms</p><p>#4Google_DNS 12.28 ms</p><p>#5CleanBrowsing 21.14 ms</p><p>#6Comodo_DNS 22.14 ms</p><p>#7OpenDNS 28.00 ms</p><p>#8Yandex_DNS 180.42 ms</p><p>è‹±å›½ä¼¦æ•¦</p><p>#1 CloudFlare 1.14 ms</p><p>#2Quad9 1.85 ms</p><p>#3CleanBrowsing 2.00 ms</p><p>#4Norton_DNS 6.57 ms</p><p>#5Google_DNS 7.71 ms</p><p>#6Comodo_DNS 9.85 ms</p><p>#7OpenDNS 9.85 ms</p><p>#8Yandex_DNS 35.57 ms</p><p>æ³•å›½å·´é»</p><p>#1CloudFlare 5.14 ms</p><p>#2Comodo_DNS 10.00 ms</p><p>#3Google_DNS 10.14 ms</p><p>#4Quad9 12.71 ms</p><p>#5OpenDNS 13.57 ms</p><p>#7CleanBrowsing 14.85 ms</p><p>#6Norton_DNS 23.85 ms</p><p>#8Yandex_DNS 38.14 ms</p><p>è·å…°é˜¿å§†æ–¯ç‰¹ä¸¹</p><p>#1CloudFlare 1.14 ms</p><p>#2CleanBrowsing 1.14 ms</p><p>#3Quad9 1.71 ms</p><p>#4Google_DNS 2.71 ms</p><p>#5OpenDNS 4.42 ms</p><p>#6Norton_DNS 9.85 ms</p><p>#7Comodo_DNS 12.85 ms</p><p>#8Yandex_DNS 40.42 ms</p><p>å¾·å›½æ³•å…°å…‹ç¦</p><p>#1 Norton_DNS 1.14 ms</p><p>#2Quad9 1.14 ms</p><p>#3CloudFlare 4.42 ms</p><p>#4CleanBrowsing 5.00 ms</p><p>#5Google_DNS 8.14 ms</p><p>#6OpenDNS 8.14 ms</p><p>#7Comodo_DNS 19.57 ms</p><p>#8Yandex_DNS 28.85 ms</p><p>æ—¥æœ¬ä¸œäº¬</p><p>#1CloudFlare 2.00 ms</p><p>#2CleanBrowsing 2.14 ms</p><p>#3Norton_DNS 6.14 ms</p><p>#4Google_DNS 17.28 ms</p><p>#5Quad9 40.57 ms</p><p>#6Comodo_DNS 124.14 ms</p><p>#7OpenDNS 125.71 ms</p><p>#8Yandex_DNS 283.00 ms</p><p>æ–°åŠ å¡</p><p>#1CloudFlare 1.14 ms</p><p>#2Google_DNS 2.00 ms</p><p>#3Quad9 2.14 ms</p><p>#4CleanBrowsing 2.28 ms</p><p>#5OpenDNS 28.14 ms</p><p>#6Norton_DNS 34.14 ms</p><p>#7Comodo_DNS 203.71 ms</p><p>#8Yandex_DNS 343.00 ms</p><p>å°åº¦ç­åŠ ç½—å°”</p><p>#1CloudFlare 7.42 ms</p><p>#2Norton_DNS 21.28 ms</p><p>#3Quad9 38.85 ms</p><p>#4Google_DNS 40.71 ms</p><p>#5OpenDNS 59.42 ms</p><p>#6CleanBrowsing 138.71 ms</p><p>#7Comodo_DNS 150.57 ms</p><p>#8Yandex_DNS 171.57 ms</p><p>æ¾³å¤§åˆ©äºšæ‚‰å°¼</p><p>#1CloudFlare 22.28 ms</p><p>#2Quad9 25.00 ms</p><p>#3Google_DNS 26.14 ms</p><p>#4CleanBrowsing 34.57 ms</p><p>#5OpenDNS 37.85 ms</p><p>#6Norton_DNS 164.57 ms</p><p>#7Comodo_DNS 186.28 ms</p><p>#8Yandex_DNS 352.14 ms</p><p>æ¾³å¤§åˆ©äºšå¸ƒé‡Œæ–¯ç­</p><p>#1CloudFlare 3.00 ms</p><p>#2CleanBrowsing 13.57 ms</p><p>#3Quad9 17.71 ms</p><p>#4Google_DNS 66.14 ms</p><p>#5Norton_DNS 160.14 ms</p><p>#6Comodo_DNS 188.28 ms</p><p>#7OpenDNS 190.28 ms</p><p>#8Yandex_DNS 336.71 ms</p><p>å·´è¥¿åœ£ä¿ç½—</p><p>#1CloudFlare 2.71 ms</p><p>#2CleanBrowsing 12.00 ms</p><p>#3Google_DNS 29.71 ms</p><p>#4Norton_DNS 114.71 ms</p><p>#5Quad9 114.71 ms</p><p>#6Comodo_DNS 129.85 ms</p><p>#7OpenDNS 213.14 ms</p><p>#8Yandex_DNS 238.14 ms</p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee-20200407103021459.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>DNS</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DNS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pythonè‡ªåŠ¨æ›´æ¢å£çº¸çˆ¬è™«ä¸tkinterç»“åˆ</title>
    <link href="/2019/10/14/Python%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%8D%A2%E5%A3%81%E7%BA%B8%E7%88%AC%E8%99%AB%E4%B8%8Etkinter%E7%BB%93%E5%90%88/"/>
    <url>/2019/10/14/Python%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%8D%A2%E5%A3%81%E7%BA%B8%E7%88%AC%E8%99%AB%E4%B8%8Etkinter%E7%BB%93%E5%90%88/</url>
    
    <content type="html"><![CDATA[<p>ç›´æ¥ä¸Šä»£ç </p><pre><code class="hljs python"><span class="hljs-keyword">import</span> ctypes<span class="hljs-keyword">import</span> time<span class="hljs-keyword">import</span> requests<span class="hljs-keyword">import</span> os<span class="hljs-keyword">from</span> threading <span class="hljs-keyword">import</span> Thread<span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> Tk, Label, Button,Entry,StringVar,messagebox<span class="hljs-comment"># 'æ”¾åˆ°AppData\Roaming\Microsoft\Windows\Start Menu\Programs\Startupä¸‹æŠŠæœ¬æ–‡ä»¶åç¼€è®¾ä¸ºpyw å°±ä¼šå¼€æœºè‡ªå¯'</span><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Bz</span><span class="hljs-params">(object)</span>:</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>        self.curent_url = <span class="hljs-string">'https://tenapi.cn/img/acg.php'</span>        self.root = Tk()        self.root.attributes(<span class="hljs-string">"-alpha"</span>, <span class="hljs-number">0.8</span>)        self.root.title(<span class="hljs-string">'å£çº¸åˆ‡---by Alterem'</span>)        self.root.geometry(<span class="hljs-string">'218x55+1300+20'</span>)        self.b1 = Button(self.root, text=<span class="hljs-string">' æ¢ä¸€ç±» '</span>, command=self.change_type, fg=<span class="hljs-string">'#00f235'</span>,width=<span class="hljs-number">8</span>).place(x=<span class="hljs-number">0</span>, y=<span class="hljs-number">0</span>)        self.b2 = Button(self.root, text=<span class="hljs-string">'ä¸‹ä¸€å¼ &gt;&gt;  é¢‘ç‡(åˆ†)'</span>, command=self.change_next, fg=<span class="hljs-string">'blue'</span>,width=<span class="hljs-number">22</span>).place(x=<span class="hljs-number">63</span>, y=<span class="hljs-number">0</span>)        self.b3 = Button(self.root, text=<span class="hljs-string">'åœæ­¢åˆ‡æ¢'</span>, command=self.stop, fg=<span class="hljs-string">'red'</span>, width=<span class="hljs-number">8</span>).place(x=<span class="hljs-number">0</span>, y=<span class="hljs-number">30</span>)        self.label = Label(self.root, text=<span class="hljs-string">'äºŒæ¬¡å…ƒ'</span>,fg=<span class="hljs-string">'#9e3dff'</span>)        self.label.place(x=<span class="hljs-number">85</span>, y=<span class="hljs-number">30</span>)        e = StringVar()        self.input=Entry(self.root,textvariable=e,fg=<span class="hljs-string">'#ffaf0a'</span>)        e.set(<span class="hljs-number">0.1</span>)       <span class="hljs-comment">#é»˜è®¤0.1åˆ†é’Ÿ   6s</span>        self.input.place(x=<span class="hljs-number">153</span>, y=<span class="hljs-number">30</span>)        self.url_list = &#123;<span class="hljs-number">1</span>: [<span class="hljs-string">'å½±è§†'</span>, <span class="hljs-string">'http://pic.tsmp4.net/api/yingshi/img.php'</span>],                         <span class="hljs-number">2</span>: [<span class="hljs-string">'éšæœº'</span>, <span class="hljs-string">'http://lorempixel.com/1920/1080/'</span>],                         <span class="hljs-number">3</span>: [<span class="hljs-string">'å¥³ç¥'</span>, <span class="hljs-string">'http://pic.tsmp4.net/api/nvsheng/img.php'</span>],                         <span class="hljs-number">4</span>: [<span class="hljs-string">'é£æ™¯'</span>, <span class="hljs-string">'http://pic.tsmp4.net/api/fengjing/img.php'</span>],                         <span class="hljs-number">5</span>: [<span class="hljs-string">'äºŒæ¬¡å…ƒ'</span>, <span class="hljs-string">'https://tenapi.cn/img/acg.php'</span>]&#125;        self.path = <span class="hljs-string">'D:\å£çº¸'</span>        self.filepath = self.path + <span class="hljs-string">'/img.jpg'</span>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(self.path):            os.makedirs(self.path)        self.flag = <span class="hljs-literal">True</span>        self.start = <span class="hljs-number">1</span>     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">stop</span><span class="hljs-params">(self)</span>:</span>        self.flag = <span class="hljs-literal">False</span>     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">change_type</span><span class="hljs-params">(self)</span>:</span>        <span class="hljs-keyword">if</span> self.start &gt; <span class="hljs-number">5</span>:            self.start = <span class="hljs-number">1</span>        list = self.url_list.get(self.start)        curent_type = list[<span class="hljs-number">0</span>]        self.curent_url = list[<span class="hljs-number">1</span>]        self.label[<span class="hljs-string">'text'</span>] = curent_type        self.start += <span class="hljs-number">1</span>     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">change_next</span><span class="hljs-params">(self)</span>:</span>        data = requests.get(url=self.curent_url).content        <span class="hljs-keyword">with</span> open(self.filepath, <span class="hljs-string">'wb'</span>) <span class="hljs-keyword">as</span> f:            f.write(data)        self.config()     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_img</span><span class="hljs-params">(self)</span>:</span>        <span class="hljs-keyword">try</span>:            self.num = eval(self.input.get()) * <span class="hljs-number">60</span>  <span class="hljs-comment">#æ•è·ç»“æŸç•Œé¢åçš„å¼‚å¸¸</span>        <span class="hljs-keyword">except</span> Exception:            <span class="hljs-keyword">pass</span>        <span class="hljs-keyword">try</span>:            data = requests.get(url=self.curent_url).content            <span class="hljs-keyword">with</span> open(self.filepath, <span class="hljs-string">'wb'</span>) <span class="hljs-keyword">as</span> f:                f.write(data)            time.sleep(self.num)       <span class="hljs-comment"># ç¡çœ å•ä½ç§’</span>            self.config()        <span class="hljs-keyword">except</span> Exception:            <span class="hljs-keyword">pass</span>     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">config</span><span class="hljs-params">(self)</span>:</span>        ctypes.windll.user32.SystemParametersInfoW(<span class="hljs-number">20</span>, <span class="hljs-number">0</span>, self.filepath, <span class="hljs-number">0</span>)  <span class="hljs-comment"># è®¾ç½®æ¡Œé¢å£çº¸.</span>     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">img</span><span class="hljs-params">(self)</span>:</span>        <span class="hljs-keyword">while</span> self.flag:            self.get_img()     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">run</span><span class="hljs-params">(self)</span>:</span>        t1 = Thread(target=self.img)        <span class="hljs-comment"># t1.setDaemon(True)           #è®¾ç½®å®ˆæŠ¤çº¿ç¨‹ ---&gt;æ˜¯å¦å®Œå…¨å…³é—­</span>        t1.start()        self.root.mainloop()        <span class="hljs-keyword">if</span> self.flag:            root = Tk()            root.withdraw()            messagebox.showinfo(<span class="hljs-string">"by Alterem"</span>, <span class="hljs-string">"åªå…³é—­äº†ç•Œé¢! å›¾ç‰‡è¿˜åœ¨åˆ‡æ¢! è¯·è¿›å…¥ä»»åŠ¡ç®¡ç†å™¨ç»“æŸè¿›ç¨‹"</span>)<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:    b = Bz()    b.run()</code></pre><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Tkinter</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MySQLçš„5ç§æ—¶é—´ç±»å‹çš„æ¯”è¾ƒ</title>
    <link href="/2019/10/13/MySQL%E7%9A%845%E7%A7%8D%E6%97%B6%E9%97%B4%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%AF%94%E8%BE%83/"/>
    <url>/2019/10/13/MySQL%E7%9A%845%E7%A7%8D%E6%97%B6%E9%97%B4%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%AF%94%E8%BE%83/</url>
    
    <content type="html"><![CDATA[<table><thead><tr><th>æ—¥æœŸæ—¶é—´ç±»å‹</th><th>å ç”¨ç©ºé—´</th><th>æ—¥æœŸæ ¼å¼</th><th>æœ€å°å€¼</th><th>æœ€å¤§å€¼</th><th>é›¶å€¼è¡¨ç¤º</th></tr></thead><tbody><tr><td>DATETIME</td><td>8 bytes</td><td>YYYY-MM-DD HH:MM:SS</td><td>1000-01-01 00:00:00</td><td>9999-12-31 23:59:59</td><td>0000-00-00 00:00:00</td></tr><tr><td>TIMESTAMP</td><td>4 bytes</td><td>YYYY-MM-DD HH:MM:SS</td><td>19700101080001</td><td>2038 å¹´çš„æŸä¸ªæ—¶åˆ»</td><td>00000000000000</td></tr><tr><td>DATE</td><td>4 bytes</td><td>YYYY-MM-DD</td><td>1000-01-01</td><td>9999-12-31</td><td>0000-00-00</td></tr><tr><td>TIME</td><td>3 bytes</td><td>HH:MM:SS</td><td>-838:59:59</td><td>838:59:59</td><td>00:00:00</td></tr><tr><td>YEAR</td><td>1 bytes</td><td>YYYY</td><td>1901</td><td>2155</td><td>0000</td></tr></tbody></table><p><strong>DATETIME</strong></p><pre><code>DATETIME ç”¨äºè¡¨ç¤º å¹´æœˆæ—¥ æ—¶åˆ†ç§’ï¼Œæ˜¯ DATE å’Œ TIME çš„ç»„åˆï¼Œå¹¶ä¸”è®°å½•çš„å¹´ä»½ï¼ˆè§ä¸Šè¡¨ï¼‰æ¯”è¾ƒé•¿ä¹…ã€‚å¦‚æœå®é™…åº”ç”¨ä¸­æœ‰è¿™æ ·çš„éœ€æ±‚ï¼Œå°±å¯ä»¥ä½¿ç”¨ DATETIME ç±»å‹ã€‚</code></pre><p>1ã€DATETIMEåˆ—å¯ä»¥è®¾ç½®ä¸ºå¤šä¸ªï¼Œé»˜è®¤å¯ä¸ºnullï¼Œå¯ä»¥æ‰‹åŠ¨è®¾ç½®å…¶å€¼ã€‚  </p><p>2ã€DATETIMEåˆ—ä¸å¯è®¾å®šé»˜è®¤å€¼ã€‚ </p><p>3ã€DATETIMEåˆ—å¯ä»¥å˜ç›¸çš„è®¾å®šé»˜è®¤å€¼ï¼Œæ¯”å¦‚é€šè¿‡è§¦å‘å™¨ã€æˆ–è€…åœ¨æ’å…¥æ•°æ®æ—¶å€™ï¼Œå°†DATETIMEå­—æ®µå€¼è®¾ç½®ä¸ºnow()ï¼Œè¿™æ ·å¯ä»¥åšåˆ°äº†ï¼Œå°¤å…¶æ˜¯åè€…ï¼Œåœ¨ç¨‹åºå¼€å‘ä¸­å¸¸å¸¸ç”¨åˆ°ã€‚</p><p> <strong>TIMESTAMP</strong></p><ul><li><p>TIMESTAMP ç”¨äºè¡¨ç¤º å¹´æœˆæ—¥ æ—¶åˆ†ç§’ï¼Œä½†æ˜¯è®°å½•çš„å¹´ä»½ï¼ˆè§ä¸Šè¡¨ï¼‰æ¯”è¾ƒçŸ­æš‚ï¼ŒTIMESTAMPåˆ—å¿…é¡»æœ‰é»˜è®¤å€¼ï¼Œé»˜è®¤å€¼å¯ä»¥ä¸ºâ€œ0000-00-00 00:00:00â€ï¼Œä½†ä¸èƒ½ä¸ºnullã€‚</p></li><li><p>TIMESTAMP å’Œæ—¶åŒºç›¸å…³ï¼Œæ›´èƒ½åæ˜ å½“å‰æ—¶é—´ã€‚å½“æ’å…¥æ—¥æœŸæ—¶ï¼Œä¼šå…ˆè½¬æ¢ä¸ºæœ¬åœ°æ—¶åŒºåå†å­˜æ”¾ï¼›å½“æŸ¥è¯¢æ—¥æœŸæ—¶ï¼Œä¼šå°†æ—¥æœŸè½¬æ¢ä¸ºæœ¬åœ°æ—¶åŒºåå†æ˜¾ç¤ºã€‚æ‰€ä»¥ä¸åŒæ—¶åŒºçš„äººçœ‹åˆ°çš„åŒä¸€æ—¶é—´æ˜¯  ä¸ä¸€æ ·çš„ã€‚</p></li><li><p>è¡¨ä¸­çš„ç¬¬ä¸€ä¸ª TIMESTAMP åˆ—è‡ªåŠ¨è®¾ç½®ä¸ºç³»ç»Ÿæ—¶é—´ï¼ˆCURRENT_TIMESTAMPï¼‰ã€‚å½“æ’å…¥æˆ–æ›´æ–°ä¸€è¡Œï¼Œä½†æ²¡æœ‰æ˜ç¡®ç»™ TIMESTAMP åˆ—èµ‹å€¼ï¼Œä¹Ÿä¼šè‡ªåŠ¨è®¾ç½®ä¸ºå½“å‰ç³»ç»Ÿæ—¶é—´ã€‚å¦‚æœè¡¨ä¸­æœ‰ç¬¬äºŒä¸ª TIMESTAMP åˆ—ï¼Œåˆ™é»˜è®¤å€¼è®¾ç½®ä¸º0000-00-00 00:00:00ã€‚</p></li><li><p>TIMESTAMP çš„å±æ€§å— Mysql ç‰ˆæœ¬å’ŒæœåŠ¡å™¨ SQLMode çš„å½±å“è¾ƒå¤§ã€‚</p><p>   å¦‚æœè®°å½•çš„æ—¥æœŸéœ€è¦è®©ä¸åŒæ—¶åŒºçš„äººä½¿ç”¨ï¼Œæœ€å¥½ä½¿ç”¨ TIMESTAMPã€‚</p></li></ul><p>æ³¨ï¼šä¸€èˆ¬å»ºè¡¨æ—¶å€™ï¼Œåˆ›å»ºæ—¶é—´ç”¨datetimeï¼Œæ›´æ–°æ—¶é—´ç”¨timestampã€‚</p><p> <strong>DATE</strong></p><pre><code>DATE ç”¨äºè¡¨ç¤º å¹´æœˆæ—¥ï¼Œå¦‚æœå®é™…åº”ç”¨å€¼éœ€è¦ä¿å­˜ å¹´æœˆæ—¥ å°±å¯ä»¥ä½¿ç”¨ DATEã€‚</code></pre><p> <strong>TIME</strong></p><pre><code>TIME ç”¨äºè¡¨ç¤º æ—¶åˆ†ç§’ï¼Œå¦‚æœå®é™…åº”ç”¨å€¼éœ€è¦ä¿å­˜ æ—¶åˆ†ç§’ å°±å¯ä»¥ä½¿ç”¨ TIMEã€‚</code></pre><p> <strong>YEAR</strong></p><pre><code>YEAR ç”¨äºè¡¨ç¤º å¹´ä»½ï¼ŒYEAR æœ‰ 2 ä½ï¼ˆæœ€å¥½ä½¿ç”¨4ä½ï¼‰å’Œ 4 ä½æ ¼å¼çš„å¹´ã€‚ é»˜è®¤æ˜¯4ä½ã€‚å¦‚æœå®é™…åº”ç”¨åªä¿å­˜å¹´ä»½ï¼Œé‚£ä¹ˆç”¨ 1 bytes ä¿å­˜ YEAR ç±»å‹å®Œå…¨å¯ä»¥ã€‚ä¸ä½†èƒ½å¤ŸèŠ‚çº¦å­˜å‚¨ç©ºé—´ï¼Œè¿˜èƒ½æé«˜è¡¨çš„æ“ä½œæ•ˆç‡ã€‚</code></pre><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>MySQL</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MySqlåœ¨CentOSä¸Šæ‰§è¡Œè‡ªåŠ¨å¤‡ä»½</title>
    <link href="/2019/10/13/MySQL%E5%9C%A8CentOS%E4%B8%8A%E6%89%A7%E8%A1%8C%E8%87%AA%E5%8A%A8%E5%A4%87%E4%BB%BD/"/>
    <url>/2019/10/13/MySQL%E5%9C%A8CentOS%E4%B8%8A%E6%89%A7%E8%A1%8C%E8%87%AA%E5%8A%A8%E5%A4%87%E4%BB%BD/</url>
    
    <content type="html"><![CDATA[<p>â€‹    å¼€å‘ä¸­æˆ‘ä»¬å¸¸å¸¸æœ‰ä½¿ç”¨Svnæˆ–è€…Gitæ¥ç®¡ç†æˆ‘ä»¬çš„ä»£ç æˆ–è€…æ˜¯é¡¹ç›®ç›¸å…³çš„æ–‡ä»¶ï¼Œç„¶è€Œä»–ä»¬éƒ½æœ‰ä¸€ä¸ªå…±åŒç‚¹å°±æ˜¯ï¼š<strong>ç‰ˆæœ¬æ§åˆ¶</strong></p><p>â€‹    å¾ˆå¤šäººä¼šé—®ä¸ºä»€ä¹ˆè¦ä½¿ç”¨Svnæˆ–è€…æ˜¯Gitï¼Œé‚£ä¹ˆæˆ‘ä¼šé—®ï¼šæˆ‘ç›¸ä¿¡ä½ å†™çš„ä»£ç å¾ˆå¥½ï¼Œä½†æ˜¯æœ‰ä¸€å¤©ä½ ä¿®æ”¹äº†å¾ˆå¤šå¾ˆå¤šçš„Bugï¼Œä½†æ˜¯çªç„¶æƒ³åˆ°ä»¥å‰çš„ä»£ç ä¸­æœ‰ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„ç®—æ³•ä½ ä¸å°å¿ƒè¦†ç›–æ‰äº†ï¼Œè¿™æ—¶å€™ä½ åº”è¯¥æ€ä¹ˆåŠï¼Ÿ</p><p>â€‹    æˆ–è®¸ä½ ä¼šå‘Šè¯‰æˆ‘ä½ å¯ä»¥åœ¨ä¿®æ”¹è¿™äº›ä»£ç ä¹‹å‰å¤‡ä»½ä¸€æ¬¡å½“å‰ä¿®æ”¹çš„æ–‡ä»¶ï¼Œæˆ–è€…æ˜¯å½“å‰é¡¹ç›®ã€‚</p><p>â€‹    ä½†æ˜¯æ—¶é—´ä¹…äº†ä½ çš„æœºå™¨ä¸Šä¼šæœ‰å¤šå°‘å¤‡ä»½æ–‡ä»¶å‘¢ï¼Ÿ</p><p>â€‹    å¦‚æœæœ‰ä¸€å¤©ä½ çš„åŒäº‹éœ€è¦å›æ»šåˆ°ä¹‹å‰çš„ä»£ç çœ‹ä¸€ä¸‹é‚£æ—¶å€™Bugçš„åŸå› ï¼Œä½ ä¼šä»ä½ çš„æœºå™¨ä¸Šæ‰¾åˆ°æŒ‡å®šæ—¶é—´çš„æ–‡ä»¶å‘ç»™ä»–å˜›ï¼Ÿ</p><p>â€‹    å½“ç„¶ä¸æ˜¯ï¼Œæˆ‘ä»¬æœ‰Svnæˆ–è€…æ˜¯Gitä¹‹åæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿çš„çœ‹åˆ°æ–‡ä»¶ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œè¿˜å¯ä»¥æ–¹ä¾¿çš„å¯¹æ¯”ã€‚é‚£ä¹ˆç°åœ¨æ¸…æ¥šäº†ç‰ˆæœ¬æ§åˆ¶çš„é‡è¦æ€§äº†ã€‚</p><p>â€‹    åŒæ ·æ•°æ®åº“ä¹Ÿæ˜¯è¿™æ ·ï¼Œæˆ‘ä»¬çš„ç³»ç»Ÿ99%éƒ½ç¦»ä¸å¼€æ•°æ®åº“ï¼Œå› ä¸ºæˆ‘ä»¬æ€»è¦æŠŠæ•°æ®å­˜å‚¨èµ·æ¥ã€‚</p><p>â€‹    é‚£å¦‚æœæˆ‘ä»¬æ•°æ®åº“è¢«è¯¯åˆ ã€è¢«é»‘å®¢å…¥ä¾µã€è¢«æ¶æ„ä¿®æ”¹æ€ä¹ˆåŠï¼Ÿ</p><p>â€‹    é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¯•ç€è®©æˆ‘ä»¬çš„æœåŠ¡å™¨è‡ªåŠ¨æ¥å¸®æˆ‘ä»¬å¤‡ä»½æ•°æ®åº“çš„æ•°æ®åˆ°æŒ‡å®šä½ç½®ï¼Œä¸‡ä¸€æœ‰ä¸€å¤©æˆ‘ä»¬çš„æ•°æ®åº“ä¸å°å¿ƒæ‰‹æŠ–äº†ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç”¨å¤‡ä»½ä¸‹æ¥çš„æ•°æ®åº“è„šæœ¬ç›´æ¥æ¢å¤ã€‚</p><p>â€‹    ä¸Šè„šæœ¬ï¼š</p><pre><code class="hljs bash"><span class="hljs-comment"># db username</span>db_user=<span class="hljs-string">"test"</span>  <span class="hljs-comment"># db password</span>db_passwd=<span class="hljs-string">"test"</span><span class="hljs-comment"># db host</span>db_host=<span class="hljs-string">"121.201.5.216"</span><span class="hljs-comment"># backup db name</span>db_name=<span class="hljs-string">"Alterem"</span>  <span class="hljs-comment"># the directory for story your backup file.  </span>backup_dir=<span class="hljs-string">"backup"</span>  <span class="hljs-built_in">cd</span> <span class="hljs-comment"># date format for backup file (dd-mm-yyyy)  </span>time=<span class="hljs-string">"<span class="hljs-variable">$(date +"%Y-%m-%d-%H-%M-%S")</span>"</span>  <span class="hljs-comment"># mysql, mysqldump and some other bin's path  </span>MYSQL=<span class="hljs-string">"/usr/local/mysql/bin/mysql"</span>  MYSQLDUMP=<span class="hljs-string">"/usr/local/mysql/bin/mysqldump"</span>  GZIP=<span class="hljs-string">"/bin/gzip"</span>    <span class="hljs-variable">$MYSQLDUMP</span> -u <span class="hljs-variable">$db_user</span> -h <span class="hljs-variable">$db_host</span> -p<span class="hljs-variable">$db_passwd</span> <span class="hljs-variable">$db_name</span> | <span class="hljs-variable">$GZIP</span> -9 &gt; <span class="hljs-string">"/data/backup/<span class="hljs-variable">$backup_dir</span>/<span class="hljs-variable">$db_name</span>"</span>_<span class="hljs-string">"<span class="hljs-variable">$time</span>.gz"</span></code></pre><h3 id="åˆ›å»ºå®šæ—¶å™¨"><a href="#åˆ›å»ºå®šæ—¶å™¨" class="headerlink" title="åˆ›å»ºå®šæ—¶å™¨"></a>åˆ›å»ºå®šæ—¶å™¨</h3><pre><code class="hljs bash">crontab -e</code></pre><p>æ·»åŠ å®šæ—¶å™¨</p><pre><code class="hljs bash"><span class="hljs-comment"># æ¯å¤©å‡Œæ™¨ 1 ç‚¹ 30 åˆ† è¿›è¡Œæ•°æ®å¤‡ä»½</span>30  1  *  *  * /root/mysql-backup.sh</code></pre><p>é‡å¯å®šæ—¶å™¨</p><pre><code class="hljs bash">/etc/rc.d/init.d/crond restart</code></pre><h3 id="cronè§£æ"><a href="#cronè§£æ" class="headerlink" title="cronè§£æ"></a>cronè§£æ</h3><pre><code class="hljs bash"><span class="hljs-comment"># For details see man 4 crontabs</span><span class="hljs-comment"># Example of job definition:</span><span class="hljs-comment"># .---------------- minute (0 - 59)</span><span class="hljs-comment"># |  .------------- hour (0 - 23)</span><span class="hljs-comment"># |  |  .---------- day of month (1 - 31)</span><span class="hljs-comment"># |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...</span><span class="hljs-comment"># |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat</span><span class="hljs-comment"># |  |  |  |  |</span><span class="hljs-comment"># *  *  *  *  * user-name command to be executed</span></code></pre><p><a href="http://cron.qqe2.com/" target="_blank" rel="noopener">åœ¨çº¿Cronè¡¨è¾¾å¼ç”Ÿæˆå™¨</a>ï¼š<a href="http://cron.qqe2.com/" target="_blank" rel="noopener">http://cron.qqe2.com/</a></p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>MySQL</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pythonæ‹†åˆ†excel</title>
    <link href="/2019/10/11/python%E6%8B%86%E5%88%86excel/"/>
    <url>/2019/10/11/python%E6%8B%86%E5%88%86excel/</url>
    
    <content type="html"><![CDATA[<p>æ ¹æ®æŸä¸€åˆ—ï¼Œæ‹†åˆ†æˆå‡ ä¸ªä¸åŒçš„EXCELæ–‡ä»¶<br>æ“ä½œæ–¹æ³•ï¼šå°†EXCELæ–‡ä»¶æ‹–è‡³EXEæ–‡ä»¶ä¸Šï¼Œæ ¹æ®æç¤ºæ“ä½œã€‚</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymnkx1s0g311j0jj18k.gif" srcset="/img/loading.gif" alt="img"></p><pre><code class="hljs python"><span class="hljs-keyword">import</span> openpyxl<span class="hljs-keyword">from</span> openpyxl.utils <span class="hljs-keyword">import</span> get_column_letter<span class="hljs-keyword">import</span> xlrd<span class="hljs-keyword">import</span> sys, os, collections<span class="hljs-keyword">from</span> pprint <span class="hljs-keyword">import</span> pprint<span class="hljs-keyword">from</span> copy <span class="hljs-keyword">import</span> copy  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">splitExcel</span><span class="hljs-params">(object)</span>:</span>     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, sourceFile, titleLine=None, splitColumn=None)</span>:</span>        self.sourceFile = sourceFile        self.sourceWorkbook = openpyxl.load_workbook(sourceFile)        self.targetWorkbook = openpyxl.Workbook()        self.targetWorkbook.remove(self.targetWorkbook.active)         <span class="hljs-comment"># æºå·¥ä½œè¡¨ï¼ˆobjectå¯¹è±¡ï¼‰</span>        self.sourceWorksheet = <span class="hljs-literal">None</span>        <span class="hljs-comment"># æœ€å¤§è¡Œæ•°</span>        self.sourceWorkbookMaxRow = <span class="hljs-literal">None</span>        <span class="hljs-comment"># æœ€å¤§åˆ—æ•°</span>        self.sourceWorkbookMaxColumn = <span class="hljs-literal">None</span>        <span class="hljs-comment"># æºå·¥ä½œè¡¨ç´¢å¼•å·</span>        self.sourceWorksheetIndex = <span class="hljs-literal">None</span>        <span class="hljs-comment"># æ ‡é¢˜æ‰€åœ¨è¡Œå·ï¼Œç”¨æˆ·è¾“å…¥æ—¶ç´¢å¼•ä»1å¼€å§‹ï¼Œå†…éƒ¨å¤„ç†æ—¶è¯·ç•™æ„ç´¢å¼•æ•°</span>        <span class="hljs-comment"># if titleLine == None:</span>        <span class="hljs-comment">#     titleLine = int(input('è¯·è¾“å…¥æ ‡é¢˜æ‰€åœ¨è¡Œ[2]: ').strip())</span>        self.titleLine = titleLine        <span class="hljs-comment"># æ ¹æ®å“ªä¸ªåˆ—è¿›è¡Œæ‹†åˆ†ï¼Œç”¨æˆ·è¾“å…¥æ—¶ç´¢å¼•ä»1å¼€å§‹ï¼Œå†…éƒ¨å¤„ç†æ—¶è¯·ç•™æ„ç´¢å¼•æ•°</span>        self.splitColumn = splitColumn        <span class="hljs-comment"># æºå·¥ä½œè–„å½“å‰è¡Œå·</span>        self.sbCurrectLine = <span class="hljs-literal">None</span>        <span class="hljs-comment"># ç›®æ ‡å·¥ä½œè–„å„è¡¨å½“å‰æ•°æ®è¡Œå·</span>        self.tbCurrectLines = &#123;&#125;        <span class="hljs-comment"># è¡¨å¤´æ–‡å­—</span>        self.header = []        <span class="hljs-comment"># å„è¡¨æ•°æ®</span>        self.data = collections.OrderedDict()        <span class="hljs-comment"># ä¿å­˜åˆ—å®½</span>        self.columnsWidth = collections.OrderedDict()        <span class="hljs-comment"># æ ¼å¼</span>        self.formats = &#123;&#125;     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">readData</span><span class="hljs-params">(self)</span>:</span>        wb = xlrd.open_workbook(self.sourceFile)        ws = wb.sheet_by_index(self.sourceWorksheetIndex)        <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> range(ws.nrows):            <span class="hljs-keyword">if</span> x &lt; self.titleLine:                <span class="hljs-comment"># è¡¨å¤´</span>                self.header.append(ws.row_values(x))            <span class="hljs-keyword">else</span>:                v = ws.cell(x, self.splitColumn - <span class="hljs-number">1</span>).value                sheetName = self.clearSheetName(v)                <span class="hljs-comment"># å°†è¡¨ååŠ å…¥dataå­—å…¸</span>                <span class="hljs-keyword">if</span> sheetName <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self.data.keys():                    self.data[sheetName] = []                <span class="hljs-comment"># æ·»åŠ æ•°æ®</span>                self.data[sheetName].append(ws.row_values(x))     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">selectSplitSheet</span><span class="hljs-params">(self)</span>:</span>        <span class="hljs-keyword">if</span> len(self.sourceWorkbook.sheetnames) == <span class="hljs-number">1</span>:            self.sourceWorksheet = self.sourceWorkbook.active            self.sourceWorksheetIndex = <span class="hljs-number">0</span>        <span class="hljs-keyword">else</span>:            _n_ = <span class="hljs-number">0</span>            print(<span class="hljs-string">'åœ¨å·¥ä½œè–„ä¸­æ‰¾åˆ°ä»¥ä¸‹å·¥ä½œè¡¨ï¼š'</span>)            <span class="hljs-keyword">for</span> SheetName <span class="hljs-keyword">in</span> self.sourceWorkbook.sheetnames:                print(_n_, SheetName)                _n_ += <span class="hljs-number">1</span>             n = <span class="hljs-number">0</span>            _input = input(<span class="hljs-string">'è¯·è¾“å…¥è¦æ‹†åˆ†è¡¨çš„åºå·[0]: '</span>).strip()            <span class="hljs-keyword">if</span> _input != <span class="hljs-string">''</span>:                n = int(_input)            self.sourceWorksheet = self.sourceWorkbook.worksheets[n]            self.sourceWorksheetIndex = n     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">selectSplitColumn</span><span class="hljs-params">(self)</span>:</span>        wb = xlrd.open_workbook(self.sourceFile)        ws = wb.sheet_by_index(self.sourceWorksheetIndex)         <span class="hljs-comment"># ä¿å­˜ä¸€ä¸‹æœ€å¤§è¡Œæ•°ã€åˆ—æ•°ï¼Œä»¥ä¾›å…¶å®ƒï¼ˆå±æ€§ï¼‰åœ°æ–¹ä½¿ç”¨</span>        self.sourceWorkbookMaxRow = ws.nrows        self.sourceWorkbookMaxColumn = ws.ncols         print(<span class="hljs-string">'\nåœ¨å·¥ä½œè¡¨çš„æ ‡é¢˜è¡Œï¼ˆç¬¬ %s è¡Œï¼‰æ‰¾åˆ°ä»¥ä¸‹åˆ—: '</span> % self.titleLine)         <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, ws.ncols + <span class="hljs-number">1</span>):            print(y, ws.cell(self.titleLine - <span class="hljs-number">1</span>, y - <span class="hljs-number">1</span>).value)         columnNum = input(<span class="hljs-string">'è¯·è¾“å…¥æ‹†åˆ†åˆ—å·[2]: '</span>).strip()        <span class="hljs-keyword">if</span> columnNum == <span class="hljs-string">''</span>:            columnNum = <span class="hljs-number">2</span>        <span class="hljs-keyword">else</span>:            columnNum = int(columnNum)        self.splitColumn = columnNum     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">readCellsStyle</span><span class="hljs-params">(self)</span>:</span>        ws = self.sourceWorksheet        maxColumn = self.sourceWorkbookMaxColumn        styles = [[<span class="hljs-literal">None</span>] * (maxColumn + <span class="hljs-number">11</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(self.titleLine + <span class="hljs-number">11</span>)]        fonts = [[<span class="hljs-literal">None</span>] * (maxColumn + <span class="hljs-number">11</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(self.titleLine + <span class="hljs-number">11</span>)]        borders = [[<span class="hljs-literal">None</span>] * (maxColumn + <span class="hljs-number">11</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(self.titleLine + <span class="hljs-number">11</span>)]        fills = [[<span class="hljs-literal">None</span>] * (maxColumn + <span class="hljs-number">11</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(self.titleLine + <span class="hljs-number">11</span>)]        alignments = [[<span class="hljs-literal">None</span>] * (maxColumn + <span class="hljs-number">11</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(self.titleLine + <span class="hljs-number">11</span>)]        number_formats = [[<span class="hljs-literal">None</span>] * (maxColumn + <span class="hljs-number">11</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(self.titleLine + <span class="hljs-number">11</span>)]        protections = [[<span class="hljs-literal">None</span>] * (maxColumn + <span class="hljs-number">11</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(self.titleLine + <span class="hljs-number">11</span>)]        heights = [<span class="hljs-literal">None</span>] * (self.titleLine + <span class="hljs-number">11</span>)        widths = [<span class="hljs-literal">None</span>] * (maxColumn + <span class="hljs-number">11</span>)        <span class="hljs-comment"># isDates = [None] * (maxColumn + 11)</span>         <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, self.titleLine + <span class="hljs-number">2</span>):            heights[x] = ws.row_dimensions[x].height            <span class="hljs-comment"># print(x,'height',heights[x])</span>            <span class="hljs-comment"># for y in range(1, ws.max_column + 1):</span>            <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, maxColumn + <span class="hljs-number">1</span>):                styles[x][y] = copy(ws.cell(x, y).style.replace(<span class="hljs-string">'å¸¸è§„'</span>, <span class="hljs-string">'Normal'</span>))                fonts[x][y] = copy(ws.cell(x, y).font)                borders[x][y] = copy(ws.cell(x, y).border)                fills[x][y] = copy(ws.cell(x, y).fill)                alignments[x][y] = copy(ws.cell(x, y).alignment)                number_formats[x][y] = copy(ws.cell(x, y).number_format)                protections[x][y] = copy(ws.cell(x, y).protection)                <span class="hljs-keyword">if</span> y <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> widths:                    widths[y] = ws.column_dimensions[get_column_letter(y)].width                <span class="hljs-comment"># print(y, get_column_letter(y), ws.column_dimensions[get_column_letter(y)].width)</span>                <span class="hljs-comment"># if y not in isDates:</span>                <span class="hljs-comment">#     isDates[y] = ws.cell(x, y).is_date</span>         self.formats[<span class="hljs-string">'heights'</span>] = heights        self.formats[<span class="hljs-string">'styles'</span>] = styles        self.formats[<span class="hljs-string">'fonts'</span>] = fonts        self.formats[<span class="hljs-string">'borders'</span>] = borders        self.formats[<span class="hljs-string">'fills'</span>] = fills        self.formats[<span class="hljs-string">'alignments'</span>] = alignments        self.formats[<span class="hljs-string">'number_formats'</span>] = number_formats        self.formats[<span class="hljs-string">'protections'</span>] = protections        self.formats[<span class="hljs-string">'widths'</span>] = widths        <span class="hljs-comment"># self.formats['isDates'] = isDates</span>     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">writeFormatToNewWorkbook</span><span class="hljs-params">(self)</span>:</span>        <span class="hljs-keyword">for</span> sheetName <span class="hljs-keyword">in</span> self.data.keys():            ws = self.targetWorkbook[sheetName]            <span class="hljs-comment"># for x in range(1,self.titleLine+2):</span>            <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, ws.max_row + <span class="hljs-number">1</span>):                <span class="hljs-comment"># è¡¨å¤´</span>                <span class="hljs-keyword">if</span> x &lt;= self.titleLine:                    xx = x                    <span class="hljs-comment"># ws.row_dimensions[x].height = self.formats['heights'][x]</span>                <span class="hljs-keyword">else</span>:                    <span class="hljs-comment"># è¡¨æ•°æ®</span>                    xx = self.titleLine + <span class="hljs-number">1</span>                height = self.formats[<span class="hljs-string">'heights'</span>][xx]                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> height == <span class="hljs-literal">None</span> <span class="hljs-keyword">and</span> height &gt; <span class="hljs-number">0</span>:                    ws.row_dimensions[x].height = self.formats[<span class="hljs-string">'heights'</span>][xx]                 <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, ws.max_column + <span class="hljs-number">1</span>):                    <span class="hljs-comment"># è¡¨å¤´</span>                    <span class="hljs-keyword">if</span> x &lt;= self.titleLine:                        <span class="hljs-comment"># è·¯è¿‡ç©ºç™½å•å…ƒæ ¼</span>                        <span class="hljs-comment"># if ws.cell(x, y).value == '':</span>                        <span class="hljs-comment">#     continue</span>                        width = self.formats[<span class="hljs-string">'widths'</span>][y]                        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> width == <span class="hljs-literal">None</span> <span class="hljs-keyword">and</span> width &gt; <span class="hljs-number">0</span>:                            ws.column_dimensions[get_column_letter(y)].width = self.formats[<span class="hljs-string">'widths'</span>][y]                        xx = x                    <span class="hljs-keyword">else</span>:                        <span class="hljs-comment"># è¡¨æ•°æ®</span>                        xx = self.titleLine + <span class="hljs-number">1</span>                    ws.cell(x, y).style = self.formats[<span class="hljs-string">'styles'</span>][xx][y]                    ws.cell(x, y).font = self.formats[<span class="hljs-string">'fonts'</span>][xx][y]                    ws.cell(x, y).border = self.formats[<span class="hljs-string">'borders'</span>][xx][y]                    ws.cell(x, y).fill = self.formats[<span class="hljs-string">'fills'</span>][xx][y]                    ws.cell(x, y).alignment = self.formats[<span class="hljs-string">'alignments'</span>][xx][y]                    ws.cell(x, y).number_format = self.formats[<span class="hljs-string">'number_formats'</span>][xx][y]                    ws.cell(x, y).protection = self.formats[<span class="hljs-string">'protections'</span>][xx][y]                     <span class="hljs-comment"># if x&gt;self.titleLine and self.formats['isDates'][y]:</span>                    <span class="hljs-comment">#     ws.cell(x, y).number_format = 'yyyy/mm/dd'</span>     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">writeDataToNewWorkbook</span><span class="hljs-params">(self)</span>:</span>        <span class="hljs-keyword">for</span> sheetName <span class="hljs-keyword">in</span> self.data.keys():            ws = self.targetWorkbook.create_sheet(sheetName)            <span class="hljs-comment"># å†™å…¥å¤´æ–‡å­—</span>            x = <span class="hljs-number">0</span>  <span class="hljs-comment"># è¡Œå·</span>            <span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> self.header:                x += <span class="hljs-number">1</span>                y = <span class="hljs-number">0</span>  <span class="hljs-comment"># åˆ—å·</span>                <span class="hljs-keyword">for</span> cellValue <span class="hljs-keyword">in</span> row:                    y += <span class="hljs-number">1</span>                    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> cellValue == <span class="hljs-string">''</span>:                        ws.cell(x, y).value = cellValue            <span class="hljs-comment"># å†™å…¥æ•°æ®</span>            <span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> self.data[sheetName]:                ws.append(row)     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">clearSheetName</span><span class="hljs-params">(self, name, replaceAs=<span class="hljs-string">'-'</span>)</span>:</span>        invalidChars = <span class="hljs-string">r':\/?*[]ï¼š'</span>        <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> invalidChars:            name = name.replace(c, replaceAs).strip()        <span class="hljs-keyword">return</span> name     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">selectTitleLine</span><span class="hljs-params">(self)</span>:</span>        wb = xlrd.open_workbook(self.sourceFile)        ws = wb.sheet_by_index(self.sourceWorksheetIndex)         <span class="hljs-comment"># ä¿å­˜ä¸€ä¸‹æœ€å¤§è¡Œæ•°ã€åˆ—æ•°ï¼Œä»¥ä¾›å…¶å®ƒï¼ˆå±æ€§ï¼‰åœ°æ–¹ä½¿ç”¨</span>        self.sourceWorkbookMaxRow = ws.nrows        self.sourceWorkbookMaxColumn = ws.ncols         print(<span class="hljs-string">'æ‰“å°æ‰€æ‹†åˆ†å·¥ä½œè¡¨å‰10è¡Œï¼Œå‰5åˆ—æ•°æ®ï¼š'</span>)        maxY = ws.ncols        <span class="hljs-keyword">if</span> ws.ncols &gt; <span class="hljs-number">5</span>:            maxY = <span class="hljs-number">5</span>        <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> range(<span class="hljs-number">10</span>):            tempList = []            <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> range(maxY):                tempList.append(ws.cell(x, y).value)            print(<span class="hljs-string">'ç¬¬%sè¡Œï¼š'</span> % (x + <span class="hljs-number">1</span>), tempList)         titleLine = <span class="hljs-number">2</span>        n = input(<span class="hljs-string">'\nè¯·è¾“å…¥æ ‡é¢˜è¡Œæ‰€åœ¨è¡Œå·[2]ï¼š'</span>).strip()        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> n == <span class="hljs-string">''</span>:            titleLine = int(n)         self.titleLine = titleLine     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">make</span><span class="hljs-params">(self)</span>:</span>        self.selectSplitSheet()        self.selectTitleLine()        self.selectSplitColumn()         print(<span class="hljs-string">'å¼€å§‹è¯»å–æ•°æ®...'</span>)        self.readData()        print(<span class="hljs-string">'å¼€å§‹è¯»å–æ ¼å¼...'</span>)        self.readCellsStyle()        print(<span class="hljs-string">'å¼€å§‹å†™å…¥æ•°æ®è‡³åˆ†è¡¨...'</span>)        self.writeDataToNewWorkbook()        print(<span class="hljs-string">'å¼€å§‹å†™å…¥æ ¼å¼è‡³åˆ†è¡¨...'</span>)        self.writeFormatToNewWorkbook()     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">save</span><span class="hljs-params">(self, filename=None)</span>:</span>        <span class="hljs-keyword">if</span> filename == <span class="hljs-literal">None</span>:            splitPath = os.path.split(self.sourceFile)            filename = splitPath[<span class="hljs-number">0</span>] + <span class="hljs-string">'/æ‹†åˆ†_'</span> + splitPath[<span class="hljs-number">1</span>]        self.targetWorkbook.save(filename)        self.sourceWorkbook.close()        self.targetWorkbook.close()        <span class="hljs-keyword">return</span> filename  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">saveWorksheetToWorkbook</span><span class="hljs-params">(object)</span>:</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, excelFile)</span>:</span>        self.excelFile = excelFile     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">saveTo</span><span class="hljs-params">(self, savePath=None, addNumToFilename=True)</span>:</span>        <span class="hljs-keyword">if</span> savePath == <span class="hljs-literal">None</span>:            splitPath = os.path.splitext(self.excelFile)            savePath = splitPath[<span class="hljs-number">0</span>]            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(savePath):                os.makedirs(savePath, exist_ok=<span class="hljs-literal">True</span>)         wb = openpyxl.load_workbook(self.excelFile)        sheetNames = wb.sheetnames        wb.close()         <span class="hljs-comment">#</span>        <span class="hljs-comment"># _input=input('æ­£åœ¨ä¿å­˜å„è¡¨è‡³ç‹¬ç«‹å·¥ä½œè–„ï¼Œæ–‡ä»¶åå‰æ˜¯å¦åŠ åºå·ï¼Ÿ[Y] Y/Nï¼š').strip().lower()</span>        <span class="hljs-comment"># if _input=='n':</span>        <span class="hljs-comment">#     addNumToFilename=False</span>         n=<span class="hljs-number">0</span>        <span class="hljs-keyword">for</span> sheetName <span class="hljs-keyword">in</span> sheetNames:            n+=<span class="hljs-number">1</span>            print(<span class="hljs-string">'ä¿å­˜'</span>, n, sheetName)            wb = openpyxl.load_workbook(self.excelFile)            <span class="hljs-keyword">for</span> ws <span class="hljs-keyword">in</span> wb.worksheets:                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> sheetName == ws.title:                    wb.remove(ws)             xh=<span class="hljs-string">''</span>            <span class="hljs-keyword">if</span> addNumToFilename:                xh=str(n)            filename=<span class="hljs-string">'%s/%s%s.xlsx'</span> % (savePath, xh,sheetName)            wb.save(filename)            wb.close()         <span class="hljs-keyword">return</span> savePath  <span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:    file = <span class="hljs-string">r'C:\Users\Alterem\Desktop\æ±‡æ€».xlsx'</span>    file = sys.argv[<span class="hljs-number">1</span>]    se = splitExcel(file)    <span class="hljs-comment"># file = r'C:\Users\Alterem\Desktop\2019å¹´ç§¯åˆ†æ’åï¼2019-07-09.xlsx'</span>    <span class="hljs-comment"># se = splitExcel(file, 1, 3)</span>    se.make()    f = se.save()    print(<span class="hljs-string">'æ‹†åˆ†æ±‡æ€»æ–‡ä»¶ï¼š'</span>, f)     <span class="hljs-comment"># f=r'C:\Users\Alterem\Desktop\æ±‡æ€».æ‹†åˆ†.xlsx'</span>    saveTo = saveWorksheetToWorkbook(f)    p = saveTo.saveTo()    print(<span class="hljs-string">'æ‹†åˆ†è¡¨ä¿å­˜æ–‡ä»¶å¤¹ï¼š'</span>, p)     input(<span class="hljs-string">'\nå®Œæˆï¼ŒæŒ‰å›è½¦é”®é€€å‡ºã€‚'</span>)</code></pre><p>æ¬¢è¿æå‡ºé—®é¢˜</p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>python</tag>
      
      <tag>excel</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Lombokä»‹ç»ã€ä½¿ç”¨æ–¹æ³•å’Œæ€»ç»“</title>
    <link href="/2019/09/30/Lombok%E4%BB%8B%E7%BB%8D%E3%80%81%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%E5%92%8C%E6%80%BB%E7%BB%93/"/>
    <url>/2019/09/30/Lombok%E4%BB%8B%E7%BB%8D%E3%80%81%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%E5%92%8C%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æ–‡ç« æ¥æºå…¬ä¼—å·ï¼šçŒ¿äººè°·</p></blockquote><h1 id="1-LombokèƒŒæ™¯ä»‹ç»"><a href="#1-LombokèƒŒæ™¯ä»‹ç»" class="headerlink" title="1 LombokèƒŒæ™¯ä»‹ç»"></a>1 LombokèƒŒæ™¯ä»‹ç»</h1><p>å®˜æ–¹ä»‹ç»å¦‚ä¸‹ï¼š</p><pre><code class="hljs tex">Project Lombok makes java a spicier language by adding 'handlers' that know how to build and compile simple, boilerplate-free, not-quite-java code.</code></pre><p>å¤§è‡´æ„æ€æ˜¯Lomboké€šè¿‡å¢åŠ ä¸€äº›â€œå¤„ç†ç¨‹åºâ€ï¼Œå¯ä»¥è®©javaå˜å¾—ç®€æ´ã€å¿«é€Ÿã€‚</p><h1 id="2-Lombokä½¿ç”¨æ–¹æ³•"><a href="#2-Lombokä½¿ç”¨æ–¹æ³•" class="headerlink" title="2 Lombokä½¿ç”¨æ–¹æ³•"></a>2 Lombokä½¿ç”¨æ–¹æ³•</h1><p>Lombokèƒ½ä»¥ç®€å•çš„æ³¨è§£å½¢å¼æ¥ç®€åŒ–javaä»£ç ï¼Œæé«˜å¼€å‘äººå‘˜çš„å¼€å‘æ•ˆç‡ã€‚ä¾‹å¦‚å¼€å‘ä¸­ç»å¸¸éœ€è¦å†™çš„javabeanï¼Œéƒ½éœ€è¦èŠ±æ—¶é—´å»æ·»åŠ ç›¸åº”çš„getter/setterï¼Œä¹Ÿè®¸è¿˜è¦å»å†™æ„é€ å™¨ã€equalsç­‰æ–¹æ³•ï¼Œè€Œä¸”éœ€è¦ç»´æŠ¤ï¼Œå½“å±æ€§å¤šæ—¶ä¼šå‡ºç°å¤§é‡çš„getter/setteræ–¹æ³•ï¼Œè¿™äº›æ˜¾å¾—å¾ˆå†—é•¿ä¹Ÿæ²¡æœ‰å¤ªå¤šæŠ€æœ¯å«é‡ï¼Œä¸€æ—¦ä¿®æ”¹å±æ€§ï¼Œå°±å®¹æ˜“å‡ºç°å¿˜è®°ä¿®æ”¹å¯¹åº”æ–¹æ³•çš„å¤±è¯¯ã€‚</p><p>Lombokèƒ½é€šè¿‡æ³¨è§£çš„æ–¹å¼ï¼Œåœ¨ç¼–è¯‘æ—¶è‡ªåŠ¨ä¸ºå±æ€§ç”Ÿæˆæ„é€ å™¨ã€getter/setterã€equalsã€hashcodeã€toStringæ–¹æ³•ã€‚å‡ºç°çš„ç¥å¥‡å°±æ˜¯åœ¨æºç ä¸­æ²¡æœ‰getterå’Œsetteræ–¹æ³•ï¼Œä½†æ˜¯åœ¨ç¼–è¯‘ç”Ÿæˆçš„å­—èŠ‚ç æ–‡ä»¶ä¸­æœ‰getterå’Œsetteræ–¹æ³•ã€‚è¿™æ ·å°±çœå»äº†æ‰‹åŠ¨é‡å»ºè¿™äº›ä»£ç çš„éº»çƒ¦ï¼Œä½¿ä»£ç çœ‹èµ·æ¥æ›´ç®€æ´äº›ã€‚</p><p>Lombokçš„ä½¿ç”¨è·Ÿå¼•ç”¨jaråŒ…ä¸€æ ·ï¼Œå¯ä»¥åœ¨å®˜ç½‘ï¼ˆ<a href="https://projectlombok.org/downloadï¼‰ä¸‹è½½jaråŒ…ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨mavenæ·»åŠ ä¾èµ–ï¼š" target="_blank" rel="noopener">https://projectlombok.org/downloadï¼‰ä¸‹è½½jaråŒ…ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨mavenæ·»åŠ ä¾èµ–ï¼š</a></p><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.16.20<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥åˆ†æLombokä¸­æ³¨è§£çš„å…·ä½“ç”¨æ³•ã€‚</p><h2 id="2-1-Data"><a href="#2-1-Data" class="headerlink" title="2.1 @Data"></a>2.1 @Data</h2><p>@Dataæ³¨è§£åœ¨ç±»ä¸Šï¼Œä¼šä¸ºç±»çš„æ‰€æœ‰å±æ€§è‡ªåŠ¨ç”Ÿæˆsetter/getterã€equalsã€canEqualã€hashCodeã€toStringæ–¹æ³•ï¼Œå¦‚ä¸ºfinalå±æ€§ï¼Œåˆ™ä¸ä¼šä¸ºè¯¥å±æ€§ç”Ÿæˆsetteræ–¹æ³•ã€‚</p><p>å®˜æ–¹å®ä¾‹å¦‚ä¸‹ï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">import</span> lombok.AccessLevel;<span class="hljs-keyword">import</span> lombok.Setter;<span class="hljs-keyword">import</span> lombok.Data;<span class="hljs-keyword">import</span> lombok.ToString;<span class="hljs-meta">@Data</span> <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DataExample</span> </span>&#123;  <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String name;  <span class="hljs-meta">@Setter</span>(AccessLevel.PACKAGE) <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> age;  <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> score;  <span class="hljs-keyword">private</span> String[] tags;    <span class="hljs-meta">@ToString</span>(includeFieldNames=<span class="hljs-keyword">true</span>)  <span class="hljs-meta">@Data</span>(staticConstructor=<span class="hljs-string">"of"</span>)  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Exercise</span>&lt;<span class="hljs-title">T</span>&gt; </span>&#123;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String name;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> T value;  &#125;&#125;</code></pre><p>å¦‚ä¸ä½¿ç”¨Lombokï¼Œåˆ™å®ç°å¦‚ä¸‹ï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.Arrays;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DataExample</span> </span>&#123;  <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String name;  <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> age;  <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> score;  <span class="hljs-keyword">private</span> String[] tags;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">DataExample</span><span class="hljs-params">(String name)</span> </span>&#123;    <span class="hljs-keyword">this</span>.name = name;  &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.name;  &#125;    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setAge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> age)</span> </span>&#123;    <span class="hljs-keyword">this</span>.age = age;  &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getAge</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.age;  &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setScore</span><span class="hljs-params">(<span class="hljs-keyword">double</span> score)</span> </span>&#123;    <span class="hljs-keyword">this</span>.score = score;  &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getScore</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.score;  &#125;    <span class="hljs-keyword">public</span> String[] getTags() &#123;    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.tags;  &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setTags</span><span class="hljs-params">(String[] tags)</span> </span>&#123;    <span class="hljs-keyword">this</span>.tags = tags;  &#125;    <span class="hljs-meta">@Override</span> <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-keyword">return</span> <span class="hljs-string">"DataExample("</span> + <span class="hljs-keyword">this</span>.getName() + <span class="hljs-string">", "</span> + <span class="hljs-keyword">this</span>.getAge() + <span class="hljs-string">", "</span> + <span class="hljs-keyword">this</span>.getScore() + <span class="hljs-string">", "</span> + Arrays.deepToString(<span class="hljs-keyword">this</span>.getTags()) + <span class="hljs-string">")"</span>;  &#125;    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">canEqual</span><span class="hljs-params">(Object other)</span> </span>&#123;    <span class="hljs-keyword">return</span> other <span class="hljs-keyword">instanceof</span> DataExample;  &#125;    <span class="hljs-meta">@Override</span> <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">equals</span><span class="hljs-params">(Object o)</span> </span>&#123;    <span class="hljs-keyword">if</span> (o == <span class="hljs-keyword">this</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;    <span class="hljs-keyword">if</span> (!(o <span class="hljs-keyword">instanceof</span> DataExample)) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;    DataExample other = (DataExample) o;    <span class="hljs-keyword">if</span> (!other.canEqual((Object)<span class="hljs-keyword">this</span>)) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getName() == <span class="hljs-keyword">null</span> ? other.getName() != <span class="hljs-keyword">null</span> : !<span class="hljs-keyword">this</span>.getName().equals(other.getName())) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getAge() != other.getAge()) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;    <span class="hljs-keyword">if</span> (Double.compare(<span class="hljs-keyword">this</span>.getScore(), other.getScore()) != <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;    <span class="hljs-keyword">if</span> (!Arrays.deepEquals(<span class="hljs-keyword">this</span>.getTags(), other.getTags())) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;  &#125;    <span class="hljs-meta">@Override</span> <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">hashCode</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> PRIME = <span class="hljs-number">59</span>;    <span class="hljs-keyword">int</span> result = <span class="hljs-number">1</span>;    <span class="hljs-keyword">final</span> <span class="hljs-keyword">long</span> temp1 = Double.doubleToLongBits(<span class="hljs-keyword">this</span>.getScore());    result = (result*PRIME) + (<span class="hljs-keyword">this</span>.getName() == <span class="hljs-keyword">null</span> ? <span class="hljs-number">43</span> : <span class="hljs-keyword">this</span>.getName().hashCode());    result = (result*PRIME) + <span class="hljs-keyword">this</span>.getAge();    result = (result*PRIME) + (<span class="hljs-keyword">int</span>)(temp1 ^ (temp1 &gt;&gt;&gt; <span class="hljs-number">32</span>));    result = (result*PRIME) + Arrays.deepHashCode(<span class="hljs-keyword">this</span>.getTags());    <span class="hljs-keyword">return</span> result;  &#125;    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Exercise</span>&lt;<span class="hljs-title">T</span>&gt; </span>&#123;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String name;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> T value;        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">Exercise</span><span class="hljs-params">(String name, T value)</span> </span>&#123;      <span class="hljs-keyword">this</span>.name = name;      <span class="hljs-keyword">this</span>.value = value;    &#125;        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; <span class="hljs-function">Exercise&lt;T&gt; <span class="hljs-title">of</span><span class="hljs-params">(String name, T value)</span> </span>&#123;      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Exercise&lt;T&gt;(name, value);    &#125;        <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.name;    &#125;        <span class="hljs-function"><span class="hljs-keyword">public</span> T <span class="hljs-title">getValue</span><span class="hljs-params">()</span> </span>&#123;      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.value;    &#125;        <span class="hljs-meta">@Override</span> <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;      <span class="hljs-keyword">return</span> <span class="hljs-string">"Exercise(name="</span> + <span class="hljs-keyword">this</span>.getName() + <span class="hljs-string">", value="</span> + <span class="hljs-keyword">this</span>.getValue() + <span class="hljs-string">")"</span>;    &#125;        <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">canEqual</span><span class="hljs-params">(Object other)</span> </span>&#123;      <span class="hljs-keyword">return</span> other <span class="hljs-keyword">instanceof</span> Exercise;    &#125;        <span class="hljs-meta">@Override</span> <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">equals</span><span class="hljs-params">(Object o)</span> </span>&#123;      <span class="hljs-keyword">if</span> (o == <span class="hljs-keyword">this</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;      <span class="hljs-keyword">if</span> (!(o <span class="hljs-keyword">instanceof</span> Exercise)) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;      Exercise&lt;?&gt; other = (Exercise&lt;?&gt;) o;      <span class="hljs-keyword">if</span> (!other.canEqual((Object)<span class="hljs-keyword">this</span>)) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getName() == <span class="hljs-keyword">null</span> ? other.getValue() != <span class="hljs-keyword">null</span> : !<span class="hljs-keyword">this</span>.getName().equals(other.getName())) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getValue() == <span class="hljs-keyword">null</span> ? other.getValue() != <span class="hljs-keyword">null</span> : !<span class="hljs-keyword">this</span>.getValue().equals(other.getValue())) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;      <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;    &#125;        <span class="hljs-meta">@Override</span> <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">hashCode</span><span class="hljs-params">()</span> </span>&#123;      <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> PRIME = <span class="hljs-number">59</span>;      <span class="hljs-keyword">int</span> result = <span class="hljs-number">1</span>;      result = (result*PRIME) + (<span class="hljs-keyword">this</span>.getName() == <span class="hljs-keyword">null</span> ? <span class="hljs-number">43</span> : <span class="hljs-keyword">this</span>.getName().hashCode());      result = (result*PRIME) + (<span class="hljs-keyword">this</span>.getValue() == <span class="hljs-keyword">null</span> ? <span class="hljs-number">43</span> : <span class="hljs-keyword">this</span>.getValue().hashCode());      <span class="hljs-keyword">return</span> result;    &#125;  &#125;&#125;</code></pre><h2 id="2-2-Getter-Setter"><a href="#2-2-Getter-Setter" class="headerlink" title="2.2 @Getter/@Setter"></a>2.2 @Getter/@Setter</h2><p>å¦‚æœè§‰å¾—@Dataå¤ªè¿‡æ®‹æš´ï¼ˆå› ä¸º@Dataé›†åˆäº†@ToStringã€@EqualsAndHashCodeã€@Getter/@Setterã€@RequiredArgsConstructorçš„æ‰€æœ‰ç‰¹æ€§ï¼‰ä¸å¤Ÿç²¾ç»†ï¼Œå¯ä»¥ä½¿ç”¨@Getter/@Setteræ³¨è§£ï¼Œæ­¤æ³¨è§£åœ¨å±æ€§ä¸Šï¼Œå¯ä»¥ä¸ºç›¸åº”çš„å±æ€§è‡ªåŠ¨ç”ŸæˆGetter/Setteræ–¹æ³•ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">import</span> lombok.AccessLevel;<span class="hljs-keyword">import</span> lombok.Getter;<span class="hljs-keyword">import</span> lombok.Setter;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GetterSetterExample</span> </span>&#123;  <span class="hljs-meta">@Getter</span> <span class="hljs-meta">@Setter</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> age = <span class="hljs-number">10</span>;    <span class="hljs-meta">@Setter</span>(AccessLevel.PROTECTED) <span class="hljs-keyword">private</span> String name;    <span class="hljs-meta">@Override</span> <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"%s (age: %d)"</span>, name, age);  &#125;&#125;</code></pre><p>å¦‚æœä¸ä½¿ç”¨Lombokï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GetterSetterExample</span> </span>&#123;  <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> age = <span class="hljs-number">10</span>;  <span class="hljs-keyword">private</span> String name;    <span class="hljs-meta">@Override</span> <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"%s (age: %d)"</span>, name, age);  &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getAge</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-keyword">return</span> age;  &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setAge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> age)</span> </span>&#123;    <span class="hljs-keyword">this</span>.age = age;  &#125;    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>&#123;    <span class="hljs-keyword">this</span>.name = name;  &#125;&#125;</code></pre><h2 id="2-3-NonNull"><a href="#2-3-NonNull" class="headerlink" title="2.3 @NonNull"></a>2.3 @NonNull</h2><p>è¯¥æ³¨è§£ç”¨åœ¨å±æ€§æˆ–æ„é€ å™¨ä¸Šï¼ŒLombokä¼šç”Ÿæˆä¸€ä¸ªéç©ºçš„å£°æ˜ï¼Œå¯ç”¨äºæ ¡éªŒå‚æ•°ï¼Œèƒ½å¸®åŠ©é¿å…ç©ºæŒ‡é’ˆã€‚</p><p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">import</span> lombok.NonNull;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NonNullExample</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Something</span> </span>&#123;  <span class="hljs-keyword">private</span> String name;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">NonNullExample</span><span class="hljs-params">(@NonNull Person person)</span> </span>&#123;    <span class="hljs-keyword">super</span>(<span class="hljs-string">"Hello"</span>);    <span class="hljs-keyword">this</span>.name = person.getName();  &#125;&#125;</code></pre><p>ä¸ä½¿ç”¨Lombokï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">import</span> lombok.NonNull;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NonNullExample</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Something</span> </span>&#123;  <span class="hljs-keyword">private</span> String name;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">NonNullExample</span><span class="hljs-params">(@NonNull Person person)</span> </span>&#123;    <span class="hljs-keyword">super</span>(<span class="hljs-string">"Hello"</span>);    <span class="hljs-keyword">if</span> (person == <span class="hljs-keyword">null</span>) &#123;      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException(<span class="hljs-string">"person"</span>);    &#125;    <span class="hljs-keyword">this</span>.name = person.getName();  &#125;&#125;</code></pre><h2 id="2-4-Cleanup"><a href="#2-4-Cleanup" class="headerlink" title="2.4 @Cleanup"></a>2.4 @Cleanup</h2><p>è¯¥æ³¨è§£èƒ½å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨è°ƒç”¨close()æ–¹æ³•ï¼Œå¾ˆå¤§çš„ç®€åŒ–äº†ä»£ç ã€‚</p><p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">import</span> lombok.Cleanup;<span class="hljs-keyword">import</span> java.io.*;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CleanupExample</span> </span>&#123;  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;    <span class="hljs-meta">@Cleanup</span> InputStream in = <span class="hljs-keyword">new</span> FileInputStream(args[<span class="hljs-number">0</span>]);    <span class="hljs-meta">@Cleanup</span> OutputStream out = <span class="hljs-keyword">new</span> FileOutputStream(args[<span class="hljs-number">1</span>]);    <span class="hljs-keyword">byte</span>[] b = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">10000</span>];    <span class="hljs-keyword">while</span> (<span class="hljs-keyword">true</span>) &#123;      <span class="hljs-keyword">int</span> r = in.read(b);      <span class="hljs-keyword">if</span> (r == -<span class="hljs-number">1</span>) <span class="hljs-keyword">break</span>;      out.write(b, <span class="hljs-number">0</span>, r);    &#125;  &#125;&#125;</code></pre><p>å¦‚ä¸ä½¿ç”¨Lombokï¼Œåˆ™éœ€å¦‚ä¸‹ï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.*;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CleanupExample</span> </span>&#123;  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;    InputStream in = <span class="hljs-keyword">new</span> FileInputStream(args[<span class="hljs-number">0</span>]);    <span class="hljs-keyword">try</span> &#123;      OutputStream out = <span class="hljs-keyword">new</span> FileOutputStream(args[<span class="hljs-number">1</span>]);      <span class="hljs-keyword">try</span> &#123;        <span class="hljs-keyword">byte</span>[] b = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">10000</span>];        <span class="hljs-keyword">while</span> (<span class="hljs-keyword">true</span>) &#123;          <span class="hljs-keyword">int</span> r = in.read(b);          <span class="hljs-keyword">if</span> (r == -<span class="hljs-number">1</span>) <span class="hljs-keyword">break</span>;          out.write(b, <span class="hljs-number">0</span>, r);        &#125;      &#125; <span class="hljs-keyword">finally</span> &#123;        <span class="hljs-keyword">if</span> (out != <span class="hljs-keyword">null</span>) &#123;          out.close();        &#125;      &#125;    &#125; <span class="hljs-keyword">finally</span> &#123;      <span class="hljs-keyword">if</span> (in != <span class="hljs-keyword">null</span>) &#123;        in.close();      &#125;    &#125;  &#125;&#125;</code></pre><h2 id="2-5-EqualsAndHashCode"><a href="#2-5-EqualsAndHashCode" class="headerlink" title="2.5 @EqualsAndHashCode"></a>2.5 @EqualsAndHashCode</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä¼šä½¿ç”¨æ‰€æœ‰éé™æ€ï¼ˆnon-staticï¼‰å’Œéç¬æ€ï¼ˆnon-transientï¼‰å±æ€§æ¥ç”Ÿæˆequalså’ŒhasCodeï¼Œä¹Ÿèƒ½é€šè¿‡excludeæ³¨è§£æ¥æ’é™¤ä¸€äº›å±æ€§ã€‚</p><p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">import</span> lombok.EqualsAndHashCode;<span class="hljs-meta">@EqualsAndHashCode</span>(exclude=&#123;<span class="hljs-string">"id"</span>, <span class="hljs-string">"shape"</span>&#125;)<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EqualsAndHashCodeExample</span> </span>&#123;  <span class="hljs-keyword">private</span> <span class="hljs-keyword">transient</span> <span class="hljs-keyword">int</span> transientVar = <span class="hljs-number">10</span>;  <span class="hljs-keyword">private</span> String name;  <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> score;  <span class="hljs-keyword">private</span> Shape shape = <span class="hljs-keyword">new</span> Square(<span class="hljs-number">5</span>, <span class="hljs-number">10</span>);  <span class="hljs-keyword">private</span> String[] tags;  <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.name;  &#125;    <span class="hljs-meta">@EqualsAndHashCode</span>(callSuper=<span class="hljs-keyword">true</span>)  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Square</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Shape</span> </span>&#123;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> width, height;        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Square</span><span class="hljs-params">(<span class="hljs-keyword">int</span> width, <span class="hljs-keyword">int</span> height)</span> </span>&#123;      <span class="hljs-keyword">this</span>.width = width;      <span class="hljs-keyword">this</span>.height = height;    &#125;  &#125;&#125;</code></pre><h2 id="2-6-ToString"><a href="#2-6-ToString" class="headerlink" title="2.6 @ToString"></a>2.6 @ToString</h2><p>ç±»ä½¿ç”¨@ToStringæ³¨è§£ï¼ŒLombokä¼šç”Ÿæˆä¸€ä¸ªtoString()æ–¹æ³•ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œä¼šè¾“å‡ºç±»åã€æ‰€æœ‰å±æ€§ï¼ˆä¼šæŒ‰ç…§å±æ€§å®šä¹‰é¡ºåºï¼‰ï¼Œç”¨é€—å·æ¥åˆ†å‰²ã€‚</p><p>é€šè¿‡å°†<code>includeFieldNames</code>å‚æ•°è®¾ä¸ºtrueï¼Œå°±èƒ½æ˜ç¡®çš„è¾“å‡ºtoString()å±æ€§ã€‚è¿™ä¸€ç‚¹æ˜¯ä¸æ˜¯æœ‰ç‚¹ç»•å£ï¼Œé€šè¿‡ä»£ç æ¥çœ‹ä¼šæ›´æ¸…æ™°äº›ã€‚</p><p>ä½¿ç”¨Lombokçš„ç¤ºä¾‹ï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">import</span> lombok.ToString;<span class="hljs-meta">@ToString</span>(exclude=<span class="hljs-string">"id"</span>)<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ToStringExample</span> </span>&#123;  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> STATIC_VAR = <span class="hljs-number">10</span>;  <span class="hljs-keyword">private</span> String name;  <span class="hljs-keyword">private</span> Shape shape = <span class="hljs-keyword">new</span> Square(<span class="hljs-number">5</span>, <span class="hljs-number">10</span>);  <span class="hljs-keyword">private</span> String[] tags;  <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getName();  &#125;    <span class="hljs-meta">@ToString</span>(callSuper=<span class="hljs-keyword">true</span>, includeFieldNames=<span class="hljs-keyword">true</span>)  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Square</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Shape</span> </span>&#123;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> width, height;        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Square</span><span class="hljs-params">(<span class="hljs-keyword">int</span> width, <span class="hljs-keyword">int</span> height)</span> </span>&#123;      <span class="hljs-keyword">this</span>.width = width;      <span class="hljs-keyword">this</span>.height = height;    &#125;  &#125;&#125;</code></pre><p>ä¸ä½¿ç”¨Lombokçš„ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.Arrays;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ToStringExample</span> </span>&#123;  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> STATIC_VAR = <span class="hljs-number">10</span>;  <span class="hljs-keyword">private</span> String name;  <span class="hljs-keyword">private</span> Shape shape = <span class="hljs-keyword">new</span> Square(<span class="hljs-number">5</span>, <span class="hljs-number">10</span>);  <span class="hljs-keyword">private</span> String[] tags;  <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getName();  &#125;    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Square</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Shape</span> </span>&#123;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> width, height;        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Square</span><span class="hljs-params">(<span class="hljs-keyword">int</span> width, <span class="hljs-keyword">int</span> height)</span> </span>&#123;      <span class="hljs-keyword">this</span>.width = width;      <span class="hljs-keyword">this</span>.height = height;    &#125;        <span class="hljs-meta">@Override</span> <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;      <span class="hljs-keyword">return</span> <span class="hljs-string">"Square(super="</span> + <span class="hljs-keyword">super</span>.toString() + <span class="hljs-string">", width="</span> + <span class="hljs-keyword">this</span>.width + <span class="hljs-string">", height="</span> + <span class="hljs-keyword">this</span>.height + <span class="hljs-string">")"</span>;    &#125;  &#125;    <span class="hljs-meta">@Override</span> <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-keyword">return</span> <span class="hljs-string">"ToStringExample("</span> + <span class="hljs-keyword">this</span>.getName() + <span class="hljs-string">", "</span> + <span class="hljs-keyword">this</span>.shape + <span class="hljs-string">", "</span> + Arrays.deepToString(<span class="hljs-keyword">this</span>.tags) + <span class="hljs-string">")"</span>;  &#125;&#125;</code></pre><h2 id="2-7-NoArgsConstructor-RequiredArgsConstructor-and-AllArgsConstructor"><a href="#2-7-NoArgsConstructor-RequiredArgsConstructor-and-AllArgsConstructor" class="headerlink" title="2.7 @NoArgsConstructor, @RequiredArgsConstructor and @AllArgsConstructor"></a>2.7 @NoArgsConstructor, @RequiredArgsConstructor and @AllArgsConstructor</h2><p>æ— å‚æ„é€ å™¨ã€éƒ¨åˆ†å‚æ•°æ„é€ å™¨ã€å…¨å‚æ„é€ å™¨ã€‚Lombokæ²¡æ³•å®ç°å¤šç§å‚æ•°æ„é€ å™¨çš„é‡è½½ã€‚</p><p>Lombokç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">import</span> lombok.AccessLevel;<span class="hljs-keyword">import</span> lombok.RequiredArgsConstructor;<span class="hljs-keyword">import</span> lombok.AllArgsConstructor;<span class="hljs-keyword">import</span> lombok.NonNull;<span class="hljs-meta">@RequiredArgsConstructor</span>(staticName = <span class="hljs-string">"of"</span>)<span class="hljs-meta">@AllArgsConstructor</span>(access = AccessLevel.PROTECTED)<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConstructorExample</span>&lt;<span class="hljs-title">T</span>&gt; </span>&#123;  <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> x, y;  <span class="hljs-meta">@NonNull</span> <span class="hljs-keyword">private</span> T description;    <span class="hljs-meta">@NoArgsConstructor</span>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NoArgsExample</span> </span>&#123;    <span class="hljs-meta">@NonNull</span> <span class="hljs-keyword">private</span> String field;  &#125;&#125;</code></pre><p>ä¸ä½¿ç”¨Lombokçš„ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConstructorExample</span>&lt;<span class="hljs-title">T</span>&gt; </span>&#123;  <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> x, y;  <span class="hljs-meta">@NonNull</span> <span class="hljs-keyword">private</span> T description;    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">ConstructorExample</span><span class="hljs-params">(T description)</span> </span>&#123;    <span class="hljs-keyword">if</span> (description == <span class="hljs-keyword">null</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException(<span class="hljs-string">"description"</span>);    <span class="hljs-keyword">this</span>.description = description;  &#125;    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; <span class="hljs-function">ConstructorExample&lt;T&gt; <span class="hljs-title">of</span><span class="hljs-params">(T description)</span> </span>&#123;    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ConstructorExample&lt;T&gt;(description);  &#125;    <span class="hljs-meta">@java</span>.beans.ConstructorProperties(&#123;<span class="hljs-string">"x"</span>, <span class="hljs-string">"y"</span>, <span class="hljs-string">"description"</span>&#125;)  <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-title">ConstructorExample</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, T description)</span> </span>&#123;    <span class="hljs-keyword">if</span> (description == <span class="hljs-keyword">null</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException(<span class="hljs-string">"description"</span>);    <span class="hljs-keyword">this</span>.x = x;    <span class="hljs-keyword">this</span>.y = y;    <span class="hljs-keyword">this</span>.description = description;  &#125;    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NoArgsExample</span> </span>&#123;    <span class="hljs-meta">@NonNull</span> <span class="hljs-keyword">private</span> String field;        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">NoArgsExample</span><span class="hljs-params">()</span> </span>&#123;    &#125;  &#125;&#125;</code></pre><h1 id="3-Lombokå·¥ä½œåŸç†åˆ†æ"><a href="#3-Lombokå·¥ä½œåŸç†åˆ†æ" class="headerlink" title="3 Lombokå·¥ä½œåŸç†åˆ†æ"></a>3 Lombokå·¥ä½œåŸç†åˆ†æ</h1><p>ä¼šå‘ç°åœ¨Lombokä½¿ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œåªéœ€è¦æ·»åŠ ç›¸åº”çš„æ³¨è§£ï¼Œæ— éœ€å†ä¸ºæ­¤å†™ä»»ä½•ä»£ç ã€‚è‡ªåŠ¨ç”Ÿæˆçš„ä»£ç åˆ°åº•æ˜¯å¦‚ä½•äº§ç”Ÿçš„å‘¢ï¼Ÿ</p><p>æ ¸å¿ƒä¹‹å¤„å°±æ˜¯å¯¹äºæ³¨è§£çš„è§£æä¸Šã€‚JDK5å¼•å…¥äº†æ³¨è§£çš„åŒæ—¶ï¼Œä¹Ÿæä¾›äº†ä¸¤ç§è§£ææ–¹å¼ã€‚</p><ul><li>è¿è¡Œæ—¶è§£æ</li></ul><p>è¿è¡Œæ—¶èƒ½å¤Ÿè§£æçš„æ³¨è§£ï¼Œå¿…é¡»å°†@Retentionè®¾ç½®ä¸ºRUNTIMEï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡åå°„æ‹¿åˆ°è¯¥æ³¨è§£ã€‚java.lang,reflectåå°„åŒ…ä¸­æä¾›äº†ä¸€ä¸ªæ¥å£AnnotatedElementï¼Œè¯¥æ¥å£å®šä¹‰äº†è·å–æ³¨è§£ä¿¡æ¯çš„å‡ ä¸ªæ–¹æ³•ï¼ŒClassã€Constructorã€Fieldã€Methodã€Packageç­‰éƒ½å®ç°äº†è¯¥æ¥å£ï¼Œå¯¹åå°„ç†Ÿæ‚‰çš„æœ‹å‹åº”è¯¥éƒ½ä¼šå¾ˆç†Ÿæ‚‰è¿™ç§è§£ææ–¹å¼ã€‚</p><ul><li>ç¼–è¯‘æ—¶è§£æ</li></ul><p>ç¼–è¯‘æ—¶è§£ææœ‰ä¸¤ç§æœºåˆ¶ï¼Œåˆ†åˆ«ç®€å•æè¿°ä¸‹ï¼š</p><p>1ï¼‰Annotation Processing Tool</p><p>aptè‡ªJDK5äº§ç”Ÿï¼ŒJDK7å·²æ ‡è®°ä¸ºè¿‡æœŸï¼Œä¸æ¨èä½¿ç”¨ï¼ŒJDK8ä¸­å·²å½»åº•åˆ é™¤ï¼Œè‡ªJDK6å¼€å§‹ï¼Œå¯ä»¥ä½¿ç”¨Pluggable Annotation Processing APIæ¥æ›¿æ¢å®ƒï¼Œaptè¢«æ›¿æ¢ä¸»è¦æœ‰2ç‚¹åŸå› ï¼š</p><ul><li>apiéƒ½åœ¨com.sun.mirroréæ ‡å‡†åŒ…ä¸‹</li><li>æ²¡æœ‰é›†æˆåˆ°javacä¸­ï¼Œéœ€è¦é¢å¤–è¿è¡Œ</li></ul><p>2ï¼‰Pluggable Annotation Processing API</p><p><a href="https://jcp.org/en/jsr/detail?id=269" target="_blank" rel="noopener">JSR 269</a>è‡ªJDK6åŠ å…¥ï¼Œä½œä¸ºaptçš„æ›¿ä»£æ–¹æ¡ˆï¼Œå®ƒè§£å†³äº†aptçš„ä¸¤ä¸ªé—®é¢˜ï¼Œjavacåœ¨æ‰§è¡Œçš„æ—¶å€™ä¼šè°ƒç”¨å®ç°äº†è¯¥APIçš„ç¨‹åºï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¯¹ç¼–è¯‘å™¨åšä¸€äº›å¢å¼ºï¼Œè¿™æ—¶javacæ‰§è¡Œçš„è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymsf9xjbj30go0230sq.jpg" srcset="/img/loading.gif" alt="123"></p><p>Lombokæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå®ç°äº†â€œ<a href="https://www.jcp.org/en/jsr/detail?id=269" target="_blank" rel="noopener">JSR 269 API</a>â€çš„ç¨‹åºã€‚åœ¨ä½¿ç”¨javacçš„è¿‡ç¨‹ä¸­ï¼Œå®ƒäº§ç”Ÿä½œç”¨çš„å…·ä½“æµç¨‹å¦‚ä¸‹ï¼š</p><ol><li>javacå¯¹æºä»£ç è¿›è¡Œåˆ†æï¼Œç”Ÿæˆäº†ä¸€æ£µæŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰</li><li>è¿è¡Œè¿‡ç¨‹ä¸­è°ƒç”¨å®ç°äº†â€œJSR 269 APIâ€çš„Lombokç¨‹åº</li><li>æ­¤æ—¶Lombokå°±å¯¹ç¬¬ä¸€æ­¥éª¤å¾—åˆ°çš„ASTè¿›è¡Œå¤„ç†ï¼Œæ‰¾åˆ°@Dataæ³¨è§£æ‰€åœ¨ç±»å¯¹åº”çš„è¯­æ³•æ ‘ï¼ˆASTï¼‰ï¼Œç„¶åä¿®æ”¹è¯¥è¯­æ³•æ ‘ï¼ˆASTï¼‰ï¼Œå¢åŠ getterå’Œsetteræ–¹æ³•å®šä¹‰çš„ç›¸åº”æ ‘èŠ‚ç‚¹</li><li>javacä½¿ç”¨ä¿®æ”¹åçš„æŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰ç”Ÿæˆå­—èŠ‚ç æ–‡ä»¶ï¼Œå³ç»™classå¢åŠ æ–°çš„èŠ‚ç‚¹ï¼ˆä»£ç å—ï¼‰</li></ol><p>æ‹œè¯»äº†Lombokæºç ï¼Œå¯¹åº”æ³¨è§£çš„å®ç°éƒ½åœ¨HandleXXXä¸­ï¼Œæ¯”å¦‚@Getteræ³¨è§£çš„å®ç°æ—¶HandleGetter.handle()ã€‚è¿˜æœ‰ä¸€äº›å…¶å®ƒç±»åº“ä½¿ç”¨è¿™ç§æ–¹å¼å®ç°ï¼Œæ¯”å¦‚<a href="https://github.com/google/auto" target="_blank" rel="noopener">Google Auto</a>ã€<a href="http://square.github.io/dagger/" target="_blank" rel="noopener">Dagger</a>ç­‰ç­‰ã€‚</p><h1 id="4-Lombokçš„ä¼˜ç¼ºç‚¹"><a href="#4-Lombokçš„ä¼˜ç¼ºç‚¹" class="headerlink" title="4. Lombokçš„ä¼˜ç¼ºç‚¹"></a>4. Lombokçš„ä¼˜ç¼ºç‚¹</h1><p>ä¼˜ç‚¹ï¼š</p><ol><li>èƒ½é€šè¿‡æ³¨è§£çš„å½¢å¼è‡ªåŠ¨ç”Ÿæˆæ„é€ å™¨ã€getter/setterã€equalsã€hashcodeã€toStringç­‰æ–¹æ³•ï¼Œæé«˜äº†ä¸€å®šçš„å¼€å‘æ•ˆç‡</li><li>è®©ä»£ç å˜å¾—ç®€æ´ï¼Œä¸ç”¨è¿‡å¤šçš„å»å…³æ³¨ç›¸åº”çš„æ–¹æ³•</li><li>å±æ€§åšä¿®æ”¹æ—¶ï¼Œä¹Ÿç®€åŒ–äº†ç»´æŠ¤ä¸ºè¿™äº›å±æ€§æ‰€ç”Ÿæˆçš„getter/setteræ–¹æ³•ç­‰</li></ol><p>ç¼ºç‚¹ï¼š</p><ol><li>ä¸æ”¯æŒå¤šç§å‚æ•°æ„é€ å™¨çš„é‡è½½</li><li>è™½ç„¶çœå»äº†æ‰‹åŠ¨åˆ›å»ºgetter/setteræ–¹æ³•çš„éº»çƒ¦ï¼Œä½†å¤§å¤§é™ä½äº†æºä»£ç çš„å¯è¯»æ€§å’Œå®Œæ•´æ€§ï¼Œé™ä½äº†é˜…è¯»æºä»£ç çš„èˆ’é€‚åº¦</li></ol><h1 id="5-æ€»ç»“"><a href="#5-æ€»ç»“" class="headerlink" title="5. æ€»ç»“"></a>5. æ€»ç»“</h1><p>Lombokè™½ç„¶æœ‰å¾ˆå¤šä¼˜ç‚¹ï¼Œä½†Lombokæ›´ç±»ä¼¼äºä¸€ç§IDEæ’ä»¶ï¼Œé¡¹ç›®ä¹Ÿéœ€è¦ä¾èµ–ç›¸åº”çš„jaråŒ…ã€‚Lombokä¾èµ–jaråŒ…æ˜¯å› ä¸ºç¼–è¯‘æ—¶è¦ç”¨å®ƒçš„æ³¨è§£ï¼Œä¸ºä»€ä¹ˆè¯´å®ƒåˆç±»ä¼¼æ’ä»¶ï¼Ÿå› ä¸ºåœ¨ä½¿ç”¨æ—¶ï¼Œeclipseæˆ–IntelliJ IDEAéƒ½éœ€è¦å®‰è£…ç›¸åº”çš„æ’ä»¶ï¼Œåœ¨ç¼–è¯‘å™¨ç¼–è¯‘æ—¶é€šè¿‡æ“ä½œASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰æ”¹å˜å­—èŠ‚ç ç”Ÿæˆï¼Œå˜å‘çš„å°±æ˜¯è¯´å®ƒåœ¨æ”¹å˜javaè¯­æ³•ã€‚å®ƒä¸åƒspringçš„ä¾èµ–æ³¨å…¥æˆ–è€…mybatisçš„ORMä¸€æ ·æ˜¯è¿è¡Œæ—¶çš„ç‰¹æ€§ï¼Œè€Œæ˜¯ç¼–è¯‘æ—¶çš„ç‰¹æ€§ã€‚è¿™é‡Œæˆ‘ä¸ªäººæœ€æ„Ÿè§‰ä¸çˆ½çš„åœ°æ–¹å°±æ˜¯å¯¹æ’ä»¶çš„ä¾èµ–ï¼å› ä¸ºLombokåªæ˜¯çœå»äº†ä¸€äº›äººå·¥ç”Ÿæˆä»£ç çš„éº»çƒ¦ï¼Œä½†IDEéƒ½æœ‰å¿«æ·é”®æ¥ååŠ©ç”Ÿæˆgetter/setterç­‰æ–¹æ³•ï¼Œä¹Ÿéå¸¸æ–¹ä¾¿ã€‚</p><p>çŸ¥ä¹ä¸Šæœ‰ä½å¤§ç¥å‘è¡¨è¿‡å¯¹Lombokçš„ä¸€äº›çœ‹æ³•ï¼š</p><pre><code class="hljs tex">è¿™æ˜¯ä¸€ç§ä½çº§è¶£å‘³çš„æ’ä»¶ï¼Œä¸å»ºè®®ä½¿ç”¨ã€‚JAVAå‘å±•åˆ°ä»Šå¤©ï¼Œå„ç§æ’ä»¶å±‚å‡ºä¸ç©·ï¼Œå¦‚ä½•ç”„åˆ«å„ç§æ’ä»¶çš„ä¼˜åŠ£ï¼Ÿèƒ½ä»æ¶æ„ä¸Šä¼˜åŒ–ä½ çš„è®¾è®¡çš„ï¼Œèƒ½æé«˜åº”ç”¨ç¨‹åºæ€§èƒ½çš„ ï¼Œå®ç°é«˜åº¦å°è£…å¯æ‰©å±•çš„...ï¼Œ åƒlombokè¿™ç§ï¼Œåƒè¿™ç§æ’ä»¶ï¼Œå·²ç»ä¸ä»…ä»…æ˜¯æ’ä»¶äº†ï¼Œæ”¹å˜äº†ä½ å¦‚ä½•ç¼–å†™æºç ï¼Œäº‹å®ä¸Šï¼Œå°‘å»äº†ä»£ç ä½ å†™ä¸Šå»åˆå¦‚ä½•ï¼Ÿ å¦‚æœJAVAå®¶æ—åˆ°å¤„å……æ–¥è¿™æ ·çš„ä¸œè¥¿ï¼Œé‚£åªä¸è¿‡æ˜¯ä¸€å¨æŠ«ç€é‡‘å±é¢œè‰²çš„å±ï¼Œè¿Ÿæ—©ä¼šè¢«å…¶å®ƒçš„è¯­è¨€å–ä»£ã€‚</code></pre><p>è™½ç„¶è¯ç³™ä½†ç†ç¡®å®ä¸ç³™ï¼Œè¯•æƒ³ä¸€ä¸ªé¡¹ç›®æœ‰éå¸¸å¤šç±»ä¼¼Lombokè¿™æ ·çš„æ’ä»¶ï¼Œä¸ªäººè§‰å¾—çœŸçš„ä¼šæå¤§çš„é™ä½é˜…è¯»æºä»£ç çš„èˆ’é€‚åº¦ã€‚</p><p>è™½ç„¶éå¸¸ä¸å»ºè®®åœ¨å±æ€§çš„getter/setterå†™ä¸€äº›ä¸šåŠ¡ä»£ç ï¼Œä½†åœ¨å¤šå¹´é¡¹ç›®çš„å®æˆ˜ä¸­ï¼Œæœ‰æ—¶é€šè¿‡ç»™getter/setteråŠ ä¸€ç‚¹ç‚¹ä¸šåŠ¡ä»£ç ï¼Œèƒ½æå¤§çš„ç®€åŒ–æŸäº›ä¸šåŠ¡åœºæ™¯çš„ä»£ç ã€‚æ‰€è°“å–èˆï¼Œä¹Ÿè®¸å°±æ˜¯è¿™æ—¶çš„èˆå¼ƒä¸€å®šçš„è§„èŒƒï¼Œå–å¾—æå¤§çš„æ–¹ä¾¿ã€‚</p><p>æˆ‘ç°åœ¨éå¸¸åšä¿¡ä¸€æ¡ç†å¿µï¼Œä»»ä½•ç¼–ç¨‹è¯­è¨€æˆ–æ’ä»¶ï¼Œéƒ½ä»…ä»…åªæ˜¯å·¥å…·è€Œå·²ï¼Œå³ä½¿å·¥å…·å†å¼ºå¤§ä¹Ÿåœ¨äºç”¨çš„äººï¼Œå°±å¦‚åŒå°ç±³åŠ æ­¥æªç…§æ ·èƒ½èµ¢é£æœºå¤§ç‚®çš„é“ç†ä¸€æ ·ã€‚ç»“åˆå…·ä½“ä¸šåŠ¡åœºæ™¯å’Œé¡¹ç›®å®é™…æƒ…å†µï¼Œæ— éœ€ä¸€å‘³è¿½æ±‚é«˜å¤§ä¸Šçš„æŠ€æœ¯ï¼Œé€‚åˆçš„æ‰æ˜¯ç‹é“ã€‚</p><p>Lombokæœ‰å®ƒçš„å¾—å¤©ç‹¬åšçš„ä¼˜ç‚¹ï¼Œä¹Ÿæœ‰å®ƒé¿ä¹‹ä¸åŠçš„ç¼ºç‚¹ï¼Œç†ŸçŸ¥å…¶ä¼˜ç¼ºç‚¹ï¼Œåœ¨å®æˆ˜ä¸­çµæ´»è¿ç”¨æ‰æ˜¯ç‹é“ã€‚</p><p>å‚è€ƒï¼š</p><p><a href="https://projectlombok.org/features/" target="_blank" rel="noopener">https://projectlombok.org/features/</a></p><p><a href="https://github.com/rzwitserloot/lombok?spm=a2c4e.11153940.blogcont59972.5.2aeb6d32hayLHv" target="_blank" rel="noopener">https://github.com/rzwitserloot/lombok?spm=a2c4e.11153940.blogcont59972.5.2aeb6d32hayLHv</a></p><p><a href="https://www.zhihu.com/question/42348457" target="_blank" rel="noopener">https://www.zhihu.com/question/42348457</a></p><p><a href="https://blog.csdn.net/ghsau/article/details/52334762" target="_blank" rel="noopener">https://blog.csdn.net/ghsau/article/details/52334762</a></p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é«˜å¯ç”¨çš„ä¸€äº›æ€è€ƒå’Œç†è§£</title>
    <link href="/2019/09/29/%E9%AB%98%E5%8F%AF%E7%94%A8%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83%E5%92%8C%E7%90%86%E8%A7%A3/"/>
    <url>/2019/09/29/%E9%AB%98%E5%8F%AF%E7%94%A8%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83%E5%92%8C%E7%90%86%E8%A7%A3/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡æ¥æºå…¬ä¼—å·ï¼šåŒ å¿ƒé›¶åº¦</p></blockquote><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymp28hfsj30hs0c3752.jpg" srcset="/img/loading.gif" alt="img"></p><p>åœ¨ç›®å‰çš„äº’è”ç½‘å¤§æ—¶ä»£ï¼Œåœ¨é«˜å¹¶å‘ç­‰å†²å‡»ä¸‹ï¼Œè¿˜å¿…é¡»ä¿è¯<strong>æœåŠ¡é«˜å¯ç”¨</strong>ï¼Œå¦‚æœæœåŠ¡ä¸é«˜å¯ç”¨é‚£ä¹ˆæ„å‘³ç€ï¼š</p><ul><li>ç³»ç»Ÿä¸æ˜¯7*24å°æ—¶æä¾›æœåŠ¡ï¼Œé‚£ä¹ˆç”¨æˆ·ä½“éªŒå°±ç‰¹åˆ«å·®äº†ï¼Œå¯èƒ½ç”¨æˆ·ä¸‹æ¬¡ä¸ç”¨äº†ï¼Œç•™ä¸ä½ç”¨æˆ·ã€‚</li><li>å½“ç³»ç»Ÿä¸å¯ç”¨çš„æ—¶å€™ï¼Œå¯¹å…¬å¸çš„å½¢è±¡æ˜¯æœ‰æ‰€å½±å“çš„ï¼ŒBATç±»ä¼¼è¿™ç§æŠ€æœ¯éƒ½æ˜¯è±¡å¾çš„ã€‚</li><li>æœ€é‡è¦çš„ä¸€ç‚¹ï¼Œå½“ç³»ç»Ÿä¸å¯ç”¨çš„æ—¶å€™ï¼Œç›´æ¥æŸå¤±å°±æ˜¯é‡‘é’±ï¼ï¼ï¼åŸºæœ¬éƒ½æ˜¯ç§’ç®—æŸå¤±çš„ï¼Œä¾ç¨€è®°å¾—<strong>2015å¹´5æœˆ28æ—¥æºç¨‹ç½‘ç˜«ç—ªäº‹ä»¶</strong>ï¼ŒæŒ‰ç…§æºç¨‹ä¸€å­£åº¦è´¢æŠ¥å…¬å¸ƒçš„æ•°æ®ï¼Œæºç¨‹å®•æœºçš„æŸå¤±ä¸ºå¹³å‡æ¯å°æ—¶106.48ä¸‡ç¾å…ƒã€‚</li></ul><p>é«˜å¯ç”¨æ˜¯éå¸¸å¤æ‚çš„ï¼Œè‡ªå·±æ°´å¹³æœ‰é™ï¼Œå¹¶ä¸èƒ½æ¶µç›–é‚£ä¹ˆå¤šï¼Œåªèƒ½è¯´æ˜¯è‡ªå·±å¯¹é«˜å¯ç”¨çš„ä¸€äº›æ€è€ƒå’Œç†è§£ã€‚</p><h2 id="é‚£ä¹ˆæ€ä¹ˆä½¿ç³»ç»Ÿé«˜å¯ç”¨å‘¢ï¼Ÿ"><a href="#é‚£ä¹ˆæ€ä¹ˆä½¿ç³»ç»Ÿé«˜å¯ç”¨å‘¢ï¼Ÿ" class="headerlink" title="é‚£ä¹ˆæ€ä¹ˆä½¿ç³»ç»Ÿé«˜å¯ç”¨å‘¢ï¼Ÿ"></a>é‚£ä¹ˆæ€ä¹ˆä½¿ç³»ç»Ÿé«˜å¯ç”¨å‘¢ï¼Ÿ</h2><blockquote><p>æˆ‘ä»¬ä¸èƒ½è®©æœåŠ¡å™¨ä¸æŒ‚ï¼Œè®©æœåŠ¡ä¸æŒ‚ï¼Œé‚£ä¹ˆæ€ä¹ˆæ ·è®©è¿™ç§å¿…è´¥çš„å±€é¢ä¸ä¼šæœ‰é—®é¢˜å‘¢ï¼Œå°±æ˜¯å¯ä»¥æŒ‚ï¼ŒæœåŠ¡å¯ä»¥åï¼Œé‚£ä¹ˆæ€ä¹ˆè®©ç³»ç»Ÿè¿˜å¯ä»¥æä¾›æœåŠ¡å‘¢ï¼Ÿ</p></blockquote><p>é¦–å…ˆå¦‚æœæœºå™¨æœ‰å¾ˆå¤šï¼ŒæœåŠ¡æœ‰å¾ˆå¤šï¼Œå°±ç®—åäº†ä¸€éƒ¨åˆ†ä¹Ÿæ²¡æœ‰é—®é¢˜å•Šï¼Œå¿…è´¥çš„å±€é¢å¾—åˆ°çš„è§£å†³ã€‚ä¸‹é¢è¿›è¡Œä¸€æ­¥ä¸€æ­¥å‰–æï¼Œå¦‚æœæœºå™¨é‡Œé¢å­˜å‚¨äº†ç‰¹å®šå€¼ï¼Œé‚£ä¹ˆå°±ä¸èƒ½æ‰©å±•ï¼Œå¿…é¡»æ˜¯ç”¨æŒ‚çš„é‚£å°æœºå™¨ï¼Œé‚£ä¹ˆè¿™ä¸ªæ˜¯ä¸è¡Œçš„ï¼Œæœºå™¨é—®é¢˜å¥½è§£å†³ï¼Œç›¸åŒçš„é…ç½®æ›¿ä»£æ˜¯å®¹æ˜“çš„ï¼Œé‚£ä¹ˆåº”ç”¨æœåŠ¡ä¹Ÿæ˜¯ç±»ä¼¼ï¼Œåº”ç”¨æœåŠ¡å¯ä»¥ä¸å­˜å‚¨çŠ¶æ€æœ‰å…³çš„å€¼åœ¨ä»»ä½•æœºå™¨è€Œè‡ªå·±å†…éƒ¨ä¸ä¼šæœ‰å­˜å‚¨ä¸€äº›ç‰¹å®šçš„ç‰¹å¾æ•°æ®ï¼Œå¦‚æœæœ‰å°±æ²¡åŠæ³•å¾ˆå®¹æ˜“çš„æ‰©å±•ï¼Œåªæœ‰å½“æ¯ä¸ªä¸»ä»¶éƒ½æ˜¯ä¸€æ ·çš„æ—¶å€™ï¼Œæ— ä»»ä½•å·®å¼‚ï¼Œæˆ‘ä»¬æ‰å¥½æ›¿æ¢ï¼Œå®¹æ˜“æ‰©å±•ï¼Œé‚£ä¹ˆè¿™ä¸ªå°±å«ç€<strong>æœåŠ¡çš„æ— çŠ¶æ€åŒ–ã€‚</strong></p><blockquote><p>å‡å¦‚ç›®å‰æœåŠ¡å·²ç»æ˜¯æ— çŠ¶æ€åŒ–äº†ï¼Œé‚£ä¹ˆå¦‚ä½•è®©ç³»ç»ŸåŠ¨æ€çš„æ„ŸçŸ¥åˆ°æœåŠ¡æŒ‚äº†å‘¢ï¼Ÿä¸ç„¶è¯·æ±‚è¿˜æ˜¯å›å»åˆ°æŒ‚çš„é‚£å°æœºå™¨ï¼Œæ€ä¹ˆè½¬ç§»åˆ°æ–°çš„æœºå™¨å‘¢ï¼Ÿé‚£ä¹ˆå¯èƒ½å°±éœ€è¦<strong>æœåŠ¡å‘ç°ä¸æ³¨å†Œäº†ã€‚</strong></p><p>å¦‚æœè¾¾åˆ°äº†ä¸Šé¢çš„æƒ…å†µï¼Œåº”å¯¹ä¸€èˆ¬çš„æƒ…å†µåŸºæœ¬å·²ç»å¤Ÿäº†ï¼Œä½†æ˜¯äº’è”ç½‘æ˜¯å¤æ‚çš„ï¼Œåˆšåˆšè¯´çš„æœºå™¨åï¼ŒæœåŠ¡åäº†çš„é—®é¢˜ï¼Œé‚£ä¹ˆå¦‚æœç½‘ç»œå‡ºç°çŸ­æš‚ä¸é€šå› ä¸ºæ€ä¹ˆåŠå‘¢ï¼Ÿ</p></blockquote><p>æ‰€ä»¥æœåŠ¡ä¹‹é—´åº”è¯¥æœ‰<strong>å¿ƒè·³çš„æ£€æµ‹ï¼Œ</strong>æ¥å®šæœŸçœ‹çœ‹æ˜¯å¦å¯é€šï¼ˆæœºå™¨åäº†ï¼ŒæœåŠ¡æŒ‚äº†ï¼Œç½‘ç»œä¸é€šäº†ï¼‰åæ­£å°±æ˜¯ä¸å¯è¾¾äº†ã€‚è¿™ç§æƒ…å†µé€šè¿‡æœåŠ¡æ³¨å†Œä¸å‘ç°å³å¯è§£å†³ï¼Œä½†æ˜¯æœ‰æ—¶å€™ç½‘ç»œæ˜¯é—ªæ–­ä¸‹é‚£ä¹ˆåœ¨é‚£ç§ç‰¹å®šçš„æƒ…å†µå‘¢ï¼Ÿæ¯”å¦‚åˆšåˆšaæœåŠ¡å·²ç»æŠŠè¯·æ±‚å‘é€ç»™äº†bæœåŠ¡ï¼ŒbæœåŠ¡å·²ç»æ¥æ”¶åˆ°è¯·æ±‚äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™å¿½ç„¶ç½‘ç»œæ–­äº†ï¼Œä½†æ˜¯bæœåŠ¡è¿›è¡ŒæŠŠé€»è¾‘å¤„ç†åšå®Œæˆäº†ï¼Œä½†æ˜¯aæœåŠ¡ååº”çš„å°±æ˜¯æ²¡æœ‰å“åº”ï¼Œå‰å°è¶…æ—¶äº†ï¼Œé‚£ä¹ˆå†ä¸€æ¬¡è§¦å‘ä¸‹ï¼Œé‚£ä¹ˆå¦‚æœbæœåŠ¡æŠŠä¹‹å‰çš„é€»è¾‘å†åšä¸€éæ˜¯å¦å­˜åœ¨é—®é¢˜å‘¢ï¼Ÿ æ¯”å¦‚æ”¯ä»˜ï¼Œå·²ç»ä»˜æ¬¾200å…ƒï¼Œéš¾é“å†ä»˜æ¬¾200å…ƒå—ï¼Ÿè¿™é‡Œéœ€è¦æåˆ°ä¸€ä¸ª<strong>å¹‚ç­‰æ€§</strong>çš„è®¾è®¡æ¦‚å¿µï¼Œä»€ä¹ˆæ˜¯å¹‚ç­‰å‘¢ï¼Œå°±æ˜¯å¤šæ¬¡æ‰§è¡Œç»“æœéƒ½ä¸€æ ·ï¼Œå¦‚æœæœ‰å¹‚ç­‰æ€§è®¾è®¡é‚£ä¹ˆå°±ä¸æ€•è¿™ç§æƒ…å†µäº†ï¼Œåœ¨æ²¡æœ‰å¾—åˆ°åé¦ˆæƒ…å†µ<strong>é‡è¯•</strong>å³å¯ï¼Œä¹Ÿä¸ä¼šå‡ºç°é—®é¢˜ã€‚</p><blockquote><p>è¾¾åˆ°ä¸Šé¢è¯´çš„è¿™äº›å°±æ˜¯åº”å¯¹æœºå™¨åäº†ï¼ŒæœåŠ¡æŒ‚äº†ï¼Œç½‘ç»œä¸é€šæˆ–è€…é—ªæ–­ç­‰æƒ…å†µå·²ç»åŸºæœ¬æ²¡æœ‰ä»€ä¹ˆå¤§é—®é¢˜äº†ï¼Œé‚£ä¹ˆç›®å‰äº’è”ç½‘éƒ½æ˜¯é«˜å¹¶å‘ï¼Œé‚£ä¹ˆåœ¨é«˜å¹¶å‘çš„æƒ…å†µï¼Œå¦‚ä½•æ¥æé«˜ç³»ç»Ÿçš„èƒ½åŠ›çš„ï¼Ÿ</p></blockquote><p>å°±å’Œæ¬ä¸œè¥¿ä¸€æ ·ï¼Œä¸€ä¸ªäººæ…¢ï¼Œå¯ä»¥å¤šæ¥ç‚¹äººä¸€èµ·å¸®ä¸œè¥¿ï¼Œç”±äºä¸Šé¢çš„æ¶æ„æ˜¯å¯ä»¥æ·»åŠ æœºå™¨ï¼ŒæœåŠ¡çš„ï¼Œé‚£ä¹ˆå¾ˆå®¹æ˜“æƒ³åˆ°çš„å°±æ˜¯å¤šæ¥ç‚¹æœºå™¨å’ŒæœåŠ¡ã€‚é‚£ä¹ˆè¿™æ ·ä¸€å®šæ¯”æœºå™¨å°‘è¦å¿«çš„ï¼Œæ¯”å¦‚æœ‰5å°æœºå™¨ï¼Œé‚£ä¹ˆå¾ˆå¤šè¯·æ±‚è¿‡æ¥äº†ï¼Œç”¨ä»€ä¹ˆç­–ç•¥è®©ä»–ä»¬åˆ†æ‘Šåˆ°ä¸åŒçš„æœºå™¨å‘¢ï¼Ÿé€šè¿‡è®¾å¤‡ï¼Œé€šè¿‡ä¸€äº›è½¯ä»¶å±‚é¢ï¼Œä½†æ˜¯å…¶ä¸­ä¸€å®šæœ‰æœåŠ¡å‘ç°æ³¨å†Œï¼Œä¸ç„¶æ²¡åŠæ³•åŠ¨æ€çŸ¥é“èŠ‚ç‚¹å˜åŒ–ï¼Œè¿˜æœ‰å°±æ˜¯å¯¹ä¸€äº›ä¿¡æ¯çš„æ§åˆ¶ï¼Œé»‘ç™½åå•ï¼Œè®¿é—®é¢‘ç‡ç­‰ã€‚<strong>å¾ˆå¤šæ—¶å€™ï¼ŒåŠ æœºå™¨å¯èƒ½çœ‹èµ·æ¥æ¯”è¾ƒlowï¼Œä½†æ˜¯æœ‰æ—¶å€™çš„ç¡®æ¯”è¾ƒæœ‰æ•ˆï¼Œä½†æ˜¯ä¹Ÿä¸èƒ½ä¸€å‘³çš„åŠ æœºå™¨ï¼Œæœ‰äº›æƒ…å†µåŠ æœºå™¨æ˜¯è§£å†³ä¸äº†çš„äº†ã€‚</strong></p><p>æœºå™¨å¤šäº†çš„ç¡®å¿«äº†ï¼Œå¦‚æœåœ¨æœåŠ¡é‡Œé¢æœ‰ä¸€ä¸ªé˜»å¡æ–¹æ³•ï¼Œé‚£ä¹ˆå°±ç®—æœåŠ¡åœ¨å¤šä¹Ÿæ²¡ç”¨ï¼Œæ‰€ä»¥å¿…é¡»æ³¨æ„å…³äº<strong>æœåŠ¡è¶…æ—¶çš„é—®é¢˜ï¼Œ</strong>ç”±äºæœåŠ¡æ˜¯å¹‚ç­‰çš„ï¼Œå°±ç®—å†æ¬¡æ‰§è¡Œä¹Ÿæ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œæœ‰äº†è¶…æ—¶å°±ä¸ä¼šå¡å¾ˆä¹…å½±å“åˆ°åé¢çš„æœåŠ¡äº†ï¼ˆä¸‹æ¸¸æœåŠ¡å®•æœºäº†ï¼Œçº¿ç¨‹æ­»é”äº†ï¼Œä¸‹æ¸¸æœåŠ¡å¿™ç­‰ç­‰ï¼‰ã€‚</p><p>å…³äºåŒæ­¥ï¼Œå¼‚æ­¥çš„ä¸€äº›è®¾è®¡æ¨¡å¼ï¼Œåœ¨æœ‰äº›å¿…é¡»é¡ºåºæ‰§è¡Œçš„ä¸šåŠ¡åœºæ™¯å°±å¿…é¡»è¦ä½¿ç”¨åŒæ­¥äº†ï¼Œåœ¨éå¿…é¡»çš„è¿™ç§åœºæ™¯é‚£ä¹ˆç”¨å¼‚æ­¥ä¸€å®šæ¯”åŒæ­¥å¤„ç†çš„å¹¶å‘é‡è¦å¤§ï¼ˆç”±äºä¸­é—´ä»¶ç»å†å¾ˆå¤šæ­¥éª¤ï¼Œæ‰€ä»¥ä»å•ä¸ªè¯·æ±‚çš„æ€»æ—¶é—´æ¥çœ‹å¹¶ä¸ä¸€å®šæœ‰åŒæ­¥çš„å¿«ï¼Œä½†æ˜¯ä»ä¸€ä¸ªå®è§‚çš„è§’åº¦æ¥çœ‹æé«˜å¹¶å‘çš„è¯·æ±‚ä¼šå¤§å¾ˆå¤šäº†ï¼‰ã€‚ç®€å•èŠèŠå¼‚æ­¥ï¼Œåœ¨ä¸€ä¸ªæœåŠ¡å†…éƒ¨ï¼Œå¼‚æ­¥é‚£ä¹ˆå°±éœ€è¦æåˆ°å¤šçº¿ç¨‹äº†ï¼Œå¤šçº¿ç¨‹å¾ˆå¤šæœ‰ç‚¹æé«˜cpuåˆ©ç”¨ç‡ï¼Œæé«˜ç³»ç»Ÿæ€§èƒ½ï¼Œä½†æ˜¯å®ç°æˆæœ¬è¦é«˜å¾ˆå¤šäº†ï¼Œé‚£ä¹ˆä¸åŒæœåŠ¡ç›´æ¥çš„å¦‚ä½•å¼‚æ­¥å‘¢ï¼Œæ¶ˆæ¯ä¸­é—´ä»¶äº†ï¼Œï¼ˆæ¶ˆæ¯ä¸­é—´ä»¶å¾ˆéš¾ï¼Œç¬¬ä¸€è¦ä¿è¯<strong>çœŸå¼‚æ­¥ï¼Œ</strong>ç¬¬äºŒéœ€è¦ä¿è¯<strong>ä¸é‡ä¸æ¼</strong>ï¼Œå°±è¿™2ç‚¹çœŸçš„å¾ˆéš¾ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§æ•°æ®æƒ…å†µä¸‹ï¼‰ï¼Œç‰¹åˆ«æ˜¯ç½‘ç»œI/Oéœ€è¦é‡ç‚¹è€ƒè™‘å¼‚æ­¥æ¨¡å‹ï¼Œä¸è¿‡Nettyå°è£…çš„æŒºå¥½äº†ã€‚</p><blockquote><p>ç”±äºæ¯ä¸ªæœºå™¨ï¼Œæˆ–è€…æœåŠ¡éƒ½æ˜¯æœ‰ä¸Šé™çš„ï¼Œå¦‚æœé‡ä¸€ä¸‹æ³„æ´ªå¼çš„è¿‡æ¥å¹¶ä¸”ä¸æ˜¯ä»–çš„èƒ½åŠ›å¯ä»¥å¤„ç†çš„ï¼Œé‚£ä¹ˆè¯¥å¦‚æœè§£å†³å‘¢ï¼Ÿ</p></blockquote><p>è¯¥é—®é¢˜åœ¨ç”Ÿæ´»ä¸­åˆ°å¤„å¯è§ï¼Œåˆšåˆšå¥½å›½åº†å›å®¶ã€å‡ºå»ç©ï¼Œéšå¤„å¯è§è¯¥äº‹é¡¹ä½“ç°ï¼Œæ¯”å¦‚è¿‡å®‰æ£€çš„æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªä¿å®‰ä¸“é—¨æ‹¿ä¸€ä¸ªç‰Œçœ‹äººå·®ä¸å¤šäº†ï¼Œè®©åé¢çš„äººç­‰ï¼Œç­‰å¤„ç†çš„æŸ¥ä¸å¤šäº†ï¼Œåœ¨è®©åé¢çš„äººè¿›è¡Œï¼Œä¹‹åç±»ä¼¼åœ¨ç­‰ã€‚ï¼Œä½†æ˜¯å¦‚æœæœ‰çº§åˆ«é«˜çš„ï¼Œæˆ–è€…è½¦å¿«å‘è½¦äº†ï¼Œä¸€èˆ¬è®©ä»–ä»¬å…ˆè¿‡ï¼Œåœ¨è½¯ä»¶æ¶æ„é‡Œé¢åº”è¯¥å«<strong>é™æµã€æœåŠ¡é™çº§ï¼Œ</strong>ä¸€èˆ¬æœ‰ä¸¤ç§æ§åˆ¶ç­–ç•¥ï¼ˆ1ï¼Œæ‹’ç»éƒ¨åˆ†è¯·æ±‚ï¼Œ2ï¼Œå…³é—­éƒ¨åˆ†æœåŠ¡ï¼‰å¯èƒ½ä¹‹å‰çš„æ—¶å€™éƒ½æåˆ°äº†å…³é—­éƒ¨åˆ†æœåŠ¡ï¼Œä¸è¿‡ç°åœ¨ä¸æ¨èäº†ï¼ˆ<strong>æ¯•ç«Ÿä¹Ÿæ˜¯å…¬å¸æŠ€æœ¯å®åŠ›çš„ä½“ç°</strong>ï¼‰ï¼Œç›®å‰é‡ç‚¹è¯´çš„æ˜¯å…³äºæ‹’ç»éƒ¨åˆ†è¯·æ±‚ï¼Œå…³äºè¿™å—çš„æ§åˆ¶åœ¨é‚£é‡Œæ·»åŠ ï¼Ÿå°±æ˜¯é‚£å—éœ€è¦æ§åˆ¶ï¼Œåº”è¯¥æ¯å±‚éƒ½éœ€è¦åŠ ä¸‹è¯¥æ§åˆ¶ã€‚</p><p>ä¾ç¨€è®°å¾—è¡Œä¸šé‡Œé¢æœ‰å¥è¯ï¼Œ<strong>é«˜å¹¶å‘ã€é«˜å¯ç”¨ä¸‰å¤§æ³•å®ï¼šé™æµã€é™çº§ã€ç¼“å­˜</strong>ï¼Œå…³äºç¼“å­˜ï¼Œå¤§å®¶åº”è¯¥æ¥è§¦çš„æœ€å¤šï¼Œäº’è”ç½‘ä¸šåŠ¡ç‰¹ç‚¹å°±æ˜¯è¯»å¤šå†™å°‘ï¼Œé‚£ä¹ˆå°±éå¸¸é€‚åˆä½¿ç”¨ç¼“å­˜äº†ã€‚</p><blockquote><p>ç”±äºæ‰€ä»¥è¯·æ±‚åœ¨ä¸€ä¸ªæœåŠ¡ï¼Œæ‰©å±•è¿˜æ˜¯ä¸å¥½æ‰©å±•ï¼Œè€Œä¸”ç»Ÿä¸€æœåŠ¡é‡Œé¢æœ‰äº›è°ƒç”¨ç‰¹åˆ«å¤šï¼Œæœ‰äº›è°ƒç”¨å°±æ¯”è¾ƒå°‘ï¼Œå› ä¸ºç»§ç»­åˆ’åˆ†ï¼Œç»§ç»­æ‹†ï¼Œè¿™æ ·è¿˜æ˜¯å¯ä»¥å†æ¬¡æé«˜å¹¶å‘ã€‚</p></blockquote><p><strong>å¾®æœåŠ¡äº†ï¼Œ</strong>å¾®æœåŠ¡æ¦‚å¿µå¾ˆå¤šï¼Œé¦–å…ˆæåˆ°çš„å°±æ˜¯æå‚ç›´æ‹†åˆ†ï¼Œå¾ˆå®¹æ˜“ç†è§£ï¼Œä¹‹åå‚ç›´ä¸šåŠ¡å¯èƒ½ä¹Ÿå¾ˆå¤šï¼Œè¿˜éœ€è¦ç»§ç»­æ°´å¹³æ‹†åˆ†ï¼Œï¼ˆè¿™é‡Œä¸€åˆ‡çš„æ‹†åˆ†ä¾æ®éƒ½æ˜¯æ ¹æ®è‡ªå·±å…¬å¸çš„ä¸šåŠ¡ï¼Œç†è§£è¶Šæ·±æ‰çš„è¶Šå¥½ï¼‰ã€‚</p><p>é€šè¿‡ä¸Šé¢çš„è¿™äº›ï¼ŒæœåŠ¡å¯ä»¥æŒ‚ï¼Œæœºå™¨å¯ä»¥åï¼Œç½‘ç»œä¸é€šæˆ–è€…é—ªæ–­çš„é—®é¢˜éƒ½è§£å†³äº†ï¼Œå¹¶ä¸”å¯ä»¥æé«˜å¹¶å‘ï¼Œå°½æœ€å¤§åŠªåŠ›æ¥è®©æœåŠ¡é«˜å¯ç”¨ã€‚<strong>é‚£ä¹ˆç”±äºè¿™ä¹ˆåšå¸¦æ¥äº†å¾ˆå¤šé—®é¢˜ï¼Œ</strong>æ‰€ä»¥éœ€è¦æŠŠè¿™äº›ä¿®æ”¹å¸¦æ¥çš„é—®é¢˜è§£å†³ï¼š</p><ul><li>ä»¥å‰åœ¨ä¸€ä¸ªæœåŠ¡é‡Œé¢ï¼Œå¯¹äºäº‹åŠ¡çš„æ§åˆ¶å¾ˆå®¹æ˜“ï¼Œé‚£ä¹ˆå¾®æœåŠ¡ä¹‹åï¼Œäº‹åŠ¡çš„æ§åˆ¶å°±æ˜¾çš„ç‰¹åˆ«é‡è¦äº†ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¸èƒ½å¼ºä¸€è‡´æ€§ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥åšåˆ°<strong>æœ€ç»ˆä¸€è‡´æ€§</strong>å°±æ˜¯å¯ä»¥çš„ã€‚</li><li>è°ƒç”¨é“¾ç›‘æ§ä¹Ÿå°±æ˜¾å¾—ç‰¹åˆ«é‡è¦äº†ï¼Œä¸€èµ·çš„è¿˜æœ‰é¢„è­¦ä¹Ÿç‰¹åˆ«é‡è¦äº†ã€‚</li><li>åˆ†å¸ƒå¼æ—¥å¿—ä¹Ÿæ˜¾å¾—ç‰¹åˆ«é‡è¦äº†ã€‚</li><li>é«˜çº§çš„jstackã€Btraceåœ¨çœŸå®ç¯å¢ƒå°±æ˜¯ç‰¹åˆ«é‡è¦çš„ã€‚</li></ul><h2 id="ç»“æŸè¯­"><a href="#ç»“æŸè¯­" class="headerlink" title="ç»“æŸè¯­"></a>ç»“æŸè¯­</h2><blockquote><p>æœ¬äººæ°´å¹³æœ‰é™ï¼Œéš¾å…ä¼šæœ‰ä¸€äº›ç†è§£åå·®çš„åœ°æ–¹ï¼Œå¦‚æœå‘ç°ï¼Œæ¬¢è¿å„ä½ç§¯ææŒ‡å‡ºï¼Œæ„Ÿè°¢ï¼ï¼ï¼</p></blockquote><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee-20200407102957991.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>é«˜å¯ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Pythonã€‘å“„å¥³æœ‹å‹çš„é‚£äº›å¥‡æŠ€æ·«å·§</title>
    <link href="/2019/09/27/%E3%80%90Python%E3%80%91%E5%93%84%E5%A5%B3%E6%9C%8B%E5%8F%8B%E7%9A%84%E9%82%A3%E4%BA%9B%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/"/>
    <url>/2019/09/27/%E3%80%90Python%E3%80%91%E5%93%84%E5%A5%B3%E6%9C%8B%E5%8F%8B%E7%9A%84%E9%82%A3%E4%BA%9B%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡æ¥æºå…¬ä¼—å·ï¼š <strong>Pythonä¹±ç‚–</strong></p><img src="https://mp.weixin.qq.com/mp/qrcode?scene=10000004&size=102&__biz=MzU1NDcwNTE2OA==&mid=2247486190&idx=1&sn=a1707f91b23d437f758131818d73dda4&send_time=" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" /></blockquote><h3 id="Pythoné‡Œé¢çš„å¥‡æŠ€æ·«å·§"><a href="#Pythoné‡Œé¢çš„å¥‡æŠ€æ·«å·§" class="headerlink" title="Pythoné‡Œé¢çš„å¥‡æŠ€æ·«å·§"></a>Pythoné‡Œé¢çš„å¥‡æŠ€æ·«å·§</h3><blockquote><p><strong>å£°æ˜</strong></p><p><strong>â€œä»¥ä¸‹æ‰€æœ‰æ¨¡å—å‡å¯</strong></p><p><strong>ä½¿ç”¨pipç›´æ¥å®‰è£…â€</strong></p></blockquote><p><strong>è¯´pythonæ˜¯</strong></p><p><strong>æ‰€æœ‰ç¼–ç¨‹è¯­è¨€é‡Œé¢</strong></p><p><strong>æœ€å¥‡è‘©çš„è¯­è¨€</strong></p><p><strong>è¿™è‚¯å®šæ˜¯æ²¡é”™äº†</strong></p><p><strong>å®ƒå¯ä»¥åš</strong></p><p><strong>è‡ªåŠ¨åŒ–ï¼Œçˆ¬è™«ï¼Œæ•°æ®ï¼ŒAIï¼Œæœºå™¨å­¦ä¹ </strong></p><p><strong>è¿™äº›æˆ‘ä»¬æš‚ä¸”ä¸è¯´</strong></p><p><strong>å¯æ˜¯å®ƒç«Ÿç„¶è¿˜å¯ä»¥</strong></p><p><strong>æ’©å¦¹</strong></p><p><strong>æ’©åˆ°å¦¹</strong></p><p><strong>å®šä½å¥³æœ‹å‹</strong></p><p><strong>å’Œå¥³æœ‹å‹èŠå¤©</strong></p><p><strong>å¤©å¤©å’Œå¥³æœ‹å‹æ—©æ™šå®‰</strong></p><p><strong>ç»™å¥³æœ‹å‹æ‰“ç”µè¯</strong></p><p><strong>è®¨å¥³æœ‹å‹å¼€å¿ƒ</strong></p><p><strong>è®©å¥³æœ‹å‹å´‡æ‹œä½ </strong></p><p><strong>â€¦â€¦â€¦</strong></p><p><strong>æ€ä¹ˆæ ·ï¼Ÿ</strong></p><p><strong>å¤Ÿå‰å®³å§</strong></p><p><strong>èµ¶ç´§è·Ÿç€ç‹—å“¥</strong></p><p><strong>æ¥çœ‹çœ‹pythoné‡Œé¢çš„å¥‡æŠ€æ·«å·§å§ï¼</strong></p><h3 id="pinyin"><a href="#pinyin" class="headerlink" title="pinyin"></a>pinyin</h3><p><strong>ç¬¬ä¸€ä¸ªå°±æ˜¯æˆ‘ä»¬çš„pinyinæ¨¡å—äº†ï¼Œè¿™ä¸ªæ¨¡å—éªšå°±éªšåœ¨å¯ä»¥ç›´æ¥æŠŠä¸­æ–‡æ±‰å­—è½¬åŒ–æˆä¸­æ–‡çš„æ±‰è¯­æ‹¼éŸ³ï¼Œç”šè‡³è¿ç¬¬å‡ å£°å‘éŸ³éƒ½å¯ä»¥ç»™ä½ æå‡ºæ¥ï¼Œå…·ä½“ä½¿ç”¨å¾ˆç®€å•ï¼Œå¯¼å…¥åç›´æ¥ä½¿ç”¨getæ–¹æ³•å³å¯ï¼š</strong></p><pre><code class="hljs python"><span class="hljs-keyword">import</span> pinyintransf = pinyin.get(<span class="hljs-string">"ç‹—å“¥"</span>)trans2 = pinyin.get(<span class="hljs-string">"ç‹—å“¥"</span>, format=<span class="hljs-string">"strip"</span>)</code></pre><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymoss66zj30q70g7q3p.jpg" srcset="/img/loading.gif" alt="img"></p><h3 id="qrcode"><a href="#qrcode" class="headerlink" title="qrcode"></a>qrcode</h3><p><strong>ä¸‹é¢è¿™ä¸ªæ˜¯æˆ‘ä»¬çš„äºŒç»´ç ç”Ÿæˆå™¨ï¼Œå¯ä»¥å°†æ–‡å­—ï¼Œå·ç ï¼Œç½‘å€å­˜æ”¾åœ¨äºŒç»´ç ä¸­ï¼Œåªéœ€è¦åªç”¨makeæ–¹æ³•å»ç”ŸæˆäºŒç»´ç ï¼Œå¦‚ä½•ä½¿ç”¨saveæ–¹æ³•ä¿å­˜äºŒç»´ç å›¾ç‰‡å³å¯ã€‚å¾ˆç®€å•çš„ä¸¤éƒ¨æå®šï¼ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªæ —å­ï¼š</strong></p><pre><code class="hljs python"><span class="hljs-keyword">import</span> qrcodewords=<span class="hljs-string">'https://mp.weixin.qq.com/mp/profile_ext?action=home&amp;__biz=MzU1NDcwNTE2OA==&amp;scene=126#wechat_redirect'</span>img = qrcode.make(words)img.save(<span class="hljs-string">'test.png'</span>)img.show()</code></pre><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymou71fqj30u00g70ts.jpg" srcset="/img/loading.gif" alt="img"></p><h3 id="myqr"><a href="#myqr" class="headerlink" title="myqr"></a>myqr</h3><p><strong>å¦‚æœè¯´åˆšåˆšçš„qrcodeå·²ç»è¶³å¤Ÿç¥å¥‡äº†çš„è¯ï¼Œé‚£è¿™ä¸ªå°†ä¼šæ›´åŠ ç¥å¥‡ï¼Œå› ä¸ºå®ƒå¯ä»¥ä»¥å›¾ç‰‡ä¸ºèƒŒæ™¯æ¥ç”ŸæˆäºŒç»´ç ï¼ŒèƒŒæ™¯å›¾ç‰‡å¯ä»¥æ˜¯åŠ¨æ€gifä¹Ÿå¯ä»¥æ˜¯é™æ€jpgï¼Œpngï¼Œæ•´ä¸ªç”ŸæˆäºŒç»´ç çš„æ­¥éª¤ä¹Ÿè¦æ¯”ä¸Šé¢ç®€å•è®¸å¤šï¼Œä½ ç”šè‡³éƒ½ä¸éœ€è¦æ•²ä»£ç å°±å¯ä»¥äº«å—åˆ°åŠ¨æ€äºŒç»´ç çš„ç¾å¥½ï¼Œå¯ä»¥ç›´æ¥åœ¨ç»ˆç«¯ï¼ˆcmdï¼‰æ•²ä¸€å¥å£ä»¤å³å¯ç”ŸæˆäºŒç»´ç ï¼ï¼ˆéœ€è¦å®‰è£…å¥½myqrï¼‰</strong></p><pre><code class="hljs bash">myqr <span class="hljs-string">"https://mp.weixin.qq.com/mp/profile_ext?action=home&amp;__biz=MzU1NDcwNTE2OA==&amp;scene=126#wechat_redirect"</span> -v 1 -l Q -n <span class="hljs-string">"s_qr.gif"</span> -p s.gif -con 1.2 -bri 1.2 -c</code></pre><p><strong>æ•´ä¸ªå£ä»¤ä½ éœ€è¦ä¿®æ”¹çš„å°±æ˜¯ï¼š</strong></p><p><strong>urlç½‘å€ä¿®æ”¹æˆä½ éœ€è¦çš„</strong></p><p><strong>s.gifä¿®æ”¹æˆä½ è‡ªå·±å›¾ç‰‡çš„åœ°å€</strong></p><p><strong>å…¶ä»–çš„å‚æ•°ä½ ä¸çŸ¥é“ä»€ä¹ˆæ„æ€å‡å¯ä»¥ä¸åŠ¨</strong></p><p><strong>å¦‚æœæƒ³äº†è§£å…·ä½“å‚æ•°æ˜¯ä»€ä¹ˆæ„æ€ï¼Œå¯å‚è€ƒç‹—å“¥å…¬ä¼—å·å†…pythonç”ŸæˆäºŒç»´ç é‚£ç‰‡æ–‡ç« ã€‚</strong></p><p><strong>æ•ˆæœå¦‚ä¸‹ï¼š</strong></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymow2exxg30e90e9qk3.gif" srcset="/img/loading.gif" alt="img"></p><h3 id="jieba"><a href="#jieba" class="headerlink" title="jieba"></a>jieba</h3><p><strong>jiebaï¼ŒçœŸçš„å°±æ˜¯ç»“å·´çš„æ„æ€ï¼Œä¸»è¦æ˜¯ç”¨æ¥è¿›è¡Œåˆ†è¯çš„ã€‚</strong></p><p><strong>jieba å¯ä»¥**</strong>æŠŠä¸€å¥è¯æ‹†åˆ†æˆå¤šä¸ªè¯ã€‚**</p><p><strong>ä»ä¸€å¥è¯ï¼ˆä¸€æ®µè¯ï¼‰ä¸­æå–æœ€é‡è¦çš„å‡ ä¸ªå…³é”®è¯ã€‚</strong></p><p><strong>æœ€å¸¸ç”¨çš„åŠŸèƒ½åº”è¯¥å°±æ˜¯è¿™äº›å§ï¼Œåˆ†è¯ä¹‹åç»“åˆ TF-IDFï¼Œå°±å¯ä»¥åšæœç´¢å·¥å…·å’Œç›¸å…³æ¨èäº†ã€‚</strong></p><p><strong>ç‹—å“¥æ¨èï¼šç»“åˆæœ¬æ¬¡æ¨èçš„è¿™äº›æ¨¡å—ï¼Œä½¿ç”¨ç»“å·´å·¥å…·æ¥å’Œå¥³æœ‹å‹èŠå¤©ï¼Œæ˜¯ä¸ªä¸é”™çš„ä¸»æ„ï¼</strong></p><p>ä¸‹é¢çœ‹çœ‹åˆ‡å‰²ç¤ºèŒƒï¼š</p><pre><code class="hljs python"><span class="hljs-keyword">import</span> jiebastring = <span class="hljs-string">"å¤§å®¶éƒ½è¯´ç‹—å“¥å¥½ï¼Œç‹—å“¥å¸…æ°”äººåˆå¥½"</span>sl = jieba.cut(string, cut_all=<span class="hljs-literal">True</span>)print(<span class="hljs-string">'å…¨çš„æ¨¡å¼:'</span>, list(sl))sl = jieba.cut(string, cut_all=<span class="hljs-literal">False</span>)print(<span class="hljs-string">"ç²¾ç¡®æ¨¡å¼:"</span>, list(sl))sl = jieba.cut(string)print(<span class="hljs-string">'æœç´¢æ¨¡å¼:'</span>, list(sl))</code></pre><p><strong>ç»“å·´è¿˜æœ‰å¾ˆå¤šé«˜çº§çš„æ–¹æ³•ï¼Œå¸Œæœ›å¤§å®¶å¤šå¤šå‘æ˜ï¼Œå¦‚æœå®åœ¨æ‡’ï¼Œåœ¨ç‹—å“¥çš„å…¬ä¼—å·é‡Œé¢æœä¸€ä¸‹ä¹Ÿå°±æ‰¾åˆ°äº†ã€‚</strong></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymowyfkmj30u0042dgw.jpg" srcset="/img/loading.gif" alt="img"></p><p><strong>itchat/wxpy</strong></p><p><strong>itchatå’Œwxpyè¿™ä¸¤ä¸ªæ¨¡å—åŠŸèƒ½éƒ½å·®ä¸å¤šï¼Œéƒ½æ˜¯ç”¨äºå¾®ä¿¡èŠå¤©çš„ï¼Œå¯ä»¥ç”¨æ¥è·å–æœ‹å‹åœˆå¥½å‹çš„æ•°æ®ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å’Œå¥½å‹èŠå¤©è‡ªåŠ¨å›å¤ç­‰ç­‰ã€‚ï¼ˆæ¥ä¸Šå›¾çµæœºå™¨äººä¹Ÿæ˜¯æ— æ•Œäº†ï¼‰</strong></p><p><strong>ä½¿ç”¨itchatå¾ˆç®€å•ï¼Œå¯¼å…¥æ¨¡å—åè°ƒç”¨loginæ–¹æ³•ä¾¿å¯ä»¥ç›´æ¥æ‰«ç ç™»é™†äº†ï¼š</strong></p><pre><code class="hljs python"><span class="hljs-keyword">import</span> itchatitchat.login()</code></pre><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymoxyhxhj30u00h0ac1.jpg" srcset="/img/loading.gif" alt="img"></p><p><strong>ç™»é™†äº†ä¹‹åå¯ä»¥é€šè¿‡get_friendsæ–¹æ³•è·å–åˆ°æ‰€æœ‰çš„å¾®ä¿¡å¥½å‹</strong></p><pre><code class="hljs python">friends = itchat.get_friends(update=<span class="hljs-literal">True</span>)[<span class="hljs-number">0</span>:]</code></pre><p><strong>è‡³äºè·å–å¾®ä¿¡å¥½å‹è¦å¹²å•¥ï¼Œé‚£å°±éšä½ äº†ï¼Œç‹—å“¥ç›´æ¥æ•™ä½ å‘é€æ¶ˆæ¯å§ï¼Œç›´æ¥ä½¿ç”¨sendæ–¹æ³•æŒ‡æ˜å‘é€å¯¹è±¡å³å¯ï¼š</strong></p><pre><code class="hljs python">users = itchat.search_friends(<span class="hljs-string">"äº²çˆ±çš„"</span>)userName = users[<span class="hljs-number">0</span>][<span class="hljs-string">'UserName'</span>]print(userName)itchat.send(<span class="hljs-string">'äº²çˆ±çš„ï¼Œé€ä½ ä¸€ä¸ªæ¨æ ‘æ—è¦ä¸è¦ï¼Ÿ'</span>, toUserName=userName)</code></pre><p><strong>è¿™è¾¹ç‹—å“¥ç›´æ¥é€‰æ‹©äº†ä¸€ä¸ªç”¨æˆ·ç›´æ¥å‘é€æ¶ˆæ¯</strong></p><p><strong>å½“ç„¶ï¼Œæˆ‘ä»¬é™¤äº†å‘é€æ¶ˆæ¯ï¼Œè¿˜å¯ä»¥è®¾ç½®è‡ªåŠ¨å›å¤ï¼š</strong></p><p><strong>å®šä¹‰å‡ ä¸ªæ–¹æ³•ï¼Œè°ƒç”¨itchatè‡ªå¸¦çš„è£…é¥°å™¨å³å¯ï¼š</strong></p><pre><code class="hljs python"><span class="hljs-keyword">from</span> itchat.content <span class="hljs-keyword">import</span> *<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">reply</span><span class="hljs-params">(msg)</span>:</span>   itchat.send((<span class="hljs-string">'23333'</span>), msg[<span class="hljs-string">'FromUserName'</span>])<span class="hljs-meta">@itchat.msg_register([PICTURE])</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">pic_replay</span><span class="hljs-params">(msg)</span>:</span>   itchat.send((<span class="hljs-string">'æœ€è¿‘åˆæ¼‚äº®äº†'</span>),           msg[<span class="hljs-string">'FromUserName'</span>])<span class="hljs-meta">@itchat.msg_register([RECORDING])</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">rec_replay</span><span class="hljs-params">(msg)</span>:</span>   itchat.send((<span class="hljs-string">'è¿å£°éŸ³éƒ½æ˜¯è¿™ä¹ˆè¿·äºº'</span>),           msg[<span class="hljs-string">'FromUserName'</span>])<span class="hljs-meta">@itchat.msg_register([VIDEO,])</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">video_replay</span><span class="hljs-params">(msg)</span>:</span>   itchat.send((<span class="hljs-string">'æˆ‘æ²¡æµé‡äº†ï¼Œè§†é¢‘æ‰“ä¸å¼€å•Š'</span>),           msg[<span class="hljs-string">'FromUserName'</span>])<span class="hljs-meta">@itchat.msg_register([SHARING])</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">share_replay</span><span class="hljs-params">(msg)</span>:</span>   itchat.send((<span class="hljs-string">'è¿™é“¾æ¥æˆ‘è¿™ä¹ˆæ€ä¹ˆç‚¹ä¸è¿›å»å•Š'</span>),           msg[<span class="hljs-string">'FromUserName'</span>])</code></pre><p><strong>æ²¡é”™å®šä¹‰å¥½å›å¤çš„å¯¹è±¡ï¼Œåªè¦ç™»é™†ä¸Šäº†ï¼Œè¿™äº›å›å¤å°±ä¼šç”Ÿæ•ˆäº†ï¼</strong></p><p><strong>ç‹—å“¥æµ‹è¯•çš„ä¸€ä¸ªä¾‹å­ï¼š</strong></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymozpmrzj30a20ftdg9.jpg" srcset="/img/loading.gif" alt="img"></p><h3 id="wordcloud"><a href="#wordcloud" class="headerlink" title="wordcloud"></a>wordcloud</h3><p><strong>ä¸‹é¢è¿™ä¸ªçœ‹èµ·æ¥æ¯”è¾ƒé¬¼ç•œï¼Œä½†æ˜¯å…¶å®åœ¨æ•°æ®å¯è§†åŒ–é‡Œé¢å®ƒçš„ç”¨å¤„è¿˜æ˜¯æ¯”è¾ƒå¼ºå¤§çš„ã€‚</strong></p><p><strong>è¯äº‘è¿™ä¸ªä¸œè¥¿ä¸€èˆ¬ä¸numpyï¼Œmatplotlibï¼Œjiebaï¼Œpillowè¿ç”¨ï¼Œç”¨èµ·æ¥ä¹Ÿæ˜¯æŒºéº»çƒ¦çš„</strong></p><p><strong>ç‹—å“¥è¿™é‡Œæ•´ç†äº†ä¸€ä¸ªç®€å•çš„ç‰ˆæœ¬ä¾›å¤§å®¶å‚è€ƒï¼š</strong></p><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image<span class="hljs-keyword">import</span> re<span class="hljs-keyword">import</span> jieba<span class="hljs-keyword">from</span> wordcloud <span class="hljs-keyword">import</span> WordCloud,\   ImageColorGenerator,\   STOPWORDS<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<span class="hljs-keyword">with</span> open(<span class="hljs-string">'content.txt'</span>, <span class="hljs-string">'r'</span>, encoding=<span class="hljs-string">'utf-8'</span>) <span class="hljs-keyword">as</span> f:   word = (f.read())   f.close()<span class="hljs-comment"># å›¾ç‰‡æ¨¡æ¿å’Œå­—ä½“</span>image = np.array(Image.open(<span class="hljs-string">'ditu.jpg'</span>))font = <span class="hljs-string">r'C:\\Windows\\fonts\\msyh.ttf'</span><span class="hljs-comment"># å»æ‰è‹±æ–‡ï¼Œä¿ç•™ä¸­æ–‡</span>resultword = re.sub(<span class="hljs-string">"[A-Za-z0-9\[\`\~\!\@\#\$\^\&amp;\*\(\)\=\|\&#123;\&#125;"</span>                   <span class="hljs-string">"\'\:\;\'\,\[\]\.\&lt;\&gt;\/\?\~\ã€‚\@\#\\\&amp;\*\%]"</span>,                   <span class="hljs-string">""</span>, word)wordlist_after_jieba = jieba.cut(resultword)wl_space_split = <span class="hljs-string">" "</span>.join(wordlist_after_jieba)<span class="hljs-comment"># è®¾ç½®åœç”¨è¯</span>sw = set(STOPWORDS)<span class="hljs-comment"># å…³é”®ä¸€æ­¥</span>my_wordcloud = WordCloud(scale=<span class="hljs-number">4</span>,                        font_path=font,                        mask=image,                        stopwords=sw,                        background_color=<span class="hljs-string">'white'</span>,                        max_words=<span class="hljs-number">100</span>,                        max_font_size=<span class="hljs-number">60</span>,                        random_state=<span class="hljs-number">20</span>).\   generate(wl_space_split)<span class="hljs-comment"># æ˜¾ç¤ºç”Ÿæˆçš„è¯äº‘</span>plt.imshow(my_wordcloud)plt.axis(<span class="hljs-string">"off"</span>)plt.show()<span class="hljs-comment"># ä¿å­˜ç”Ÿæˆçš„å›¾ç‰‡</span>my_wordcloud.to_file(<span class="hljs-string">'result.jpg'</span>)</code></pre><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymp0rpdnj30oo0e1n02.jpg" srcset="/img/loading.gif" alt="img"></p><p>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SonarQubeçš„ä½¿ç”¨-åœ¨idea&amp;eclipseä¸­å®‰è£…ä¸ä½¿ç”¨sonarlint</title>
    <link href="/2019/09/26/SonarQube%E7%9A%84%E4%BD%BF%E7%94%A8-%E5%9C%A8idea&amp;eclipse%E4%B8%AD%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8sonarlint/"/>
    <url>/2019/09/26/SonarQube%E7%9A%84%E4%BD%BF%E7%94%A8-%E5%9C%A8idea&amp;eclipse%E4%B8%AD%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8sonarlint/</url>
    
    <content type="html"><![CDATA[<h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a><strong>ä»‹ç»</strong></h3><p>â€‹        ä»£ç è´¨é‡ç®¡ç†çš„å¼€æºå¹³å°ï¼Œç”¨äºç®¡ç†æºä»£ç çš„è´¨é‡ é€šè¿‡æ’ä»¶å½¢å¼ï¼Œå¯ä»¥æ”¯æŒåŒ…æ‹¬java,C#,C/C++,PL/SQL,Cobol,JavaScrip,Groovyç­‰ç­‰äºŒåå‡ ç§ç¼–ç¨‹è¯­è¨€çš„ä»£ç è´¨é‡ç®¡ç†ä¸æ£€æµ‹ã€‚é›†æˆäº†CheckStyleï¼ŒPMDï¼ŒFindbugsç­‰å·¥å…·æ ¡éªŒè§„åˆ™ï¼Œå…·æœ‰é‡å¤ä»£ç å‘ç°ï¼Œä»£ç æµ‹è¯•è¦†ç›–ç‡ï¼Œä»£ç æ³¨é‡Šç‡ï¼ŒåŠæ‰€æœ‰çš„æ£€æµ‹ç‡å˜åŒ–è¿½è¸ªçš„åŠŸèƒ½ç‰¹æ€§ã€‚</p><h3 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a><strong>ç‰¹ç‚¹</strong></h3><p>â€‹        SonarQube:å¼€æºçš„ä»£ç è´¨é‡ç®¡æ§å¹³å°ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„<a href="http://localhost:9000å³ä¸ºSonarQubeã€‚">http://localhost:9000å³ä¸ºSonarQubeã€‚</a></p><p>â€‹        SonarLint:ä¸€ä¸ªæ‰©å±•æ’ä»¶ï¼Œå¯ä»¥å®‰è£…åœ¨ideaä¸eclipseç­‰å¼€å‘å·¥å…·ä¸­</p><h3 id="Eclipseä¸­çš„ä½¿ç”¨"><a href="#Eclipseä¸­çš„ä½¿ç”¨" class="headerlink" title="Eclipseä¸­çš„ä½¿ç”¨"></a><strong>Eclipseä¸­çš„ä½¿ç”¨</strong></h3><h4 id="1ã€-å®‰è£…"><a href="#1ã€-å®‰è£…" class="headerlink" title="1ã€  å®‰è£…"></a>1ã€  å®‰è£…</h4><p>â€‹            help -&gt; eclipse marketplaceâ€¦ï¼Œæœç´¢sonarlint, Installã€‚</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ympesx0zj30u00xmtba.jpg" srcset="/img/loading.gif" alt="eclipse marketplace"></p><h4 id="2ã€-ä½¿ç”¨"><a href="#2ã€-ä½¿ç”¨" class="headerlink" title="2ã€  ä½¿ç”¨"></a>2ã€  ä½¿ç”¨</h4><p>æ‰“å¼€javaæ–‡ä»¶ï¼Œsoanrlintä¼šè‡ªåŠ¨è¿›è¡Œæ£€æµ‹ï¼Œå¯¹äºä¸è§„èŒƒæˆ–æœ‰é—®é¢˜çš„ä»£ç ä¼šåœ¨ä¸‹æ–¹åˆ’è“è‰²æ³¢æµªçº¿ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ympglu0dj30vs0c2ab1.jpg" srcset="/img/loading.gif" alt="soanrlint"></p><p>é¼ æ ‡æ”¾åœ¨è“è‰²éƒ¨åˆ†ä¼šæœ‰å¼¹æ¡†æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯æˆ–å»ºè®®ä¿®æ”¹ä¿¡æ¯</p><p>ç‚¹å‡»â€œopen description of ruleâ€å¯ä»¥æŸ¥çœ‹å…·ä½“çš„é”™è¯¯æè¿°ï¼Œé”™è¯¯ç¤ºä¾‹åŠä¿®æ”¹ç¤ºä¾‹ã€‚</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymphmzexj322s0okgqj.jpg" srcset="/img/loading.gif" alt="info"></p><p>åœ¨é¡¹ç›®æˆ–å•ä¸ªjavaæ–‡ä»¶ä¸Šå³é”® -&gt; sonarlint -&gt; Analyze è¿›è¡Œæ‰‹åŠ¨æ“ä½œåˆ†æã€‚è¿™æ ·SonarLint Reporté¢æ¿ä¸­æŸ¥çœ‹æ‰€æœ‰çš„å¼‚å¸¸ä¿¡æ¯</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ympkahq6j323a0om42c.jpg" srcset="/img/loading.gif" alt="error"></p><h4 id="3ã€Server"><a href="#3ã€Server" class="headerlink" title="3ã€Server"></a>3ã€Server</h4><p>è¿æ¥SonarQubeçš„ä¸»è¦ç›®çš„æ˜¯åŒæ­¥åˆ†æè§„åˆ™ã€è´¨é‡è§„åˆ™ä¸è‡ªå®šä¹‰è®¾ç½®ã€‚æ“ä½œå¦‚ä¸‹ï¼š</p><p>ä»Window -&gt; show view ä¸­æ‰¾åˆ°SonarLint Bindingsæ‰“å¼€ï¼›</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ympltet3j30gw0n0gn5.jpg" srcset="/img/loading.gif" alt="open"></p><p>åœ¨è¯¥é¢æ¿ç©ºç™½å¤„ å³é”®åˆ›å»º serverè¿æ¥ï¼Œé€‰æ‹©SonarQube</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ympmmr9zj30zy0n0jss.jpg" srcset="/img/loading.gif" alt="new"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ympnoy67j30zy0n03zm.jpg" srcset="/img/loading.gif" alt="url"></p><p>urlä¸ºï¼š<a href="http://localhost:9000" target="_blank" rel="noopener">http://localhost:9000</a></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymppxsmgj30zy0n0js9.jpg" srcset="/img/loading.gif" alt="utoken"></p><p>ä½¿ç”¨UserName+Passwordæˆ–è€…tokenç™»é™†</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ympraf22j30zy0n0myf.jpg" srcset="/img/loading.gif" alt="token"></p><p>æ²¡æœ‰tokenå¯ä»¥ç‚¹å‡»å³ä¾§æŒ‰é’®åˆ›å»ºï¼Œæˆ–è€…å¯»æ‰¾ç®¡ç†å‘˜åˆ›å»º</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ympt5lc9j30zy0n0q44.jpg" srcset="/img/loading.gif" alt="locahost"></p><p>é…ç½®åç§°</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ympu9mwcj30zy0n0dgx.jpg" srcset="/img/loading.gif" alt="finish"></p><p>å®ŒæˆæœåŠ¡é…ç½®</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ympv4ohxj30t60n0mxw.jpg" srcset="/img/loading.gif" alt="bind"></p><p>ç»‘å®šå·¥ç¨‹ï¼Œç‚¹å‡»add</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ympwi0fcj30l80ksjsq.jpg" srcset="/img/loading.gif" alt="add"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ympxit8fj30t60n0q3t.jpg" srcset="/img/loading.gif" alt="next"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ympyhmppj31qm0sawhz.jpg" srcset="/img/loading.gif" alt="setting"></p><p>è¾“å…¥sonarQubeä¸­åˆ›å»ºçš„å·¥ç¨‹çš„åç§°</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ympzptzaj30t60n0gmu.jpg" srcset="/img/loading.gif" alt="f"></p><p>å®Œæˆ</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymq1afbhj323k0oaq5r.jpg" srcset="/img/loading.gif" alt=""></p><h4 id="4ã€-ç»“æœåŒæ­¥SonarQubeæ˜¾ç¤º"><a href="#4ã€-ç»“æœåŒæ­¥SonarQubeæ˜¾ç¤º" class="headerlink" title="4ã€ ç»“æœåŒæ­¥SonarQubeæ˜¾ç¤º"></a>4ã€ ç»“æœåŒæ­¥SonarQubeæ˜¾ç¤º</h4><p>åœ¨mavençš„settings.xmlä¸­é…ç½®å¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymq283h7j31ey0gan0q.jpg" srcset="/img/loading.gif" alt="setting"></p><p>é…ç½®å®Œæˆåï¼Œä½¿ç”¨soanr:sonarå‘½ä»¤è¿è¡Œé¡¹ç›®ï¼Œæ­¤éƒ¨åˆ†è¦æ±‚JDKä¸º1.8ã€‚<code>clean install sonar:sonar</code></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymq40r24j326c0raqb5.jpg" srcset="/img/loading.gif" alt="package"></p><p>å¯ä»¥æ‰“å¼€<a href="http://localhost:9000/dashboard?id=com.xxxæŸ¥çœ‹å¯¹åº”çš„é”™è¯¯ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥åœ¨SonarQubeç‚¹å‡»Issuesè¿›è¡ŒæŸ¥çœ‹" target="_blank" rel="noopener">http://localhost:9000/dashboard?id=com.xxxæŸ¥çœ‹å¯¹åº”çš„é”™è¯¯ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥åœ¨SonarQubeç‚¹å‡»Issuesè¿›è¡ŒæŸ¥çœ‹</a></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymq5616rj31jw0b20vw.jpg" srcset="/img/loading.gif" alt=""></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymq7qiowj315y0u0jtb.jpg" srcset="/img/loading.gif" alt=""></p><h3 id="IDEAä¸­ä½¿ç”¨"><a href="#IDEAä¸­ä½¿ç”¨" class="headerlink" title="IDEAä¸­ä½¿ç”¨"></a><strong>IDEAä¸­ä½¿ç”¨</strong></h3><h4 id="1ã€-å®‰è£…-1"><a href="#1ã€-å®‰è£…-1" class="headerlink" title="1ã€  å®‰è£…"></a>1ã€  å®‰è£…</h4><p>â€‹            File -&gt; settings -&gt; plugins æœç´¢sonarLintï¼ŒInstallã€‚</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymq84v9pj31cg07074z.jpg" srcset="/img/loading.gif" alt="install"></p><h4 id="2ã€-ä½¿ç”¨-1"><a href="#2ã€-ä½¿ç”¨-1" class="headerlink" title="2ã€ ä½¿ç”¨"></a>2ã€ ä½¿ç”¨</h4><p>åœ¨å·¦ä¸‹è§’ç‚¹å‡»éšè—é¢æ¿ï¼Œå¯ä»¥çœ‹åˆ°sonarLintï¼Œæ‰“å¼€</p><p>æ‰“å¼€javaæ–‡ä»¶ï¼Œsoanrlintä¼šè‡ªåŠ¨è¿›è¡Œæ£€æµ‹ï¼Œå¯¹äºä¸è§„èŒƒæˆ–æœ‰é—®é¢˜çš„ä»£ç ä¼šæ·»åŠ æš—é‡‘è‰²çš„èƒŒæ™¯è‰²ï¼Œé¼ æ ‡æ”¾ä¸Šå»ä¼šæœ‰å¦‚å›¾æç¤ºï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymqa33uhj315o0u0n20.jpg" srcset="/img/loading.gif" alt="error"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymqb0kjsj32hc0u0jy5.jpg" srcset="/img/loading.gif" alt="error"></p><p>ä¹Ÿå¯ä»¥é€šè¿‡ç‚¹å‡»ä¸Šå›¾çš„ç»¿è‰²å€’ä¸‰è§’æ‰‹åŠ¨æ‰§è¡Œåˆ†æã€‚</p><h4 id="3ã€-Server"><a href="#3ã€-Server" class="headerlink" title="3ã€ Server"></a>3ã€ Server</h4><p>è¿æ¥SonarQubeçš„ä¸»è¦ç›®çš„æ˜¯åŒæ­¥åˆ†æè§„åˆ™ã€è´¨é‡è§„åˆ™ä¸è‡ªå®šä¹‰è®¾ç½®ã€‚æ“ä½œå¦‚ä¸‹ï¼š</p><p>ä»File -&gt; settings -&gt; OtherSettingsä¸­æ‰¾åˆ°â€œSonarLint General Settingsâ€æ‰“å¼€ï¼›</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymqcut2ej31nq0q4mzv.jpg" srcset="/img/loading.gif" alt=""></p><p>ç‚¹å‡»åŠ å·ï¼Œè¾“å…¥ä¸€ä¸ªnameï¼Œå¦‚localhost;é€‰æ‹©SonarQubeï¼ŒUrlä¸º<a href="http://localhost9000ï¼›" target="_blank" rel="noopener">http://localhost9000ï¼›</a></p><p>é€‰æ‹©Login/Passwordæˆ–è€…tokenï¼Œè¾“å…¥è´¦å·ä¸å¯†ç æˆ–è€…tokenï¼›</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymqea12tj31nq0q4q51.jpg" srcset="/img/loading.gif" alt=""></p><p>finish</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymqf8fetj31nq0q475u.jpg" srcset="/img/loading.gif" alt="finish"></p><p>å‹¾é€‰â€œEnable binding to remote SonarQube Serverâ€,é€‰æ‹©æ·»åŠ çš„server,æœç´¢åˆ°ä½ éœ€è¦ç»‘å®šçš„é¡¹ç›®ï¼Œç„¶åé€‰æ‹©ç¡®è®¤ã€‚</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymqg4txyj313s0u0dhl.jpg" srcset="/img/loading.gif" alt=""></p><h4 id="4ã€ç»“æœåŒæ­¥SonarQubeæ˜¾ç¤º"><a href="#4ã€ç»“æœåŒæ­¥SonarQubeæ˜¾ç¤º" class="headerlink" title="4ã€ç»“æœåŒæ­¥SonarQubeæ˜¾ç¤º"></a>4ã€ç»“æœåŒæ­¥SonarQubeæ˜¾ç¤º</h4><p>åŒEclipseéƒ¨åˆ†ï¼Œæ­¤éƒ¨åˆ†è¦æ±‚JDKä¸º1.8ã€‚</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymqh83gmj31330u0gnp.jpg" srcset="/img/loading.gif" alt=""></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymqhzedij31330u0gnp.jpg" srcset="/img/loading.gif" alt="png"></p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>SonarQube</category>
      
      <category>SonarLint</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SonarQube</tag>
      
      <tag>SonarLint</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[SonarQubeçš„ä½¿ç”¨] SonarQubeå®‰è£…</title>
    <link href="/2019/09/26/SonarQube%E7%9A%84%E4%BD%BF%E7%94%A8-SonarQube%E5%AE%89%E8%A3%85/"/>
    <url>/2019/09/26/SonarQube%E7%9A%84%E4%BD%BF%E7%94%A8-SonarQube%E5%AE%89%E8%A3%85/</url>
    
    <content type="html"><![CDATA[<h2 id="å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨"><a href="#å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨" class="headerlink" title="å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨"></a>å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨</h2><h3 id="ä¸€-SonarQubeä»£ç è´¨é‡æ£€æŸ¥å·¥å…·ç®€ä»‹"><a href="#ä¸€-SonarQubeä»£ç è´¨é‡æ£€æŸ¥å·¥å…·ç®€ä»‹" class="headerlink" title="ä¸€ . SonarQubeä»£ç è´¨é‡æ£€æŸ¥å·¥å…·ç®€ä»‹"></a>ä¸€ . SonarQubeä»£ç è´¨é‡æ£€æŸ¥å·¥å…·ç®€ä»‹</h3><blockquote><p>Sonar (SonarQube)æ˜¯ä¸€ä¸ªå¼€æºå¹³å°ï¼Œç”¨äºç®¡ç†æºä»£ç çš„è´¨é‡</p><p>Sonar ä¸åªæ˜¯ä¸€ä¸ªè´¨é‡æ•°æ®æŠ¥å‘Šå·¥å…·ï¼Œæ›´æ˜¯ä»£ç è´¨é‡ç®¡ç†å¹³å°</p></blockquote><p>æ”¯æŒJava, C#, C/C++, PL/SQL, Cobol, JavaScrip, Groovy ç­‰ç­‰äºŒåå‡ ç§ç¼–ç¨‹è¯­è¨€çš„ä»£ç è´¨é‡ç®¡ç†ä¸æ£€æµ‹ã€‚</p><p>Sonarå¯ä»¥ä»ä»¥ä¸‹ä¸ƒä¸ªç»´åº¦æ£€æµ‹ä»£ç è´¨é‡ï¼Œè€Œä½œä¸ºå¼€å‘äººå‘˜è‡³å°‘éœ€è¦å¤„ç†å‰5ç§ä»£ç è´¨é‡é—®é¢˜ã€‚</p><ol><li><p>ä¸éµå¾ªä»£ç æ ‡å‡†</p></li><li><p>sonarå¯ä»¥é€šè¿‡PMD,CheckStyle,Findbugsç­‰ç­‰ä»£ç è§„åˆ™æ£€æµ‹å·¥å…·è§„èŒƒä»£ç ç¼–å†™ã€‚</p></li><li><p>æ½œåœ¨çš„ç¼ºé™·</p><p>sonarå¯ä»¥é€šè¿‡PMD,CheckStyle,Findbugsç­‰ç­‰ä»£ç è§„åˆ™æ£€æµ‹å·¥å…·æ£€ æµ‹å‡ºæ½œåœ¨çš„ç¼ºé™·ã€‚</p></li><li><p>ç³Ÿç³•çš„å¤æ‚åº¦åˆ†å¸ƒ</p><p>æ–‡ä»¶ã€ç±»ã€æ–¹æ³•ç­‰ï¼Œå¦‚æœå¤æ‚åº¦è¿‡é«˜å°†éš¾ä»¥æ”¹å˜ï¼Œè¿™ä¼šä½¿å¾—å¼€å‘äººå‘˜ éš¾ä»¥ç†è§£å®ƒä»¬, ä¸”å¦‚æœæ²¡æœ‰è‡ªåŠ¨åŒ–çš„å•å…ƒæµ‹è¯•ï¼Œå¯¹äºç¨‹</p><p>åºä¸­çš„ä»»ä½•ç»„ä»¶çš„æ”¹å˜éƒ½å°†å¯èƒ½å¯¼è‡´éœ€è¦å…¨é¢çš„å›å½’æµ‹è¯•ã€‚</p></li><li><p>é‡å¤</p><p>æ˜¾ç„¶ç¨‹åºä¸­åŒ…å«å¤§é‡å¤åˆ¶ç²˜è´´çš„ä»£ç æ˜¯è´¨é‡ä½ä¸‹çš„ï¼Œsonarå¯ä»¥å±•ç¤º æºç ä¸­é‡å¤ä¸¥é‡çš„åœ°æ–¹ã€‚</p></li><li><p>æ³¨é‡Šä¸è¶³æˆ–è€…è¿‡å¤š</p><p>æ²¡æœ‰æ³¨é‡Šå°†ä½¿ä»£ç å¯è¯»æ€§å˜å·®ï¼Œç‰¹åˆ«æ˜¯å½“ä¸å¯é¿å…åœ°å‡ºç°äººå‘˜å˜åŠ¨ æ—¶ï¼Œç¨‹åºçš„å¯è¯»æ€§å°†å¤§å¹…ä¸‹é™ è€Œè¿‡å¤šçš„æ³¨é‡Šåˆä¼šä½¿å¾—å¼€å‘äººå‘˜å°†ç²¾åŠ›è¿‡å¤šåœ°èŠ±è´¹åœ¨é˜…è¯»æ³¨é‡Šä¸Šï¼Œäº¦è¿èƒŒåˆè¡·ã€‚</p></li><li><p>ç¼ºä¹å•å…ƒæµ‹è¯•</p><p>sonarå¯ä»¥å¾ˆæ–¹ä¾¿åœ°ç»Ÿè®¡å¹¶å±•ç¤ºå•å…ƒæµ‹è¯•è¦†ç›–ç‡ã€‚</p></li><li><p>ç³Ÿç³•çš„è®¾è®¡</p><p>é€šè¿‡sonarå¯ä»¥æ‰¾å‡ºå¾ªç¯ï¼Œå±•ç¤ºåŒ…ä¸åŒ…ã€ç±»ä¸ç±»ä¹‹é—´çš„ç›¸äº’ä¾èµ–å…³ç³»ï¼Œå¯ä»¥æ£€æµ‹è‡ªå®šä¹‰çš„æ¶æ„è§„åˆ™ é€šè¿‡sonarå¯ä»¥ç®¡ç†ç¬¬ä¸‰æ–¹</p><p>çš„jaråŒ…ï¼Œå¯ä»¥åˆ©ç”¨LCOM4æ£€æµ‹å•ä¸ªä»»åŠ¡è§„åˆ™çš„åº”ç”¨æƒ…å†µï¼Œ æ£€æµ‹è—•åˆã€‚</p></li></ol><h4 id="ä¸ºä»€ä¹ˆè¦é€‰æ‹©sonarQube"><a href="#ä¸ºä»€ä¹ˆè¦é€‰æ‹©sonarQube" class="headerlink" title="ä¸ºä»€ä¹ˆè¦é€‰æ‹©sonarQube?"></a>ä¸ºä»€ä¹ˆè¦é€‰æ‹©sonarQube?</h4><p>ä¸ªäººä½¿ç”¨ä¹‹åè®¤ä¸º : sonarQubeçš„ä¼˜åŠ¿å¦‚ä¸‹(ç›¸æ¯”äºé˜¿é‡Œç¼–ç è§„çº¦è¿™ç§å¸‚é¢ä¸Šå¸¸è§ç±»ä¼¼è½¯ä»¶):</p><ol><li><p>æ›´åŠ ä¼˜ç§€çš„å›¾å½¢åŒ–ç•Œé¢</p><p>åŸºæœ¬ä¸Šé€šè¿‡ç•Œé¢å°±å¯ä»¥å¯¹è‡ªå·±é¡¹ç›®çš„ä»£ç çŠ¶å†µä¸€ç›®äº†ç„¶</p></li><li><p>å¯ä»¥æŸ¥è¯¢å‡ºå…¶å®ƒè½¯ä»¶éš¾ä»¥å®šä½åˆ°çš„é—®é¢˜</p><p>æ¯”å¦‚ : </p><p>å¯èƒ½å¯¼è‡´ç©ºæŒ‡é’ˆå¼‚å¸¸çš„é—®é¢˜ (å¯¹è±¡åœ¨è¿›è¡Œä½¿ç”¨å‰æ²¡æœ‰åŠ ç©ºçš„åˆ¤æ–­)</p><p>å¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼çš„é—®é¢˜, åœ¨try catch å—é‡Œé¢,ç›´æ¥ä½¿ç”¨e.printStackTrace()å°†å †æ ˆä¿¡æ¯æ‰“å°åˆ°å†…å­˜çš„</p><p>å¯èƒ½å¯¼è‡´çš„æ¼æ´ : æˆå‘˜å˜é‡ä½¿ç”¨publicå®šä¹‰çš„</p><p>è¿˜æœ‰è¯¸å¦‚ : æµç­‰æœªå…³é—­æˆ–è€…æ˜¯éæ­£å¸¸å…³é—­éƒ½èƒ½å¤Ÿæ£€æµ‹å‡ºæ¥!</p><p>åŠŸèƒ½éå¸¸å¼ºå¤§!!</p></li></ol><h3 id="äºŒ-å®‰è£…ï¼š"><a href="#äºŒ-å®‰è£…ï¼š" class="headerlink" title="äºŒ. å®‰è£…ï¼š"></a>äºŒ. å®‰è£…ï¼š</h3><h4 id="2-1-å®‰è£…SonarQube-web-server"><a href="#2-1-å®‰è£…SonarQube-web-server" class="headerlink" title="2.1 å®‰è£…SonarQube web server"></a>2.1 å®‰è£…SonarQube web server</h4><ol><li><p>é¦–å…ˆç¡®ä¿å®‰è£…äº†jdk1.8 +</p></li><li><p>åˆ°æ­¤é“¾æ¥ <a href="https://www.sonarqube.org/downloads/" target="_blank" rel="noopener">https://www.sonarqube.org/downloads/</a> </p><p>ä¸‹è½½sonalqube(ä¸‹è½½ç¤¾åŒºç‰ˆ,æ˜¯å¼€æºçš„),</p></li></ol><p>æˆ‘ä¸‹è½½çš„æ˜¯sonarqube-7.2.1ï¼Œå› ä¸ºæœ€æ–°ç‰ˆ<strong>7.9.1</strong>éœ€è¦<strong>jdk11</strong>æ”¯æŒ</p><p>å¹¶è§£å‹,è§£å‹å®Œä¹‹åçš„ç›®å½•å¦‚ä¸‹ :</p><p>  <img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymoi44lcj31eo0omagi.jpg" srcset="/img/loading.gif" alt=""></p><ol start="3"><li><p>åˆ°è§£å‹ç›®å½•çš„bin\macosx-universal-64(å¯¹åº”ç³»ç»Ÿ)ç›®å½•ä¸‹:</p><p>linuxã€Mac <code>sh sonar.sh start</code>å¯åŠ¨</p><p>windows åŒå‡»<code>StartSonar.bat</code> å¯åŠ¨</p></li><li><p>åˆ°æµè§ˆå™¨ç•Œé¢,è¾“å…¥ : <a href="http://localhost:9000" target="_blank" rel="noopener">http://localhost:9000</a> </p><p>å¦‚æœèƒ½è®¿é—®è¡¨æ˜å®‰è£…æˆåŠŸ</p></li></ol><h4 id="2-2-å®‰è£…æ•°æ®åº“"><a href="#2-2-å®‰è£…æ•°æ®åº“" class="headerlink" title="2.2 å®‰è£…æ•°æ®åº“"></a>2.2 å®‰è£…æ•°æ®åº“</h4><ol><li><p>ç‰ˆæœ¬è¦æ±‚:</p><p>åœ¨confç›®å½•ä¸‹çš„sonar.propertiesæ–‡ä»¶ä¸‹:</p><p>æœ‰è¿™æ ·ä¸€è¡Œé…ç½® : </p><pre><code class="hljs properties"><span class="hljs-comment">#----- MySQL &gt;=5.6 &amp;&amp; &lt; 8.0</span></code></pre></li><li><p>ä¸ºsonarqube åˆ›å»ºä¸€ä¸ªæ•°æ®åº“</p><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">database</span> sonar;<span class="hljs-comment">-- åˆ›å»ºæ•°æ®åº“</span></code></pre></li><li><p>åˆ›å»ºsonarqubeç”¨æˆ·å¹¶è¿›è¡Œæˆæƒ</p><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">'username'</span>@<span class="hljs-string">'host'</span> <span class="hljs-keyword">IDENTIFIED</span> <span class="hljs-keyword">BY</span> <span class="hljs-string">'password'</span>; <span class="hljs-comment">-- åˆ›å»ºç”¨æˆ·å¹¶è®¾ç½®å¯†ç </span><span class="hljs-comment">-- username ä¸ºåˆ›å»ºçš„ç”¨æˆ·å</span><span class="hljs-comment">-- host ä¸ºå¯¹åº”çš„ä¸»æœºåœ°å€,æœ¬åœ°å°±æ˜¯localhost</span><span class="hljs-comment">-- password ä¸ºè®¾ç½®çš„å¯†ç </span><span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> <span class="hljs-keyword">ON</span> *.* <span class="hljs-keyword">TO</span> <span class="hljs-string">'username'</span>@<span class="hljs-string">'localhost'</span>;<span class="hljs-comment">-- å¯¹ç”¨æˆ·è¿›è¡Œæˆæƒæ“ä½œ</span></code></pre></li><li><p>ä¿®æ”¹SonarQubeé…ç½®æ–‡ä»¶,æ·»åŠ Mysqlç›¸å…³é…ç½®</p><pre><code class="hljs properties"><span class="hljs-meta">sonar.jdbc.url</span>=<span class="hljs-string">jdbc:mysql://localhost:3306/sonar?useUnicode=true&amp;characterEncoding=utf8&amp;rewriteBatchedStatements=true&amp;useConfigs=maxPerformance&amp;useSSL=false</span><span class="hljs-comment"># åˆšåˆšåˆ›å»ºçš„sonarQubeç”¨æˆ·</span><span class="hljs-meta">sonar.jdbc.username</span>=<span class="hljs-string">sonar</span><span class="hljs-comment"># åˆ›å»ºç”¨æˆ·å¯¹åº”çš„å¯†ç </span><span class="hljs-meta">sonar.jdbc.password</span>=<span class="hljs-string">sonar</span><span class="hljs-comment"># è®¾ç½®ç¼–ç æ ¼å¼ä¸ºUTF-8</span><span class="hljs-meta">sonar.sorceEncoding</span>=<span class="hljs-string">UTF-8</span><span class="hljs-comment"># sonarç™»é™†ç”¨æˆ·å</span><span class="hljs-meta">sonar.login</span>=<span class="hljs-string">admin</span><span class="hljs-comment"># sonarç™»é™†å¯†ç </span><span class="hljs-meta">sonar.password</span>=<span class="hljs-string">admin</span></code></pre></li></ol><h4 id="2-3-é‡æ–°å¯åŠ¨æœåŠ¡ç«¯"><a href="#2-3-é‡æ–°å¯åŠ¨æœåŠ¡ç«¯" class="headerlink" title="2.3 é‡æ–°å¯åŠ¨æœåŠ¡ç«¯"></a>2.3 é‡æ–°å¯åŠ¨æœåŠ¡ç«¯</h4><ol><li><p>é€€å‡º SonarQube æœåŠ¡ç«¯</p><p>åœ¨ä¹‹å‰å¼¹å‡ºçš„cmdçª—å£æ‰§è¡Œctrl + c,</p><p>å¼¹å‡ºæ¥çš„æç¤ºé€‰æ‹©Y,é€€å‡ºSonarQubeæœåŠ¡</p></li><li><p>åŒå‡»StartSonar.batæ–‡ä»¶, é‡æ–°å¯åŠ¨SonarQube</p><p>è¿™æ¬¡å› ä¸ºè¦è¿›è¡Œæ•°æ®åº“çš„åˆå§‹åŒ–æ“ä½œ,æ‰€ä»¥éœ€è¦çš„æ—¶é—´å¯èƒ½ç¨å¾®ä¹…ä¸€ç‚¹</p></li><li><p>å¯åŠ¨æˆåŠŸå,æµè§ˆå™¨è¾“å…¥ : <a href="http://localhost:9000" target="_blank" rel="noopener">http://localhost:9000</a> è¿›å…¥ç•Œé¢</p></li><li><p>ç™»å½• </p><p>ç‚¹å‡»ç•Œé¢å³ä¸Šè§’çš„ç™»å½•æŒ‰é’®, è¿›è¡Œç™»å½• :</p><p>åˆå§‹çš„è´¦æˆ·å : admin</p><p>åˆå§‹çš„å¯†ç   :  admin</p><p>é™„ : ä¸€äº›å…³é”®é…ç½®çš„ä¿®æ”¹,å¦‚ ä¸»æœºåœ°å€,context,ç«¯å£å·ç­‰:</p><p>é€šå¸¸æƒ…å†µä¸‹ä½¿ç”¨é»˜è®¤çš„é…ç½®å³å¯!</p><p>æ–‡ä»¶ /conf/sonar.properties</p><pre><code class="hljs properties"><span class="hljs-comment">#sonar.web.host=0.0.0.0 </span><span class="hljs-comment">#sonar.web.context=</span><span class="hljs-comment">#sonar.web.port=9000</span></code></pre></li></ol><h3 id="ä¸‰-ä½¿ç”¨"><a href="#ä¸‰-ä½¿ç”¨" class="headerlink" title="ä¸‰. ä½¿ç”¨"></a>ä¸‰. ä½¿ç”¨</h3><h4 id="3-1-å®‰è£…å¿…è¦çš„æ’ä»¶-æ±‰åŒ–åŒ…ä¸¾ä¾‹"><a href="#3-1-å®‰è£…å¿…è¦çš„æ’ä»¶-æ±‰åŒ–åŒ…ä¸¾ä¾‹" class="headerlink" title="3.1. å®‰è£…å¿…è¦çš„æ’ä»¶ (æ±‰åŒ–åŒ…ä¸¾ä¾‹)"></a>3.1. å®‰è£…å¿…è¦çš„æ’ä»¶ (æ±‰åŒ–åŒ…ä¸¾ä¾‹)</h4><p>ç‚¹å‡» å¯¼èˆªæ çš„ Administration, é€‰æ‹©Marketplace</p><p>æœç´¢ Chinese pack, ç‚¹å‡»installè¿›è¡Œå®‰è£…</p><p>å®‰è£…æˆåŠŸå, é‡å¯ SonarQube !</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymoldzq6j31jr0u0wk8.jpg" srcset="/img/loading.gif" alt="pack"></p><h4 id="3-2-å¼€å§‹åˆ†æé¡¹ç›®ä»£ç æºä»£ç "><a href="#3-2-å¼€å§‹åˆ†æé¡¹ç›®ä»£ç æºä»£ç " class="headerlink" title="3.2. å¼€å§‹åˆ†æé¡¹ç›®ä»£ç æºä»£ç "></a>3.2. å¼€å§‹åˆ†æé¡¹ç›®ä»£ç æºä»£ç </h4><p>ä½¿ç”¨mavençš„æ–¹å¼è¿›è¡Œåˆ†æ</p><h5 id="3-2-1-ç¼–è¾‘maven-çš„settings-xmlæ–‡ä»¶"><a href="#3-2-1-ç¼–è¾‘maven-çš„settings-xmlæ–‡ä»¶" class="headerlink" title="3.2.1 ç¼–è¾‘maven çš„settings.xmlæ–‡ä»¶"></a>3.2.1 ç¼–è¾‘maven çš„settings.xmlæ–‡ä»¶</h5><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">pluginGroups</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">pluginGroup</span>&gt;</span>org.sonarsource.scanner.maven<span class="hljs-tag">&lt;/<span class="hljs-name">pluginGroup</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pluginGroups</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">profiles</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">profile</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>sonar<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">activation</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">activeByDefault</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">activeByDefault</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">activation</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">sonar.host.url</span>&gt;</span>http://loaclhost:9000<span class="hljs-tag">&lt;/<span class="hljs-name">sonar.host.url</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">profile</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">profiles</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span></code></pre><p>å…¶ä¸­sonar.host.url å€¼å°±æ˜¯ ä¸Šæ–‡å¯åŠ¨çš„sonar æœåŠ¡å™¨åœ°å€ã€‚</p><h5 id="3-2-2-å¯¹mavené¡¹ç›®è¿›è¡Œåˆ†æ"><a href="#3-2-2-å¯¹mavené¡¹ç›®è¿›è¡Œåˆ†æ" class="headerlink" title="3.2.2 å¯¹mavené¡¹ç›®è¿›è¡Œåˆ†æ"></a>3.2.2 å¯¹mavené¡¹ç›®è¿›è¡Œåˆ†æ</h5><p>åˆ°é¡¹ç›®æ‰€åœ¨çš„æ–‡ä»¶è·¯å¾„ä¸‹: </p><p>ä½¿ç”¨å‘½ä»¤æç¤ºç¬¦æˆ–è€…æ˜¯power shellæ‰§è¡Œ å¦‚ä¸‹å‘½ä»¤: </p><pre><code class="hljs shell">mvn org.sonarsource.scanner.maven:sonar-maven-plugin:3.6.0.1398:sonar</code></pre><p>å‡ºç°: BUILD SUCCESS æ ‡è¯†ä¹‹å</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymomt8guj32dq0sutlb.jpg" srcset="/img/loading.gif" alt="BUILD SUCCESS"></p><p>åˆ·æ–°ç•Œé¢æŸ¥çœ‹ :</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymopjdz6j31bv0u0n3x.jpg" srcset="/img/loading.gif" alt=""></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymoqvxqaj31bv0u0n3x.jpg" srcset="/img/loading.gif" alt=""></p><h4 id="3-3-é…ç½®åˆ†æå‚æ•°"><a href="#3-3-é…ç½®åˆ†æå‚æ•°" class="headerlink" title="3.3 é…ç½®åˆ†æå‚æ•°"></a>3.3 é…ç½®åˆ†æå‚æ•°</h4><p>å¼ºåˆ¶å‚æ•°ï¼š    </p><ol><li>Server<br>sonar.host.url        <a href="http://localhost:9000" target="_blank" rel="noopener">http://localhost:9000</a></li><li>Project Configuration<br>sonar.projectKey              Maven   <groupId>:<artifactId><br>sonar.sources                  Maven é»˜è®¤çš„æºç è·¯å¾„</li></ol><p>å¯ä»¥é…ç½®çš„å‚æ•°ï¼š</p><ol><li>Project identity<br>sonar.projectName        é¡¹ç›®åç§°<br>sonar.projectversion     é¡¹ç›®ç‰ˆæœ¬</li><li>Authentication<br>sonar.login                  åˆ†æè¯¥é¡¹ç›®çš„ç”¨æˆ·åç§°<br>sonar.password                åˆ†æè¯¥é¡¹ç›®çš„ç”¨æˆ·å¯†ç </li></ol><h4 id="3-4-ç¨‹åºå‘˜ç”¨æˆ·ä½¿ç”¨è¯´æ˜"><a href="#3-4-ç¨‹åºå‘˜ç”¨æˆ·ä½¿ç”¨è¯´æ˜" class="headerlink" title="3.4. ç¨‹åºå‘˜ç”¨æˆ·ä½¿ç”¨è¯´æ˜"></a>3.4. ç¨‹åºå‘˜ç”¨æˆ·ä½¿ç”¨è¯´æ˜</h4><p>SonarQube Webç®¡ç†è€…é€šè¿‡é…ç½®å’Œè®¾ç½®ä»¥ä¸‹å‚æ•°å€¼å¯¹é¡¹ç›®æºä»£ç è¿›è¡Œï¼š</p><p>å¤æ‚åº¦ã€è¦†ç›–ç‡ã€æ–‡æ¡£ã€é‡å¤ã€é—®é¢˜ã€å¯ç»´æŠ¤æ€§ã€å¯é æ€§ã€å®‰å…¨æ€§ã€å¤§å°ç­‰çº¦æŸå’Œè§„èŒƒã€‚</p><p>sonarä¸­çš„è´¨é‡é˜ˆç®¡ç†ä»¥ä¸‹å†…å®¹ã€‚</p><pre><code class="hljs scheme">å¤æ‚åº¦å¤æ‚åº¦å¤æ‚åº¦/ç±»å¤æ‚åº¦/æ–‡ä»¶å¤æ‚åº¦/æ–¹æ³•è¦†ç›–ç‡åˆ†æ”¯è¦†ç›–é›†æˆæµ‹è¯•çš„æ–°åˆ†æ”¯è¦†ç›–æ–°ä»£ç çš„åˆ†æ”¯è¦†ç›–ç‡è¦†ç›–ç‡æ–°é›†æˆæµ‹è¯•è¦†ç›–æ–°è¦†ç›–ç‡é›†æˆæµ‹è¯•åˆ†æ”¯è¦†ç›–é›†æˆæµ‹è¯•è¦†ç›–é›†æˆæµ‹è¯•è¦†ç›–è¡Œé›†æˆæµ‹è¯•æœªè¦†ç›–åˆ†æ”¯é›†æˆæµ‹è¯•æœªè¦†ç›–è¡Œä»£ç è¦†ç›–ç‡é›†æˆæµ‹è¯•çš„æ–°è¡Œè¦†ç›–æ–°ä»£ç è¦†ç›–ç‡ä»£ç è¡Œé›†æˆæµ‹è¯•çš„æ–°è¡Œè¦†ç›–è¦†ç›–çš„æ–°ä»£ç æ€»ä½“åˆ†æ”¯è¦†ç›–ç‡æ€»ä½“æ–°åˆ†æ”¯è¦†ç›–ç‡æ€»ä½“è¦†ç›–ç‡æ€»ä½“æ–°è¦†ç›–ç‡æ€»ä½“ä»£ç è¦†ç›–ç‡æ€»ä½“æ–°ä»£ç è¦†ç›–ç‡æ€»ä½“è¦†ç›–çš„æ–°è¡Œæ•°æ€»ä½“æœªè¦†ç›–åˆ†æ”¯æ€»ä½“æœªè¦†ç›–çš„æ–°åˆ†æ”¯æ€»ä½“æœªè¦†ç›–ä»£ç æ€»ä½“æœªè¦†ç›–æ–°è¡Œæ•°å•å…ƒæµ‹è¯•å¿½ç•¥æ•°æœªè¦†ç›–åˆ†æ”¯é›†æˆæµ‹è¯•æœªè¦†ç›–çš„æ–°åˆ†æ”¯æœªè¦†ç›–æ–°åˆ†æ”¯æœªè¦†ç›–çš„ä»£ç é›†æˆæµ‹è¯•æœªè¦†ç›–çš„è¡Œæœªè¦†ç›–çš„æ–°ä»£ç å•å…ƒæµ‹è¯•æŒç»­æ—¶é—´å•å…ƒæµ‹è¯•é”™è¯¯æ•°å•å…ƒæµ‹è¯•å¤±è´¥æ•°å•å…ƒæµ‹è¯•æˆåŠŸ (%)å•å…ƒæµ‹è¯•æ•°æ–‡æ¡£æ³¨é‡Šè¡Œæ³¨é‡Š (%)å…¬å…±APIå…¬å…±æ³¨é‡Šçš„API (%)å…¬å…±æœªæ³¨é‡Šçš„APIé‡å¤é‡å¤å—é‡å¤æ–‡ä»¶é‡å¤è¡Œé‡å¤è¡Œ(%)é—®é¢˜é˜»æ–­è¿è§„ç¡®è®¤é—®é¢˜ä¸¥é‡è¿è§„è¯¯åˆ¤é—®é¢˜æç¤ºè¿è§„è¿è§„ä¸»è¦è¿è§„æ¬¡è¦è¿è§„æ–°é˜»æ–­è¿è§„æ–°ä¸¥é‡è¿è§„æ–°æç¤ºè¿è§„æ–°è¿è§„æ–°ä¸»è¦è¿è§„æ–°æ¬¡è¦è¿è§„å¼€å¯é—®é¢˜é‡å¼€é—®é¢˜ä¸ä¿®å¤çš„é—®é¢˜å¯ç»´æŠ¤æ€§æ–°ä»£ç çš„æŠ€æœ¯å€ºåŠ¡åå‘³é“è¾¾åˆ°å¯ç»´æŠ¤æ€§Açº§æ‰€éœ€çš„å·¥ä½œæ–°å¢åå‘³é“æŠ€æœ¯å€ºåŠ¡æŠ€æœ¯å€ºåŠ¡æ¯”ç‡æ–°ä»£ç æŠ€æœ¯å€ºåŠ¡æ¯”ç‡ManagementBurned budgetBusiness valueTeam sizeå¯é æ€§Bugsæ–°å¢Bugså¯é æ€§ä¿®å¤å·¥ä½œæ–°ä»£ç çš„å¯é æ€§ä¿®å¤å·¥ä½œå®‰å…¨æ€§æ–°å¢æ¼æ´å®‰å…¨ä¿®å¤å·¥ä½œæ–°ä»£ç çš„å®‰å…¨ä¿®å¤å·¥ä½œæ¼æ´å¤§å°ç±»ç›®å½•æ–‡ä»¶æ–¹æ³•ç”Ÿæˆçš„è¡Œæ•°ç”Ÿæˆçš„ä»£ç è¡Œæ•°è¡Œæ•°ä»£ç è¡Œæ•°é¡¹ç›®è¯­å¥</code></pre><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Sonar</category>
      
      <category>SonarQube</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Sonar</tag>
      
      <tag>SonarQube</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ•™ç¨‹|æ•™ä½ å¦‚ä½•ç»™ä½ çš„å¤´åƒæ·»åŠ ä¸€ä¸ªå¥½çœ‹çš„å›½æ——</title>
    <link href="/2019/09/24/%E6%95%99%E7%A8%8B-%E6%95%99%E4%BD%A0%E5%A6%82%E4%BD%95%E7%BB%99%E4%BD%A0%E7%9A%84%E5%A4%B4%E5%83%8F%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%B8%AA%E5%A5%BD%E7%9C%8B%E7%9A%84%E5%9B%BD%E6%97%97/"/>
    <url>/2019/09/24/%E6%95%99%E7%A8%8B-%E6%95%99%E4%BD%A0%E5%A6%82%E4%BD%95%E7%BB%99%E4%BD%A0%E7%9A%84%E5%A4%B4%E5%83%8F%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%B8%AA%E5%A5%BD%E7%9C%8B%E7%9A%84%E5%9B%BD%E6%97%97/</url>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©æœ‹å‹åœˆåˆç«äº†ï¼Œå¬è¯´åŸå› æ˜¯ <strong>@è…¾è®¯å®˜ç½‘</strong> å°±èƒ½å¾—åˆ°ä¸€é¡¶ç»¿è‰²çš„å¸½å­ï¼Œå•Šå‘¸ï¼Œæ˜¯ä¸€ä¸ªå¥½çœ‹çš„å›½åº†èŠ‚å¤´åƒï¼Œå¯æ˜¯å¬è¯´æ²¡ä¸€ä¼šå°±502äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬è‡ªå·±åŠ¨æ‰‹å®ç°ä¸€ä¸ªå§</p><p>ç”±äºä»£ç æ¯”è¾ƒç®€å•å°±ä¸ä¸€ä¸€ä»‹ç»äº†ã€‚</p><a id="more"></a><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> cvs = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"cvs"</span>);<span class="hljs-keyword">var</span> ctx = cvs.getContext(<span class="hljs-string">"2d"</span>);<span class="hljs-keyword">var</span> exportImage = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"export"</span>);<span class="hljs-keyword">var</span> img = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"img"</span>);<span class="hljs-keyword">var</span> hat = <span class="hljs-string">"hat6"</span>;<span class="hljs-keyword">var</span> canvasFabric;<span class="hljs-keyword">var</span> hatInstance;<span class="hljs-keyword">var</span> screenWidth = <span class="hljs-built_in">window</span>.screen.width &lt; <span class="hljs-number">500</span> ? <span class="hljs-built_in">window</span>.screen.width : <span class="hljs-number">300</span>;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">viewer</span>(<span class="hljs-params"></span>) </span>&#123;<span class="hljs-keyword">var</span> file = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"upload"</span>).files[<span class="hljs-number">0</span>];<span class="hljs-built_in">console</span>.log(file);<span class="hljs-keyword">var</span> reader = <span class="hljs-keyword">new</span> FileReader;<span class="hljs-keyword">if</span> (file) &#123;reader.readAsDataURL(file);reader.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>&#123;img.src = reader.result;img.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;img2Cvs(img)&#125;&#125;&#125; <span class="hljs-keyword">else</span> &#123;img.src = <span class="hljs-string">""</span>&#125;&#125;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">img2Cvs</span>(<span class="hljs-params">img</span>) </span>&#123;cvs.width = img.width;cvs.height = img.height;cvs.style.display = <span class="hljs-string">"block"</span>;canvasFabric = <span class="hljs-keyword">new</span> fabric.Canvas(<span class="hljs-string">"cvs"</span>, &#123;width: screenWidth,height: screenWidth,backgroundImage: <span class="hljs-keyword">new</span> fabric.Image(img, &#123;scaleX: screenWidth / img.width,scaleY: screenWidth / img.height&#125;)&#125;);changeHat();<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"uploadContainer"</span>).style.display = <span class="hljs-string">"none"</span>;<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"uploadText"</span>).style.display = <span class="hljs-string">"none"</span>;<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"upload"</span>).style.display = <span class="hljs-string">"none"</span>;<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"change"</span>).style.display = <span class="hljs-string">"block"</span>;<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"exportBtn"</span>).style.display = <span class="hljs-string">"block"</span>;<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"tip"</span>).style.opacity = <span class="hljs-number">1</span>&#125;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">changeHat</span>(<span class="hljs-params"></span>) </span>&#123;<span class="hljs-built_in">document</span>.getElementById(hat).style.display = <span class="hljs-string">"none"</span>;<span class="hljs-keyword">var</span> hats = <span class="hljs-built_in">document</span>.getElementsByClassName(<span class="hljs-string">"hide"</span>);hat = <span class="hljs-string">"hat"</span> + (+hat.replace(<span class="hljs-string">"hat"</span>, <span class="hljs-string">""</span>) + <span class="hljs-number">1</span>) % hats.length;<span class="hljs-keyword">var</span> hatImage = <span class="hljs-built_in">document</span>.getElementById(hat);hatImage.style.display = <span class="hljs-string">"block"</span>;<span class="hljs-keyword">if</span> (hatInstance) &#123;canvasFabric.remove(hatInstance)&#125;hatInstance = <span class="hljs-keyword">new</span> fabric.Image(hatImage, &#123;top: <span class="hljs-number">40</span>,left: screenWidth / <span class="hljs-number">3</span>,scaleX: <span class="hljs-number">100</span> / hatImage.width,scaleY: <span class="hljs-number">100</span> / hatImage.height,cornerColor: <span class="hljs-string">"#0b3a42"</span>,cornerStrokeColor: <span class="hljs-string">"#fff"</span>,cornerStyle: <span class="hljs-string">"circle"</span>,transparentCorners: <span class="hljs-literal">false</span>,rotatingPointOffset: <span class="hljs-number">30</span>&#125;);hatInstance.setControlVisible(<span class="hljs-string">"bl"</span>, <span class="hljs-literal">false</span>);hatInstance.setControlVisible(<span class="hljs-string">"tr"</span>, <span class="hljs-literal">false</span>);hatInstance.setControlVisible(<span class="hljs-string">"tl"</span>, <span class="hljs-literal">false</span>);hatInstance.setControlVisible(<span class="hljs-string">"mr"</span>, <span class="hljs-literal">false</span>);hatInstance.setControlVisible(<span class="hljs-string">"mt"</span>, <span class="hljs-literal">false</span>);canvasFabric.add(hatInstance)&#125;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">exportFunc</span>(<span class="hljs-params"></span>) </span>&#123;<span class="hljs-built_in">document</span>.getElementsByClassName(<span class="hljs-string">"canvas-container"</span>)[<span class="hljs-number">0</span>].style.display = <span class="hljs-string">"none"</span>;<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"exportBtn"</span>).style.display = <span class="hljs-string">"none"</span>;<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"tip"</span>).innerHTML = <span class="hljs-string">"é•¿æŒ‰å›¾ç‰‡ä¿å­˜æˆ–åˆ†äº«"</span>;<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"change"</span>).style.display = <span class="hljs-string">"none"</span>;cvs.style.display = <span class="hljs-string">"none"</span>;exportImage.style.display = <span class="hljs-string">"block"</span>;exportImage.src = canvasFabric.toDataURL(&#123;width: screenWidth,height: screenWidth&#125;)&#125;</code></pre><p>æœ€åæ•ˆæœ</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymmwsocwj31tg0roq69.jpg" srcset="/img/loading.gif" alt="image-20190924171759373"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymmxqcayj30t80lgjte.jpg" srcset="/img/loading.gif" alt="image-20190924171817825"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymmzogrjj315m0kejur.jpg" srcset="/img/loading.gif" alt="image-20190924171842699">æ‹–åŠ¨å›¾ç‰‡å¯è§å·²ç»æ‹¼åˆæˆä¸€å¼ å®Œæ•´å›¾ç‰‡äº†</p><p>å³é”®æŸ¥çœ‹æºä»£ç </p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymn2ezqkj31jm0c0784.jpg" srcset="/img/loading.gif" alt="image-20190924171947774"></p><p>æºç åœ°å€ï¼š<a href="https://gitee.com/alterem/avatar.git" target="_blank" rel="noopener">https://gitee.com/alterem/avatar.git</a></p><p>æ¼”ç¤ºåœ°å€ï¼š<a href="http://alterem.gitee.io/avatar/" target="_blank" rel="noopener">http://alterem.gitee.io/avatar/</a></p>]]></content>
    
    
    <categories>
      
      <category>Javascript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Javascript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åœ¨SpringMVCé¡¹ç›®ä¸­ä½¿ç”¨HIkariCP</title>
    <link href="/2019/06/24/%E5%9C%A8SpringMVC%E9%A1%B9%E7%9B%AE%E4%B8%AD%E4%BD%BF%E7%94%A8HIkariCP/"/>
    <url>/2019/06/24/%E5%9C%A8SpringMVC%E9%A1%B9%E7%9B%AE%E4%B8%AD%E4%BD%BF%E7%94%A8HIkariCP/</url>
    
    <content type="html"><![CDATA[<h4 id="ä»€ä¹ˆæ˜¯HIkariCP"><a href="#ä»€ä¹ˆæ˜¯HIkariCP" class="headerlink" title="ä»€ä¹ˆæ˜¯HIkariCP"></a>ä»€ä¹ˆæ˜¯HIkariCP</h4><blockquote><p><a href="https://www.jianshu.com/p/15b846107a7c" target="_blank" rel="noopener">https://www.jianshu.com/p/15b846107a7c</a></p></blockquote><h4 id="ä½¿ç”¨HikariCPæ•°æ®æº"><a href="#ä½¿ç”¨HikariCPæ•°æ®æº" class="headerlink" title="ä½¿ç”¨HikariCPæ•°æ®æº"></a>ä½¿ç”¨HikariCPæ•°æ®æº</h4><h5 id="pom-xml"><a href="#pom-xml" class="headerlink" title="pom.xml"></a>pom.xml</h5><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.zaxxer<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>HikariCP<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.3.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre><a id="more"></a><h5 id="Spring-mvc-xml"><a href="#Spring-mvc-xml" class="headerlink" title="Spring-mvc.xml"></a>Spring-mvc.xml</h5><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"dataSource"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.zaxxer.hikari.HikariDataSource"</span> <span class="hljs-attr">destroy-method</span>=<span class="hljs-string">"shutdown"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"driverClassName"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"$&#123;jdbc.driver&#125;"</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"jdbcUrl"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"$&#123;jdbc.url&#125;"</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"$&#123;jdbc.username&#125;"</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"$&#123;jdbc.password&#125;"</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"connectionTestQuery"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"SELECT 1"</span> /&gt;</span><span class="hljs-comment">&lt;!-- ç”Ÿæ•ˆè¶…æ—¶ --&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"validationTimeout"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"3000"</span> /&gt;</span>        <span class="hljs-comment">&lt;!-- è¿æ¥åªè¯»æ•°æ®åº“æ—¶é…ç½®ä¸ºtrueï¼Œ ä¿è¯å®‰å…¨ --&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"readOnly"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"false"</span> /&gt;</span>        <span class="hljs-comment">&lt;!-- ç­‰å¾…è¿æ¥æ± åˆ†é…è¿æ¥çš„æœ€å¤§æ—¶é•¿ï¼ˆæ¯«ç§’ï¼‰ï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é•¿è¿˜æ²¡å¯ç”¨çš„è¿æ¥åˆ™å‘ç”ŸSQLExceptionï¼Œ ç¼ºçœ:30ç§’ --&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"connectionTimeout"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"60000"</span> /&gt;</span>        <span class="hljs-comment">&lt;!-- ä¸€ä¸ªè¿æ¥idleçŠ¶æ€çš„æœ€å¤§æ—¶é•¿ï¼ˆæ¯«ç§’ï¼‰ï¼Œè¶…æ—¶åˆ™è¢«é‡Šæ”¾ï¼ˆretiredï¼‰ï¼Œç¼ºçœ:10åˆ†é’Ÿ --&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"idleTimeout"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"60000"</span> /&gt;</span>        <span class="hljs-comment">&lt;!-- ä¸€ä¸ªè¿æ¥çš„ç”Ÿå‘½æ—¶é•¿ï¼ˆæ¯«ç§’ï¼‰ï¼Œè¶…æ—¶è€Œä¸”æ²¡è¢«ä½¿ç”¨åˆ™è¢«é‡Šæ”¾ï¼ˆretiredï¼‰ï¼Œç¼ºçœ:30åˆ†é’Ÿï¼Œå»ºè®®è®¾ç½®æ¯”æ•°æ®åº“è¶…æ—¶æ—¶é•¿å°‘30ç§’ï¼Œå‚è€ƒMySQL</span><span class="hljs-comment">            wait_timeoutå‚æ•°ï¼ˆshow variables like '%timeout%';ï¼‰ --&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"maxLifetime"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"60000"</span> /&gt;</span>        <span class="hljs-comment">&lt;!-- è¿æ¥æ± ä¸­å…è®¸çš„æœ€å¤§è¿æ¥æ•°ã€‚ç¼ºçœå€¼ï¼š10ï¼›æ¨èçš„å…¬å¼ï¼š((core_count * 2) + effective_spindle_count) --&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"maximumPoolSize"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"10"</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></code></pre><h4 id="å¯åŠ¨æˆåŠŸæ—¥å¿—"><a href="#å¯åŠ¨æˆåŠŸæ—¥å¿—" class="headerlink" title="å¯åŠ¨æˆåŠŸæ—¥å¿—"></a>å¯åŠ¨æˆåŠŸæ—¥å¿—</h4><pre><code class="hljs bash">17:36:50.838 [main] WARN  com.zaxxer.hikari.HikariConfig - HikariPool-1 - idleTimeout has been <span class="hljs-built_in">set</span> but has no effect because the pool is operating as a fixed size pool.17:36:50.838 [main] DEBUG com.zaxxer.hikari.HikariConfig - HikariPool-1 - configuration:17:36:50.841 [main] DEBUG com.zaxxer.hikari.HikariConfig - allowPoolSuspension.............false17:36:50.841 [main] DEBUG com.zaxxer.hikari.HikariConfig - autoCommit......................true17:36:50.841 [main] DEBUG com.zaxxer.hikari.HikariConfig - catalog.........................none17:36:50.841 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionInitSql...............none17:36:50.841 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionTestQuery.............<span class="hljs-string">"SELECT 1"</span>17:36:50.841 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionTimeout...............6000017:36:50.841 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSource......................none17:36:50.841 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceClassName.............none17:36:50.841 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceJNDI..................none17:36:50.843 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceProperties............&#123;password=&lt;masked&gt;&#125;17:36:50.843 [main] DEBUG com.zaxxer.hikari.HikariConfig - driverClassName.................<span class="hljs-string">"com.mysql.jdbc.Driver"</span>17:36:50.843 [main] DEBUG com.zaxxer.hikari.HikariConfig - healthCheckProperties...........&#123;&#125;17:36:50.843 [main] DEBUG com.zaxxer.hikari.HikariConfig - healthCheckRegistry.............none17:36:50.843 [main] DEBUG com.zaxxer.hikari.HikariConfig - idleTimeout.....................6000017:36:50.843 [main] DEBUG com.zaxxer.hikari.HikariConfig - initializationFailTimeout.......117:36:50.843 [main] DEBUG com.zaxxer.hikari.HikariConfig - isolateInternalQueries..........false17:36:50.843 [main] DEBUG com.zaxxer.hikari.HikariConfig - jdbcUrl.........................jdbc:mysql://ykx.uerp.net:3306/ykx?useUnicode=<span class="hljs-literal">true</span>&amp;characterEncoding=utf817:36:50.843 [main] DEBUG com.zaxxer.hikari.HikariConfig - leakDetectionThreshold..........017:36:50.843 [main] DEBUG com.zaxxer.hikari.HikariConfig - maxLifetime.....................6000017:36:50.843 [main] DEBUG com.zaxxer.hikari.HikariConfig - maximumPoolSize.................1017:36:50.843 [main] DEBUG com.zaxxer.hikari.HikariConfig - metricRegistry..................none17:36:50.843 [main] DEBUG com.zaxxer.hikari.HikariConfig - metricsTrackerFactory...........none17:36:50.843 [main] DEBUG com.zaxxer.hikari.HikariConfig - minimumIdle.....................1017:36:50.843 [main] DEBUG com.zaxxer.hikari.HikariConfig - password........................&lt;masked&gt;17:36:50.843 [main] DEBUG com.zaxxer.hikari.HikariConfig - poolName........................<span class="hljs-string">"HikariPool-1"</span>17:36:50.843 [main] DEBUG com.zaxxer.hikari.HikariConfig - readOnly........................false17:36:50.843 [main] DEBUG com.zaxxer.hikari.HikariConfig - registerMbeans..................false17:36:50.844 [main] DEBUG com.zaxxer.hikari.HikariConfig - scheduledExecutor...............none17:36:50.844 [main] DEBUG com.zaxxer.hikari.HikariConfig - schema..........................none17:36:50.844 [main] DEBUG com.zaxxer.hikari.HikariConfig - threadFactory...................internal17:36:50.844 [main] DEBUG com.zaxxer.hikari.HikariConfig - transactionIsolation............default17:36:50.844 [main] DEBUG com.zaxxer.hikari.HikariConfig - username........................<span class="hljs-string">"ykx"</span>17:36:50.844 [main] DEBUG com.zaxxer.hikari.HikariConfig - validationTimeout...............300017:36:50.844 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...17:36:51.257 [main] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.jdbc.JDBC4Connection@1d77a31d17:36:51.260 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.</code></pre>]]></content>
    
    
    <categories>
      
      <category>HIkariCP</category>
      
      <category>dataSource</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HIkariCP</tag>
      
      <tag>dataSource</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MyBatisåœ¨Springç¯å¢ƒä¸‹çš„äº‹åŠ¡ç®¡ç†</title>
    <link href="/2019/06/13/MyBatis%E5%9C%A8Spring%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86/"/>
    <url>/2019/06/13/MyBatis%E5%9C%A8Spring%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86/</url>
    
    <content type="html"><![CDATA[<p>MyBatisçš„è®¾è®¡æ€æƒ³å¾ˆç®€å•ï¼Œå¯ä»¥çœ‹åšæ˜¯å¯¹JDBCçš„ä¸€æ¬¡å°è£…ï¼Œå¹¶æä¾›å¼ºå¤§çš„åŠ¨æ€SQLæ˜ å°„åŠŸèƒ½ã€‚ä½†æ˜¯ç”±äºå®ƒæœ¬èº«ä¹Ÿæœ‰ä¸€äº›ç¼“å­˜ã€äº‹åŠ¡ç®¡ç†ç­‰åŠŸèƒ½ï¼Œæ‰€ä»¥å®é™…ä½¿ç”¨ä¸­è¿˜æ˜¯ä¼šç¢°åˆ°ä¸€äº›é—®é¢˜â€”â€”å¦å¤–ï¼Œæœ€è¿‘æ¥è§¦äº†JFinalï¼Œå…¶æ€æƒ³å’ŒHibernateç±»ä¼¼ï¼Œä½†è¦æ›´ç®€æ´ï¼Œå’ŒMyBatisçš„è®¾è®¡æ€æƒ³ä¸åŒï¼Œä½†æœ‰ä¸€ç‚¹ç›¸åŒï¼šéƒ½æ˜¯æƒ³é€šè¿‡ç®€æ´çš„è®¾è®¡æœ€å¤§é™åº¦åœ°ç®€åŒ–å¼€å‘å’Œæå‡æ€§èƒ½â€”â€”è¯´åˆ°æ€§èƒ½ï¼Œå‰æ®µæ—¶é—´ç¢°åˆ°ä¸¤ä¸ªé—®é¢˜ï¼š </p><ol><li>åœ¨ä¸€ä¸ªä¸Šå±‚æ–¹æ³•ï¼ˆDAOæ–¹æ³•çš„ä¸Šå±‚ï¼‰å†…åˆ é™¤ä¸€æ¡è®°å½•ï¼Œç„¶åå†æ’å…¥ä¸€æ¡ç›¸åŒ<strong>ä¸»é”®</strong>çš„è®°å½•æ—¶ï¼Œä¼šæŠ¥ä¸»é”®å†²çªçš„é”™è¯¯ã€‚     </li><li>æŸäº›é¡¹ç›®ä¸­çš„DAOæ–¹æ³•å¹³å‡æ‰§è¡Œæ—¶é—´ä¼šæ˜¯å…¶ä»–ä¸€äº›é¡¹ç›®ä¸­çš„ <strong>2å€</strong> ã€‚     </li></ol><p>ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯å¶å°”ä¼šå‡ºç°ï¼Œåœ¨å®éªŒç¯å¢ƒæ— è®ºå¦‚ä½•ä¹Ÿé‡ç°ä¸äº†ï¼Œç»è¿‡åˆ†æMyBatisçš„é€»è¾‘ï¼Œä¼°è®¡æ˜¯ä¸¤ä¸ªDAOåˆ†åˆ«æ‹¿åˆ°äº†ä¸¤ä¸ªä¸åŒçš„Connectionï¼Œç¬¬äºŒä¸ªè¯­å¥æ¯”ç¬¬ä¸€ä¸ªæ›´æ—©çš„è¢«æäº¤ï¼Œå¯¼è‡´äº†ä¸»é”®å†²çªï¼Œæœ‰å¾…è¿›ä¸€æ­¥çš„åˆ†æå’ŒéªŒè¯ã€‚å¯¹äºç¬¬äºŒä¸ªé—®é¢˜ï¼Œæœ¬æ–‡å°†å°è¯•é€šè¿‡åˆ†ææºä»£ç å’Œå®éªŒæ‰¾åˆ°å®ƒçš„root causeï¼Œä¸»è¦æ¶‰åŠåˆ°ä»¥ä¸‹å†…å®¹ï¼š </p><ol><li><p>é—®é¢˜æè¿°ä¸åˆ†æ     </p></li><li><p>MyBatisåœ¨Springç¯å¢ƒä¸‹çš„è½½å…¥è¿‡ç¨‹     </p></li><li><p>MyBatisåœ¨Springç¯å¢ƒä¸‹äº‹åŠ¡çš„ç®¡ç†     </p></li><li><p>å®éªŒéªŒè¯     </p></li></ol><a id="more"></a><h3 id="é¡¹ç›®ç¯å¢ƒ"><a href="#é¡¹ç›®ç¯å¢ƒ" class="headerlink" title="é¡¹ç›®ç¯å¢ƒ"></a>é¡¹ç›®ç¯å¢ƒ</h3><p>æ•´ä¸ªç³»ç»Ÿæ˜¯å¾®æœåŠ¡æ¶æ„ï¼Œè¿™é‡Œè®¨è®ºçš„ã€Œé¡¹ç›®ã€æ˜¯æŒ‡ä¸€ä¸ªå•ç‹¬çš„æœåŠ¡ã€‚å•ä¸ªé¡¹ç›®çš„æ¡†æ¶åŸºæœ¬æ˜¯Spring+MyBatisï¼Œå…·ä½“ç‰ˆæœ¬å¦‚ä¸‹ï¼š </p><pre><code class="hljs java">Spring <span class="hljs-number">3.2</span><span class="hljs-number">.9</span>/<span class="hljs-number">4.3</span><span class="hljs-number">.5</span> + Mybatis <span class="hljs-number">3.2</span><span class="hljs-number">.6</span> + mybatis-spring <span class="hljs-number">1.2</span><span class="hljs-number">.2</span> + mysql connector <span class="hljs-number">5.1</span><span class="hljs-number">.20</span> + commons-dbcp <span class="hljs-number">1.4</span></code></pre><p>ä¸MyBatiså’Œäº‹åŠ¡ç›¸å…³çš„é…ç½®å¦‚ä¸‹ï¼š </p><pre><code class="hljs java"><span class="hljs-comment">//ä»£ç 1</span>&lt;!-- bean#1--&gt; &lt;bean id=<span class="hljs-string">"dataSource"</span> <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"org.apache.commons.dbcp.BasicDataSource"</span>        destroy-method=<span class="hljs-string">"close"</span>&gt;        &lt;!-- ä¸€äº›æ•°æ®åº“ä¿¡æ¯é…ç½®--&gt;        &lt;!-- ä¸€äº›DBCPè¿æ¥æ± é…ç½® --&gt;         <span class="hljs-comment">//åœ¨è¿™é‡Œè®¾ç½®æ˜¯å¦è‡ªåŠ¨æäº¤</span>        &lt;property name=<span class="hljs-string">"defaultAutoCommit"</span> value=<span class="hljs-string">"$&#123;dbcp.defaultAutoCommit&#125;"</span> /&gt;  &lt;/bean&gt;&lt;!-- bean#2--&gt;  &lt;bean id=<span class="hljs-string">"sqlSessionFactory"</span> <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;        &lt;property name=<span class="hljs-string">"dataSource"</span> ref=<span class="hljs-string">"dataSource"</span> /&gt;        &lt;property name=<span class="hljs-string">"mapperLocations"</span> value=<span class="hljs-string">"classpath*:path/to/mapper/**/*.xml"</span> /&gt;  &lt;/bean&gt;&lt;!-- bean#3 --&gt;  &lt;bean id=<span class="hljs-string">"transactionManager"</span>        <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span>&gt;        &lt;property name=<span class="hljs-string">"dataSource"</span> ref=<span class="hljs-string">"dataSource"</span> /&gt;  &lt;/bean&gt;&lt;!-- bean#4--&gt;  &lt;bean <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"org.mybatis.spring.mapper.MapperScannerConfigurer"</span>&gt;        &lt;property name=<span class="hljs-string">"basePackage"</span> value=<span class="hljs-string">".path.to.mapper"</span> /&gt;        &lt;property name=<span class="hljs-string">"sqlSessionFactoryBeanName"</span> value=<span class="hljs-string">"sqlSessionFactory"</span>/&gt;  &lt;/bean&gt; &lt;!-- bean5 --&gt;  &lt;tx:annotation-driven transaction-manager=<span class="hljs-string">"transactionManager"</span> /&gt;</code></pre><h3 id="é—®é¢˜æè¿°ä¸åˆ†æ"><a href="#é—®é¢˜æè¿°ä¸åˆ†æ" class="headerlink" title="é—®é¢˜æè¿°ä¸åˆ†æ"></a>é—®é¢˜æè¿°ä¸åˆ†æ</h3><p>ä¸€å€çš„æ—¶é—´å·®æŒºä¸¥é‡çš„ï¼Œå¹³å‡åˆ°æ¯æ¬¡è°ƒç”¨ï¼Œæ­£å¸¸çš„å¤§çº¦åœ¨6åˆ°10å‡      <code>ms</code>ï¼Œæ…¢çš„è¦è¿‘20     <code>ms</code>ï¼Œç”±äºè°ƒç”¨æ¬¡æ•°å¾ˆå¤šï¼Œå¯¼è‡´æ•´ä½“æ€§èƒ½ä¼šæœ‰å¾ˆå¤§çš„å·®åˆ«ã€‚ç»è¿‡ä»”ç»†æ¯”å¯¹è¿™å‡ ä¸ªé¡¹ç›®ï¼Œå‘ç°DAOæ‰§è¡Œæ…¢çš„é¡¹ç›®çš„æ•°æ®æºé…ç½®ï¼ˆbean#1ï¼‰ä¸­<code>defaultAutoCommit</code>çš„é…ç½®éƒ½æ˜¯<code>false</code>ã€‚è€Œä¸”å°†æ­¤é…ç½®æ”¹ä¸º <code>true</code>ä¹‹åå°±æ¢å¤äº†æ­£å¸¸ã€‚ </p><p>ç”±æ­¤æ¨æ–­æ˜¯åœ¨MyBatisåœ¨æ‰§è¡Œã€Œéè‡ªåŠ¨æäº¤ã€è¯­å¥æ—¶ï¼Œè¿›è¡Œç­‰å¾…ï¼Œæˆ–è€…å¤šæäº¤äº†ä¸€æ¬¡ï¼Œå¯¼è‡´å®é™…è°ƒç”¨æ•°æ®åº“APIæ¬¡æ•°å¢å¤šã€‚ä½†æ˜¯è¿™ä¸ªæ¨æ–­ä¹Ÿæœ‰ä¸ªé—®é¢˜ï¼Œç”±äºæ•´ä¸ªé¡¹ç›®æ˜¯åœ¨Springç¯å¢ƒä¸­è¿è¡Œçš„ï¼Œè€Œä¸”ä¹Ÿå¼€å¯äº†Springçš„äº‹åŠ¡ç®¡ç†ï¼Œæ‰€ä»¥è¿˜æ˜¯éœ€è¦è¯¦ç»†çš„çœ‹ä¸€ä¸‹MyBatisåˆ°åº•æ˜¯å¦‚ä½•è£…é…DAOæ–¹æ³•ä¸ç®¡ç†äº‹åŠ¡çš„ï¼Œæ‰èƒ½å½»åº•è§£å¼€è°œå›¢ã€‚ </p><h3 id="é—®é¢˜é‡ç°"><a href="#é—®é¢˜é‡ç°" class="headerlink" title="é—®é¢˜é‡ç°"></a>é—®é¢˜é‡ç°</h3><p>é¦–å…ˆå†™ä¸€ä¸ªServiceï¼Œå…¶ä¸­è°ƒç”¨äº†åŒä¸€ä¸ªmapperç±»çš„ä¸¤ä¸ªæ–¹æ³•åˆ†åˆ«2æ¬¡ï¼Œ<code>insertModelList()</code>ä¼šåœ¨æ•°æ®åº“ä¸­æ’å…¥ä¸¤æ¡è®°å½•ï¼Œ<code>delModels()</code>æ–¹æ³•ä¼šåˆ é™¤è¿™ä¸¤æ¡è®°å½•ï¼Œä»£ç å¦‚ä¸‹ï¼š </p><pre><code class="hljs java"><span class="hljs-comment">//ä»£ç 2</span><span class="hljs-comment">//@Transactional</span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testIS</span><span class="hljs-params">()</span></span>&#123;    List&lt;Model&gt; models= <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();    <span class="hljs-comment">//çœç•¥ä¸€äº›æ•°æ®å·¥ä½œã€‚ã€‚ã€‚</span>    modelMapper.insertModelList(<span class="hljs-number">50001l</span>, models);    modelMapper.delModels(<span class="hljs-number">50001</span>);    <span class="hljs-keyword">if</span> (CollectionUtils.isNotEmpty(models))        modelMapper.insertModelList(<span class="hljs-number">50001</span>, models);    modelMapper.delModels(<span class="hljs-number">50001</span>);&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testOther</span><span class="hljs-params">()</span></span>&#123;    System.out.println(<span class="hljs-string">"åŠ è½½ç±»ï¼š"</span>);    System.out.println(modelMapper.getClass().getClassLoader());    modelMapper.delModels(<span class="hljs-number">50001</span>);&#125;</code></pre><p>å®é™…é¡¹ç›®ä¸­ä½¿ç”¨catæ¥è¿›è¡Œæ‰§è¡Œæ—¶é—´çš„ç»Ÿè®¡ï¼Œè¿™é‡Œä¹Ÿä»¿ç…§catï¼Œä½¿ç”¨ä¸€ä¸ªå•ç‹¬çš„AOPç±»å®ç°æ—¶é—´çš„è®¡ç®—ï¼š </p><pre><code class="hljs java"><span class="hljs-comment">//ä»£ç 3</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DaoTimeAdvice</span> </span>&#123;  <span class="hljs-keyword">private</span> <span class="hljs-keyword">long</span> time = <span class="hljs-number">0</span>;  <span class="hljs-keyword">private</span> <span class="hljs-keyword">long</span> num = <span class="hljs-number">0</span>;  <span class="hljs-function"><span class="hljs-keyword">public</span> Object <span class="hljs-title">calcTime</span><span class="hljs-params">(ProceedingJoinPoint joinPoint)</span> <span class="hljs-keyword">throws</span> Throwable </span>&#123;    <span class="hljs-keyword">long</span> then = System.nanoTime();    Object object = joinPoint.proceed();    <span class="hljs-keyword">long</span> now = System.nanoTime();    setTime(getTime() + (now-then));    setNum(getNum() + <span class="hljs-number">1</span>);    <span class="hljs-keyword">return</span> object;  &#125;  <span class="hljs-comment">//çœç•¥getter &amp; setterã€‚ã€‚ã€‚</span>  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printInfo</span><span class="hljs-params">()</span> </span>&#123;    System.out.println(<span class="hljs-string">"æ€»å…±æ¬¡æ•°ï¼š"</span> + num);    System.out.println(<span class="hljs-string">"æ€»å…±æ—¶é—´ï¼š"</span> + time);    System.out.println(<span class="hljs-string">"å¹³å‡æ—¶é—´ï¼š"</span> + time / num);  &#125;&#125;</code></pre><p>æµ‹è¯•ä»£ç ï¼š </p><pre><code class="hljs java"><span class="hljs-comment">//ä»£ç 4</span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span>&#123;    System.out.println(<span class="hljs-keyword">new</span> SimpleDateFormat(<span class="hljs-string">"[yyyy-MM-dd HH:mm:ss]"</span>).format(<span class="hljs-keyword">new</span> Date())            + <span class="hljs-string">" å¼€å§‹æµ‹è¯•!"</span>);    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; TEST_NUM; i++) &#123;        ItemStrategyServiceTest ist = (ItemStrategyServiceTest) context.getBean(<span class="hljs-string">"isTS"</span>);        ist.testIS();        <span class="hljs-keyword">if</span> (i % <span class="hljs-number">1000</span> == <span class="hljs-number">0</span>) &#123;            System.out.println(<span class="hljs-string">"1000æ¬¡"</span>);        &#125;    &#125;    DaoTimeAdvice ad = (DaoTimeAdvice) context.getBean(<span class="hljs-string">"daoTimeAdvice"</span>);    ad.printInfo();    ItemStrategyServiceTest ist = (ItemStrategyServiceTest) context.getBean(<span class="hljs-string">"isTS"</span>);    ist.testOther();    System.exit(<span class="hljs-number">1</span>);&#125;</code></pre><p>æµ‹è¯•ç»“æœï¼š </p><table><thead><tr><th><code>defaultAutoCommit</code></th><th>å¾ªç¯æ¬¡æ•°</th><th>å…±æ¶ˆè€—æ—¶é—´(ns)</th><th>å¹³å‡æ—¶é—´(ns)</th></tr></thead><tbody><tr><td>true</td><td>40000</td><td>17831088316</td><td>445777</td></tr><tr><td>true</td><td>40000</td><td>17881589992</td><td>447039</td></tr><tr><td>false</td><td>40000</td><td>27280458229</td><td>682011</td></tr><tr><td>false</td><td>40000</td><td>27237413893</td><td>680935</td></tr></tbody></table><p>defaultAutoCommitä¸º<code>false</code>æ—¶çš„æ‰§è¡Œæ—¶é—´æ˜¯<code>true</code>çš„è¿‘1.5å€ï¼Œå¹¶æ²¡æœ‰é‡ç°2å€çš„æ—¶é—´æ¶ˆè€—ï¼Œä¼°è®¡æ˜¯åœ¨catç»Ÿè®¡æˆ–è€…å…¶ä»–AOPæ–¹æ³•çš„æ‰§è¡Œæ—¶è¿˜æœ‰å…¶ä»–æ¶ˆè€—ï¼Œä»è€Œæ‰©å¤§äº†<code>false</code>å’Œ<code>true</code>ä¹‹é—´çš„åŒºåˆ«ã€‚ </p><h3 id="MyBatisåœ¨Springç¯å¢ƒä¸‹çš„è½½å…¥è¿‡ç¨‹"><a href="#MyBatisåœ¨Springç¯å¢ƒä¸‹çš„è½½å…¥è¿‡ç¨‹" class="headerlink" title="MyBatisåœ¨Springç¯å¢ƒä¸‹çš„è½½å…¥è¿‡ç¨‹"></a>MyBatisåœ¨Springç¯å¢ƒä¸‹çš„è½½å…¥è¿‡ç¨‹</h3><p>æŒ‰ç…§ç¬¬ä¸€èŠ‚ä¸­çš„é…ç½®æ–‡ä»¶ï¼Œæ•´ä¸ªMyBatisä¸­DAOçš„beançš„è£…é…åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š </p><ol><li><p>å…ˆä½¿ç”¨BasicDataSourceè£…é…ä¸€ä¸ªæ•°æ®æºçš„beanï¼ˆbean#1ï¼‰ï¼Œåå­—å«åš<code>dataSource</code>ã€‚         </p><p>è¿™ä¸ªbeanå¾ˆç®€å•ï¼Œå°±æ˜¯å®ä¾‹åŒ–å¹¶æ³¨å†Œåˆ°Springçš„ä¸Šä¸‹æ–‡ä¸­ã€‚         </p></li><li><p>ä½¿ç”¨<code>dataSource</code>æ¥åˆ›å»º<code>sqlSessionFactory</code>ï¼ˆbean#2)ï¼Œè¿™ä¸ªbeanåˆ›å»ºæ—¶ä¼šæ‰«æMyBatisçš„è¯­å¥æ˜ å°„æ–‡ä»¶å¹¶è§£æã€‚         </p><p>åœ¨MyBatisä¸­ï¼ŒçœŸæ­£çš„æ•°æ®åº“è¯»å†™æ“ä½œæ˜¯é€šè¿‡SqlSessionçš„å®ä¾‹æ¥å®ç°çš„ï¼Œè€ŒSqlSessionè¦é€šè¿‡SQLSessionFactoryæ¥ç®¡ç†ã€‚è¿™é‡Œçš„ <code>org.mybatis.spring.SqlSessionFactoryBean</code>å®ç°äº†FactoryBeanç±»ï¼ˆè¿™ä¸ªç±»æ¯”è¾ƒç‰¹æ®Šï¼Œä¸ä¸»é¢˜æ— å…³ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼‰ï¼ŒSpringä¼šä»è¿™ä¸ªbeanä¸­ä¼šè·å–çœŸæ­£çš„SQLSessionFactoryçš„å®ä¾‹ï¼Œæºä»£ç ä¸­æ˜¾ç¤ºï¼Œå®é™…è¿”å›çš„å¯¹è±¡æ˜¯DefaultSqlSessionFactoryçš„å®ä¾‹ã€‚         </p></li><li><p>ä½¿ç”¨<code>sqlSessionFactory</code>è¿™ä¸ªå·¥å‚ç±»æ¥åˆ›å»ºmapperæ‰«æå™¨ï¼ˆbean#4ï¼‰ï¼Œå¹¶åˆ›å»ºå«æœ‰DAOæ–¹æ³•çš„å®ä¾‹ã€‚         </p><p>ä¸ºäº†è®©ä¸Šå±‚æ–¹æ³•å¯ä»¥é€šè¿‡æ™®é€šçš„æ–¹æ³•è°ƒç”¨æ¥ä½¿ç”¨DAOæ–¹æ³•ï¼Œéœ€è¦å¾€Springä¸Šä¸‹æ–‡é‡Œæ³¨å†Œç›¸åº”çš„beanï¼Œè€Œåœ¨MyBatisçš„æ™®é€šä½¿ç”¨åœºæ™¯ä¸­æ˜¯æ²¡æœ‰mapperçš„å®ç°ç±»çš„ï¼ˆå…·ä½“çš„SQLè¯­å¥æ˜ å°„é€šè¿‡æ³¨è§£æˆ–è€…XMLæ–‡ä»¶æ¥å®ç°ï¼‰ï¼Œåªæœ‰æ¥å£ï¼Œåœ¨MyBatisä¸­è¿™äº›æ¥å£æ˜¯é€šè¿‡åŠ¨æ€ä»£ç†å®ç°çš„ã€‚è¿™é‡Œä½¿ç”¨çš„ç±»æ˜¯ <code>org.mybatis.spring.mapper.MapperScannerConfigurer</code>ï¼Œå®ƒå®ç°äº†<code>org.springframework.beans.factory.support.BeanDefinitionRegistryPostProcessor</code>æ¥å£ï¼Œæ‰€ä»¥ä¼šåœ¨Springä¸­ã€Œæ‰€æœ‰çš„beanå®šä¹‰å…¨éƒ¨æ³¨å†Œå®Œæˆï¼Œä½†è¿˜æ²¡æœ‰å®ä¾‹åŒ–ã€ä¹‹å‰ï¼Œè°ƒç”¨æ–¹æ³•å‘Springä¸Šä¸‹æ–‡æ³¨å†Œmapperå®ç°ç±»ï¼ˆåŠ¨æ€ä»£ç†çš„å¯¹è±¡ï¼‰ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š         </p><pre><code class="hljs java"> <span class="hljs-comment">//ä»£ç 5</span> <span class="hljs-meta">@Override</span> <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">postProcessBeanDefinitionRegistry</span><span class="hljs-params">(BeanDefinitionRegistry registry)</span> </span>&#123;   <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.processPropertyPlaceHolders) &#123;     processPropertyPlaceHolders();   &#125;   ClassPathMapperScanner scanner = <span class="hljs-keyword">new</span> ClassPathMapperScanner(registry);   <span class="hljs-comment">//è®¾ç½®ä¸€äº›å±æ€§</span>   scanner.scan(StringUtils.tokenizeToStringArray(<span class="hljs-keyword">this</span>.basePackage, ConfigurableApplicationContext.CONFIG_LOCATION_DELIMITERS)); &#125; <span class="hljs-comment">/**</span><span class="hljs-comment">* Perform a scan within the specified base packages.</span><span class="hljs-comment">* <span class="hljs-doctag">@param</span> basePackages the packages to check for annotated classes</span><span class="hljs-comment">* <span class="hljs-doctag">@return</span> number of beans registered</span><span class="hljs-comment">*/</span> <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">scan</span><span class="hljs-params">(String... basePackages)</span> </span>&#123;   <span class="hljs-keyword">int</span> beanCountAtScanStart = <span class="hljs-keyword">this</span>.registry.getBeanDefinitionCount();   doScan(basePackages);   <span class="hljs-comment">// Register annotation config processors, if necessary.</span>   <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.includeAnnotationConfig) &#123;     AnnotationConfigUtils.registerAnnotationConfigProcessors(<span class="hljs-keyword">this</span>.registry);   &#125;   <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>.registry.getBeanDefinitionCount() - beanCountAtScanStart); &#125;</code></pre><p>åœ¨æºä»£ç é‡Œå¯ä»¥çœ‹åˆ°ï¼ŒçœŸæ­£çš„mapperå®ç°ç±»æ˜¯<code>org.mybatis.spring.mapper.MapperFactoryBean&lt;Object&gt;</code>ï¼Œå…·ä½“çš„é€»è¾‘åœ¨æ–¹æ³•<code>org.mybatis.spring.mapper.ClassPathMapperScanner.processBeanDefinitions(Set&lt;BeanDefinitionHolder&gt;)</code>é‡Œã€‚æœ€åï¼Œæ¯ä¸€ä¸ªæ–¹æ³•çš„æ‰§è¡Œï¼Œæœ€ç»ˆè½å…¥äº†             <code>org.mybatis.spring.SqlSessionTemplate</code>çš„æŸä¸ªæ–¹æ³•ä¸­ï¼Œå¹¶è¢«å¦‚ä¸‹è¿™ä¸ªæ‹¦æˆªå™¨æ‹¦æˆªï¼š         </p><pre><code class="hljs java"><span class="hljs-comment">//ä»£ç 6</span>  <span class="hljs-comment">/**</span><span class="hljs-comment">   * Proxy needed to route MyBatis method calls to the proper SqlSession got</span><span class="hljs-comment">   * from Spring's Transaction Manager</span><span class="hljs-comment">   * It also unwraps exceptions thrown by &#123;<span class="hljs-doctag">@code</span> Method#invoke(Object, Object...)&#125; to</span><span class="hljs-comment">   * pass a &#123;<span class="hljs-doctag">@code</span> PersistenceException&#125; to the &#123;<span class="hljs-doctag">@code</span> PersistenceExceptionTranslator&#125;.</span><span class="hljs-comment">   */</span><span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SqlSessionInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">InvocationHandler</span> </span>&#123;<span class="hljs-meta">@Override</span><span class="hljs-function"><span class="hljs-keyword">public</span> Object <span class="hljs-title">invoke</span><span class="hljs-params">(Object proxy, Method method, Object[] args)</span> <span class="hljs-keyword">throws</span> Throwable </span>&#123;  SqlSession sqlSession = getSqlSession(      SqlSessionTemplate.<span class="hljs-keyword">this</span>.sqlSessionFactory,      SqlSessionTemplate.<span class="hljs-keyword">this</span>.executorType,      SqlSessionTemplate.<span class="hljs-keyword">this</span>.exceptionTranslator);  <span class="hljs-keyword">try</span> &#123;    Object result = method.invoke(sqlSession, args);    <span class="hljs-keyword">if</span> (!isSqlSessionTransactional(sqlSession, SqlSessionTemplate.<span class="hljs-keyword">this</span>.sqlSessionFactory)) &#123;      <span class="hljs-comment">// force commit even on non-dirty sessions because some databases require</span>      <span class="hljs-comment">// a commit/rollback before calling close()</span>      sqlSession.commit(<span class="hljs-keyword">true</span>);    &#125;    <span class="hljs-keyword">return</span> result;  &#125; <span class="hljs-keyword">catch</span> (Throwable t) &#123;    <span class="hljs-comment">//çœç•¥ä¸€äº›é”™è¯¯å¤„ç†</span>    <span class="hljs-keyword">throw</span> unwrapped;  &#125; <span class="hljs-keyword">finally</span> &#123;    <span class="hljs-keyword">if</span> (sqlSession != <span class="hljs-keyword">null</span>) &#123;      closeSqlSession(sqlSession, SqlSessionTemplate.<span class="hljs-keyword">this</span>.sqlSessionFactory);    &#125;  &#125;&#125;&#125;</code></pre></li><li><p>MyBatisåœ¨Springç¯å¢ƒä¸‹äº‹åŠ¡çš„ç®¡ç†         </p><p>ä»æºä»£ç ä¸­çŸ¥é“çœŸæ­£çš„SqlSessionFactoryä½¿ç”¨çš„æ˜¯<code>org.apache.ibatis.session.defaults.DefaultSqlSessionFactory</code>çš„å®ä¾‹ï¼ŒåŒæ—¶ï¼Œäº‹åŠ¡ç®¡ç†ä½¿ç”¨     <code>org.mybatis.spring.transaction.SpringManagedTransactionFactory</code>ã€‚ä½†æ˜¯åœ¨ä»£ç 1çš„é…ç½®ä¸­ï¼Œè¿˜æ·»åŠ äº†Springäº‹åŠ¡ç®¡ç†çš„é…ç½®ï¼Œå°±æ˜¯åœ¨æŸä¸ªServiceæ–¹æ³•ï¼ˆæˆ–æŸä¸ªå…¶ä»–å¯è¢«æ‰«æåˆ°çš„æ–¹æ³•ï¼‰ä¸ŠåŠ ä¸Š<code>@Transactional</code>æ³¨è§£ï¼Œé‚£ä¹ˆSpringçš„äº‹åŠ¡ç®¡ç†ä¼šè‡ªåŠ¨åˆ›å»ºäº‹åŠ¡ï¼Œé‚£ä¹ˆå®ƒå’ŒMyBatisçš„äº‹åŠ¡ä¹‹é—´æ˜¯æ€ä¹ˆåä½œçš„å‘¢ï¼Ÿ         </p><p>å¯ä»¥çœ‹åˆ°åœ¨ä»£ç 6ä¸­çš„æ–¹æ³•<code>isSqlSessionTransactional()</code>ï¼Œå®ƒä¼šè¿”å›ä¸Šå±‚ä»£ç ä¸­æ˜¯å¦æœ‰Springçš„äº‹åŠ¡ï¼Œå¦‚æœæœ‰ï¼Œå°†ä¸ä¼šæ‰§è¡Œä¸‹è¾¹çš„<code>commit()</code>ã€‚åœ¨æˆ‘çš„é¡¹ç›®ä¸­çš„å®é™…æƒ…å†µæ˜¯æ²¡æœ‰Springäº‹åŠ¡ï¼Œæ‰€ä»¥è‚¯å®šæ˜¯èµ°åˆ°äº†ä¸‹é¢çš„<code>commit()</code>ï¼Œè¿™ä¸ªæ–¹æ³•æœ€ç»ˆè½åˆ°äº†<code>SpringManagedTransactionFactory</code>ä¸­çš„<code>commit()</code>ï¼Œçœ‹ä»£ç ï¼š         </p><pre><code class="hljs java"><span class="hljs-comment">//ä»£ç 7</span><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">openConnection</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> SQLException </span>&#123;  <span class="hljs-keyword">this</span>.connection = DataSourceUtils.getConnection(<span class="hljs-keyword">this</span>.dataSource);  <span class="hljs-keyword">this</span>.autoCommit = <span class="hljs-keyword">this</span>.connection.getAutoCommit();  <span class="hljs-keyword">this</span>.isConnectionTransactional = DataSourceUtils.isConnectionTransactional(<span class="hljs-keyword">this</span>.connection, <span class="hljs-keyword">this</span>.dataSource);   &#125;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">commit</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> SQLException </span>&#123;  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.connection != <span class="hljs-keyword">null</span> &amp;&amp; !<span class="hljs-keyword">this</span>.isConnectionTransactional &amp;&amp; !<span class="hljs-keyword">this</span>.autoCommit) &#123;    <span class="hljs-keyword">if</span> (LOGGER.isDebugEnabled()) &#123;      LOGGER.debug(<span class="hljs-string">"Committing JDBC Connection ["</span> + <span class="hljs-keyword">this</span>.connection + <span class="hljs-string">"]"</span>);    &#125;    <span class="hljs-keyword">this</span>.connection.commit();  &#125;&#125;</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œæ­¤å¤„æ˜¯å¦è¦æ‰§è¡Œ<code>commit()</code>æ“ä½œæ˜¯ç”±3ä¸ªå˜é‡å†³å®šçš„ï¼Œå¦‚æœDataSourceçš„ <code>autoCommit</code>æ˜¯ <code>false</code>ï¼Œåˆ™å…¶ç»“æœä¸€å®šä¸º <code>true</code>ï¼Œæ§åˆ¶å°ä¹Ÿä¼šçœ‹åˆ°ä¸€è¡Œæ—¥å¿—ï¼š<code>Committing JDBC Connection [xxxxxx]</code>ï¼Œåˆšå¥½ä¸é¡¹ç›®ä¸­é‡åˆ°çš„æƒ…å†µç›¸åŒã€‚è¿™ä¸ªæäº¤åŠ¨ä½œæ˜¯éœ€è¦å’Œæ•°æ®åº“äº¤äº’çš„ï¼Œæ¯”è¾ƒè€—æ—¶ã€‚         </p></li></ol><h3 id="å®éªŒéªŒè¯"><a href="#å®éªŒéªŒè¯" class="headerlink" title="å®éªŒéªŒè¯"></a>å®éªŒéªŒè¯</h3><p>ç”±ä¸Šä¸€èŠ‚åˆ†æå¾—å‡ºï¼Œé€ æˆDAOæ–¹æ³•æ‰§è¡Œæ—¶é—´å˜é•¿çš„åŸå› æ˜¯ä¼šå¤šæ‰§è¡Œä¸€æ¬¡æäº¤ï¼Œé‚£ä¹ˆå¦‚æœä¸Šå±‚æ–¹æ³•è¢«Springäº‹åŠ¡ç®¡ç†å™¨æ‰˜ç®¡ï¼ˆæˆ–è€…æ•°æ®æºçš„     <code>defaultAutoCommit</code>ä¸º     <code>true</code>ï¼Œè¿™ä¸ªæ¡ä»¶å·²ç»åœ¨åˆšå¼€å§‹çš„é—®é¢˜é‡ç°è¢«éªŒè¯ï¼‰ï¼Œåˆ™ä¸ä¼šæ‰§è¡ŒMyBatisçš„æäº¤åŠ¨ä½œï¼ŒDAOæ–¹æ³•åº”è¯¥ç›¸åº”çš„æ‰§è¡Œæ—¶é—´ä¼šå˜çŸ­ã€‚äºæ˜¯å°†Serviceæ–¹æ³•åŠ ä¸Š     <code>@transactional</code>æ³¨è§£ï¼Œåˆ†åˆ«æµ‹è¯•     <code>true</code>å’Œ     <code>false</code>çš„æƒ…å†µã€‚ç»“æœï¼š </p><table><thead><tr><th align="left">defaultCommit</th><th align="left">å¾ªç¯æ¬¡æ•°</th><th align="left">å…±æ¶ˆè€—æ—¶é—´</th><th align="left">å¹³å‡æ—¶é—´</th></tr></thead><tbody><tr><td align="left">true</td><td align="left">40000</td><td align="left">7017113852</td><td align="left">175427</td></tr><tr><td align="left">false</td><td align="left">40000</td><td align="left">7283591630</td><td align="left">182089</td></tr></tbody></table><p>å¯ä»¥çœ‹åˆ°æ‰§è¡Œçš„æ—¶é—´å·²ç»åŸºæœ¬æ¥è¿‘ï¼Œç”±æ­¤åŸºæœ¬å¯ä»¥ç¡®å®šæ˜¯è¿™ä¸ªåŸå› é€ æˆçš„ã€‚è¿™é‡Œä»ç„¶æœ‰å‡ ä¸ªç–‘ç‚¹ï¼Œå°¤å…¶æ˜¯é—®é¢˜é‡ç°æ—¶æ²¡æœ‰å‡ºç°2å€çš„æ—¶é—´æ¶ˆè€—ï¼Œå¦‚æœä½ æœ‰åˆ«çš„æƒ³æ³•ï¼Œä¹Ÿæ¬¢è¿æå‡ºæ¥è®¨è®ºã€‚ </p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>MyBatis</category>
      
      <category>Spring</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MyBatis</tag>
      
      <tag>Spring</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CAS4.0åˆ†å¸ƒå¼éƒ¨ç½²ä»¥åŠä½¿ç”¨Redisç¼“å­˜å…±äº«ticket</title>
    <link href="/2019/06/12/CAS4-0%E5%88%86%E5%B8%83%E5%BC%8F%E9%83%A8%E7%BD%B2%E4%BB%A5%E5%8F%8A%E4%BD%BF%E7%94%A8Redis%E7%BC%93%E5%AD%98%E5%85%B1%E4%BA%ABticket/"/>
    <url>/2019/06/12/CAS4-0%E5%88%86%E5%B8%83%E5%BC%8F%E9%83%A8%E7%BD%B2%E4%BB%A5%E5%8F%8A%E4%BD%BF%E7%94%A8Redis%E7%BC%93%E5%AD%98%E5%85%B1%E4%BA%ABticket/</url>
    
    <content type="html"><![CDATA[<p>CAS4.0åˆ†å¸ƒå¼éƒ¨ç½²ä»¥åŠä½¿ç”¨Redisç¼“å­˜å…±äº«ticket </p><p>å½“ä¸šåŠ¡ä¸æ–­æ‹“å±•ï¼Œç³»ç»Ÿç”¨æˆ·åœ¨ä¸æ–­å¢åŠ æ—¶ï¼Œæˆ‘ä»¬çš„å¹³å°ç»Ÿä¸€ç™»å½•è®¤è¯æœåŠ¡æ— æ³•æ‰¿å—å½“å‰å‹åŠ›ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åˆ†å¸ƒå¼éƒ¨ç½²æˆ‘ä»¬çš„ç»Ÿä¸€ç™»å½•è®¤è¯æœåŠ¡ã€‚ </p><p>CASçš„åˆ†å¸ƒå¼éƒ¨ç½²ï¼Œé™¤äº†æ³¨æ„sessionå…±äº«ï¼Œé€šè¿‡nginxæˆ–è€…apacheåå‘ä»£ç†å¤–ï¼Œè¿˜éœ€è¦æ³¨æ„ç¥¨æ®ticketçš„å­˜å‚¨å…±äº«ã€‚ åœ¨ticketRegistry.xmlæ–‡ä»¶ä¸­ï¼Œé…ç½®ticketç›¸å…³çš„ä¿¡æ¯ã€‚</p><a id="more"></a><p>ä¸»è¦é…ç½®ï¼š1.æ³¨å†Œticketå­˜å‚¨ï¼Œ2.å®šæ—¶æ¸…é™¤è¿‡æœŸticketã€‚ </p><p>ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„Redisç¼“å­˜Keyè®¾ç½®äº†è¿‡æœŸæ—¶é—´ï¼Œå› æ­¤å¯ä»¥æ³¨é‡Šæ‰æ¸…é™¤è¿‡æœŸticketçš„å®šæ—¶å™¨åŠç›¸å…³ç±»ã€‚</p><p>ç¼–å†™æ–°çš„ticketå­˜å‚¨ç±»éœ€è¦ç»§æ‰¿ç±»AbstractDistributedTicketRegistryã€‚ä»£ç å¦‚ä¸‹ï¼š </p><pre><code class="hljs java"><span class="hljs-keyword">package</span> cas.ticket;    <span class="hljs-keyword">import</span> java.io.ByteArrayInputStream;  <span class="hljs-keyword">import</span> java.io.ByteArrayOutputStream;  <span class="hljs-keyword">import</span> java.io.ObjectInputStream;  <span class="hljs-keyword">import</span> java.io.ObjectOutputStream;  <span class="hljs-keyword">import</span> java.util.Collection;    <span class="hljs-keyword">import</span> org.jasig.cas.ticket.Ticket;  <span class="hljs-keyword">import</span> org.jasig.cas.ticket.TicketGrantingTicket;  <span class="hljs-keyword">import</span> org.jasig.cas.ticket.registry.AbstractDistributedTicketRegistry;    <span class="hljs-keyword">import</span> cn.net.xinyi.util.SysPropertiesUtil;  <span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;  <span class="hljs-keyword">import</span> redis.clients.jedis.JedisPool;  <span class="hljs-keyword">import</span> redis.clients.jedis.JedisPoolConfig;    <span class="hljs-comment">/** </span><span class="hljs-comment"> * ä½¿ç”¨Rediså­˜å‚¨Ticket </span><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> XIVA </span><span class="hljs-comment"> */</span>  <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RedisTicketRegistry</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractDistributedTicketRegistry</span>  </span><span class="hljs-class"></span>&#123;        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> redisDatabaseNum;        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String hosts;            <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> port;            <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> connTimeout;            <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String redisPassword;        <span class="hljs-comment">/** </span><span class="hljs-comment">     * STæœ€å¤§ç©ºé—²æ—¶é—´ </span><span class="hljs-comment">     */</span>      <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> st_time;        <span class="hljs-comment">/** </span><span class="hljs-comment">     * TGTæœ€å¤§ç©ºé—²æ—¶é—´ </span><span class="hljs-comment">     */</span>      <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> tgt_time;        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> JedisPool cachePool;        <span class="hljs-keyword">static</span>      &#123;          redisDatabaseNum = SysPropertiesUtil.getPropertyInt(<span class="hljs-string">"redis_database_num"</span>);            hosts = SysPropertiesUtil.getProperty(<span class="hljs-string">"redis_hosts"</span>);                    port = SysPropertiesUtil.getPropertyInt(<span class="hljs-string">"redis_port"</span>);            connTimeout = SysPropertiesUtil.getPropertyInt(<span class="hljs-string">"redis_conn_timeout"</span>);                    redisPassword = SysPropertiesUtil.getProperty(<span class="hljs-string">"redis_password"</span>);            st_time = SysPropertiesUtil.getPropertyInt(<span class="hljs-string">"st_time"</span>);            tgt_time = SysPropertiesUtil.getPropertyInt(<span class="hljs-string">"tgt_time"</span>);            cachePool = <span class="hljs-keyword">new</span> JedisPool(<span class="hljs-keyword">new</span> JedisPoolConfig(), hosts, port, connTimeout, redisPassword);      &#125;        <span class="hljs-meta">@Override</span>      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">addTicket</span><span class="hljs-params">(Ticket ticket)</span>  </span><span class="hljs-function">    </span>&#123;          Jedis jedis = cachePool.getResource();            jedis.select(redisDatabaseNum);            <span class="hljs-keyword">int</span> seconds = <span class="hljs-number">0</span>;            String key = ticket.getId();            <span class="hljs-keyword">if</span> (ticket <span class="hljs-keyword">instanceof</span> TicketGrantingTicket)          &#123;              seconds = tgt_time / <span class="hljs-number">1000</span>;          &#125;          <span class="hljs-keyword">else</span>          &#123;              seconds = st_time / <span class="hljs-number">1000</span>;          &#125;            ByteArrayOutputStream bos = <span class="hljs-keyword">new</span> ByteArrayOutputStream();          ObjectOutputStream oos = <span class="hljs-keyword">null</span>;            <span class="hljs-keyword">try</span>          &#123;                oos = <span class="hljs-keyword">new</span> ObjectOutputStream(bos);                oos.writeObject(ticket);            &#125;          <span class="hljs-keyword">catch</span> (Exception e)          &#123;              logger.error(<span class="hljs-string">"adding ticket to redis error."</span>);          &#125;          <span class="hljs-keyword">finally</span>          &#123;              <span class="hljs-keyword">try</span>              &#123;                  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> != oos)                      oos.close();                &#125;              <span class="hljs-keyword">catch</span> (Exception e)              &#123;                  logger.error(<span class="hljs-string">"oos closing error when adding ticket to redis."</span>);              &#125;          &#125;            jedis.set(key.getBytes(), bos.toByteArray());          jedis.expire(key.getBytes(), seconds);          jedis.close();        &#125;        <span class="hljs-meta">@Override</span>      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">deleteTicket</span><span class="hljs-params">(String ticketId)</span>  </span><span class="hljs-function">    </span>&#123;          <span class="hljs-keyword">if</span> (ticketId == <span class="hljs-keyword">null</span>)          &#123;              <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;          &#125;            Jedis jedis = cachePool.getResource();          jedis.select(redisDatabaseNum);                    jedis.del(ticketId.getBytes());          jedis.close();          <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;      &#125;        <span class="hljs-meta">@Override</span>      <span class="hljs-function"><span class="hljs-keyword">public</span> Ticket <span class="hljs-title">getTicket</span><span class="hljs-params">(String ticketId)</span>  </span><span class="hljs-function">    </span>&#123;          <span class="hljs-keyword">return</span> getProxiedTicketInstance(getRawTicket(ticketId));      &#125;        <span class="hljs-function"><span class="hljs-keyword">private</span> Ticket <span class="hljs-title">getRawTicket</span><span class="hljs-params">(<span class="hljs-keyword">final</span> String ticketId)</span>  </span><span class="hljs-function">    </span>&#123;          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> == ticketId)          &#123;              <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;          &#125;            Jedis jedis = cachePool.getResource();          jedis.select(redisDatabaseNum);          Ticket ticket = <span class="hljs-keyword">null</span>;          <span class="hljs-keyword">byte</span>[] bytes = jedis.get(ticketId.getBytes());          <span class="hljs-keyword">if</span> (bytes == <span class="hljs-keyword">null</span> || bytes.length &lt; <span class="hljs-number">1</span>)          &#123;              <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;          &#125;          ByteArrayInputStream bais = <span class="hljs-keyword">new</span> ByteArrayInputStream(bytes);          ObjectInputStream ois = <span class="hljs-keyword">null</span>;            <span class="hljs-keyword">try</span>          &#123;              ois = <span class="hljs-keyword">new</span> ObjectInputStream(bais);              ticket = (Ticket) ois.readObject();          &#125;          <span class="hljs-keyword">catch</span> (Exception e)          &#123;              e.printStackTrace();              logger.error(<span class="hljs-string">"getting ticket to redis error."</span>);          &#125;          <span class="hljs-keyword">finally</span>          &#123;              <span class="hljs-keyword">try</span>              &#123;                  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> != ois)                  &#123;                      ois.close();                  &#125;              &#125;              <span class="hljs-keyword">catch</span> (Exception e)              &#123;                  e.printStackTrace();                  logger.error(<span class="hljs-string">"ois closing error when getting ticket to redis."</span>);              &#125;          &#125;            jedis.close();          <span class="hljs-keyword">return</span> ticket;      &#125;        <span class="hljs-meta">@Override</span>      <span class="hljs-function"><span class="hljs-keyword">public</span> Collection&lt;Ticket&gt; <span class="hljs-title">getTickets</span><span class="hljs-params">()</span>  </span><span class="hljs-function">    </span>&#123;          <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> UnsupportedOperationException(<span class="hljs-string">"GetTickets not supported."</span>);        &#125;        <span class="hljs-meta">@Override</span>      <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">needsCallback</span><span class="hljs-params">()</span>  </span><span class="hljs-function">    </span>&#123;          <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;      &#125;        <span class="hljs-meta">@Override</span>      <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">updateTicket</span><span class="hljs-params">(Ticket ticket)</span>  </span><span class="hljs-function">    </span>&#123;          <span class="hljs-keyword">this</span>.addTicket(ticket);        &#125;    &#125;</code></pre><p>å˜æ›´åçš„ticketRegistry.xmlä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>  <span class="hljs-comment">&lt;!--  </span><span class="hljs-comment">  </span><span class="hljs-comment">    Licensed to Jasig under one or more contributor license  </span><span class="hljs-comment">    agreements. See the NOTICE file distributed with this work  </span><span class="hljs-comment">    for additional information regarding copyright ownership.  </span><span class="hljs-comment">    Jasig licenses this file to you under the Apache License,  </span><span class="hljs-comment">    Version 2.0 (the "License"); you may not use this file  </span><span class="hljs-comment">    except in compliance with the License.  You may obtain a  </span><span class="hljs-comment">    copy of the License at the following location:  </span><span class="hljs-comment">  </span><span class="hljs-comment">      http://www.apache.org/licenses/LICENSE-2.0  </span><span class="hljs-comment">  </span><span class="hljs-comment">    Unless required by applicable law or agreed to in writing,  </span><span class="hljs-comment">    software distributed under the License is distributed on an  </span><span class="hljs-comment">    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY  </span><span class="hljs-comment">    KIND, either express or implied.  See the License for the  </span><span class="hljs-comment">    specific language governing permissions and limitations  </span><span class="hljs-comment">    under the License.  </span><span class="hljs-comment">  </span><span class="hljs-comment">--&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span>  </span><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>  </span><span class="hljs-tag">       <span class="hljs-attr">xmlns:p</span>=<span class="hljs-string">"http://www.springframework.org/schema/p"</span>  </span><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">description</span>&gt;</span>          Configuration for the default TicketRegistry which stores the tickets in-memory and cleans them out as specified intervals.      <span class="hljs-tag">&lt;/<span class="hljs-name">description</span>&gt;</span>             <span class="hljs-comment">&lt;!-- Ticket Registry   </span><span class="hljs-comment">  &lt;bean id="ticketRegistry" class="org.jasig.cas.ticket.registry.DefaultTicketRegistry" /&gt;  </span><span class="hljs-comment">  --&gt;</span>        <span class="hljs-comment">&lt;!-- ticket store on redis db  --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"ticketRegistry"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"cas.ticket.RedisTicketRegistry"</span> /&gt;</span>          <span class="hljs-comment">&lt;!--Quartz --&gt;</span>      <span class="hljs-comment">&lt;!-- TICKET REGISTRY CLEANER   </span><span class="hljs-comment">    &lt;bean id="ticketRegistryCleaner" class="org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner"  </span><span class="hljs-comment">        p:ticketRegistry-ref="ticketRegistry"  </span><span class="hljs-comment">        p:logoutManager-ref="logoutManager" /&gt;  </span><span class="hljs-comment">      </span><span class="hljs-comment">    &lt;bean id="jobDetailTicketRegistryCleaner" class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean"  </span><span class="hljs-comment">        p:targetObject-ref="ticketRegistryCleaner"  </span><span class="hljs-comment">        p:targetMethod="clean" /&gt;  </span><span class="hljs-comment">      </span><span class="hljs-comment">    &lt;bean id="triggerJobDetailTicketRegistryCleaner" class="org.springframework.scheduling.quartz.SimpleTriggerBean"  </span><span class="hljs-comment">        p:jobDetail-ref="jobDetailTicketRegistryCleaner"  </span><span class="hljs-comment">        p:startDelay="20000"  </span><span class="hljs-comment">        p:repeatInterval="5000000" /&gt; --&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre>]]></content>
    
    
    <categories>
      
      <category>Cas</category>
      
      <category>Redis</category>
      
      <category>Ticket</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Cas</tag>
      
      <tag>Redis</tag>
      
      <tag>Ticket</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Springæé€Ÿé›†æˆæ³¨è§£Rediså®è·µ</title>
    <link href="/2019/06/12/Spring%E6%9E%81%E9%80%9F%E9%9B%86%E6%88%90%E6%B3%A8%E8%A7%A3Redis%E5%AE%9E%E8%B7%B5/"/>
    <url>/2019/06/12/Spring%E6%9E%81%E9%80%9F%E9%9B%86%E6%88%90%E6%B3%A8%E8%A7%A3Redis%E5%AE%9E%E8%B7%B5/</url>
    
    <content type="html"><![CDATA[<p>Redis åšä¸ºåŸºäºå†…å­˜çš„ Key-Value æ•°æ®åº“ï¼Œç”¨æ¥åšç¼“å­˜æœåŠ¡å™¨æ€§ä»·æ¯”ç›¸å½“é«˜ã€‚ </p><p>å®˜æ–¹æ¨å‡ºçš„é¢å‘ Java çš„ Client Jedisï¼Œæä¾›äº†å¾ˆå¤šæ¥å£å’Œæ–¹æ³•ï¼Œå¯ä»¥è®© Java æ“ä½œä½¿ç”¨ Redisã€‚ </p><p>Spring å›¢é˜Ÿå¯¹ Jedis è¿›è¡Œäº†å°è£…ï¼Œç‹¬ç«‹ä¸º spring-data-redis é¡¹ç›®ï¼Œé…åˆ spring ç‰¹æ€§å¹¶é›†æˆ Jedis çš„ä¸€äº›å‘½ä»¤å’Œæ–¹æ³•ã€‚ </p><p>æœ¬æ–‡é‡ç‚¹æè¿°é›†æˆè¿‡ç¨‹ï¼Œèƒ½è®©ä½ è¿…é€Ÿçš„é€šè¿‡ spring-data-redis å°† redis é›†æˆåˆ° spring é¡¹ç›®ä¸­,æ¯•ç«Ÿå¤§å®¶éƒ½å¿™çš„ã€‚ </p><a id="more"></a><h3 id="1-æ·»åŠ é¡¹ç›®ä¾èµ–"><a href="#1-æ·»åŠ é¡¹ç›®ä¾èµ–" class="headerlink" title="1. æ·»åŠ é¡¹ç›®ä¾èµ–"></a>1. æ·»åŠ é¡¹ç›®ä¾èµ–</h3><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--redis ç¼“å­˜--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.data<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-data-redis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.8.4.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>redis.clients<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jedis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.9.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre><h3 id="2-æ·»åŠ -spring-redis-context-é…ç½®"><a href="#2-æ·»åŠ -spring-redis-context-é…ç½®" class="headerlink" title="2. æ·»åŠ  spring-redis-context é…ç½®"></a>2. æ·»åŠ  spring-redis-context é…ç½®</h3><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">"http://www.springframework.org/schema/context"</span></span><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans</span></span><span class="hljs-tag"><span class="hljs-string">                        http://www.springframework.org/schema/beans/spring-beans-3.2.xsd</span></span><span class="hljs-tag"><span class="hljs-string">                        http://www.springframework.org/schema/context</span></span><span class="hljs-tag"><span class="hljs-string">                        http://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">description</span>&gt;</span>redis ç›¸å…³ç±» Spring æ‰˜ç®¡<span class="hljs-tag">&lt;/<span class="hljs-name">description</span>&gt;</span>    <span class="hljs-comment">&lt;!--è½½å…¥ redis é…ç½®æ–‡ä»¶--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> <span class="hljs-attr">location</span>=<span class="hljs-string">"classpath:redis.properties"</span> <span class="hljs-attr">ignore-unresolvable</span>=<span class="hljs-string">"true"</span>/&gt;</span>    <span class="hljs-comment">&lt;!-- é…ç½® JedisPoolConfig å®ä¾‹ --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"poolConfig"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"redis.clients.jedis.JedisPoolConfig"</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"maxIdle"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"$&#123;redis.maxIdle&#125;"</span>/&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"maxTotal"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"$&#123;redis.maxActive&#125;"</span>/&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"maxWaitMillis"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"$&#123;redis.maxWait&#125;"</span>/&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"testOnBorrow"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"$&#123;redis.testOnBorrow&#125;"</span>/&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>    <span class="hljs-comment">&lt;!-- é…ç½®JedisConnectionFactory --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"jedisConnectionFactory"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.data.redis.connection.jedis.JedisConnectionFactory"</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hostName"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"$&#123;redis.host&#125;"</span>/&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"port"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"$&#123;redis.port&#125;"</span>/&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"$&#123;redis.pass&#125;"</span>/&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"database"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"$&#123;redis.dbIndex&#125;"</span>/&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"poolConfig"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"poolConfig"</span>/&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>    <span class="hljs-comment">&lt;!-- é…ç½®RedisTemplate --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"redisTemplate"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.data.redis.core.RedisTemplate"</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"connectionFactory"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"jedisConnectionFactory"</span>/&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>    <span class="hljs-comment">&lt;!-- é…ç½®RedisCacheManager --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"redisCacheManager"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.data.redis.cache.RedisCacheManager"</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"redisOperations"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"redisTemplate"</span>/&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"defaultExpiration"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"$&#123;redis.expiration&#125;"</span>/&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>    <span class="hljs-comment">&lt;!-- é…ç½®RedisCacheConfig --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"redisCacheConfig"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.rambo.sdh.common.util.RedisCacheConfig"</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"jedisConnectionFactory"</span>/&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"redisTemplate"</span>/&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"redisCacheManager"</span>/&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre><p>JedisConnectionFactory ä¸º Jedis è¿æ¥å·¥å‚ï¼Œé…ç½®ç”±å•ç‹¬æŠ½è±¡çš„ JedisPoolConfig æä¾›ã€‚ </p><p>å¦‚æœä½ ç†Ÿæ‚‰ Spring çš„ JdbcTemplate å¯¹è±¡çš„è¯ï¼Œè¿™é‡Œå¤§æ¦‚èƒ½çŒœå‡ºæ¥ RedisTemplate çš„ä½œç”¨ï¼ŒRedisTemplate å¯¹ RedisConnection è¿›è¡Œäº†å°è£…ã€‚ </p><p>æä¾›è¿æ¥ç®¡ç†ï¼Œåºåˆ—åŒ–ç­‰åŠŸèƒ½ï¼Œå®ƒå¯¹ Redis çš„äº¤äº’è¿›è¡Œäº†æ›´é«˜å±‚æ¬¡çš„æŠ½è±¡ï¼Œæå¤§çš„æ–¹ä¾¿å’Œç®€åŒ–äº† Redis çš„æ“ä½œã€‚ </p><p>RedisCacheManager åšä¸º redis ç»Ÿä¸€çš„è°ƒåº¦å’Œç®¡ç†è€…ï¼Œæœ‰å…´è¶£å¯ä»¥åç¼–è¯‘æºç çœ‹çœ‹ã€‚ </p><p>ç»§æ‰¿è‡ª org.springframework.cache.transaction.AbstractTransactionSupportingCacheManager å¹¶å®ç° org.springframework.cache.CacheManagerã€‚ </p><h3 id="3-æ·»åŠ -redis-properties"><a href="#3-æ·»åŠ -redis-properties" class="headerlink" title="3. æ·»åŠ  redis.properties"></a>3. æ·»åŠ  redis.properties</h3><pre><code class="hljs properties"><span class="hljs-comment">#============================#</span><span class="hljs-comment">#==== Redis settings ====#</span><span class="hljs-comment">#============================#</span><span class="hljs-comment">#redis æœåŠ¡å™¨ IP</span><span class="hljs-meta">redis.host</span>=<span class="hljs-string">127.0.0.1</span><span class="hljs-comment">#redis æœåŠ¡å™¨ç«¯å£</span><span class="hljs-meta">redis.port</span>=<span class="hljs-string">6379</span><span class="hljs-comment">#redis å¯†ç </span><span class="hljs-meta">redis.pass</span>=<span class="hljs-string">redis#2017</span><span class="hljs-comment">#redis æ”¯æŒ16ä¸ªæ•°æ®åº“ï¼ˆç›¸å½“äºä¸åŒç”¨æˆ·ï¼‰å¯ä»¥ä½¿ä¸åŒçš„åº”ç”¨ç¨‹åºæ•°æ®å½¼æ­¤åˆ†å¼€åŒæ—¶åˆå­˜å‚¨åœ¨ç›¸åŒçš„å®ä¾‹ä¸Š</span><span class="hljs-meta">redis.dbIndex</span>=<span class="hljs-string">0</span><span class="hljs-comment">#redis ç¼“å­˜æ•°æ®è¿‡æœŸæ—¶é—´å•ä½ç§’</span><span class="hljs-meta">redis.expiration</span>=<span class="hljs-string">3000</span><span class="hljs-comment">#æ§åˆ¶ä¸€ä¸ª pool æœ€å¤šæœ‰å¤šå°‘ä¸ªçŠ¶æ€ä¸º idle çš„jediså®ä¾‹</span><span class="hljs-meta">redis.maxIdle</span>=<span class="hljs-string">300</span><span class="hljs-comment">#æ§åˆ¶ä¸€ä¸ª pool å¯åˆ†é…å¤šå°‘ä¸ªjediså®ä¾‹</span><span class="hljs-meta">redis.maxActive</span>=<span class="hljs-string">600</span><span class="hljs-comment">#å½“borrowä¸€ä¸ªjediså®ä¾‹æ—¶ï¼Œæœ€å¤§çš„ç­‰å¾…æ—¶é—´ï¼Œå¦‚æœè¶…è¿‡ç­‰å¾…æ—¶é—´ï¼Œåˆ™ç›´æ¥æŠ›å‡ºJedisConnectionExceptionï¼›</span><span class="hljs-meta">redis.maxWait</span>=<span class="hljs-string">1000</span><span class="hljs-comment">#åœ¨borrowä¸€ä¸ªjediså®ä¾‹æ—¶ï¼Œæ˜¯å¦æå‰è¿›è¡Œalidateæ“ä½œï¼›å¦‚æœä¸ºtrueï¼Œåˆ™å¾—åˆ°çš„jediså®ä¾‹å‡æ˜¯å¯ç”¨çš„ï¼›</span><span class="hljs-meta">redis.testOnBorrow</span>=<span class="hljs-string">true</span></code></pre><p>å½“ç„¶é…ç½®æ–‡ä»¶ä½ ä¹Ÿå¯ä»¥ç¡¬ç¼–ç åˆ°ç¨‹åºä¸­ï¼Œåªæ˜¯åœ¨å‚æ•°å‘ç”Ÿæ”¹å˜çš„æ—¶å€™æ¯”è¾ƒç—›è‹¦ä¸€ç‚¹è€Œå·²ã€‚ </p><p>å…¶ä¸­å¤§éƒ¨åˆ†é…ç½®é¡¹éƒ½æ˜¯å›´ç»•ç€ jedisPool ï¼Œå¦‚æœä½ å¯¹æ•°æ®åº“è¿æ¥æ± æ¯”è¾ƒç†Ÿï¼Œä½ ä¼šå‘ç°å®ƒä¿©çš„é…ç½®é¡¹æœ‰ç‚¹ç›¸ä¼¼ã€‚ </p><p>å½“ç³»ç»Ÿ redis é‡åˆ°é—®é¢˜å‡ºç°æ•…éšœæ—¶ï¼Œç†è§£è¿™é‡Œçš„é€‰é¡¹æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ </p><p>æ›´å¤šé…ç½®é¡¹è¯¦è§£: </p><blockquote><p><a href="https://link.zhihu.com/?target=http%3A//www.2cto.com/database/201311/254449.html">http://www.2cto.com/database/201311/254449.html</a> </p></blockquote><h3 id="4-ç¼–å†™è‡ªå®šä¹‰-redis-é…ç½®ç±»"><a href="#4-ç¼–å†™è‡ªå®šä¹‰-redis-é…ç½®ç±»" class="headerlink" title="4. ç¼–å†™è‡ªå®šä¹‰ redis é…ç½®ç±»"></a>4. ç¼–å†™è‡ªå®šä¹‰ redis é…ç½®ç±»</h3><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><span class="hljs-meta">@EnableCaching</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RedisCacheConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">CachingConfigurerSupport</span> </span>&#123;    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> Logger log = LoggerFactory.getLogger(RedisCacheConfig<span class="hljs-class">.<span class="hljs-keyword">class</span>)</span>;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">volatile</span> JedisConnectionFactory mJedisConnectionFactory;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">volatile</span> RedisTemplate&lt;String, String&gt; mRedisTemplate;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">volatile</span> RedisCacheManager mRedisCacheManager;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">RedisCacheConfig</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">super</span>();    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">RedisCacheConfig</span><span class="hljs-params">(JedisConnectionFactory mJedisConnectionFactory, RedisTemplate&lt;String, String&gt; mRedisTemplate, RedisCacheManager mRedisCacheManager)</span> </span>&#123;        <span class="hljs-keyword">super</span>();        <span class="hljs-keyword">this</span>.mJedisConnectionFactory = mJedisConnectionFactory;        <span class="hljs-keyword">this</span>.mRedisTemplate = mRedisTemplate;        <span class="hljs-keyword">this</span>.mRedisCacheManager = mRedisCacheManager;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> JedisConnectionFactory <span class="hljs-title">redisConnectionFactory</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> mJedisConnectionFactory;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> RedisTemplate&lt;String, String&gt; <span class="hljs-title">redisTemplate</span><span class="hljs-params">(RedisConnectionFactory cf)</span> </span>&#123;        <span class="hljs-keyword">return</span> mRedisTemplate;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> CacheManager <span class="hljs-title">cacheManager</span><span class="hljs-params">(RedisTemplate&lt;?, ?&gt; redisTemplate)</span> </span>&#123;        <span class="hljs-keyword">return</span> mRedisCacheManager;    &#125;    <span class="hljs-meta">@Bean</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> KeyGenerator <span class="hljs-title">keyGenerator</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> KeyGenerator() &#123;            <span class="hljs-meta">@Override</span>            <span class="hljs-function"><span class="hljs-keyword">public</span> Object <span class="hljs-title">generate</span><span class="hljs-params">(Object o, Method method, Object... objects)</span> </span>&#123;                StringBuilder sb = <span class="hljs-keyword">new</span> StringBuilder();                sb.append(o.getClass().getName());                sb.append(method.getName());                <span class="hljs-keyword">for</span> (Object obj : objects) &#123;                    sb.append(obj.toString());                &#125;                <span class="hljs-keyword">return</span> sb.toString();            &#125;        &#125;;    &#125;&#125;</code></pre><p>è¯¥é…ç½®ç±»ç»§æ‰¿è‡ª org.springframework.cache.annotation.CachingConfigurerSupport å¹¶å®ç° org.springframework.cache.annotation.CachingConfigurer çš„æ–¹æ³•ã€‚ </p><p>é€šä¿—ä¸€ç‚¹ï¼Œè¯¥ç±»å‘Šè¯‰ spring å½“å‰ä½¿ç”¨çš„ç¼“å­˜æœåŠ¡ä¸º redis å¹¶è‡ªå®šä¹‰äº†ç¼“å­˜ key ç”Ÿæˆçš„è§„åˆ™ã€‚ </p><h3 id="5-åœ¨ä½ å–œæ¬¢çš„åœ°æ–¹è¿›è¡Œæ³¨è§£ç¼“å­˜"><a href="#5-åœ¨ä½ å–œæ¬¢çš„åœ°æ–¹è¿›è¡Œæ³¨è§£ç¼“å­˜" class="headerlink" title="5. åœ¨ä½ å–œæ¬¢çš„åœ°æ–¹è¿›è¡Œæ³¨è§£ç¼“å­˜"></a>5. åœ¨ä½ å–œæ¬¢çš„åœ°æ–¹è¿›è¡Œæ³¨è§£ç¼“å­˜</h3><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ympcrzd7j30k00bvwfe.jpg" srcset="/img/loading.gif" alt="img"></p><p>springç¼“å­˜ä¸€èˆ¬ä½¿ç”¨åœ¨æœåŠ¡å±‚ï¼Œåœ¨ä½ æƒ³ç¼“å­˜çš„æ–¹æ³•ä¸Šé¢æ·»åŠ ç›¸åº”çš„æ³¨è§£å³å¯ï¼Œä¸‹é¢ä¸‰ä¸ªç¼“å­˜çš„æ³¨è§£ä½ å¾—æŒæ¡ã€‚ </p><ul><li>@Cacheable spring ä¼šåœ¨å…¶è¢«è°ƒç”¨åå°†è¿”å›å€¼ç¼“å­˜èµ·æ¥ï¼Œä»¥ä¿è¯ä¸‹æ¬¡åˆ©ç”¨åŒæ ·çš„å‚æ•°æ¥æ‰§è¡Œè¯¥æ–¹æ³•æ—¶å¯ä»¥ç›´æ¥ä»ç¼“å­˜ä¸­è·å–ç»“æœï¼Œè€Œä¸éœ€è¦å†æ¬¡æ‰§è¡Œè¯¥æ–¹æ³•ã€‚     </li><li>@CachePut æ ‡æ³¨çš„æ–¹æ³•åœ¨æ‰§è¡Œå‰ä¸ä¼šå»æ£€æŸ¥ç¼“å­˜ä¸­æ˜¯å¦å­˜åœ¨ä¹‹å‰æ‰§è¡Œè¿‡çš„ç»“æœï¼Œè€Œæ˜¯æ¯æ¬¡éƒ½ä¼šæ‰§è¡Œè¯¥æ–¹æ³•ï¼Œå¹¶å°†æ‰§è¡Œç»“æœä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å…¥æŒ‡å®šçš„ç¼“å­˜ä¸­ã€‚     </li><li>@CacheEvict ç”¨æ¥æ ‡æ³¨åœ¨éœ€è¦æ¸…é™¤ç¼“å­˜å…ƒç´ çš„æ–¹æ³•æˆ–ç±»ä¸Šçš„ã€‚     </li></ul><p>å½“ç„¶è¿™äº›æ³¨è§£é‡Œé¢è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„å±æ€§é…ç½®ï¼Œé…åˆ spring-el è¡¨è¾¾å¼èƒ½åšçš„äº‹æƒ…è¿˜æœ‰å¾ˆå¤šï¼Œå¤§æ¦‚åªæœ‰ä½ æƒ³ä¸åˆ°ï¼Œæ²¡æœ‰åšä¸åˆ°ã€‚ </p><p>åœ¨ä¸šåŠ¡è§„åˆ™æ¯”è¾ƒå¤æ‚çš„æƒ…å†µä¸‹ï¼Œç¼“å­˜ key çš„è®¾è®¡ç›¸å½“é‡è¦ï¼Œè®¾è®¡å‡ºè‰²å¯ä»¥ä½¿ä½ çš„åº”ç”¨é£èµ·æ¥ã€‚ </p><p>æ•´ä¸ªé›†æˆå·¥ä½œå°±ç»“æŸäº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Œä¸Šè¿°ç®—æ˜¯ redis çš„å†°å±±ä¸€è§’ï¼Œè¿˜æœ‰å¾ˆå¤šåƒ redis è·¯ç”±/åˆ†å¸ƒå¼/é›†ç¾¤â€¦.ï¼Œæœ‰æœºä¼šå®è·µæ…¢æ…¢ä½“ä¼šã€‚ </p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>Spring</category>
      
      <category>Redis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Redis</tag>
      
      <tag>Java</tag>
      
      <tag>Spring</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è¿ç®—ç¬¦ä¼˜å…ˆçº§</title>
    <link href="/2019/06/12/%E8%BF%90%E7%AE%97%E7%AC%A6%E4%BC%98%E5%85%88%E7%BA%A7/"/>
    <url>/2019/06/12/%E8%BF%90%E7%AE%97%E7%AC%A6%E4%BC%98%E5%85%88%E7%BA%A7/</url>
    
    <content type="html"><![CDATA[<p>Java è¿ç®—ç¬¦ä¼˜å…ˆçº§</p><table><thead><tr><th align="left">è¿ç®—ç¬¦</th><th align="left">ä¼˜å…ˆçº§</th></tr></thead><tbody><tr><td align="left">postfix</td><td align="left"><em>expr</em>++ <em>expr</em>â€“</td></tr><tr><td align="left">unary</td><td align="left">++<em>expr</em> â€“<em>expr</em> +<em>expr</em> -<em>expr</em> ~ !</td></tr><tr><td align="left">multiplicative</td><td align="left">* / %</td></tr><tr><td align="left">additive</td><td align="left">+ -</td></tr><tr><td align="left">shift</td><td align="left">&lt;&lt; &gt;&gt; &gt;&gt;&gt;</td></tr><tr><td align="left">relational</td><td align="left">&lt; &gt; &lt;= &gt;= instanceof</td></tr><tr><td align="left">equality</td><td align="left">== !=</td></tr><tr><td align="left">bitwise AND</td><td align="left">&amp;</td></tr><tr><td align="left">bitwise exclusive OR</td><td align="left">^</td></tr><tr><td align="left">bitwise inclusive OR</td><td align="left">&#124;</td></tr><tr><td align="left">logical AND</td><td align="left">&amp;&amp;</td></tr><tr><td align="left">logical OR</td><td align="left">&#124;&#124;</td></tr><tr><td align="left">ternary</td><td align="left">? :</td></tr><tr><td align="left">assignment</td><td align="left">= += -= *= /= %= &amp;= ^=</td></tr></tbody></table><p>C++è¿ç®—ç¬¦ä¼˜å…ˆçº§</p><table><thead><tr><th align="left">Precedence</th><th align="left">Operator</th><th align="left">Description</th><th align="left">Associativity</th></tr></thead><tbody><tr><td align="left">1</td><td align="left">::</td><td align="left">Scope resolution</td><td align="left">Left-to-right</td></tr><tr><td align="left">2</td><td align="left">++    â€“</td><td align="left">Suffix/postfix increment and decrement</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">()</td><td align="left">Function call</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">[]</td><td align="left">Array subscripting</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">.</td><td align="left">Element selection by reference</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">âˆ’&gt;</td><td align="left">Element selection through pointer</td><td align="left"></td></tr><tr><td align="left">3</td><td align="left">++    â€“</td><td align="left">Prefix increment and decrement</td><td align="left">Right-to-left</td></tr><tr><td align="left"></td><td align="left">+    âˆ’</td><td align="left">Unary plus and minus</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">!    ~</td><td align="left">Logical NOT and bitwise NOT</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">(<em>type</em>)</td><td align="left">Type cast</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">*</td><td align="left">Indirection (dereference)</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">&amp;</td><td align="left">Address-of</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">sizeof</td><td align="left">Size-of</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">new,  new[]</td><td align="left">Dynamic memory allocation</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">delete,  delete[]</td><td align="left">Dynamic memory deallocation</td><td align="left"></td></tr><tr><td align="left">4</td><td align="left">.*    -&gt;*</td><td align="left">Pointer to member</td><td align="left">Left-to-right</td></tr><tr><td align="left">5</td><td align="left">*    /    %</td><td align="left">Multiplication, division, and remainder</td><td align="left"></td></tr><tr><td align="left">6</td><td align="left">+    âˆ’</td><td align="left">Addition and subtraction</td><td align="left"></td></tr><tr><td align="left">7</td><td align="left">&lt;&lt;    &gt;&gt;</td><td align="left">Bitwise left shift and right shift</td><td align="left"></td></tr><tr><td align="left">8</td><td align="left">&lt;    &lt;=</td><td align="left">For relational operators &lt; and â‰¤ respectively</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">&gt;    &gt;=</td><td align="left">For relational operators &gt; and â‰¥ respectively</td><td align="left"></td></tr><tr><td align="left">9</td><td align="left">==    !=</td><td align="left">For relational = and â‰  respectively</td><td align="left"></td></tr><tr><td align="left">10</td><td align="left">&amp;</td><td align="left">Bitwise AND</td><td align="left"></td></tr><tr><td align="left">11</td><td align="left">^</td><td align="left">Bitwise XOR (exclusive or)</td><td align="left"></td></tr><tr><td align="left">12</td><td align="left">&#124;</td><td align="left">Bitwise OR (inclusive or)</td><td align="left"></td></tr><tr><td align="left">13</td><td align="left">&amp;&amp;</td><td align="left">Logical AND</td><td align="left"></td></tr><tr><td align="left">14</td><td align="left">&#124;&#124;</td><td align="left">Logical OR</td><td align="left"></td></tr><tr><td align="left">15</td><td align="left">?:</td><td align="left">Ternary conditional</td><td align="left">Right-to-Left</td></tr><tr><td align="left">16</td><td align="left">=</td><td align="left">Direct assignment (provided by default for C++ classes)</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">+=    âˆ’=</td><td align="left">Assignment by sum and difference</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">*=    /=    %=</td><td align="left">Assignment by product, quotient, and remainder</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">&lt;&lt;=    &gt;&gt;=</td><td align="left">Assignment by bitwise left shift and right shift</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">&amp;=    ^=    &#124;=</td><td align="left">Assignment by bitwise AND, XOR, and OR</td><td align="left"></td></tr><tr><td align="left">17</td><td align="left">throw</td><td align="left">Throw operator (for exceptions)</td><td align="left"></td></tr><tr><td align="left">18</td><td align="left">,</td><td align="left">Comma</td><td align="left">Left-to-right</td></tr></tbody></table><p>Cè¯­è¨€è¿ç®—ç¬¦ä¼˜å…ˆçº§</p><table><thead><tr><th align="left">Precedence</th><th align="left">Operator</th><th align="left">Description</th><th align="left">Associativity</th></tr></thead><tbody><tr><td align="left">1</td><td align="left">++  â€“</td><td align="left">Suffix/postfix increment and decrement</td><td align="left">Left-to-right</td></tr><tr><td align="left"></td><td align="left">()</td><td align="left">Function call</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">[]</td><td align="left">Array subscripting</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">.</td><td align="left">Structure and union member access</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">âˆ’&gt;</td><td align="left">Structure and union member access through pointer</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">(<em>type</em>){<em>list</em>}</td><td align="left">Compound literal(C99)</td><td align="left"></td></tr><tr><td align="left">2</td><td align="left">++  â€“</td><td align="left">Prefix increment and decrement</td><td align="left">Right-to-left</td></tr><tr><td align="left"></td><td align="left">+  âˆ’</td><td align="left">Unary plus and minus</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">!  ~</td><td align="left">Logical NOT and bitwise NOT</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">(<em>type</em>)</td><td align="left">Type cast</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">*</td><td align="left">Indirection (dereference)</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">&amp;</td><td align="left">Address-of</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">sizeof</td><td align="left">Size-of</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">_Alignof</td><td align="left">Alignment requirement(C11)</td><td align="left"></td></tr><tr><td align="left">3</td><td align="left">*  /  %</td><td align="left">Multiplication, division, and remainder</td><td align="left">Left-to-right</td></tr><tr><td align="left">4</td><td align="left">+  âˆ’</td><td align="left">Addition and subtraction</td><td align="left"></td></tr><tr><td align="left">5</td><td align="left">&lt;&lt;  &gt;&gt;</td><td align="left">Bitwise left shift and right shift</td><td align="left"></td></tr><tr><td align="left">6</td><td align="left">&lt;  &lt;=</td><td align="left">For relational operators &lt; and â‰¤ respectively</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">&gt;  &gt;=</td><td align="left">For relational operators &gt; and â‰¥ respectively</td><td align="left"></td></tr><tr><td align="left">7</td><td align="left">==  !=</td><td align="left">For relational = and â‰  respectively</td><td align="left"></td></tr><tr><td align="left">8</td><td align="left">&amp;</td><td align="left">Bitwise AND</td><td align="left"></td></tr><tr><td align="left">9</td><td align="left">^</td><td align="left">Bitwise XOR (exclusive or)</td><td align="left"></td></tr><tr><td align="left">10</td><td align="left">&#124;</td><td align="left">Bitwise OR (inclusive or)</td><td align="left"></td></tr><tr><td align="left">11</td><td align="left">&amp;&amp;</td><td align="left">Logical AND</td><td align="left"></td></tr><tr><td align="left">12</td><td align="left">&#124;&#124;</td><td align="left">Logical OR</td><td align="left"></td></tr><tr><td align="left">13</td><td align="left">?:</td><td align="left">Ternary conditional</td><td align="left">Right-to-Left</td></tr><tr><td align="left">14</td><td align="left">=</td><td align="left">Simple assignment</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">+=  âˆ’=</td><td align="left">Assignment by sum and difference</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">*=  /=  %=</td><td align="left">Assignment by product, quotient, and remainder</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">&lt;&lt;=  &gt;&gt;=</td><td align="left">Assignment by bitwise left shift and right shift</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">&amp;=  ^=</td><td align="left">=</td><td align="left">Assignment by bitwise AND, XOR, and OR</td></tr><tr><td align="left">15</td><td align="left">,</td><td align="left">Comma</td><td align="left">Left-to-right</td></tr></tbody></table><p>PHPè¿ç®—ç¬¦ä¼˜å…ˆçº§</p><table><thead><tr><th align="left">ç»“åˆæ–¹å‘</th><th align="left">è¿ç®—ç¬¦</th><th align="left">é™„åŠ ä¿¡æ¯</th></tr></thead><tbody><tr><td align="left">éç»“åˆ</td><td align="left">clone new</td><td align="left">clone å’Œ new</td></tr><tr><td align="left">å·¦</td><td align="left">[</td><td align="left">array()</td></tr><tr><td align="left">éç»“åˆ</td><td align="left">++ â€“</td><td align="left">é€’å¢ï¼é€’å‡è¿ç®—ç¬¦</td></tr><tr><td align="left">éç»“åˆ</td><td align="left">~ - (int) (float) (string) (array) (object) (bool) @</td><td align="left">ç±»å‹</td></tr><tr><td align="left">éç»“åˆ</td><td align="left">instanceof</td><td align="left">ç±»å‹</td></tr><tr><td align="left">å³ç»“åˆ</td><td align="left">!</td><td align="left">é€»è¾‘æ“ä½œç¬¦</td></tr><tr><td align="left">å·¦</td><td align="left">* / %</td><td align="left">ç®—æœ¯è¿ç®—ç¬¦</td></tr><tr><td align="left">å·¦</td><td align="left">+ - .</td><td align="left">ç®—æœ¯è¿ç®—ç¬¦ å’Œ å­—ç¬¦ä¸²è¿ç®—ç¬¦</td></tr><tr><td align="left">å·¦</td><td align="left">&lt;&lt; &gt;&gt;</td><td align="left">ä½è¿ç®—ç¬¦</td></tr><tr><td align="left">éç»“åˆ</td><td align="left">&lt; &lt;= &gt; &gt;= &lt;&gt;</td><td align="left">æ¯”è¾ƒè¿ç®—ç¬¦</td></tr><tr><td align="left">éç»“åˆ</td><td align="left">== != === !==</td><td align="left">æ¯”è¾ƒè¿ç®—ç¬¦</td></tr><tr><td align="left">å·¦</td><td align="left">&amp;</td><td align="left">ä½è¿ç®—ç¬¦ å’Œ å¼•ç”¨</td></tr><tr><td align="left">å·¦</td><td align="left">^</td><td align="left">ä½è¿ç®—ç¬¦</td></tr><tr><td align="left">å·¦</td><td align="left">&#124;</td><td align="left">ä½è¿ç®—ç¬¦</td></tr><tr><td align="left">å·¦</td><td align="left">&amp;&amp;</td><td align="left">é€»è¾‘è¿ç®—ç¬¦</td></tr><tr><td align="left">å·¦</td><td align="left">&#124;&#124;</td><td align="left">é€»è¾‘è¿ç®—ç¬¦</td></tr><tr><td align="left">å·¦</td><td align="left">? :</td><td align="left">ä¸‰å…ƒè¿ç®—ç¬¦</td></tr><tr><td align="left">å³</td><td align="left">= += -= *= /= .= %= &amp;= &#124;= ^= &lt;&lt;= &gt;&gt;=</td><td align="left">èµ‹å€¼è¿ç®—ç¬¦</td></tr><tr><td align="left">å·¦</td><td align="left">and</td><td align="left">é€»è¾‘è¿ç®—ç¬¦</td></tr><tr><td align="left">å·¦</td><td align="left">xor</td><td align="left">é€»è¾‘è¿ç®—ç¬¦</td></tr><tr><td align="left">å·¦</td><td align="left">or</td><td align="left">é€»è¾‘è¿ç®—ç¬¦</td></tr><tr><td align="left">å·¦</td><td align="left">,</td><td align="left">å¤šå¤„ç”¨åˆ°</td></tr></tbody></table><p>Python è¿ç®—ç¬¦ä¼˜å…ˆçº§<br>| è¿ç®—ç¬¦               | æè¿°             | åºå· |<br>| :â€”â€”â€”â€”â€”â€”- | :â€”â€”â€”â€”â€” | â€”- |<br>| lambda               | Lambdaè¡¨è¾¾å¼     | 1    |<br>| or                   | å¸ƒå°”â€œæˆ–â€         | 2    |<br>| and                  | å¸ƒå°”â€œä¸â€         | 3    |<br>| not x                | å¸ƒå°”â€œéâ€         | 4    |<br>| inï¼Œnot in           | æˆå‘˜æµ‹è¯•         | 5    |<br>| isï¼Œis not           | åŒä¸€æ€§æµ‹è¯•       | 6    |<br>| &lt;ï¼Œ&lt;=ï¼Œ&gt;ï¼Œ&gt;=ï¼Œ!=ï¼Œ== | æ¯”è¾ƒ             | 7    |<br>| &#124;               | æŒ‰ä½æˆ–           | 8    |<br>| ^                    | æŒ‰ä½å¼‚æˆ–         | 9    |<br>| &amp;                    | æŒ‰ä½ä¸           | 10   |<br>| &lt;&lt;ï¼Œ&gt;&gt;               | ç§»ä½             | 11   |<br>| +ï¼Œ-                 | åŠ æ³•ä¸å‡æ³•       | 12   |<br>| <em>ï¼Œ/ï¼Œ%              | ä¹˜æ³•ã€é™¤æ³•ä¸å–ä½™ | 13   |<br>| +xï¼Œ-x               | æ­£è´Ÿå·           | 14   |<br>| ~x                   | æŒ‰ä½ç¿»è½¬         | 15   |<br>| *</em>                   | æŒ‡æ•°             | 16   |<br>| x.attribute          | å±æ€§å‚è€ƒ         | 17   |<br>| x[index]             | ä¸‹æ ‡             | 18   |<br>| x[index:index]       | å¯»å€æ®µ           | 19   |<br>| f(argumentsâ€¦)      | å‡½æ•°è°ƒç”¨         | 20   |<br>| (experession,â€¦)    | ç»‘å®šæˆ–å…ƒç»„æ˜¾ç¤º   | 21   |<br>| [expression,â€¦]     | åˆ—è¡¨æ˜¾ç¤º         | 22   |<br>| {key:datum,â€¦}      | å­—å…¸æ˜¾ç¤º         | 23   |<br>| â€˜expression,â€¦â€™     | å­—ç¬¦ä¸²è½¬æ¢       | 24   |</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>EurekaClientæ³¨å†Œåˆ°EurekaServerçš„ç§˜å¯†</title>
    <link href="/2019/06/12/EurekaClient%E6%B3%A8%E5%86%8C%E5%88%B0EurekaServer%E7%9A%84%E7%A7%98%E5%AF%86/"/>
    <url>/2019/06/12/EurekaClient%E6%B3%A8%E5%86%8C%E5%88%B0EurekaServer%E7%9A%84%E7%A7%98%E5%AF%86/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æˆ‘ä»¬çŸ¥é“Eurekaåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼ŒEureka Serverå’ŒEureka Clientã€‚Eureka Serverå……å½“æ³¨å†Œä¸­å¿ƒçš„è§’è‰²ï¼ŒEureka Clientç›¸å¯¹äºEureka Serveræ¥è¯´æ˜¯å®¢æˆ·ç«¯ï¼Œéœ€è¦å°†è‡ªèº«ä¿¡æ¯æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒã€‚æœ¬æ–‡ä¸»è¦ä»‹ç»çš„å°±æ˜¯åœ¨Eureka Clientæ³¨å†Œåˆ°Eureka Serveræ—¶     <code>RetryableClientQuarantineRefreshPercentage</code>å‚æ•°çš„ä½¿ç”¨æŠ€å·§ã€‚ </p><a id="more"></a><h2 id="Eureka-Clientæ³¨å†Œè¿‡ç¨‹åˆ†æ"><a href="#Eureka-Clientæ³¨å†Œè¿‡ç¨‹åˆ†æ" class="headerlink" title="Eureka Clientæ³¨å†Œè¿‡ç¨‹åˆ†æ"></a>Eureka Clientæ³¨å†Œè¿‡ç¨‹åˆ†æ</h2><p>Eureka Clientæ³¨å†Œåˆ°Eureka Serveræ—¶ï¼Œé¦–å…ˆé‡åˆ°ç¬¬ä¸€ä¸ªé—®é¢˜å°±æ˜¯Eureka Clientç«¯è¦çŸ¥é“Serverçš„åœ°å€ï¼Œè¿™ä¸ªå‚æ•°å¯¹åº”çš„æ˜¯     <code>eureka.client.service-url.defaultZone</code>ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨Eureka Clientçš„propertiesæ–‡ä»¶ä¸­é…ç½®å¦‚ä¸‹ï¼š </p><pre><code class="hljs properties"><span class="hljs-meta">eureka.client.service-url.defaultZone</span>=<span class="hljs-string"></span><span class="hljs-attr">http</span>:<span class="hljs-string">//localhost:8761/eureka,http://localhost:8762/eureka,http://localhost:8763/eureka,http://localhost:8764/eureka</span></code></pre><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒEureka Clienté…ç½®å¯¹åº”çš„Eureka Serveråœ°å€åˆ†åˆ«æ˜¯8761ã€8762ã€8763ã€8764ã€‚è¿™é‡Œå­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š </p><ul><li>Eureka Clientä¼šå°†è‡ªèº«ä¿¡æ¯åˆ†åˆ«æ³¨å†Œåˆ°è¿™å››ä¸ªåœ°å€å—ï¼Ÿ     </li><li>Eureka Clinentæ³¨å†Œæœºåˆ¶æ˜¯æ€æ ·çš„ï¼Ÿ     </li></ul><p>æºç é¢å‰ä¸€ç›®äº†ç„¶ï¼Œå¸¦ç€è¿™ä¸¤ä¸ªé—®é¢˜æˆ‘ä»¬é€šè¿‡æºç æ¥è§£ç­”è¿™ä¸¤ä¸ªé—®é¢˜ã€‚Eureka Clientåœ¨å¯åŠ¨çš„æ—¶å€™æ³¨å†Œæºç å¦‚ä¸‹ï¼š<br><code>RetryableEurekaHttpClient</code>ä¸­çš„<code>execut</code>æ–¹æ³• </p><pre><code class="hljs java"><span class="hljs-meta">@Override</span><span class="hljs-keyword">protected</span> &lt;R&gt; <span class="hljs-function">EurekaHttpResponse&lt;R&gt; <span class="hljs-title">execute</span><span class="hljs-params">(RequestExecutor&lt;R&gt; requestExecutor)</span> </span>&#123;    List&lt;EurekaEndpoint&gt; candidateHosts = <span class="hljs-keyword">null</span>;    <span class="hljs-keyword">int</span> endpointIdx = <span class="hljs-number">0</span>;    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> retry = <span class="hljs-number">0</span>; retry &lt; numberOfRetries; retry++) &#123;        EurekaHttpClient currentHttpClient = delegate.get();        EurekaEndpoint currentEndpoint = <span class="hljs-keyword">null</span>;        <span class="hljs-keyword">if</span> (currentHttpClient == <span class="hljs-keyword">null</span>) &#123;            <span class="hljs-keyword">if</span> (candidateHosts == <span class="hljs-keyword">null</span>) &#123;                candidateHosts = getHostCandidates();                <span class="hljs-keyword">if</span> (candidateHosts.isEmpty()) &#123;                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> TransportException(<span class="hljs-string">"There is no known eureka server; cluster server list is empty"</span>);                &#125;            &#125;            <span class="hljs-keyword">if</span> (endpointIdx &gt;= candidateHosts.size()) &#123;                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> TransportException(<span class="hljs-string">"Cannot execute request on any known server"</span>);            &#125;            currentEndpoint = candidateHosts.get(endpointIdx++);            currentHttpClient = clientFactory.newClient(currentEndpoint);        &#125;        <span class="hljs-keyword">try</span> &#123;            EurekaHttpResponse&lt;R&gt; response = requestExecutor.execute(currentHttpClient);            <span class="hljs-keyword">if</span> (serverStatusEvaluator.accept(response.getStatusCode(), requestExecutor.getRequestType())) &#123;                delegate.set(currentHttpClient);                <span class="hljs-keyword">if</span> (retry &gt; <span class="hljs-number">0</span>) &#123;                    logger.info(<span class="hljs-string">"Request execution succeeded on retry #&#123;&#125;"</span>, retry);                &#125;                <span class="hljs-keyword">return</span> response;            &#125;            logger.warn(<span class="hljs-string">"Request execution failure with status code &#123;&#125;; retrying on another server if available"</span>, response.getStatusCode());        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;            logger.warn(<span class="hljs-string">"Request execution failed with message: &#123;&#125;"</span>, e.getMessage());  <span class="hljs-comment">// just log message as the underlying client should log the stacktrace</span>        &#125;        <span class="hljs-comment">// Connection error or 5xx from the server that must be retried on another server</span>        delegate.compareAndSet(currentHttpClient, <span class="hljs-keyword">null</span>);        <span class="hljs-keyword">if</span> (currentEndpoint != <span class="hljs-keyword">null</span>) &#123;            quarantineSet.add(currentEndpoint);        &#125;    &#125;    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> TransportException(<span class="hljs-string">"Retry limit reached; giving up on completing the request"</span>);&#125;</code></pre><p>æŒ‰ç…§æˆ‘çš„ç†è§£ï¼Œä»£ç ç²¾ç®€åå†…å®¹å¦‚ä¸‹ï¼š </p><pre><code class="hljs java"><span class="hljs-keyword">int</span> endpointIdx = <span class="hljs-number">0</span>;<span class="hljs-comment">//ç”¨æ¥ä¿å­˜æ‰€æœ‰Eureka Serverä¿¡æ¯(8761ã€8762ã€8763ã€8764)</span>List&lt;EurekaEndpoint&gt; candidateHosts = <span class="hljs-keyword">null</span>;<span class="hljs-comment">//numberOfRetriesçš„å€¼ä»£ç å†™æ­»é»˜è®¤ä¸º3æ¬¡</span><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> retry = <span class="hljs-number">0</span>; retry &lt; numberOfRetries; retry++) &#123;<span class="hljs-comment">/**</span><span class="hljs-comment"> *é¦–æ¬¡è¿›å…¥å¾ªç¯æ—¶ï¼Œè·å–å…¨é‡çš„Eureka Serverä¿¡æ¯(8761ã€8762ã€8763ã€8764)</span><span class="hljs-comment"> */</span><span class="hljs-keyword">if</span> (candidateHosts == <span class="hljs-keyword">null</span>) &#123;        candidateHosts = getHostCandidates();    &#125;<span class="hljs-comment">/**</span><span class="hljs-comment"> *é€šè¿‡endpointIdxè‡ªå¢ï¼Œä¾æ¬¡è·å–Eureka Serverä¿¡æ¯ï¼Œç„¶åå‘é€</span><span class="hljs-comment"> *æ³¨å†Œçš„Postè¯·æ±‚.</span><span class="hljs-comment"> */</span>    currentEndpoint = candidateHosts.get(endpointIdx++);    currentHttpClient = clientFactory.newClient(currentEndpoint);    <span class="hljs-keyword">try</span> &#123;       <span class="hljs-comment">/**</span><span class="hljs-comment"> *å‘é€æ³¨å†Œçš„Postè¯·æ±‚åŠ¨ä½œï¼Œæ³¨æ„å¦‚æœæˆåŠŸï¼Œåˆ™è·³å‡ºå¾ªç¯ï¼Œå¦‚æœå¤±è´¥åˆ™</span><span class="hljs-comment"> *æ ¹æ®endpointIdxä¾æ¬¡è·å–ä¸‹ä¸€ä¸ªEureka Server.</span><span class="hljs-comment"> */</span>        response = requestExecutor.execute(currentHttpClient);        <span class="hljs-keyword">return</span> respones;    &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;        <span class="hljs-comment">//å‘æ³¨å†Œä¸­å¿ƒ(Eureka Server)å‘èµ·æ³¨å†Œçš„postå‡ºç°å¼‚å¸¸æ—¶ï¼Œæ‰“å°æ—¥å¿—...</span>    &#125;    <span class="hljs-comment">//å¦‚æœæ­¤æ¬¡æ³¨å†ŒåŠ¨ä½œå¤±è´¥ï¼Œå°†å½“å‰çš„ä¿¡æ¯ä¿å­˜åˆ°quarantineSetä¸­(ä¸€ä¸ªSeté›†åˆ)</span>    <span class="hljs-keyword">if</span> (currentEndpoint != <span class="hljs-keyword">null</span>) &#123;        quarantineSet.add(currentEndpoint);    &#125;&#125;<span class="hljs-comment">//å¦‚æœéƒ½å¤±è´¥,åˆ™ä»¥å¼‚å¸¸å½¢å¼æŠ›å‡º...</span><span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> TransportException(<span class="hljs-string">"Retry limit reached; giving up on completing the request"</span>);</code></pre><p>ä¸Šé¢ä»£ç ä¸­è¿˜æœ‰ä¸€ä¸ªæ–¹æ³•å¾ˆé‡è¦å°±æ˜¯     <code>List&lt;EurekaEndpoint&gt; candidateHosts = getHostCandidates();</code>æ¥ä¸‹æ¥çœ‹ä¸‹     <code>getHostCandidates()</code>æ–¹æ³•æºç  </p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">private</span> List&lt;EurekaEndpoint&gt; <span class="hljs-title">getHostCandidates</span><span class="hljs-params">()</span> </span>&#123;    List&lt;EurekaEndpoint&gt; candidateHosts = clusterResolver.getClusterEndpoints();    quarantineSet.retainAll(candidateHosts);    <span class="hljs-comment">// If enough hosts are bad, we have no choice but start over again</span>    <span class="hljs-keyword">int</span> threshold = (<span class="hljs-keyword">int</span>) (candidateHosts.size() * transportConfig.getRetryableClientQuarantineRefreshPercentage());    <span class="hljs-keyword">if</span> (quarantineSet.isEmpty()) &#123;        <span class="hljs-comment">// no-op</span>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (quarantineSet.size() &gt;= threshold) &#123;        logger.debug(<span class="hljs-string">"Clearing quarantined list of size &#123;&#125;"</span>, quarantineSet.size());        quarantineSet.clear();    &#125; <span class="hljs-keyword">else</span> &#123;        List&lt;EurekaEndpoint&gt; remainingHosts = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;(candidateHosts.size());        <span class="hljs-keyword">for</span> (EurekaEndpoint endpoint : candidateHosts) &#123;            <span class="hljs-keyword">if</span> (!quarantineSet.contains(endpoint)) &#123;                remainingHosts.add(endpoint);            &#125;        &#125;        candidateHosts = remainingHosts;    &#125;    <span class="hljs-keyword">return</span> candidateHosts;&#125;</code></pre><p>æŒ‰ç…§æˆ‘çš„ç†è§£ï¼Œå°†ä»£ç ç²¾ç®€ä¸‹ï¼ŒåªåŒ…æ‹¬å…³é”®é€»è¾‘ï¼Œå†…å®¹å¦‚ä¸‹ï¼š </p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">private</span> List&lt;EurekaEndpoint&gt; <span class="hljs-title">getHostCandidates</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * è·å–æ‰€æœ‰defaultZoneé…ç½®çš„æ³¨å†Œä¸­å¿ƒä¿¡æ¯(Eureka Server)ï¼Œ</span><span class="hljs-comment">     * åœ¨æœ¬æ–‡ä¾‹å­ä¸­ä»£è¡¨4ä¸ª(8761ã€8762ã€8763ã€8764)Eureka Server</span><span class="hljs-comment">     */</span>    List candidateHosts = clusterResolver.getClusterEndpoints();    <span class="hljs-comment">/**</span><span class="hljs-comment">     * quarantineSetè¿™ä¸ªSeté›†åˆä¸­ä¿å­˜çš„æ˜¯ä¸å¯ç”¨çš„Eureka Server</span><span class="hljs-comment">     * æ­¤å¤„æ˜¯æ‹¿ä¸å¯ç”¨çš„Eureka Serverä¸å…¨é‡çš„Eureka Serverå–äº¤é›†</span><span class="hljs-comment">     */</span>    quarantineSet.retainAll(candidateHosts);    <span class="hljs-comment">/**</span><span class="hljs-comment">     * æ ¹æ®RetryableClientQuarantineRefreshPercentageå‚æ•°è®¡ç®—é˜ˆå€¼</span><span class="hljs-comment">     * è¯¥é˜ˆå€¼åç»­ä¼šå’ŒquarantineSetä¸­ä¿å­˜çš„ä¸å¯ç”¨çš„Eureka Serverä¸ªæ•°</span><span class="hljs-comment">     * ä½œæ¯”è¾ƒï¼Œä»è€Œåˆ¤æ–­æ˜¯å¦è¿”å›å…¨é‡çš„Eureka Serverè¿˜æ˜¯è¿‡æ»¤æ‰ä¸å¯ç”¨çš„</span><span class="hljs-comment">     * Eureka Serverã€‚</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">int</span> threshold =        (<span class="hljs-keyword">int</span>) (        candidateHosts.size()              *        transportConfig.getRetryableClientQuarantineRefreshPercentage()        );    <span class="hljs-keyword">if</span> (quarantineSet.isEmpty()) &#123;        <span class="hljs-comment">/**</span><span class="hljs-comment">         * é¦–æ¬¡è¿›å…¥çš„æ—¶å€™ï¼Œæ­¤æ—¶quarantineSetä¸ºç©ºï¼Œç›´æ¥è¿”å›å…¨é‡çš„</span><span class="hljs-comment">         * Eureka Serveråˆ—è¡¨</span><span class="hljs-comment">         */</span>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (quarantineSet.size() &gt;= threshold) &#123;        <span class="hljs-comment">/**</span><span class="hljs-comment">         * å°†ä¸å¯ç”¨çš„Eureka Serverä¸thresholdå€¼ç›¸æ¯”è¾ƒï¼Œå¦‚æœä¸å¯</span><span class="hljs-comment">         * ç”¨çš„Eureka Serverä¸ªæ•°å¤§äºé˜ˆå€¼ï¼Œåˆ™å°†ä¹‹é—´ä¿å­˜çš„Eureka</span><span class="hljs-comment">         * Serverå†…å®¹ç›´æ¥æ¸…ç©ºï¼Œå¹¶è¿”å›å…¨é‡çš„Eureka Serveråˆ—è¡¨ã€‚</span><span class="hljs-comment">         */</span>        quarantineSet.clear();    &#125; <span class="hljs-keyword">else</span> &#123;        <span class="hljs-comment">/**</span><span class="hljs-comment">         * é€šè¿‡quarantineSeté›†åˆä¿å­˜ä¸å¯ç”¨çš„Eureka Serveræ¥è¿‡æ»¤</span><span class="hljs-comment">         * å…¨é‡çš„EurekaServerï¼Œä»è€Œè·å–æ­¤æ¬¡Eureka Clientè¦æ³¨å†Œè¦</span><span class="hljs-comment">         * æ³¨å†Œçš„Eureka Serverå®ä¾‹åœ°å€ã€‚</span><span class="hljs-comment">         */</span>        List&lt;EurekaEndpoint&gt; remainingHosts = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;(candidateHosts.size());        <span class="hljs-keyword">for</span> (EurekaEndpoint endpoint : candidateHosts) &#123;            <span class="hljs-keyword">if</span> (!quarantineSet.contains(endpoint)) &#123;                remainingHosts.add(endpoint);            &#125;        &#125;        candidateHosts = remainingHosts;    &#125;    <span class="hljs-keyword">return</span> candidateHosts;&#125;</code></pre><p>é€šè¿‡æºç åˆ†æï¼Œæˆ‘ä»¬ç°åœ¨åˆæ­¥çŸ¥é“ï¼Œå½“Eureka Clientå‘Eureka Serverå‘èµ·æ³¨å†Œè¯·æ±‚çš„æ—¶å€™(æ ¹æ®defaultZoneå¯»æ‰¾Eureka Serveråˆ—è¡¨)ï¼Œå¦‚æœæœ‰ä¸€æ¬¡è¯·æ±‚æ³¨å†ŒæˆåŠŸï¼Œé‚£ä¹ˆåç»­å°±ä¸ä¼šåœ¨å‘å…¶ä»–Eureka Serverå‘èµ·æ³¨å†Œè¯·æ±‚ã€‚ä»¥æœ¬æ–‡ä¸ºä¾‹ï¼Œæ³¨å†Œä¸­å¿ƒæœ‰å››ä¸ª(8761ã€8762ã€8763ã€8764)ã€‚å¦‚æœ8761å¯¹åº”çš„Eureka ServeræœåŠ¡çš„çŠ¶æ€æ˜¯UPï¼Œé‚£ä¹ˆEureka Clientå‘è¯¥æ³¨å†Œä¸­å¿ƒæ³¨å†ŒæˆåŠŸåï¼Œä¸ä¼šå†å‘(8762ã€8763ã€8764)å¯¹åº”çš„Eureka Serverå‘èµ·æ³¨å†Œè¯·æ±‚(å¯¹åº”ç¨‹åºæ˜¯åœ¨forå¾ªç¯ä¸­ç›´æ¥return respones)ã€‚ </p><p>è¯´åˆ°è¿™é‡Œåˆå¼•å‡ºæ¥å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœ8761è¿™ä¸ªEureka Serveræ˜¯downæ‰çš„å‘¢ï¼Ÿ </p><p>æ ¹æ®æºç æˆ‘ä»¬å¯çŸ¥Eureka Clienté¦–æ¬¡ä¼šå‘8761è¿™ä¸ªServerå‘èµ·æ³¨å†Œè¯·æ±‚ï¼Œå¦‚æœè¯¥Serverçš„çŠ¶æ€æ˜¯downï¼Œé‚£ä¹ˆå®ƒä¼šå°†è¯¥Serverä¿å­˜åˆ°quarantineSetè¿™ä¸ªSeté›†åˆä¸­ï¼Œç„¶åå†æ¬¡è®¿é—®8762è¿™ä¸ªEureka Serverï¼Œå¦‚æœ8762è¿™ä¸ªServerçš„çŠ¶æ€ä¾æ—§æ˜¯downï¼Œå®ƒä¹Ÿä¼šæŠŠè¿™ä¸ªServerä¿å­˜åˆ°quarantineSetè¿™ä¸ªSeté›†åˆä¸­ï¼Œç„¶åç»§ç»­è®¿é—®8763è¿™ä¸ªServerï¼Œå¦‚æœ8763è¿™ä¸ªServerçš„çŠ¶æ€ä¾æ—§æ˜¯downï¼Œæ­¤æ—¶é™¤äº†ä¼šå°†å…¶ä¿å­˜åˆ°quarantineSetè¿™ä¸ªSeté›†åˆä¸­ä¹‹å¤–ï¼Œè¿˜ä¼šè·³å‡ºæœ¬æ¬¡å¾ªç¯ã€‚ä»è€Œç»“æŸæ­¤æ¬¡æ³¨å†Œè¿‡ç¨‹ã€‚ </p><p>è¯´é“è¿™é‡Œæœ‰äººè¦é—®æ¥ä¸‹æ¥ä¼šä¸ä¼šå‘8764è¿™ä¸ªServerå‘èµ·æ³¨å†Œï¼Œç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œå› ä¸ºå¾ªç¯çš„æ¬¡æ•°é»˜è®¤æ˜¯3æ¬¡ã€‚æ‰€ä»¥å³ä½¿8764è¿™ä¸ªServerçš„çŠ¶æ€æ˜¯UPï¼Œå®ƒä¹Ÿä¸ä¼šæ¥æ”¶åˆ°æ¥è‡ªEureka Clientå‘èµ·çš„æ³¨å†Œä¿¡æ¯ã€‚ </p><p>Eureka Clientå‘Eureka Serverå‘èµ·æ³¨å†Œä¿¡æ¯çš„è¿‡ç¨‹é™¤äº†åœ¨Eureka Clientå¯åŠ¨çš„æ—¶å€™è§¦å‘ï¼Œè¿˜æœ‰å¦å¤–ä¸€ç§æ–¹å¼ï¼Œå°±æ˜¯åå°å®šæ—¶ä»»åŠ¡ã€‚<br>å‡è®¾æˆ‘ä»¬ä¸Šé¢æè¿°çš„åœºæ™¯æ˜¯åœ¨Eureka Clientå¯åŠ¨çš„æ—¶å€™ï¼Œå› ä¸ºåœ¨å¯åŠ¨çš„æ—¶å€™æ³¨å†Œè¿™ä¸ªè¿‡ç¨‹å…¨éƒ¨å¤±è´¥äº†ï¼Œå½“åå°å®šæ—¶ä»»åŠ¡æ‰§è¡Œæ—¶ï¼Œè¿˜ä¼šè¿›å…¥è¯¥æ³¨å†Œæµç¨‹ã€‚æ³¨æ„æ­¤æ—¶quarantineSetçš„å€¼ä¸º3(8761ã€8762ã€8763ä¹‹å‰æ³¨å†Œå¤±è´¥çš„Eureka Server)ã€‚<br>æ‰€ä»¥å½“ç¨‹åºå†æ¬¡è¿›å…¥     <code>getHostCandidates()</code>æ–¹æ³•æ—¶ï¼Œ     <code>if (quarantineSet.isEmpty())</code>è¿™ä¸ªæ–¹æ³•æ˜¯ä¸æ»¡è¶³çš„ï¼Œæ¥ä¸‹æ¥ä¼šèµ°     <code>else if (quarantineSet.size() &gt;= threshold)</code>è¿™ä¸ªåˆ¤æ–­ï¼Œå¦‚æœè¿™ä¸ªåˆ¤æ–­æˆç«‹ï¼Œé‚£ä¹ˆä¼šå°†quarantineSeté›†åˆæ¸…ç©ºï¼ŒåŒæ—¶è¿”å›å…¨é‡çš„Eureka Serveråˆ—è¡¨ï¼Œå¦‚æœè¿™ä¸ªåˆ¤æ–­ä¸æˆç«‹ï¼Œä¼šæ‹¿quarantineSeté›†åˆä¸­ä¿å­˜çš„å†…å®¹å»è¿‡æ»¤Eureka Serverçš„å…¨é‡åˆ—è¡¨ã€‚ä»¥æœ¬æ–‡ä¸ºä¾‹ï¼š </p><ul><li><code>quarantineSet</code>ä¸­ä¿å­˜çš„æ˜¯(8761ã€8762ã€8763)ä¸‰ä¸ªEureka Server     </li><li>Eureka Serverå…¨é‡åˆ—è¡¨çš„å†…å®¹æ˜¯(8761ã€8762ã€8763ã€8764)å››ä¸ªEureka Serverï¼Œè¿‡æ»¤åè¿”å›çš„ç»“æœä¸º8764è¿™ä¸ªEureka Serverã€‚     </li></ul><p>åœ¨æœ¬æ–‡çš„ä¾‹å­ä¸­8761ã€8762ã€8763è¿™ä¸‰ä¸ªEureka Serverçš„çŠ¶æ€æ˜¯downè€Œ8764è¿™ä¸ªEureka Serverçš„çŠ¶æ€æ˜¯UPï¼Œæˆ‘ä»¬å…¶å®æ˜¯æƒ³èµ°åˆ°æœ€åçš„elseåˆ†æ”¯ï¼Œä»è€Œå®Œæˆè¿‡æ»¤æ“ä½œï¼Œå¹¶æœ€ç»ˆå¾—åˆ°8764è¿™ä¸ªServerï¼Œé—æ†¾çš„æ˜¯å®ƒå¹¶ä¸ä¼šèµ°åˆ°è¿™ä¸ªåˆ†æ”¯ï¼Œè€Œæ˜¯è¢«ä¸Šé¢çš„     <code>else if (quarantineSet.size() &gt;= threshold)</code>è¿™ä¸ªåˆ†æ”¯æ‰€æ‹¦æˆªï¼Œè¿”å›çš„ä¾æ—§æ˜¯å…¨é‡çš„Eureka Serveråˆ—è¡¨ã€‚è¿™æ ·é€ æˆçš„åæœå°±æ˜¯Eureka Clientä¾æ—§ä¼šä¾æ¬¡å‘(8761ã€8762ã€8763)è¿™ä¸‰ä¸ªdownçš„Eureka Serverå‘èµ·æ³¨å†Œè¯·æ±‚ã€‚<br>é‚£ä¹ˆé—®é¢˜çš„å…³é”®åœ¨å“ªé‡Œå‘¢ï¼Ÿé—®é¢˜çš„å…³é”®å°±æ˜¯thresholdè¿™ä¸ªå€¼çš„ç”±æ¥ï¼Œå› ä¸ºæ­¤æ—¶quarantineSet.size()çš„å€¼ä¸º3ï¼Œè€Œ3è¿™ä¸ªå€¼å¤§äºthresholdï¼Œä»è€Œå¯¼è‡´ï¼Œä¼šå°†quarantineSeté›†åˆæ¸…ç©ºï¼Œè¿”å›å…¨é‡çš„Serveråˆ—è¡¨ã€‚<br>æˆ‘ä»¬çŸ¥é“thresholdè¿™ä¸ªå€¼æ˜¯æ ¹æ®å…¨é‡çš„Eureka Serveråˆ—è¡¨ä¹˜ä»¥ä¸€ä¸ªå¯é…ç½®çš„å‚æ•°è®¡ç®—å‡ºæ¥çš„ï¼Œåœ¨æœ¬æ–‡çš„ä¾‹å­å½“ä¸­ï¼Œæˆ‘çš„propertiesæ–‡ä»¶ä¸­é™¤äº†defaultZoneä¹‹å¤–å¹¶æ²¡æœ‰é…ç½®è¿™ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªå‚æ•°æ˜¯æœ‰é»˜è®¤å€¼çš„ï¼Œé€šè¿‡æºç æˆ‘ä»¬äº†è§£åˆ°ï¼Œè¿™ä¸ªé»˜è®¤å€¼æ˜¯0.66ã€‚å…·ä½“æºç å¦‚ä¸‹ï¼š </p><pre><code class="hljs java"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PropertyBasedTransportConfigConstants</span> </span>&#123;<span class="hljs-comment">/**</span><span class="hljs-comment"> *çœç•¥éƒ¨åˆ†æºç </span><span class="hljs-comment"> */</span>    <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Values</span> </span>&#123;        <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> SESSION_RECONNECT_INTERVAL = <span class="hljs-number">20</span>*<span class="hljs-number">60</span>;        <span class="hljs-comment">//é»˜è®¤å€¼ä¸º0.66</span>        <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">double</span> QUARANTINE_REFRESH_PERCENTAGE = <span class="hljs-number">0.66</span>;        <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> DATA_STALENESS_TRHESHOLD = <span class="hljs-number">5</span>*<span class="hljs-number">60</span>;        <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> ASYNC_RESOLVER_REFRESH_INTERVAL = <span class="hljs-number">5</span>*<span class="hljs-number">60</span>*<span class="hljs-number">1000</span>;        <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> ASYNC_RESOLVER_WARMUP_TIMEOUT = <span class="hljs-number">5000</span>;        <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> ASYNC_EXECUTOR_THREADPOOL_SIZE = <span class="hljs-number">5</span>;    &#125;&#125;<span class="hljs-comment">/**</span><span class="hljs-comment"> *<span class="hljs-doctag">@return</span> the percentage of the full endpoints set above which the   </span><span class="hljs-comment"> *quarantine set is cleared in the range [0, 1.0]</span><span class="hljs-comment"> */</span><span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">getRetryableClientQuarantineRefreshPercentage</span><span class="hljs-params">()</span></span>;</code></pre><p>çœ‹åˆ°è¿™é‡Œå°±ä¸éš¾ç†è§£äº†ï¼Œå› ä¸ºè¿™ä¸ªå€¼æ˜¯0.66è€Œæ­¤æ—¶å…¨é‡çš„Eureka Serverå€¼ä¸º4ã€‚è®¡ç®—ä¹‹åçš„å€¼ä¸º2ï¼Œè€Œç”±äºæ³¨å†Œçš„forå¾ªç¯ä¸º3æ¬¡ï¼Œæ‰€ä»¥å½“ç¬¬äºŒæ¬¡å‘èµ·æ³¨å†Œæµç¨‹çš„æ—¶å€™quarantineSetçš„å€¼å§‹ç»ˆå¤§äºthresholdã€‚è¿™æ ·å°±ä¼šå¯¼è‡´ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å¦‚æœ8761ã€8762ã€8763ä¸€ç›´æ˜¯downå³ä½¿8764ä¸€ç›´æ˜¯å¥½çš„ï¼Œé‚£ä¹ˆEureka Clientä¹Ÿä¸ä¼šæ³¨å†ŒæˆåŠŸã€‚è€Œä¸”è¿™ä¸ªå‚æ•°å€¼çš„åŒºé—´ä¸º0åˆ°1. </p><p>æ—¢ç„¶é€šè¿‡æºç åˆ†ææˆ‘ä»¬æ‰¾åˆ°äº†é—®é¢˜æ ¹æºï¼Œå…¶å®å¯¹åº”çš„æˆ‘ä»¬ä¹Ÿæ‰¾åˆ°äº†è§£å†³è¿™ä¸ªé—®é¢˜çš„åŠæ³•ï¼Œå°±æ˜¯å¯¹åº”æŠŠè¿™ä¸ªå‚æ•°å€¼è°ƒå¤§äº›ã€‚<br>è¿™ä¸ªå€¼åœ¨propertiesä¸­å¯¹åº”çš„å†™æ³•å¦‚ä¸‹ï¼š </p><pre><code class="hljs java">eureka.client.transport.retryableClientQuarantineRefreshPercentage = xxx</code></pre><p>æ¥ä¸‹æ¥æˆ‘ä»¬ä¿®æ”¹ä¸‹propertiesæ–‡ä»¶ï¼Œä¿®æ”¹åçš„å†…å®¹å¦‚ä¸‹ï¼š </p><pre><code class="hljs java">eureka.client.service-url.defaultZone=http:<span class="hljs-comment">//localhost:8761/eureka,http://localhost:8762/eureka,http://localhost:8763/eureka,http://localhost:8764/eureka</span>eureka.client.transport.retryableClientQuarantineRefreshPercentage=<span class="hljs-number">1</span></code></pre><p>æ¥ä¸‹æ¥æŒ‰ç…§è¿™ä¸ªé…ç½®å†æ¬¡å›é¡¾ä¸‹ä¸Šé¢çš„æµç¨‹ï¼š </p><ul><li>Eureka Clientå¯åŠ¨æ—¶è¿›è¡Œæ³¨å†Œ(8761ã€8762ã€8763çš„çŠ¶æ€æ˜¯down)ï¼Œæ‰€ä»¥æ­¤æ—¶quarantineSetçš„å€¼ä¸º3.     </li><li>æ¥ä¸‹æ¥åœ¨å®šæ—¶ä»»åŠ¡ä¸­åˆè§¦å‘æ³¨å†Œäº‹ä»¶ï¼Œæ­¤æ—¶å› ä¸ºå‚æ•°çš„å€¼ä»0.66è°ƒæ•´ä¸º1ã€‚æ‰€ä»¥è®¡ç®—å‡ºçš„thresholdçš„å€¼ä¸º4ã€‚è€Œæ­¤æ—¶quarantineSetçš„å€¼ä¸º3ã€‚æ‰€ä»¥ä¸ä¼šè¿›å…¥åˆ°         <code>else if (quarantineSet.size() &gt;= threshold)</code>åˆ†æ”¯ï¼Œè€Œæ˜¯ä¼šè¿›å…¥æœ€åçš„esleåˆ†æ”¯ã€‚     </li><li>åœ¨elseåˆ†æ”¯ä¸­ä¼šå®Œæˆè¿‡æ»¤åŠŸèƒ½ï¼Œæœ€ç»ˆè¿”å›çš„listä¸­çš„ç»“æœåªæœ‰ä¸€ä¸ªå°±æ˜¯8764è¿™ä¸ªEureka Serverã€‚     </li><li>Eureka Clientå‘8764è¿™ä¸ªEureka Serverå‘èµ·æ³¨å†Œè¯·æ±‚ï¼Œå¾—åˆ°æˆåŠŸç›¸åº”ï¼Œå¹¶è¿”å›ã€‚     </li></ul><h2 id="é—ç•™é—®é¢˜"><a href="#é—ç•™é—®é¢˜" class="headerlink" title="é—ç•™é—®é¢˜"></a>é—ç•™é—®é¢˜</h2><p>è¯´é“è¿™é‡Œæˆ‘ä»¬æ„Ÿè§‰å¥½åƒæ˜¯è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆé—®ä¸€ä¸ªé—®é¢˜ï¼Œè¿™ä¸ªå‚æ•°å€¼å¯ä»¥è®¾ç½®çš„æ— é™å¤§å—ï¼Ÿ </p><p>æ¯”å¦‚æˆ‘å°†è¿™ä¸ªå‚æ•°å€¼è®¾ç½®ä¸º10ï¼Œè™½ç„¶javaDocä¸­è¯´æ˜è¿™ä¸ªå‚æ•°å€¼çš„èŒƒå›´åœ¨0-1ä¹‹é—´ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰è¯´æ˜å¦‚æœå°†è¿™ä¸ªå‚æ•°è°ƒæ•´å¤§äº1ä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µã€‚æ¥ä¸‹æ¥æŒ‰ç…§ä¸Šé¢çš„æµç¨‹æˆ‘ä»¬åˆ†æä¸‹ï¼š<br>ä¹‹å‰æˆ‘ä»¬åˆ†æçš„æµç¨‹ä¸­çš„å‰ææ˜¯8761ã€8762ã€8763è¿™ä¸‰å°Serverçš„çŠ¶æ€æ˜¯downè€Œ8764è¿™ä¸ªserverçš„çŠ¶æ€æ˜¯upï¼Œç°åœ¨æˆ‘ä»¬ä¿®æ”¹ä¸‹è¿™ä¸ªå‰æã€‚<br>å‡è®¾ä¸€å¼€å§‹8761ã€8762ã€8763ã€8764è¿™å››å°Eureka Serverçš„çŠ¶æ€éƒ½æ˜¯downã€‚ </p><ul><li>Eureka Clientå¯åŠ¨æ—¶è¿›è¡Œæ³¨å†Œ(8761ã€8762ã€8763çš„çŠ¶æ€æ˜¯down)ï¼Œæ‰€ä»¥æ­¤æ—¶quarantineSetçš„å€¼ä¸º3.     </li><li>æ¥ä¸‹æ¥åœ¨å®šæ—¶ä»»åŠ¡ä¸­åˆè§¦å‘æ³¨å†Œäº‹ä»¶ï¼Œæ­¤æ—¶å› ä¸ºå‚æ•°çš„å€¼ä»0.66è°ƒæ•´ä¸º10ã€‚æ‰€ä»¥è®¡ç®—å‡ºçš„thresholdçš„å€¼ä¸º40ã€‚è€Œæ­¤æ—¶quarantineSetçš„å€¼ä¸º3ã€‚æ‰€ä»¥ä¸ä¼šè¿›å…¥åˆ°         <code>else if (quarantineSet.size() &gt;= threshold)</code>åˆ†æ”¯ï¼Œè€Œæ˜¯ä¼šè¿›å…¥æœ€åçš„esleåˆ†æ”¯ã€‚     </li><li>åœ¨elseåˆ†æ”¯ä¸­ä¼šå®Œæˆè¿‡æ»¤åŠŸèƒ½ï¼Œæœ€ç»ˆè¿”å›çš„listä¸­çš„ç»“æœåªæœ‰ä¸€ä¸ªå°±æ˜¯8764è¿™ä¸ªEureka Serverã€‚     </li><li>Eureka Clientå‘8764è¿™ä¸ªEureka Serverå‘èµ·æ³¨å†Œè¯·æ±‚ï¼Œå› ä¸ºæ­¤æ—¶8764çš„çŠ¶æ€ä¹Ÿæ˜¯downå¯¼è‡´æ³¨å†Œå¤±è´¥ï¼Œæ­¤æ—¶quarantineSetä¸­çš„å†…å®¹æ˜¯(8761ã€8762ã€8763ã€8764)     </li><li>å½“å®šæ—¶ä»»åŠ¡å†æ¬¡è§¦å‘æ—¶         <code>if (quarantineSet.isEmpty())</code>è¿™ä¸ªåˆ†æ”¯ä¸ä¼šè¿›å…¥ï¼Œå› ä¸ºæ­¤æ—¶quarantineSetçš„å€¼ä¸º4     </li><li><code>else if (quarantineSet.size() &gt;= threshold)</code>è¿™åˆ†æ”¯ä¹Ÿä¸ä¼šè¿›å…¥å› ä¸ºthresholdçš„å€¼ä¸º40     </li><li>æœ€ç»ˆä¼šè¿›å…¥elseåˆ†æ”¯ï¼Œè¿™ä¸ªåˆ†æ”¯åŸæœ¬çš„å«ä¹‰æ˜¯æƒ³é€šè¿‡quarantineSetæ¥å……å½“è¿‡æ»¤å™¨ï¼Œä»å…¨é‡çš„Eureka Serverä¸­è¿‡æ»¤æ‰ä¹‹å‰çŠ¶æ€ä¸ºdownçš„Eureka Serverï¼Œä½†æ˜¯ç”±äºquarantineSetçš„å€¼ç°åœ¨å·²ç»æ˜¯å…¨é‡ï¼Œå¯¼è‡´è¿‡æ»¤åçš„ç»“æœè¿”å›çš„æ˜¯ä¸€ä¸ªç©ºçš„listã€‚å³ä½¿æ­¤æ—¶Eureka Serveråˆ—è¡¨(8761ã€8762ã€8763ã€8764)ä»»ä½•ä¸€ä¸ªServerçš„çŠ¶æ€å˜ä¸ºUPï¼Œè¯¥Eureka Clientä¹Ÿä¸å¯èƒ½å®Œæˆæ³¨å†Œäº‹ä»¶ã€‚     </li></ul><h2 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h2><p>ä¸Šé¢å‡ºç°çš„é‚£ä¸ªé—®é¢˜ï¼Œæ ¹æœ¬åŸå› ä¸ªäººè®¤ä¸ºæ˜¯ç”±äº     <code>eureka.client.transport.retryableClientQuarantineRefreshPercentage</code>å‚æ•°è¿‡å¤§è€Œæºç ä¸­æ²¡æœ‰æ ¡éªŒï¼Œä»è€Œå¯¼è‡´æ²¡æœ‰è¿›å…¥     <code>else if (quarantineSet.size() &gt;= threshold)</code>çš„é€»è¾‘åˆ†æ”¯ï¼Œå› ä¸ºæ­¤æ—¶å¦‚æœquarantineSetä¸­çš„å€¼å·²ç»è¾¾åˆ°äº†æ‰€æœ‰Eureka Serveråˆ—è¡¨ï¼Œé‚£ä¹ˆæ­¤æ—¶æˆ‘ä»¬å¸Œæœ›çš„æ˜¯å°†è¿™ä¸ªSeté›†åˆæ¸…ç©ºï¼Œä»è€Œå†æ¬¡è¿”å›å…¨é‡çš„Eureka Serveråˆ—è¡¨ï¼Œä¹Ÿå°±æ˜¯è¯´å†é‡æ–°æ¥ä¸€æ¬¡æ³¨å†Œæµç¨‹ã€‚<br>æ‰€ä»¥åŸºäºä¸Šé¢çš„åˆ†æï¼Œä¸ªäººè®¤ä¸ºåœ¨æºç çš„     <code>getHostCandidates</code>å¢åŠ ä¸‹æ ¡éªŒï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š </p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">private</span> List&lt;EurekaEndpoint&gt; <span class="hljs-title">getHostCandidates</span><span class="hljs-params">()</span> </span>&#123;    List&lt;EurekaEndpoint&gt; candidateHosts = clusterResolver.getClusterEndpoints();    quarantineSet.retainAll(candidateHosts);    <span class="hljs-comment">// If enough hosts are bad, we have no choice but start over again</span>    <span class="hljs-keyword">int</span> threshold = (<span class="hljs-keyword">int</span>) (candidateHosts.size() * transportConfig.getRetryableClientQuarantineRefreshPercentage());        <span class="hljs-comment">/**</span><span class="hljs-comment">     * å¢åŠ åˆ¤æ–­å¦‚æœthresholdçš„å€¼è¿‡å¤§ï¼Œå³è¶…è¿‡Eureka Server</span><span class="hljs-comment">     * åˆ—è¡¨çš„æ•°é‡ï¼Œé‚£ä¹ˆå°†å…¶å†æ¬¡èµ‹å€¼ï¼Œèµ‹å€¼çš„å†…å®¹ä¸ºEureka Server</span><span class="hljs-comment">     * åˆ—è¡¨çš„æ•°é‡ã€‚</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">if</span> (threshold &gt; candidateHosts.size()) &#123;      threshold = candidateHosts.size();    &#125;    <span class="hljs-keyword">if</span> (quarantineSet.isEmpty()) &#123;        <span class="hljs-comment">// no-op</span>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (quarantineSet.size() &gt;= threshold) &#123;        logger.debug(<span class="hljs-string">"Clearing quarantined list of size &#123;&#125;"</span>, quarantineSet.size());        quarantineSet.clear();    &#125; <span class="hljs-keyword">else</span> &#123;        List&lt;EurekaEndpoint&gt; remainingHosts = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;(candidateHosts.size());        <span class="hljs-keyword">for</span> (EurekaEndpoint endpoint : candidateHosts) &#123;            <span class="hljs-keyword">if</span> (!quarantineSet.contains(endpoint)) &#123;                remainingHosts.add(endpoint);            &#125;        &#125;        candidateHosts = remainingHosts;    &#125;    <span class="hljs-keyword">return</span> candidateHosts;&#125;</code></pre><p>ä»¥ä¸Šå†…å®¹å°±æ˜¯ä¸ªäººå¯¹     <code>eureka.client.transport.retryableClientQuarantineRefreshPercentage</code>çš„ç†è§£ï¼Œç”±äºæœ¬äººçŸ¥è¯†æ°´å¹³æœ‰é™ï¼Œå¯¹æ­¤é—®é¢˜ä¹Ÿå¯èƒ½ç†è§£ä¸æ­£ç¡®ï¼Œè¿˜è¯·å¤§å®¶å¤šå¤šç•™è¨€è®¨è®ºã€‚</p><p>æœ€åæ„Ÿè°¢<a href="http://spring4all.com/" target="_blank" rel="noopener">spring4allç¤¾åŒº</a>æä¾›è¿™ä¸ªå¹³å°ï¼Œèƒ½è®©å¤§å®¶äº¤æµå­¦ä¹ Springç›¸å…³çŸ¥è¯†ã€‚ </p>]]></content>
    
    
    <categories>
      
      <category>Eureka</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Eureka</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä½¿ç”¨hexoæ­å»ºä¸ªäººåšå®¢</title>
    <link href="/2019/06/12/%E4%BD%BF%E7%94%A8hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    <url>/2019/06/12/%E4%BD%BF%E7%94%A8hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</url>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘å¼€å§‹ç ”ç©¶blogï¼Œæ‰¾åˆ°äº†å¾ˆå¤šå¼€æºçš„ç³»ç»Ÿï¼Œjavaã€aspã€nodejsã€phpï¼Œä¸‹é¢ä»‹ç»ä¸€ç§åŸºäºnodejsçš„å¼€æºblogï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šå…³äºhexoçš„æ–‡æ¡£ä½†æ˜¯ä¸ªäººæ„Ÿè§‰è¿˜æ˜¯æ¬ ç¼ºä¸èƒ½ä¸€æ¬¡è¾¾åˆ°ç›®çš„ï¼Œå› ä¸ºæœ¬äººç°åœ¨æ‰‹ä¸Šåªæœ‰<strong>mintå‘è¡Œç‰ˆçš„linuxï¼Œæ‰€ä»¥ç›´æ¥ç”¨mintç›´æ¥æ­å»º</strong>ï¼Œå› ä¸ºhexoæ˜¯åŸºäºnodejsçš„åº”ç”¨ï¼Œæ‰€ä»¥è¦å…ˆå®‰è£…nodejs </p><hr><h4 id="1-Nodejså®‰è£…"><a href="#1-Nodejså®‰è£…" class="headerlink" title="1.Nodejså®‰è£…"></a>1.Nodejså®‰è£…</h4><p>ä½¿ç”¨apt-get å®‰è£…çš„nodejsç‰ˆæœ¬è¿‡è€ï¼Œä¼šå¯¼è‡´å®‰è£…hexoçš„æ—¶å€™å‡ºé—®é¢˜ã€‚<br>å®˜æ–¹æ¨èçš„å®‰è£…æ–¹æ³•ï¼š </p><pre><code class="hljs bash">curl -sL https://deb.nodesource.com/setup_6.x | sudo -E bash -sudo apt-get install -y nodejs</code></pre><p>centos ä¸Šï¼š </p><pre><code class="hljs bash">wget https://nodejs.org/dist/v7.7.4/node-v7.7.4-linux-x64.tar.gztar zxvf node-v7.7.4-linux-x64.tar.gz</code></pre><a id="more"></a><p>sudo vi /etc/profile </p><pre><code class="hljs properties"><span class="hljs-comment"># node ï¼ˆæ³¨é‡Šä½œç”¨ï¼‰</span><span class="hljs-attr">export</span> <span class="hljs-string">NODE_HOME=/home/user/software/node-v7.7.4-linux-x64</span><span class="hljs-attr">export</span> <span class="hljs-string">PATH=$PATH:$NODE_HOME/bin  </span><span class="hljs-attr">export</span> <span class="hljs-string">NODE_PATH=$NODE_HOME/lib/node_modules</span></code></pre><p>:wq ï¼ˆä¿å­˜å¹¶é€€å‡ºï¼‰<br>source /etc/profile ï¼ˆä½¿é…ç½®æ–‡ä»¶ç”Ÿæ•ˆï¼‰ </p><h4 id="2-Hexoå®‰è£…"><a href="#2-Hexoå®‰è£…" class="headerlink" title="2.Hexoå®‰è£…"></a>2.Hexoå®‰è£…</h4><p><a href="https://github.com/hexojs/hexo/" target="_blank" rel="noopener">Hexo</a> æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„é™æ€ç½‘ç«™ç”Ÿæˆç³»ç»Ÿï¼Œå¿«é€Ÿã€ç®€æ´ã€é«˜æ•ˆã€‚Hexo æ”¯æŒ GitHub Flavored Markdown çš„æ‰€æœ‰åŠŸèƒ½ï¼Œç”šè‡³å¯ä»¥æ•´åˆ Octopress çš„å¤§å¤šæ•°æ’ä»¶ã€‚å¯ä»¥ä¸€é”®éƒ¨ç½²åˆ°githubï¼Œè¿˜æœ‰ä¸°å¯Œçš„æ’ä»¶å’Œä¸»é¢˜,è¿˜æ”¯æŒçƒ­éƒ¨ç½²å“¦ã€‚æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£… </p><pre><code class="hljs bash">sudo npm install hexo-cli -g</code></pre><p>å®‰è£…Hexoå®‰æˆåï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å¿«é€Ÿæ–°å»ºä¸€ä¸ªåšå®¢ç³»ç»Ÿï¼Œç„¶åè¿è¡Œå®ƒï¼š </p><ol><li><code>hexo init blog</code>     </li><li><code>cd blog</code>     </li><li><code>npm install</code>     </li><li><code>hexo server</code>     </li></ol><p>å¦‚æœnpmå®‰è£…å¤±è´¥ï¼Œè¯·ä½¿ç”¨sudoå®‰è£…ã€‚è¿è¡ŒæˆåŠŸåï¼Œè®¿é—® <a href="http://0.0.0.0:4000/" target="_blank" rel="noopener">http://127.0.0.1:4000/</a><a href="http://127.0.0.1:4000/" target="_blank" rel="noopener"> </a> </p><p>Hexo ç”Ÿæˆåšå®¢çš„ç›®å½•ç»“æ„ï¼š </p><pre><code class="hljs bash">.â”œâ”€â”€ _config.ymlâ”œâ”€â”€ db.jsonâ”œâ”€â”€ node_modulesâ”œâ”€â”€ package.jsonâ”œâ”€â”€ publicâ”œâ”€â”€ scaffoldsâ”œâ”€â”€ <span class="hljs-built_in">source</span>â””â”€â”€ themes</code></pre><p>å…¶ä¸­_config.ymlæ˜¯é…ç½®ç«™ç‚¹çš„æ–‡ä»¶ï¼Œpublicæ˜¯hexoç”Ÿæˆçš„é™æ€ç«™ç‚¹æ–‡ä»¶å¤¹ï¼Œscaffoldsæ˜¯æ¨¡æ¿æ–‡ä»¶å¤¹ï¼Œsourceæ˜¯å­˜åœ¨ç”¨æˆ·èµ„æºçš„æ–‡ä»¶å¤¹ï¼Œthemesæ˜¯ä¸»é¢˜æ–‡ä»¶å¤¹ã€‚</p><h4 id="3-ç«™ç‚¹é…ç½®"><a href="#3-ç«™ç‚¹é…ç½®" class="headerlink" title="3.ç«™ç‚¹é…ç½®"></a>3.ç«™ç‚¹é…ç½®</h4><p>æ‰¾åˆ°titleï¼Œsubtitleï¼Œauthorå‚æ•°é…ç½®ï¼Œåˆ†åˆ«é…ç½®ç«™ç‚¹çš„æ ‡é¢˜ã€å‰¯æ ‡é¢˜å’Œä½œè€… </p><pre><code class="hljs yaml"><span class="hljs-attr">title:</span> <span class="hljs-string">Alterçš„åšå®¢</span><span class="hljs-attr">subtitle:</span> <span class="hljs-string">ä¸“æ³¨äºJava</span><span class="hljs-attr">description:</span> <span class="hljs-string">æˆ‘å°±æ˜¯æˆ‘ä¸ä¸€æ ·çš„æ°´æœ</span><span class="hljs-attr">author:</span> <span class="hljs-string">Alter</span><span class="hljs-attr">language:</span> <span class="hljs-string">zh-CN</span></code></pre><p>ç„¶åé…ç½®ç«™ç‚¹çš„urlå’Œpermalinkï¼Œè¿™ä¸¤ä¸ªåˆ†åˆ«æ˜¯ä½ çš„ç«™ç‚¹çš„url hoståœ°å€ä»¥åŠæ–‡ç« çš„æ°¸ä¹…è¿æ¥ </p><pre><code class="hljs yaml"><span class="hljs-attr">url:</span> <span class="hljs-string">http://www.alterempty.cn</span><span class="hljs-string">root:/</span><span class="hljs-string">permalink::year/:month/:day/:title.html</span><span class="hljs-attr">permalink_defaults:</span></code></pre><p>permalink æˆ‘é…ç½®çš„æ˜¯å¹´æœˆæ—¥ä»¥åŠtitleï¼Œåç¼€æ˜¯htmlï¼Œä¾¿äºæœç´¢æ”¶å½•ã€‚permalinkè¯¦æƒ…å‚è§ï¼š <a href="http://hexo.io/zh-cn/docs/permalinks.html" target="_blank" rel="noopener">http://hexo.io/zh-cn/docs/permalinks.html</a> </p><h4 id="4-æ–°å¢ä¸€ç¯‡æ–‡ç« "><a href="#4-æ–°å¢ä¸€ç¯‡æ–‡ç« " class="headerlink" title="4.æ–°å¢ä¸€ç¯‡æ–‡ç« "></a>4.æ–°å¢ä¸€ç¯‡æ–‡ç« </h4><p>ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å³å¯æ–°å¢ä¸€ç¯‡mdæ ¼å¼çš„æ–‡ç« ï¼š </p><pre><code class="hljs shell">hexo new'github-page-with-hexo'</code></pre><p>ç„¶åå°±ä¼šåœ¨sources/_postsç”Ÿæˆä¸€ç¯‡æ–‡ä»¶åä¸ºgithub-page-with-hexo.mdçš„markdownæ–‡ä»¶ã€‚ç¼–è¾‘è¯¥æ–‡ä»¶å°±å¯ä»¥å†™åšå®¢äº† </p><p>Front-matter æ˜¯æ–‡ä»¶æœ€ä¸Šæ–¹ä»¥ â€”- åˆ†éš”çš„åŒºåŸŸï¼Œç”¨äºæŒ‡å®šä¸ªåˆ«æ–‡ä»¶çš„å˜é‡ï¼Œä¸¾ä¾‹æ¥è¯´ï¼š </p><pre><code class="hljs markdown">title:"ä½¿ç”¨Hexoåœ¨Githubä¸Šæ­å»ºè‡ªå·±çš„åšå®¢"date:2017-03-22 00:00:04tags:-Hexo-Githubcategories:-Hexo---</code></pre><p>ç›®å‰çš„categoriesåªèƒ½æœ‰ä¸€ä¸ªä¸€çº§åˆ†ç±»ï¼Œå¦‚æœå¡«å†™å¤šä¸ªï¼Œç¬¬äºŒä¸ªä¼šè¢«è§£æä¸ºäºŒçº§åˆ†ç±»ï¼Œä»¥åŠç±»æ¨ã€‚tagså¯ä»¥å…è®¸æœ‰å¤šä¸ªã€‚æ›´å¤šå…³äºFront-matterè¯·å‚è€ƒ <a href="http://hexo.io/zh-cn/docs/front-matter.html" target="_blank" rel="noopener">http://hexo.io/zh-cn/docs/front-matter.html</a> ã€‚ </p><h4 id="5-å®‰è£…git"><a href="#5-å®‰è£…git" class="headerlink" title="5.å®‰è£…git"></a>5.å®‰è£…git</h4><pre><code class="hljs shell">sudo apt install git</code></pre><p>é€šè¿‡ git â€“version æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ </p><h4 id="6-ç”³è¯·GitHub"><a href="#6-ç”³è¯·GitHub" class="headerlink" title="6.ç”³è¯·GitHub"></a>6.ç”³è¯·GitHub</h4><h4 id="7-å‘å¸ƒåšå®¢"><a href="#7-å‘å¸ƒåšå®¢" class="headerlink" title="7.å‘å¸ƒåšå®¢"></a>7.å‘å¸ƒåšå®¢</h4><p> å‘å¸ƒæ›´æ–°åšå®¢ </p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> hexo d -g</span></code></pre><p>ç„¶åç­‰ä¸ªå‡ åˆ†é’Ÿï¼Œè®¿é—®ä½ çš„åŸŸåå°±å¯ä»¥çœ‹åˆ°ä½ çš„ç½‘ç«™äº† </p><p>æ³¨ï¼šä»githubä¸Šè·å–æ•°æ®çš„åŠæ³•æœ‰å¾ˆå¤šï¼Œå°±ä¸ä¸€ä¸€é˜è¿° </p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
      <category>Blog</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Blog</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>jsç”Ÿæˆä¸€ä¸ªä¸é‡å¤çš„IDçš„å‡½æ•°çš„è¿›åŒ–ä¹‹è·¯</title>
    <link href="/2019/06/12/js%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%E4%B8%8D%E9%87%8D%E5%A4%8D%E7%9A%84ID%E7%9A%84%E5%87%BD%E6%95%B0%E7%9A%84%E8%BF%9B%E5%8C%96%E4%B9%8B%E8%B7%AF/"/>
    <url>/2019/06/12/js%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%E4%B8%8D%E9%87%8D%E5%A4%8D%E7%9A%84ID%E7%9A%84%E5%87%BD%E6%95%B0%E7%9A%84%E8%BF%9B%E5%8C%96%E4%B9%8B%E8%B7%AF/</url>
    
    <content type="html"><![CDATA[<p>åœ¨MongoDBä¸­çš„ObjectIDï¼Œå¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€ä¸ªä¸ä¼šé‡å¤çš„IDï¼Œè¿™é‡Œæœ‰ä¸ªé“¾æ¥<a href="http://blog.csdn.net/xiamizy/article/details/41521025" target="_blank" rel="noopener">http://blog.csdn.net/xiamizy/article/details/41521025</a> æ„Ÿå…´è¶£å¯ä»¥å»ç ”ç©¶ä¸€ä¸‹ã€‚ </p><h2 id="æˆ‘ä»Šå¤©è¦åšçš„å°±æ˜¯åšä¸€ä¸ªä¸é‡å¤IDçš„ç”Ÿæˆå™¨"><a href="#æˆ‘ä»Šå¤©è¦åšçš„å°±æ˜¯åšä¸€ä¸ªä¸é‡å¤IDçš„ç”Ÿæˆå™¨" class="headerlink" title="æˆ‘ä»Šå¤©è¦åšçš„å°±æ˜¯åšä¸€ä¸ªä¸é‡å¤IDçš„ç”Ÿæˆå™¨"></a>æˆ‘ä»Šå¤©è¦åšçš„å°±æ˜¯åšä¸€ä¸ªä¸é‡å¤IDçš„ç”Ÿæˆå™¨</h2><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><span class="hljs-comment"> * ç”Ÿæˆä¸€ä¸ªç”¨ä¸é‡å¤çš„ID</span><span class="hljs-comment"> */</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">GenNonDuplicateID</span>(<span class="hljs-params"></span>):<span class="hljs-title">String</span></span>&#123;  &#125;</code></pre><a id="more"></a><h2 id="å…ˆçœ‹çœ‹ä¸‹é¢çš„å‡ ä¸ªæ–¹æ³•"><a href="#å…ˆçœ‹çœ‹ä¸‹é¢çš„å‡ ä¸ªæ–¹æ³•" class="headerlink" title="å…ˆçœ‹çœ‹ä¸‹é¢çš„å‡ ä¸ªæ–¹æ³•"></a>å…ˆçœ‹çœ‹ä¸‹é¢çš„å‡ ä¸ªæ–¹æ³•</h2><h3 id="1-ç”Ÿæˆ-0-1-çš„éšæœºæ•°çš„Math-random-ä¾‹å¦‚"><a href="#1-ç”Ÿæˆ-0-1-çš„éšæœºæ•°çš„Math-random-ä¾‹å¦‚" class="headerlink" title="1.ç”Ÿæˆ[0,1)çš„éšæœºæ•°çš„Math.random,ä¾‹å¦‚"></a>1.ç”Ÿæˆ[0,1)çš„éšæœºæ•°çš„Math.random,ä¾‹å¦‚</h3><pre><code class="hljs javascript"><span class="hljs-comment">//æˆ‘è¿™æ¬¡è¿è¡Œç”Ÿæˆçš„æ˜¯ï¼š0.5834165740043102</span><span class="hljs-built_in">Math</span>.random()</code></pre><h3 id="2-è·å–å½“å‰æ—¶é—´æˆ³Date-now"><a href="#2-è·å–å½“å‰æ—¶é—´æˆ³Date-now" class="headerlink" title="2.è·å–å½“å‰æ—¶é—´æˆ³Date.now"></a>2.è·å–å½“å‰æ—¶é—´æˆ³Date.now</h3><pre><code class="hljs javascript"><span class="hljs-comment">//ç°åœ¨æ—¶é—´æˆ³æ˜¯1482645606622</span><span class="hljs-built_in">Date</span>.now() = <span class="hljs-number">1521009303858</span></code></pre><h3 id="3-å°†10è¿›åˆ¶è½¬æ¢ä¸ºå…¶ä»–è¿›åˆ¶çš„å­—ç¬¦ä¸²-Number-toString"><a href="#3-å°†10è¿›åˆ¶è½¬æ¢ä¸ºå…¶ä»–è¿›åˆ¶çš„å­—ç¬¦ä¸²-Number-toString" class="headerlink" title="3.å°†10è¿›åˆ¶è½¬æ¢ä¸ºå…¶ä»–è¿›åˆ¶çš„å­—ç¬¦ä¸² Number.toString"></a>3.å°†10è¿›åˆ¶è½¬æ¢ä¸ºå…¶ä»–è¿›åˆ¶çš„å­—ç¬¦ä¸² Number.toString</h3><pre><code class="hljs javascript"><span class="hljs-comment">//å°†1482645606622è½¬æ¢æˆäºŒè¿›åˆ¶ï¼š10101100100110100100100001001000011011110</span>(<span class="hljs-number">1482645606622</span>).toString(<span class="hljs-number">2</span>)<span class="hljs-comment">//è½¬æ¢æˆ16è¿›åˆ¶ï¼š159349090de MongDBä¸­çš„ObjectIDå°±æ˜¯24ä½16è¿›åˆ¶æ•°</span>(<span class="hljs-number">1482645606622</span>).toString(<span class="hljs-number">16</span>)ï¼›<span class="hljs-comment">//æœ€å¤§è¿›åˆ¶æ”¯æŒè½¬ä¸º36è¿›åˆ¶ï¼Œä½¿ç”¨å­—ç¬¦æ˜¯0-9a-z ï¼šix48wvry</span>(<span class="hljs-number">1482645606622</span>).toString(<span class="hljs-number">36</span>)</code></pre><h2 id="GenNonDuplicateIDçš„è‡ªæˆ‘è¿›åŒ–"><a href="#GenNonDuplicateIDçš„è‡ªæˆ‘è¿›åŒ–" class="headerlink" title="GenNonDuplicateIDçš„è‡ªæˆ‘è¿›åŒ–"></a>GenNonDuplicateIDçš„è‡ªæˆ‘è¿›åŒ–</h2><h3 id="1-éšæœºæ•°ç‰ˆæœ¬-v0-0-1"><a href="#1-éšæœºæ•°ç‰ˆæœ¬-v0-0-1" class="headerlink" title="1.éšæœºæ•°ç‰ˆæœ¬ v0.0.1"></a>1.éšæœºæ•°ç‰ˆæœ¬ v0.0.1</h3><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><span class="hljs-comment"> * ç”Ÿæˆä¸€ä¸ªç”¨ä¸é‡å¤çš„ID</span><span class="hljs-comment"> */</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">GenNonDuplicateID</span>(<span class="hljs-params"></span>)</span>&#123;  <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.random().toString()&#125;<span class="hljs-comment">//ç”Ÿæˆä¸€ä¸ªç±»ä¼¼ 0.1283460319177394çš„ID</span>GenNonDuplicateID()</code></pre><h3 id="2-éšæœºæ•°ç‰ˆæœ¬16è¿›åˆ¶ç‰ˆæœ¬-v0-0-2"><a href="#2-éšæœºæ•°ç‰ˆæœ¬16è¿›åˆ¶ç‰ˆæœ¬-v0-0-2" class="headerlink" title="2.éšæœºæ•°ç‰ˆæœ¬16è¿›åˆ¶ç‰ˆæœ¬ v0.0.2"></a>2.éšæœºæ•°ç‰ˆæœ¬16è¿›åˆ¶ç‰ˆæœ¬ v0.0.2</h3><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><span class="hljs-comment"> * ç”Ÿæˆä¸€ä¸ªç”¨ä¸é‡å¤çš„ID</span><span class="hljs-comment"> */</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">GenNonDuplicateID</span>(<span class="hljs-params"></span>)</span>&#123;  <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.random().toString(<span class="hljs-number">16</span>)&#125;<span class="hljs-comment">//å‡½æ•°å°†ç”Ÿæˆç±»ä¼¼ 0.c1615913fa915 çš„ID</span>GenNonDuplicateID()</code></pre><h3 id="3-éšæœºæ•°ç‰ˆæœ¬36è¿›åˆ¶ç‰ˆæœ¬-v0-0-3"><a href="#3-éšæœºæ•°ç‰ˆæœ¬36è¿›åˆ¶ç‰ˆæœ¬-v0-0-3" class="headerlink" title="3.éšæœºæ•°ç‰ˆæœ¬36è¿›åˆ¶ç‰ˆæœ¬ v0.0.3"></a>3.éšæœºæ•°ç‰ˆæœ¬36è¿›åˆ¶ç‰ˆæœ¬ v0.0.3</h3><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><span class="hljs-comment"> * ç”Ÿæˆä¸€ä¸ªç”¨ä¸é‡å¤çš„ID</span><span class="hljs-comment"> */</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">GenNonDuplicateID</span>(<span class="hljs-params"></span>)</span>&#123;  <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.random().toString(<span class="hljs-number">36</span>)&#125;<span class="hljs-comment">//å‡½æ•°å°†ç”Ÿæˆç±»ä¼¼ 0.hefy7uw6ddzwidkwcmxkzkt9 çš„ID</span>GenNonDuplicateID()</code></pre><h3 id="4-éšæœºæ•°ç‰ˆæœ¬36è¿›åˆ¶ç‰ˆæœ¬-å»æ‰â€0-â€-v0-0-4"><a href="#4-éšæœºæ•°ç‰ˆæœ¬36è¿›åˆ¶ç‰ˆæœ¬-å»æ‰â€0-â€-v0-0-4" class="headerlink" title="4.éšæœºæ•°ç‰ˆæœ¬36è¿›åˆ¶ç‰ˆæœ¬ å»æ‰â€0.â€ v0.0.4"></a>4.éšæœºæ•°ç‰ˆæœ¬36è¿›åˆ¶ç‰ˆæœ¬ å»æ‰â€0.â€ v0.0.4</h3><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><span class="hljs-comment"> * ç”Ÿæˆä¸€ä¸ªç”¨ä¸é‡å¤çš„ID</span><span class="hljs-comment"> */</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">GenNonDuplicateID</span>(<span class="hljs-params"></span>)</span>&#123;  <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.random().toString(<span class="hljs-number">36</span>).substr(<span class="hljs-number">3</span>)&#125;<span class="hljs-comment">//å‡½æ•°å°†ç”Ÿæˆç±»ä¼¼ 8dlv9vabygks2cbg1spds4i çš„ID</span>GenNonDuplicateID()</code></pre><p><strong>ç„¶è€Œç”¨ä¸€ä¸ªéšæœºæ•°ä½œä¸ºIDï¼Œéšç€ä½¿ç”¨æ¬¡æ•°çš„ç´¯ç§¯ï¼Œå¿…ç„¶ä¼šå‡ºç°ç›¸åŒçš„ä¸¤ä¸ªID</strong> </p><h3 id="5-å¼•å…¥æ—¶é—´æˆ³-çš„36å¾®è¿›åˆ¶ç‰ˆæœ¬-v0-1-1"><a href="#5-å¼•å…¥æ—¶é—´æˆ³-çš„36å¾®è¿›åˆ¶ç‰ˆæœ¬-v0-1-1" class="headerlink" title="5.å¼•å…¥æ—¶é—´æˆ³ çš„36å¾®è¿›åˆ¶ç‰ˆæœ¬ v0.1.1"></a>5.å¼•å…¥æ—¶é—´æˆ³ çš„36å¾®è¿›åˆ¶ç‰ˆæœ¬ v0.1.1</h3><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><span class="hljs-comment"> * ç”Ÿæˆä¸€ä¸ªç”¨ä¸é‡å¤çš„ID</span><span class="hljs-comment"> */</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">GenNonDuplicateID</span>(<span class="hljs-params"></span>)</span>&#123;  <span class="hljs-keyword">let</span> idStr = <span class="hljs-built_in">Date</span>.now().toString(<span class="hljs-number">36</span>)  idStr += <span class="hljs-built_in">Math</span>.random().toString(<span class="hljs-number">36</span>).substr(<span class="hljs-number">3</span>)  <span class="hljs-keyword">return</span> idStr&#125;<span class="hljs-comment">//å‡½æ•°å°†ç”Ÿæˆç±»ä¼¼ ix49sfsnt7514k5wpflyb5l2vtok9y66r çš„ID</span>GenNonDuplicateID()</code></pre><h3 id="6-å¼•å…¥æ—¶é—´æˆ³-çš„36å¾®è¿›åˆ¶ç‰ˆæœ¬-åŠ å…¥éšæœºæ•°é•¿åº¦æ§åˆ¶-v0-1-2"><a href="#6-å¼•å…¥æ—¶é—´æˆ³-çš„36å¾®è¿›åˆ¶ç‰ˆæœ¬-åŠ å…¥éšæœºæ•°é•¿åº¦æ§åˆ¶-v0-1-2" class="headerlink" title="6.å¼•å…¥æ—¶é—´æˆ³ çš„36å¾®è¿›åˆ¶ç‰ˆæœ¬ åŠ å…¥éšæœºæ•°é•¿åº¦æ§åˆ¶ v0.1.2"></a>6.å¼•å…¥æ—¶é—´æˆ³ çš„36å¾®è¿›åˆ¶ç‰ˆæœ¬ åŠ å…¥éšæœºæ•°é•¿åº¦æ§åˆ¶ v0.1.2</h3><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><span class="hljs-comment"> * ç”Ÿæˆä¸€ä¸ªç”¨ä¸é‡å¤çš„ID</span><span class="hljs-comment"> */</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">GenNonDuplicateID</span>(<span class="hljs-params">randomLength</span>)</span>&#123;  <span class="hljs-keyword">let</span> idStr = <span class="hljs-built_in">Date</span>.now().toString(<span class="hljs-number">36</span>)  idStr += <span class="hljs-built_in">Math</span>.random().toString(<span class="hljs-number">36</span>).substr(<span class="hljs-number">3</span>,randomLength)  <span class="hljs-keyword">return</span> idStr&#125;<span class="hljs-comment">// GenNonDuplicateID(3) å°†ç”Ÿæˆç±»ä¼¼ ix49wl2978w çš„ID</span>GenNonDuplicateID(<span class="hljs-number">3</span>)</code></pre><p>è¿™æ ·ç”Ÿæˆçš„IDå‰é¢å‡ ä½æ€»æ˜¯ç›¸åŒï¼Œçœ‹ç€ä¸çˆ½ï¼Œäºæ˜¯å†æ”¹æ”¹ </p><h3 id="7-å¼•å…¥æ—¶é—´æˆ³-éšæœºæ•°å‰ç½®-36è¿›åˆ¶-åŠ å…¥éšæœºæ•°é•¿åº¦æ§åˆ¶-v0-1-3"><a href="#7-å¼•å…¥æ—¶é—´æˆ³-éšæœºæ•°å‰ç½®-36è¿›åˆ¶-åŠ å…¥éšæœºæ•°é•¿åº¦æ§åˆ¶-v0-1-3" class="headerlink" title="7. å¼•å…¥æ—¶é—´æˆ³ éšæœºæ•°å‰ç½® 36è¿›åˆ¶ åŠ å…¥éšæœºæ•°é•¿åº¦æ§åˆ¶ v0.1.3"></a>7. å¼•å…¥æ—¶é—´æˆ³ éšæœºæ•°å‰ç½® 36è¿›åˆ¶ åŠ å…¥éšæœºæ•°é•¿åº¦æ§åˆ¶ v0.1.3</h3><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><span class="hljs-comment"> * ç”Ÿæˆä¸€ä¸ªç”¨ä¸é‡å¤çš„ID</span><span class="hljs-comment"> */</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">GenNonDuplicateID</span>(<span class="hljs-params">randomLength</span>)</span>&#123;  <span class="hljs-keyword">return</span> <span class="hljs-built_in">Number</span>(<span class="hljs-built_in">Math</span>.random().toString().substr(<span class="hljs-number">3</span>,randomLength) + <span class="hljs-built_in">Date</span>.now()).toString(<span class="hljs-number">36</span>)&#125;<span class="hljs-comment">//GenNonDuplicateID()å°†ç”Ÿæˆ rfmipbs8ag0kgkcogc ç±»ä¼¼çš„ID</span>GenNonDuplicateID()</code></pre><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>JavaScript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>IDç”Ÿæˆå™¨-Twitterçš„é›ªèŠ±ç®—æ³•</title>
    <link href="/2019/06/12/ID%E7%94%9F%E6%88%90%E5%99%A8-Twitter%E7%9A%84%E9%9B%AA%E8%8A%B1%E7%AE%97%E6%B3%95/"/>
    <url>/2019/06/12/ID%E7%94%9F%E6%88%90%E5%99%A8-Twitter%E7%9A%84%E9%9B%AA%E8%8A%B1%E7%AE%97%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<p>ä¸Šä»£ç :</p><pre><code class="hljs java"><span class="hljs-comment">/**</span><span class="hljs-comment"> * Twitter_Snowflake&lt;br&gt;</span><span class="hljs-comment"> * SnowFlakeçš„ç»“æ„å¦‚ä¸‹(æ¯éƒ¨åˆ†ç”¨-åˆ†å¼€):&lt;br&gt;</span><span class="hljs-comment"> * 0 - 0000000000 0000000000 0000000000 0000000000 0 - 00000 - 00000 - 000000000000 &lt;br&gt;</span><span class="hljs-comment"> * 1ä½æ ‡è¯†ï¼Œç”±äºlongåŸºæœ¬ç±»å‹åœ¨Javaä¸­æ˜¯å¸¦ç¬¦å·çš„ï¼Œæœ€é«˜ä½æ˜¯ç¬¦å·ä½ï¼Œæ­£æ•°æ˜¯0ï¼Œè´Ÿæ•°æ˜¯1ï¼Œæ‰€ä»¥idä¸€èˆ¬æ˜¯æ­£æ•°ï¼Œæœ€é«˜ä½æ˜¯0&lt;br&gt;</span><span class="hljs-comment"> * 41ä½æ—¶é—´æˆª(æ¯«ç§’çº§)ï¼Œæ³¨æ„ï¼Œ41ä½æ—¶é—´æˆªä¸æ˜¯å­˜å‚¨å½“å‰æ—¶é—´çš„æ—¶é—´æˆªï¼Œè€Œæ˜¯å­˜å‚¨æ—¶é—´æˆªçš„å·®å€¼ï¼ˆå½“å‰æ—¶é—´æˆª - å¼€å§‹æ—¶é—´æˆª)</span><span class="hljs-comment"> * å¾—åˆ°çš„å€¼ï¼‰ï¼Œè¿™é‡Œçš„çš„å¼€å§‹æ—¶é—´æˆªï¼Œä¸€èˆ¬æ˜¯æˆ‘ä»¬çš„idç”Ÿæˆå™¨å¼€å§‹ä½¿ç”¨çš„æ—¶é—´ï¼Œç”±æˆ‘ä»¬ç¨‹åºæ¥æŒ‡å®šçš„ï¼ˆå¦‚ä¸‹ä¸‹é¢ç¨‹åºIdWorkerç±»çš„startTimeå±æ€§ï¼‰ã€‚41ä½çš„æ—¶é—´æˆªï¼Œå¯ä»¥ä½¿ç”¨69å¹´ï¼Œå¹´T = (1L &lt;&lt; 41) / (1000L * 60 * 60 * 24 * 365) = 69&lt;br&gt;</span><span class="hljs-comment"> * 10ä½çš„æ•°æ®æœºå™¨ä½ï¼Œå¯ä»¥éƒ¨ç½²åœ¨1024ä¸ªèŠ‚ç‚¹ï¼ŒåŒ…æ‹¬5ä½datacenterIdå’Œ5ä½workerId&lt;br&gt;</span><span class="hljs-comment"> * 12ä½åºåˆ—ï¼Œæ¯«ç§’å†…çš„è®¡æ•°ï¼Œ12ä½çš„è®¡æ•°é¡ºåºå·æ”¯æŒæ¯ä¸ªèŠ‚ç‚¹æ¯æ¯«ç§’(åŒä¸€æœºå™¨ï¼ŒåŒä¸€æ—¶é—´æˆª)äº§ç”Ÿ4096ä¸ªIDåºå·&lt;br&gt;</span><span class="hljs-comment"> * åŠ èµ·æ¥åˆšå¥½64ä½ï¼Œä¸ºä¸€ä¸ªLongå‹ã€‚&lt;br&gt;</span><span class="hljs-comment"> * SnowFlakeçš„ä¼˜ç‚¹æ˜¯ï¼Œæ•´ä½“ä¸ŠæŒ‰ç…§æ—¶é—´è‡ªå¢æ’åºï¼Œå¹¶ä¸”æ•´ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿå†…ä¸ä¼šäº§ç”ŸIDç¢°æ’(ç”±æ•°æ®ä¸­å¿ƒIDå’Œæœºå™¨IDä½œåŒºåˆ†)ï¼Œå¹¶ä¸”æ•ˆç‡è¾ƒé«˜ï¼Œç»æµ‹è¯•ï¼ŒSnowFlakeæ¯ç§’èƒ½å¤Ÿäº§ç”Ÿ26ä¸‡IDå·¦å³ã€‚</span><span class="hljs-comment"> */</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SnowflakeIdWorker</span> </span>&#123;    <span class="hljs-comment">// ==============================Fields===========================================</span>    <span class="hljs-comment">/** å¼€å§‹æ—¶é—´æˆª (2015-01-01) */</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">long</span> twepoch = <span class="hljs-number">1489111610226L</span>;    <span class="hljs-comment">/** æœºå™¨idæ‰€å çš„ä½æ•° */</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">long</span> workerIdBits = <span class="hljs-number">5L</span>;    <span class="hljs-comment">/** æ•°æ®æ ‡è¯†idæ‰€å çš„ä½æ•° */</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">long</span> dataCenterIdBits = <span class="hljs-number">5L</span>;    <span class="hljs-comment">/** æ”¯æŒçš„æœ€å¤§æœºå™¨idï¼Œç»“æœæ˜¯31 (è¿™ä¸ªç§»ä½ç®—æ³•å¯ä»¥å¾ˆå¿«çš„è®¡ç®—å‡ºå‡ ä½äºŒè¿›åˆ¶æ•°æ‰€èƒ½è¡¨ç¤ºçš„æœ€å¤§åè¿›åˆ¶æ•°) */</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">long</span> maxWorkerId = -<span class="hljs-number">1L</span> ^ (-<span class="hljs-number">1L</span> &lt;&lt; workerIdBits);    <span class="hljs-comment">/** æ”¯æŒçš„æœ€å¤§æ•°æ®æ ‡è¯†idï¼Œç»“æœæ˜¯31 */</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">long</span> maxDataCenterId = -<span class="hljs-number">1L</span> ^ (-<span class="hljs-number">1L</span> &lt;&lt; dataCenterIdBits);    <span class="hljs-comment">/** åºåˆ—åœ¨idä¸­å çš„ä½æ•° */</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">long</span> sequenceBits = <span class="hljs-number">12L</span>;    <span class="hljs-comment">/** æœºå™¨IDå‘å·¦ç§»12ä½ */</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">long</span> workerIdShift = sequenceBits;    <span class="hljs-comment">/** æ•°æ®æ ‡è¯†idå‘å·¦ç§»17ä½(12+5) */</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">long</span> dataCenterIdShift = sequenceBits + workerIdBits;    <span class="hljs-comment">/** æ—¶é—´æˆªå‘å·¦ç§»22ä½(5+5+12) */</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">long</span> timestampLeftShift = sequenceBits + workerIdBits + dataCenterIdBits;    <span class="hljs-comment">/** ç”Ÿæˆåºåˆ—çš„æ©ç ï¼Œè¿™é‡Œä¸º4095 (0b111111111111=0xfff=4095) */</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">long</span> sequenceMask = -<span class="hljs-number">1L</span> ^ (-<span class="hljs-number">1L</span> &lt;&lt; sequenceBits);    <span class="hljs-comment">/** å·¥ä½œæœºå™¨ID(0~31) */</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">long</span> workerId;    <span class="hljs-comment">/** æ•°æ®ä¸­å¿ƒID(0~31) */</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">long</span> dataCenterId;    <span class="hljs-comment">/** æ¯«ç§’å†…åºåˆ—(0~4095) */</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">long</span> sequence = <span class="hljs-number">0L</span>;    <span class="hljs-comment">/** ä¸Šæ¬¡ç”ŸæˆIDçš„æ—¶é—´æˆª */</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">long</span> lastTimestamp = -<span class="hljs-number">1L</span>;    <span class="hljs-comment">//==============================Constructors=====================================</span>    <span class="hljs-comment">/**</span><span class="hljs-comment">     * æ„é€ å‡½æ•°</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> workerId å·¥ä½œID (0~31)</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> dataCenterId æ•°æ®ä¸­å¿ƒID (0~31)</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">SnowflakeIdWorker</span><span class="hljs-params">(<span class="hljs-keyword">long</span> workerId, <span class="hljs-keyword">long</span> dataCenterId)</span> </span>&#123;        <span class="hljs-keyword">if</span> (workerId &gt; maxWorkerId || workerId &lt; <span class="hljs-number">0</span>) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(String.format(<span class="hljs-string">"workerId can't be greater than %d or less than 0"</span>, maxWorkerId));        &#125;        <span class="hljs-keyword">if</span> (dataCenterId &gt; maxDataCenterId || dataCenterId &lt; <span class="hljs-number">0</span>) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(String.format(<span class="hljs-string">"dataCenterId can't be greater than %d or less than 0"</span>, maxDataCenterId));        &#125;        <span class="hljs-keyword">this</span>.workerId = workerId;        <span class="hljs-keyword">this</span>.dataCenterId = dataCenterId;    &#125;    <span class="hljs-comment">// ==============================Methods==========================================</span>    <span class="hljs-comment">/**</span><span class="hljs-comment">     * è·å¾—ä¸‹ä¸€ä¸ªID (è¯¥æ–¹æ³•æ˜¯çº¿ç¨‹å®‰å…¨çš„)</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> SnowflakeId</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">long</span> <span class="hljs-title">nextId</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">long</span> timestamp = timeGen();        <span class="hljs-comment">//å¦‚æœå½“å‰æ—¶é—´å°äºä¸Šä¸€æ¬¡IDç”Ÿæˆçš„æ—¶é—´æˆ³ï¼Œè¯´æ˜ç³»ç»Ÿæ—¶é’Ÿå›é€€è¿‡è¿™ä¸ªæ—¶å€™åº”å½“æŠ›å‡ºå¼‚å¸¸</span>        <span class="hljs-keyword">if</span> (timestamp &lt; lastTimestamp) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RuntimeException(                    String.format(<span class="hljs-string">"Clock moved backwards.  Refusing to generate id for %d milliseconds"</span>, lastTimestamp - timestamp));        &#125;        <span class="hljs-comment">//å¦‚æœæ˜¯åŒä¸€æ—¶é—´ç”Ÿæˆçš„ï¼Œåˆ™è¿›è¡Œæ¯«ç§’å†…åºåˆ—</span>        <span class="hljs-keyword">if</span> (lastTimestamp == timestamp) &#123;            sequence = (sequence + <span class="hljs-number">1</span>) &amp; sequenceMask;            <span class="hljs-comment">//æ¯«ç§’å†…åºåˆ—æº¢å‡º</span>            <span class="hljs-keyword">if</span> (sequence == <span class="hljs-number">0</span>) &#123;                <span class="hljs-comment">//é˜»å¡åˆ°ä¸‹ä¸€ä¸ªæ¯«ç§’,è·å¾—æ–°çš„æ—¶é—´æˆ³</span>                timestamp = tilNextMillis(lastTimestamp);            &#125;        &#125;        <span class="hljs-comment">//æ—¶é—´æˆ³æ”¹å˜ï¼Œæ¯«ç§’å†…åºåˆ—é‡ç½®</span>        <span class="hljs-keyword">else</span> &#123;            sequence = <span class="hljs-number">0L</span>;        &#125;        <span class="hljs-comment">//ä¸Šæ¬¡ç”ŸæˆIDçš„æ—¶é—´æˆª</span>        lastTimestamp = timestamp;        <span class="hljs-comment">//ç§»ä½å¹¶é€šè¿‡æˆ–è¿ç®—æ‹¼åˆ°ä¸€èµ·ç»„æˆ64ä½çš„ID</span>        <span class="hljs-keyword">return</span> ((timestamp - twepoch) &lt;&lt; timestampLeftShift) <span class="hljs-comment">//</span>                | (dataCenterId &lt;&lt; dataCenterIdShift) <span class="hljs-comment">//</span>                | (workerId &lt;&lt; workerIdShift) <span class="hljs-comment">//</span>                | sequence;    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * é˜»å¡åˆ°ä¸‹ä¸€ä¸ªæ¯«ç§’ï¼Œç›´åˆ°è·å¾—æ–°çš„æ—¶é—´æˆ³</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> lastTimestamp ä¸Šæ¬¡ç”ŸæˆIDçš„æ—¶é—´æˆª</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> å½“å‰æ—¶é—´æˆ³</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">long</span> <span class="hljs-title">tilNextMillis</span><span class="hljs-params">(<span class="hljs-keyword">long</span> lastTimestamp)</span> </span>&#123;        <span class="hljs-keyword">long</span> timestamp = timeGen();        <span class="hljs-keyword">while</span> (timestamp &lt;= lastTimestamp) &#123;            timestamp = timeGen();        &#125;        <span class="hljs-keyword">return</span> timestamp;    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * è¿”å›ä»¥æ¯«ç§’ä¸ºå•ä½çš„å½“å‰æ—¶é—´</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> å½“å‰æ—¶é—´(æ¯«ç§’)</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">long</span> <span class="hljs-title">timeGen</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> System.currentTimeMillis();    &#125;    <span class="hljs-comment">//==============================Test=============================================</span>    <span class="hljs-comment">/** æµ‹è¯• */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;        System.out.println(System.currentTimeMillis());        SnowflakeIdWorker idWorker = <span class="hljs-keyword">new</span> SnowflakeIdWorker(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);        <span class="hljs-keyword">long</span> startTime = System.nanoTime();        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">50000</span>; i++) &#123;            <span class="hljs-keyword">long</span> id = idWorker.nextId();            System.out.println(id);        &#125;        System.out.println((System.nanoTime()-startTime)/<span class="hljs-number">1000000</span>+<span class="hljs-string">"ms"</span>);    &#125;&#125;</code></pre><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>Id</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>Id</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Javaé«˜æ•ˆè¯»å–å¤§æ–‡ä»¶</title>
    <link href="/2019/06/12/Java%E9%AB%98%E6%95%88%E8%AF%BB%E5%8F%96%E5%A4%A7%E6%96%87%E4%BB%B6/"/>
    <url>/2019/06/12/Java%E9%AB%98%E6%95%88%E8%AF%BB%E5%8F%96%E5%A4%A7%E6%96%87%E4%BB%B6/</url>
    
    <content type="html"><![CDATA[<h2 id="1ã€æ¦‚è¿°"><a href="#1ã€æ¦‚è¿°" class="headerlink" title="1ã€æ¦‚è¿°"></a><strong>1ã€æ¦‚è¿°</strong></h2><p>æœ¬æ•™ç¨‹å°†æ¼”ç¤ºå¦‚ä½•ç”¨Javaé«˜æ•ˆåœ°è¯»å–å¤§æ–‡ä»¶ã€‚ </p><h2 id="2ã€åœ¨å†…å­˜ä¸­è¯»å–"><a href="#2ã€åœ¨å†…å­˜ä¸­è¯»å–" class="headerlink" title="2ã€åœ¨å†…å­˜ä¸­è¯»å–"></a><strong>2ã€åœ¨å†…å­˜ä¸­è¯»å–</strong></h2><p>è¯»å–æ–‡ä»¶è¡Œçš„æ ‡å‡†æ–¹å¼æ˜¯åœ¨å†…å­˜ä¸­è¯»å–ï¼ŒGuava å’ŒApache Commons IOéƒ½æä¾›äº†å¦‚ä¸‹æ‰€ç¤ºå¿«é€Ÿè¯»å–æ–‡ä»¶è¡Œçš„æ–¹æ³•ï¼š </p><pre><code class="hljs java">Files.readLines(<span class="hljs-keyword">new</span> File(path), Charsets.UTF_8); FileUtils.readLines(<span class="hljs-keyword">new</span> File(path));</code></pre><p>è¿™ç§æ–¹æ³•å¸¦æ¥çš„é—®é¢˜æ˜¯æ–‡ä»¶çš„æ‰€æœ‰è¡Œéƒ½è¢«å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œå½“æ–‡ä»¶è¶³å¤Ÿå¤§æ—¶å¾ˆå¿«å°±ä¼šå¯¼è‡´ç¨‹åºæŠ›å‡º<em>OutOfMemoryError</em> å¼‚å¸¸ã€‚ </p><a id="more"></a><p>ä¾‹å¦‚ï¼š<strong>è¯»å–ä¸€ä¸ªå¤§çº¦1Gçš„æ–‡ä»¶ï¼š</strong> </p><pre><code class="hljs java"><span class="hljs-meta">@Test</span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">givenUsingGuava_whenIteratingAFile_thenWorks</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;    String path = ...    Files.readLines(<span class="hljs-keyword">new</span> File(path), Charsets.UTF_8);&#125;</code></pre><p>è¿™ç§æ–¹å¼å¼€å§‹æ—¶åªå ç”¨å¾ˆå°‘çš„å†…å­˜ï¼š<em>ï¼ˆå¤§çº¦æ¶ˆè€—äº†0Mbå†…å­˜ï¼‰</em> </p><pre><code class="hljs java">[main] INFO  org.baeldung.java.CoreJavaIoUnitTest - Total Memory: <span class="hljs-number">128</span> Mb[main] INFO  org.baeldung.java.CoreJavaIoUnitTest - Free Memory: <span class="hljs-number">116</span> Mb</code></pre><p>ç„¶è€Œï¼Œ<strong>å½“æ–‡ä»¶å…¨éƒ¨è¯»åˆ°å†…å­˜ä¸­å</strong>ï¼Œæˆ‘ä»¬æœ€åå¯ä»¥çœ‹åˆ°<em>ï¼ˆå¤§çº¦æ¶ˆè€—äº†2GBå†…å­˜ï¼‰</em>ï¼š </p><pre><code class="hljs java">[main] INFO  org.baeldung.java.CoreJavaIoUnitTest - Total Memory: <span class="hljs-number">2666</span> Mb[main] INFO  org.baeldung.java.CoreJavaIoUnitTest - Free Memory: <span class="hljs-number">490</span> Mb</code></pre><p>è¿™æ„å‘³è¿™ä¸€è¿‡ç¨‹å¤§çº¦è€—è´¹äº†2.1GBçš„å†…å­˜â€”â€”åŸå› å¾ˆç®€å•ï¼šç°åœ¨æ–‡ä»¶çš„æ‰€æœ‰è¡Œéƒ½è¢«å­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚ </p><p><strong>æŠŠæ–‡ä»¶æ‰€æœ‰çš„å†…å®¹éƒ½æ”¾åœ¨å†…å­˜ä¸­å¾ˆå¿«ä¼šè€—å°½å¯ç”¨å†…å­˜</strong>â€”â€”ä¸è®ºå®é™…å¯ç”¨å†…å­˜æœ‰å¤šå¤§ï¼Œè¿™ç‚¹æ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚ </p><p>æ­¤å¤–ï¼Œ<strong>æˆ‘ä»¬é€šå¸¸ä¸éœ€è¦æŠŠæ–‡ä»¶çš„æ‰€æœ‰è¡Œä¸€æ¬¡æ€§åœ°æ”¾å…¥å†…å­˜ä¸­</strong>â€”â€”ç›¸åï¼Œæˆ‘ä»¬åªéœ€è¦éå†æ–‡ä»¶çš„æ¯ä¸€è¡Œï¼Œç„¶ååšç›¸åº”çš„å¤„ç†ï¼Œå¤„ç†å®Œä¹‹åæŠŠå®ƒæ‰”æ‰ã€‚æ‰€ä»¥ï¼Œè¿™æ­£æ˜¯æˆ‘ä»¬å°†è¦åšçš„â€”â€”é€šè¿‡è¡Œè¿­ä»£ï¼Œè€Œä¸æ˜¯æŠŠæ‰€æœ‰è¡Œéƒ½æ”¾åœ¨å†…å­˜ä¸­ã€‚ </p><h2 id="3ã€æ–‡ä»¶æµ"><a href="#3ã€æ–‡ä»¶æµ" class="headerlink" title="3ã€æ–‡ä»¶æµ"></a><strong>3ã€æ–‡ä»¶æµ</strong></h2><p>ç°åœ¨è®©æˆ‘ä»¬çœ‹ä¸‹è¿™ç§è§£å†³æ–¹æ¡ˆâ€”â€”æˆ‘ä»¬å°†ä½¿ç”¨java.util.Scannerç±»æ‰«ææ–‡ä»¶çš„å†…å®¹ï¼Œä¸€è¡Œä¸€è¡Œè¿ç»­åœ°è¯»å–ï¼š </p><pre><code class="hljs java">FileInputStream inputStream = <span class="hljs-keyword">null</span>;Scanner sc = <span class="hljs-keyword">null</span>;<span class="hljs-keyword">try</span> &#123;    inputStream = <span class="hljs-keyword">new</span> FileInputStream(path);    sc = <span class="hljs-keyword">new</span> Scanner(inputStream, <span class="hljs-string">"UTF-8"</span>);    <span class="hljs-keyword">while</span> (sc.hasNextLine()) &#123;        String line = sc.nextLine();        <span class="hljs-comment">// System.out.println(line);</span>    &#125;    <span class="hljs-comment">// note that Scanner suppresses exceptions</span>    <span class="hljs-keyword">if</span> (sc.ioException() != <span class="hljs-keyword">null</span>) &#123;        <span class="hljs-keyword">throw</span> sc.ioException();    &#125;&#125; <span class="hljs-keyword">finally</span> &#123;    <span class="hljs-keyword">if</span> (inputStream != <span class="hljs-keyword">null</span>) &#123;        inputStream.close();    &#125;    <span class="hljs-keyword">if</span> (sc != <span class="hljs-keyword">null</span>) &#123;        sc.close();    &#125;&#125;</code></pre><p>è¿™ç§æ–¹æ¡ˆå°†ä¼šéå†æ–‡ä»¶ä¸­çš„æ‰€æœ‰è¡Œâ€”â€”å…è®¸å¯¹æ¯ä¸€è¡Œè¿›è¡Œå¤„ç†ï¼Œè€Œä¸ä¿æŒå¯¹å®ƒçš„å¼•ç”¨ã€‚æ€»ä¹‹<strong>æ²¡æœ‰æŠŠå®ƒä»¬å­˜æ”¾åœ¨å†…å­˜ä¸­</strong>ï¼š<em>ï¼ˆå¤§çº¦æ¶ˆè€—äº†150MBå†…å­˜ï¼‰</em> </p><pre><code class="hljs java">[main] INFO  org.baeldung.java.CoreJavaIoUnitTest - Total Memory: <span class="hljs-number">763</span> Mb[main] INFO  org.baeldung.java.CoreJavaIoUnitTest - Free Memory: <span class="hljs-number">605</span> Mb</code></pre><h2 id="4ã€Apache-Commons-IOæµ"><a href="#4ã€Apache-Commons-IOæµ" class="headerlink" title="4ã€Apache Commons IOæµ"></a><strong>4ã€Apache Commons IOæµ</strong></h2><p>åŒæ ·ä¹Ÿå¯ä»¥ä½¿ç”¨Commons IOåº“å®ç°ï¼Œåˆ©ç”¨è¯¥åº“æä¾›çš„è‡ªå®šä¹‰LineIterator: </p><pre><code class="hljs java">LineIterator it = FileUtils.lineIterator(theFile, <span class="hljs-string">"UTF-8"</span>);<span class="hljs-keyword">try</span> &#123;    <span class="hljs-keyword">while</span> (it.hasNext()) &#123;        String line = it.nextLine();        <span class="hljs-comment">// do something with line</span>    &#125;&#125; <span class="hljs-keyword">finally</span> &#123;    LineIterator.closeQuietly(it);&#125;</code></pre><p>ç”±äºæ•´ä¸ªæ–‡ä»¶ä¸æ˜¯å…¨éƒ¨å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œè¿™ä¹Ÿå°±å¯¼è‡´ç›¸å½“ä¿å®ˆçš„å†…å­˜æ¶ˆè€—ï¼š<em>ï¼ˆå¤§çº¦æ¶ˆè€—äº†150MBå†…å­˜ï¼‰</em> </p><pre><code class="hljs java">[main] INFO  o.b.java.CoreJavaIoIntegrationTest - Total Memory: <span class="hljs-number">752</span> Mb[main] INFO  o.b.java.CoreJavaIoIntegrationTest - Free Memory: <span class="hljs-number">564</span> Mb</code></pre><h2 id="5ã€ç»“è®º"><a href="#5ã€ç»“è®º" class="headerlink" title="5ã€ç»“è®º"></a><strong>5ã€ç»“è®º</strong></h2><p>è¿™ç¯‡çŸ­æ–‡ä»‹ç»äº†å¦‚ä½•<strong>åœ¨ä¸é‡å¤è¯»å–ä¸ä¸è€—å°½å†…å­˜çš„æƒ…å†µä¸‹å¤„ç†å¤§æ–‡ä»¶</strong>â€”â€”è¿™ä¸ºå¤§æ–‡ä»¶çš„å¤„ç†æä¾›äº†ä¸€ä¸ªæœ‰ç”¨çš„è§£å†³åŠæ³•ã€‚ </p><p>æ‰€æœ‰è¿™äº›ä¾‹å­çš„å®ç°å’Œä»£ç ç‰‡æ®µéƒ½å¯ä»¥åœ¨æˆ‘çš„<a href="http://link.zhihu.com/?target=https%3A//github.com/euigenp/tutorials/tree/master/core-java%23readme">githubé¡¹ç›®</a>ä¸Šè·å–åˆ°â€”â€”è¿™æ˜¯ä¸€ä¸ªåŸºäºEclipseçš„é¡¹ç›®ï¼Œæ‰€ä»¥å®ƒåº”è¯¥å¾ˆå®¹æ˜“è¢«å¯¼å…¥å’Œè¿è¡Œã€‚ </p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>restfulæ¥å£è®¾è®¡è§„èŒƒæ€»ç»“</title>
    <link href="/2019/06/12/restful%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83%E6%80%BB%E7%BB%93/"/>
    <url>/2019/06/12/restful%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<p><strong>è¿™ç¯‡ æ–‡ç« ä¸»è¦æ˜¯å€Ÿé‰´ä»–äººï¼Œä½†æ˜¯è‡ªå·±å¾ˆæƒ³æ€»ç»“å‡ºä¸€å¥—è§„èŒƒï¼Œä»¥ä¾›å‘æˆ‘è¿™æ ·çš„æ–°æ‰‹ä½¿ç”¨ï¼Œç”¨æ¥è§„èŒƒä»£ç ï¼Œå¦‚æœæœ‰ä»€ä¹ˆå¥½çš„æè®®ï¼Œè¯·ä¸åèµæ•™ï¼Œæœ¬ç¯‡æ–‡ç« é•¿æœŸæ›´æ–°ï¼</strong> </p><h3 id="ä¸€ã€é‡è¦æ¦‚å¿µï¼š"><a href="#ä¸€ã€é‡è¦æ¦‚å¿µï¼š" class="headerlink" title="ä¸€ã€é‡è¦æ¦‚å¿µï¼š"></a>ä¸€ã€é‡è¦æ¦‚å¿µï¼š</h3><blockquote><p>REST,å³Representational State Transferçš„ç¼©å†™ã€‚æˆ‘å¯¹è¿™ä¸ªè¯ç»„çš„ç¿»è¯‘æ˜¯â€è¡¨ç°å±‚çŠ¶æ€è½¬åŒ–â€ã€‚     </p><p><strong>Resource</strong>ï¼ˆèµ„æºï¼‰ ï¼šå¯¹è±¡çš„å•ä¸ªå®ä¾‹ã€‚ ä¾‹å¦‚ï¼Œä¸€åªåŠ¨ç‰©ã€‚å®ƒå¯ä»¥æ˜¯ä¸€æ®µæ–‡æœ¬ã€ä¸€å¼ å›¾ç‰‡ã€ä¸€é¦–æ­Œæ›²ã€ä¸€ç§æœåŠ¡ï¼Œæ€»ä¹‹å°±æ˜¯ä¸€ä¸ªå…·ä½“çš„å®åœ¨ã€‚ä½ å¯ä»¥ç”¨ä¸€ä¸ªURIï¼ˆç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰æŒ‡å‘å®ƒï¼Œæ¯ç§èµ„æºå¯¹åº”ä¸€ä¸ªç‰¹å®šçš„URIã€‚è¦è·å–è¿™ä¸ªèµ„æºï¼Œè®¿é—®å®ƒçš„URIå°±å¯ä»¥ï¼Œå› æ­¤URIå°±æˆäº†æ¯ä¸€ä¸ªèµ„æºçš„åœ°å€æˆ–ç‹¬ä¸€æ— äºŒçš„è¯†åˆ«ç¬¦ã€‚     </p><p><strong>é›†åˆ</strong>ï¼šå¯¹è±¡çš„é›†åˆã€‚ ä¾‹å¦‚ï¼ŒåŠ¨ç‰©ã€‚     </p><p><strong>ç¬¬ä¸‰æ–¹</strong>ï¼šä½¿ç”¨æˆ‘ä»¬æ¥å£çš„å¼€å‘è€…     </p><p><strong>è¡¨ç°å±‚ï¼ˆRepresentationï¼‰</strong>     </p><p>â€œèµ„æºâ€æ˜¯ä¸€ç§ä¿¡æ¯å®ä½“ï¼Œå®ƒå¯ä»¥æœ‰å¤šç§å¤–åœ¨è¡¨ç°å½¢å¼ã€‚æˆ‘ä»¬æŠŠâ€èµ„æºâ€å…·ä½“å‘ˆç°å‡ºæ¥çš„å½¢å¼ï¼Œå«åšå®ƒçš„â€è¡¨ç°å±‚â€ï¼ˆRepresentationï¼‰ã€‚     </p><p><strong>çŠ¶æ€è½¬åŒ–ï¼ˆState Transferï¼‰</strong>     </p><p>è®¿é—®ä¸€ä¸ªç½‘ç«™ï¼Œå°±ä»£è¡¨äº†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„ä¸€ä¸ªäº’åŠ¨è¿‡ç¨‹ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼ŒåŠ¿å¿…æ¶‰åŠåˆ°æ•°æ®å’ŒçŠ¶æ€çš„å˜åŒ–ã€‚äº’è”ç½‘é€šä¿¡åè®®HTTPåè®®ï¼Œæ˜¯ä¸€ä¸ªæ— çŠ¶æ€åè®®ã€‚è¿™æ„å‘³ç€ï¼Œæ‰€æœ‰çš„çŠ¶æ€éƒ½ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯ã€‚å› æ­¤ï¼Œå¦‚æœå®¢æˆ·ç«¯æƒ³è¦æ“ä½œæœåŠ¡å™¨ï¼Œå¿…é¡»é€šè¿‡æŸç§æ‰‹æ®µï¼Œè®©æœåŠ¡å™¨ç«¯å‘ç”Ÿâ€çŠ¶æ€è½¬åŒ–â€ï¼ˆState Transferï¼‰ã€‚è€Œè¿™ç§è½¬åŒ–æ˜¯å»ºç«‹åœ¨è¡¨ç°å±‚ä¹‹ä¸Šçš„ï¼Œæ‰€ä»¥å°±æ˜¯â€è¡¨ç°å±‚çŠ¶æ€è½¬åŒ–â€ã€‚     </p><p>å®¢æˆ·ç«¯ç”¨åˆ°çš„æ‰‹æ®µï¼Œåªèƒ½æ˜¯HTTPåè®®ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯HTTPåè®®é‡Œé¢ï¼Œå››ä¸ªè¡¨ç¤ºæ“ä½œæ–¹å¼çš„åŠ¨è¯ï¼šGETã€POSTã€PUTã€DELETEã€‚å®ƒä»¬åˆ†åˆ«å¯¹åº”å››ç§åŸºæœ¬æ“ä½œï¼šGETç”¨æ¥è·å–èµ„æºï¼ŒPOSTç”¨æ¥æ–°å»ºèµ„æºï¼ˆä¹Ÿå¯ä»¥ç”¨äºæ›´æ–°èµ„æºï¼‰ï¼ŒPUTç”¨æ¥æ›´æ–°èµ„æºï¼ŒDELETEç”¨æ¥åˆ é™¤èµ„æºã€‚     </p><p>æ¯”å¦‚ï¼Œæ–‡æœ¬å¯ä»¥ç”¨txtæ ¼å¼è¡¨ç°ï¼Œä¹Ÿå¯ä»¥ç”¨HTMLæ ¼å¼ã€XMLæ ¼å¼ã€JSONæ ¼å¼è¡¨ç°ï¼Œç”šè‡³å¯ä»¥é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼ï¼›å›¾ç‰‡å¯ä»¥ç”¨JPGæ ¼å¼è¡¨ç°ï¼Œä¹Ÿå¯ä»¥ç”¨PNGæ ¼å¼è¡¨ç°ã€‚     </p><p>URIåªä»£è¡¨èµ„æºçš„å®ä½“ï¼Œä¸ä»£è¡¨å®ƒçš„å½¢å¼ã€‚ä¸¥æ ¼åœ°è¯´ï¼Œæœ‰äº›ç½‘å€æœ€åçš„â€.htmlâ€åç¼€åæ˜¯ä¸å¿…è¦çš„ï¼Œå› ä¸ºè¿™ä¸ªåç¼€åè¡¨ç¤ºæ ¼å¼ï¼Œå±äºâ€è¡¨ç°å±‚â€èŒƒç•´ï¼Œè€ŒURIåº”è¯¥åªä»£è¡¨â€èµ„æºâ€çš„ä½ç½®ã€‚å®ƒçš„å…·ä½“è¡¨ç°å½¢å¼ï¼Œåº”è¯¥åœ¨HTTPè¯·æ±‚çš„å¤´ä¿¡æ¯ä¸­ç”¨Acceptå’ŒContent-Typeå­—æ®µæŒ‡å®šï¼Œè¿™ä¸¤ä¸ªå­—æ®µæ‰æ˜¯å¯¹â€è¡¨ç°å±‚â€çš„æè¿°ã€‚     </p></blockquote><p>ç»¼åˆä¸Šé¢çš„è§£é‡Šï¼Œæˆ‘ä»¬æ€»ç»“ä¸€ä¸‹ä»€ä¹ˆæ˜¯RESTfulæ¶æ„ï¼š </p><p>ã€€ï¼ˆ1ï¼‰æ¯ä¸€ä¸ªURIä»£è¡¨ä¸€ç§èµ„æºï¼› </p><p>ã€€ï¼ˆ2ï¼‰å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ï¼Œä¼ é€’è¿™ç§èµ„æºçš„æŸç§è¡¨ç°å±‚ï¼› </p><p>ã€€ï¼ˆ3ï¼‰å®¢æˆ·ç«¯é€šè¿‡å››ä¸ªHTTPåŠ¨è¯ï¼Œå¯¹æœåŠ¡å™¨ç«¯èµ„æºè¿›è¡Œæ“ä½œï¼Œå®ç°â€è¡¨ç°å±‚çŠ¶æ€è½¬åŒ–â€ã€‚ </p><a id="more"></a><h3 id="äºŒã€RESTæ¥å£è§„èŒƒ"><a href="#äºŒã€RESTæ¥å£è§„èŒƒ" class="headerlink" title="äºŒã€RESTæ¥å£è§„èŒƒ"></a>äºŒã€RESTæ¥å£è§„èŒƒ</h3><h4 id="1ã€åŠ¨ä½œ"><a href="#1ã€åŠ¨ä½œ" class="headerlink" title="1ã€åŠ¨ä½œ"></a>1ã€åŠ¨ä½œ</h4><p>GET ï¼ˆSELECTï¼‰ï¼šä»æœåŠ¡å™¨æ£€ç´¢ç‰¹å®šèµ„æºï¼Œæˆ–èµ„æºåˆ—è¡¨ã€‚<br>POST ï¼ˆCREATEï¼‰ï¼šåœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„èµ„æºã€‚<br>PUT ï¼ˆUPDATEï¼‰ï¼šæ›´æ–°æœåŠ¡å™¨ä¸Šçš„èµ„æºï¼Œæä¾›æ•´ä¸ªèµ„æºã€‚<br>PATCH ï¼ˆUPDATEï¼‰ï¼šæ›´æ–°æœåŠ¡å™¨ä¸Šçš„èµ„æºï¼Œä»…æä¾›æ›´æ”¹çš„å±æ€§ã€‚<br>DELETE ï¼ˆDELETEï¼‰ï¼šä»æœåŠ¡å™¨åˆ é™¤èµ„æºã€‚ </p><p>é¦–å…ˆæ˜¯å››ä¸ªåŠç§åŠ¨ä½œï¼š<br>postã€deleteã€put/patchã€get<br>å› ä¸ºput/patchåªèƒ½ç®—ä½œä¸€ç±»ï¼Œæ‰€ä»¥å°†patchå½’ä¸ºåŠä¸ªã€‚ </p><p>å¦å¤–è¿˜æœ‰æœ‰ä¸¤ä¸ªè¾ƒå°‘çŸ¥åçš„HTTPåŠ¨è¯ï¼š<br>HEAD - æ£€ç´¢æœ‰å…³èµ„æºçš„å…ƒæ•°æ®ï¼Œä¾‹å¦‚æ•°æ®çš„å“ˆå¸Œæˆ–ä¸Šæ¬¡æ›´æ–°æ—¶é—´ã€‚<br>OPTIONS - æ£€ç´¢å…³äºå®¢æˆ·ç«¯è¢«å…è®¸å¯¹èµ„æºåšä»€ä¹ˆçš„ä¿¡æ¯ã€‚ </p><h4 id="2ã€è·¯å¾„ï¼ˆæ¥å£å‘½åï¼‰"><a href="#2ã€è·¯å¾„ï¼ˆæ¥å£å‘½åï¼‰" class="headerlink" title="2ã€è·¯å¾„ï¼ˆæ¥å£å‘½åï¼‰"></a>2ã€è·¯å¾„ï¼ˆæ¥å£å‘½åï¼‰</h4><p>è·¯å¾„åˆç§°â€ç»ˆç‚¹â€ï¼ˆendpointï¼‰ï¼Œè¡¨ç¤ºAPIçš„å…·ä½“ç½‘å€ã€‚ </p><p>åœ¨RESTfulæ¶æ„ä¸­ï¼Œæ¯ä¸ªç½‘å€ä»£è¡¨ä¸€ç§èµ„æºï¼ˆresourceï¼‰ï¼Œæ‰€ä»¥ç½‘å€ä¸­ä¸èƒ½æœ‰åŠ¨è¯ï¼Œåªèƒ½æœ‰åè¯ï¼Œè€Œä¸”æ‰€ç”¨çš„åè¯å¾€å¾€ä¸æ•°æ®åº“çš„è¡¨æ ¼åå¯¹åº”ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ•°æ®åº“ä¸­çš„è¡¨éƒ½æ˜¯åŒç§è®°å½•çš„â€é›†åˆâ€ï¼ˆcollectionï¼‰ï¼Œæ‰€ä»¥APIä¸­çš„åè¯ä¹Ÿåº”è¯¥ä½¿ç”¨å¤æ•°ã€‚ </p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œæœ‰ä¸€ä¸ªAPIæä¾›åŠ¨ç‰©å›­ï¼ˆzooï¼‰çš„ä¿¡æ¯ï¼Œè¿˜åŒ…æ‹¬å„ç§åŠ¨ç‰©å’Œé›‡å‘˜çš„ä¿¡æ¯ï¼Œåˆ™å®ƒçš„è·¯å¾„åº”è¯¥è®¾è®¡æˆä¸‹é¢è¿™æ ·ã€‚ </p><p>æ¥å£å°½é‡ä½¿ç”¨åè¯ï¼Œç¦æ­¢ä½¿ç”¨åŠ¨è¯ï¼Œä¸‹é¢æ˜¯ä¸€äº›ä¾‹å­ã€‚ </p><pre><code class="hljs properties"><span class="hljs-attr">GET</span>         <span class="hljs-string">/zoosï¼šåˆ—å‡ºæ‰€æœ‰åŠ¨ç‰©å›­</span><span class="hljs-attr">POST</span>        <span class="hljs-string">/zoosï¼šæ–°å»ºä¸€ä¸ªåŠ¨ç‰©å›­</span><span class="hljs-attr">GET</span>         <span class="hljs-string">/zoos/IDï¼šè·å–æŸä¸ªæŒ‡å®šåŠ¨ç‰©å›­çš„ä¿¡æ¯</span><span class="hljs-attr">PUT</span>         <span class="hljs-string">/zoos/IDï¼šæ›´æ–°æŸä¸ªæŒ‡å®šåŠ¨ç‰©å›­çš„ä¿¡æ¯ï¼ˆæä¾›è¯¥åŠ¨ç‰©å›­çš„å…¨éƒ¨ä¿¡æ¯ï¼‰</span><span class="hljs-attr">PATCH</span>       <span class="hljs-string">/zoos/IDï¼šæ›´æ–°æŸä¸ªæŒ‡å®šåŠ¨ç‰©å›­çš„ä¿¡æ¯ï¼ˆæä¾›è¯¥åŠ¨ç‰©å›­çš„éƒ¨åˆ†ä¿¡æ¯ï¼‰</span><span class="hljs-attr">DELETE</span>      <span class="hljs-string">/zoos/IDï¼šåˆ é™¤æŸä¸ªåŠ¨ç‰©å›­</span><span class="hljs-attr">GET</span>         <span class="hljs-string">/zoos/ID/animalsï¼šåˆ—å‡ºæŸä¸ªæŒ‡å®šåŠ¨ç‰©å›­çš„æ‰€æœ‰åŠ¨ç‰©</span><span class="hljs-attr">DELETE</span>      <span class="hljs-string">/zoos/ID/animals/IDï¼šåˆ é™¤æŸä¸ªæŒ‡å®šåŠ¨ç‰©å›­çš„æŒ‡å®šåŠ¨ç‰©</span></code></pre><p>åä¾‹ï¼š </p><pre><code class="hljs properties"><span class="hljs-attr">/getAllCars</span><span class="hljs-attr">/createNewCar</span><span class="hljs-attr">/deleteAllRedCars</span></code></pre><p>å†æ¯”å¦‚ï¼ŒæŸä¸ªURIæ˜¯/posts/show/1ï¼Œå…¶ä¸­showæ˜¯åŠ¨è¯ï¼Œè¿™ä¸ªURIå°±è®¾è®¡é”™äº†ï¼Œæ­£ç¡®çš„å†™æ³•åº”è¯¥æ˜¯/posts/1ï¼Œç„¶åç”¨GETæ–¹æ³•è¡¨ç¤ºshowã€‚ </p><p>å¦‚æœæŸäº›åŠ¨ä½œæ˜¯HTTPåŠ¨è¯è¡¨ç¤ºä¸äº†çš„ï¼Œä½ å°±åº”è¯¥æŠŠåŠ¨ä½œåšæˆä¸€ç§èµ„æºã€‚æ¯”å¦‚ç½‘ä¸Šæ±‡æ¬¾ï¼Œä»è´¦æˆ·1å‘è´¦æˆ·2æ±‡æ¬¾500å…ƒï¼Œé”™è¯¯çš„URIæ˜¯ï¼š </p><blockquote><p>ã€€ã€€POST /accounts/1/transfer/500/to/2     </p></blockquote><p>æ­£ç¡®çš„å†™æ³•æ˜¯æŠŠåŠ¨è¯transferæ”¹æˆåè¯transactionï¼Œèµ„æºä¸èƒ½æ˜¯åŠ¨è¯ï¼Œä½†æ˜¯å¯ä»¥æ˜¯ä¸€ç§æœåŠ¡ï¼š </p><blockquote><p>ã€€ã€€POST /transaction HTTP/1.1<br>ã€€ã€€Host: 127.0.0.1<br>ã€€ã€€from=1&amp;to=2&amp;amount=500.00     </p></blockquote><p>ç†æ¸…èµ„æºçš„å±‚æ¬¡ç»“æ„ï¼Œæ¯”å¦‚ä¸šåŠ¡é’ˆå¯¹çš„èŒƒå›´æ˜¯å­¦æ ¡ï¼Œé‚£ä¹ˆå­¦æ ¡ä¼šæ˜¯ä¸€çº§èµ„æº(/school)ï¼Œè€å¸ˆ(/school/teachers)ï¼Œå­¦ç”Ÿ(/school/students)å°±æ˜¯äºŒçº§èµ„æºã€‚ </p><h4 id="3ã€ç‰ˆæœ¬ï¼ˆVersioningï¼‰"><a href="#3ã€ç‰ˆæœ¬ï¼ˆVersioningï¼‰" class="headerlink" title="3ã€ç‰ˆæœ¬ï¼ˆVersioningï¼‰"></a>3ã€ç‰ˆæœ¬ï¼ˆVersioningï¼‰</h4><p>åº”è¯¥å°†APIçš„ç‰ˆæœ¬å·æ”¾å…¥URLã€‚å¦‚ï¼š </p><pre><code class="hljs properties"><span class="hljs-attr">https</span>:<span class="hljs-string">//api.example.com/v1/</span></code></pre><p>å¦ä¸€ç§åšæ³•æ˜¯ï¼Œå°†ç‰ˆæœ¬å·æ”¾åœ¨HTTPå¤´ä¿¡æ¯ä¸­ï¼Œä½†ä¸å¦‚æ”¾å…¥URLæ–¹ä¾¿å’Œç›´è§‚ã€‚Githubé‡‡ç”¨è¿™ç§åšæ³•ã€‚ </p><h4 id="4ã€è¿‡æ»¤ä¿¡æ¯ï¼ˆFilteringï¼‰"><a href="#4ã€è¿‡æ»¤ä¿¡æ¯ï¼ˆFilteringï¼‰" class="headerlink" title="4ã€è¿‡æ»¤ä¿¡æ¯ï¼ˆFilteringï¼‰"></a>4ã€è¿‡æ»¤ä¿¡æ¯ï¼ˆFilteringï¼‰</h4><p>å¦‚æœè®°å½•æ•°é‡å¾ˆå¤šï¼ŒæœåŠ¡å™¨ä¸å¯èƒ½éƒ½å°†å®ƒä»¬è¿”å›ç»™ç”¨æˆ·ã€‚APIåº”è¯¥æä¾›å‚æ•°ï¼Œè¿‡æ»¤è¿”å›ç»“æœã€‚<br>ä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„å‚æ•°ã€‚ </p><pre><code class="hljs properties"><span class="hljs-meta">?limit</span>=<span class="hljs-string">10ï¼šæŒ‡å®šè¿”å›è®°å½•çš„æ•°é‡</span><span class="hljs-meta">?offset</span>=<span class="hljs-string">10ï¼šæŒ‡å®šè¿”å›è®°å½•çš„å¼€å§‹ä½ç½®ã€‚</span><span class="hljs-meta">?page_number</span>=<span class="hljs-string">2&amp;page_size=100ï¼šæŒ‡å®šç¬¬å‡ é¡µï¼Œä»¥åŠæ¯é¡µçš„è®°å½•æ•°ã€‚</span><span class="hljs-meta">?sortby</span>=<span class="hljs-string">name&amp;order=ascï¼šæŒ‡å®šè¿”å›ç»“æœæŒ‰ç…§å“ªä¸ªå±æ€§æ’åºï¼Œä»¥åŠæ’åºé¡ºåºã€‚</span><span class="hljs-meta">?animal_type_id</span>=<span class="hljs-string">1ï¼šæŒ‡å®šç­›é€‰æ¡ä»¶</span><span class="hljs-attr">å‚æ•°çš„è®¾è®¡å…è®¸å­˜åœ¨å†—ä½™ï¼Œå³å…è®¸APIè·¯å¾„å’ŒURLå‚æ•°å¶å°”æœ‰é‡å¤ã€‚æ¯”å¦‚ï¼Œ</span><span class="hljs-attr">GET</span> <span class="hljs-string">/zoo/ID/animals ä¸ GET /animals?zoo_id=ID çš„å«ä¹‰æ˜¯ç›¸åŒçš„ã€‚</span></code></pre><h4 id="5ã€çŠ¶æ€ç ï¼ˆStatus-Codesï¼‰"><a href="#5ã€çŠ¶æ€ç ï¼ˆStatus-Codesï¼‰" class="headerlink" title="5ã€çŠ¶æ€ç ï¼ˆStatus Codesï¼‰"></a>5ã€çŠ¶æ€ç ï¼ˆStatus Codesï¼‰</h4><p>çŠ¶æ€ç èŒƒå›´ </p><pre><code class="hljs properties"><span class="hljs-attr">1xx</span> <span class="hljs-string">ä¿¡æ¯ï¼Œè¯·æ±‚æ”¶åˆ°ï¼Œç»§ç»­å¤„ç†ã€‚èŒƒå›´ä¿ç•™ç”¨äºåº•å±‚HTTPçš„ä¸œè¥¿ï¼Œä½ å¾ˆå¯èƒ½æ°¸è¿œä¹Ÿç”¨ä¸åˆ°ã€‚</span><span class="hljs-attr">2xx</span> <span class="hljs-string">æˆåŠŸï¼Œè¡Œä¸ºè¢«æˆåŠŸåœ°æ¥å—ã€ç†è§£å’Œé‡‡çº³</span><span class="hljs-attr">3xx</span> <span class="hljs-string">é‡å®šå‘ï¼Œä¸ºäº†å®Œæˆè¯·æ±‚ï¼Œå¿…é¡»è¿›ä¸€æ­¥æ‰§è¡Œçš„åŠ¨ä½œ</span><span class="hljs-attr">4xx</span> <span class="hljs-string">å®¢æˆ·ç«¯é”™è¯¯ï¼Œè¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–è€…è¯·æ±‚æ— æ³•å®ç°ã€‚èŒƒå›´ä¿ç•™ç”¨äºå“åº”å®¢æˆ·ç«¯åšå‡ºçš„é”™è¯¯ï¼Œä¾‹å¦‚ã€‚ä»–ä»¬æä¾›ä¸è‰¯æ•°æ®æˆ–è¦æ±‚ä¸å­˜åœ¨çš„ä¸œè¥¿ã€‚è¿™äº›è¯·æ±‚åº”è¯¥æ˜¯å¹‚ç­‰çš„ï¼Œè€Œä¸æ˜¯æ›´æ”¹æœåŠ¡å™¨çš„çŠ¶æ€ã€‚</span><span class="hljs-attr">5xx</span> <span class="hljs-string">èŒƒå›´çš„çŠ¶æ€ç æ˜¯ä¿ç•™ç»™æœåŠ¡å™¨ç«¯é”™è¯¯ç”¨çš„ã€‚è¿™äº›é”™è¯¯å¸¸å¸¸æ˜¯ä»åº•å±‚çš„å‡½æ•°æŠ›å‡ºæ¥çš„ï¼Œç”šè‡³</span><span class="hljs-attr">å¼€å‘äººå‘˜ä¹Ÿé€šå¸¸æ²¡æ³•å¤„ç†ï¼Œå‘é€è¿™ç±»çŠ¶æ€ç çš„ç›®çš„ä»¥ç¡®ä¿å®¢æˆ·ç«¯è·å¾—æŸç§å“åº”ã€‚</span><span class="hljs-attr">å½“æ”¶åˆ°5xxå“åº”æ—¶ï¼Œå®¢æˆ·ç«¯ä¸å¯èƒ½çŸ¥é“æœåŠ¡å™¨çš„çŠ¶æ€ï¼Œæ‰€ä»¥è¿™ç±»çŠ¶æ€ç æ˜¯è¦å°½å¯èƒ½çš„é¿å…ã€‚</span></code></pre><p>æœåŠ¡å™¨å‘ç”¨æˆ·è¿”å›çš„çŠ¶æ€ç å’Œæç¤ºä¿¡æ¯ï¼Œå¸¸è§çš„æœ‰ä»¥ä¸‹ä¸€äº›ï¼ˆæ–¹æ‹¬å·ä¸­æ˜¯è¯¥çŠ¶æ€ç å¯¹åº”çš„HTTPåŠ¨è¯ï¼‰ã€‚ </p><pre><code class="hljs properties"><span class="hljs-attr">200</span> <span class="hljs-string">OK - [GET]ï¼šæœåŠ¡å™¨æˆåŠŸè¿”å›ç”¨æˆ·è¯·æ±‚çš„æ•°æ®ï¼Œè¯¥æ“ä½œæ˜¯å¹‚ç­‰çš„ï¼ˆIdempotentï¼‰ã€‚</span><span class="hljs-attr">201</span> <span class="hljs-string">CREATED - [POST/PUT/PATCH]ï¼šç”¨æˆ·æ–°å»ºæˆ–ä¿®æ”¹æ•°æ®æˆåŠŸã€‚</span><span class="hljs-attr">202</span> <span class="hljs-string">Accepted - [*]ï¼šè¡¨ç¤ºä¸€ä¸ªè¯·æ±‚å·²ç»è¿›å…¥åå°æ’é˜Ÿï¼ˆå¼‚æ­¥ä»»åŠ¡ï¼‰</span><span class="hljs-attr">204</span> <span class="hljs-string">NO CONTENT - [DELETE]ï¼šç”¨æˆ·åˆ é™¤æ•°æ®æˆåŠŸã€‚</span><span class="hljs-attr">400</span> <span class="hljs-string">INVALID REQUEST - [POST/PUT/PATCH]ï¼šç”¨æˆ·å‘å‡ºçš„è¯·æ±‚æœ‰é”™è¯¯ï¼ŒæœåŠ¡å™¨æ²¡æœ‰è¿›è¡Œæ–°å»ºæˆ–ä¿®æ”¹æ•°æ®çš„æ“ä½œï¼Œè¯¥æ“ä½œæ˜¯å¹‚ç­‰çš„ã€‚</span><span class="hljs-attr">401</span> <span class="hljs-string">Unauthorized - [*]ï¼šè¡¨ç¤ºç”¨æˆ·æ²¡æœ‰æƒé™ï¼ˆä»¤ç‰Œã€ç”¨æˆ·åã€å¯†ç é”™è¯¯ï¼‰ã€‚</span><span class="hljs-attr">403</span> <span class="hljs-string">Forbidden - [*] è¡¨ç¤ºç”¨æˆ·å¾—åˆ°æˆæƒï¼ˆä¸401é”™è¯¯ç›¸å¯¹ï¼‰ï¼Œä½†æ˜¯è®¿é—®æ˜¯è¢«ç¦æ­¢çš„ã€‚</span><span class="hljs-attr">404</span> <span class="hljs-string">NOT FOUND - [*]ï¼šç”¨æˆ·å‘å‡ºçš„è¯·æ±‚é’ˆå¯¹çš„æ˜¯ä¸å­˜åœ¨çš„è®°å½•ï¼ŒæœåŠ¡å™¨æ²¡æœ‰è¿›è¡Œæ“ä½œï¼Œè¯¥æ“ä½œæ˜¯å¹‚ç­‰çš„ã€‚</span><span class="hljs-attr">406</span> <span class="hljs-string">Not Acceptable - [GET]ï¼šç”¨æˆ·è¯·æ±‚çš„æ ¼å¼ä¸å¯å¾—ï¼ˆæ¯”å¦‚ç”¨æˆ·è¯·æ±‚JSONæ ¼å¼ï¼Œä½†æ˜¯åªæœ‰XMLæ ¼å¼ï¼‰ã€‚</span><span class="hljs-attr">410</span> <span class="hljs-string">Gone -[GET]ï¼šç”¨æˆ·è¯·æ±‚çš„èµ„æºè¢«æ°¸ä¹…åˆ é™¤ï¼Œä¸”ä¸ä¼šå†å¾—åˆ°çš„ã€‚</span><span class="hljs-attr">422</span> <span class="hljs-string">Unprocesable entity - [POST/PUT/PATCH] å½“åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå‘ç”Ÿä¸€ä¸ªéªŒè¯é”™è¯¯ã€‚</span><span class="hljs-attr">500</span> <span class="hljs-string">INTERNAL SERVER ERROR - [*]ï¼šæœåŠ¡å™¨å‘ç”Ÿé”™è¯¯ï¼Œç”¨æˆ·å°†æ— æ³•åˆ¤æ–­å‘å‡ºçš„è¯·æ±‚æ˜¯å¦æˆåŠŸã€‚</span><span class="hljs-attr">502</span> <span class="hljs-string">ç½‘å…³é”™è¯¯</span><span class="hljs-attr">503</span> <span class="hljs-string">Service Unavailable</span><span class="hljs-attr">504</span> <span class="hljs-string">ç½‘å…³è¶…æ—¶</span></code></pre><p>å‚è€ƒèµ„æ–™ï¼š </p><p>RESTful API è®¾è®¡æŒ‡å—â€“é˜®ä¸€å³°ï¼š<a href="http://www.ruanyifeng.com/blog/2014/05/restful_api.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2014/05/restful_api.html</a> </p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Restful</category>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>Restful</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Stringæ‹¼æ¥æ“ä½œâ€+â€çš„ä¼˜åŒ–</title>
    <link href="/2019/06/12/String%E6%8B%BC%E6%8E%A5%E6%93%8D%E4%BD%9C%E2%80%9D-%E2%80%9D%E7%9A%84%E4%BC%98%E5%8C%96/"/>
    <url>/2019/06/12/String%E6%8B%BC%E6%8E%A5%E6%93%8D%E4%BD%9C%E2%80%9D-%E2%80%9D%E7%9A%84%E4%BC%98%E5%8C%96/</url>
    
    <content type="html"><![CDATA[<p>å¾ˆå¤šè®²Javaä¼˜åŒ–çš„æ–‡ç« éƒ½ä¼šå¼ºè°ƒå¯¹Stringæ‹¼æ¥çš„ä¼˜åŒ–ã€‚å€’ä¸ç”¨ç‰¹æ„è®°ï¼Œæœ¬è´¨ä¸Šåœ¨äºå¯¹ä¸å¯å˜ç±»ä¼˜åŠ¿å’ŒåŠ£åŠ¿çš„ç†è§£ä¸Šã€‚ </p><p>éœ€è¦å…³æ³¨çš„æ˜¯ç¼–è¯‘å™¨å¯¹Stringæ‹¼æ¥åšå‡ºçš„ä¼˜åŒ–ï¼Œåœ¨ç®€å•åœºæ™¯ä¸‹çš„æ€§èƒ½èƒ½å¤Ÿä¸StringBuilderç›¸å½“ï¼Œå¤æ‚åœºæ™¯ä¸‹ä»ç„¶æœ‰è¾ƒå¤§çš„æ€§èƒ½é—®é¢˜ã€‚ç½‘ä¸Šå…³äºè¿™ä¸€é—®é¢˜è®²çš„éå¸¸ä¹±ï¼›å¦‚æœæˆ‘è®²çš„æœ‰ä»€ä¹ˆçº°æ¼ï¼Œä¹Ÿæ¬¢è¿æŒ‡æ­£ã€‚ </p><blockquote><p>æœ¬æ–‡ç”¨åˆ°äº†åç¼–è¯‘å·¥å…·jadã€‚åœ¨æŸ¥é˜…ç½‘ä¸Šå…³äºStringæ‹¼æ¥æ“ä½œçš„ä¼˜åŒ–æ—¶å‘ç°äº†è¿™ä¸ªå·¥å…·ï¼Œèƒ½åŒæ—¶åç¼–è¯‘å‡ºæ¥æºç å’Œå­—èŠ‚ç ï¼Œäº²æµ‹å¥½ç”¨ï¼Œ<a href="https://link.juejin.im/?target=https%3A%2F%2Fvaraneckas.com%2Fjad%2F">ç‚¹æˆ‘ä¸‹è½½</a>ã€‚     </p></blockquote><a id="more"></a><h1 id="Stringæ‹¼æ¥çš„æ€§èƒ½é—®é¢˜"><a href="#Stringæ‹¼æ¥çš„æ€§èƒ½é—®é¢˜" class="headerlink" title="Stringæ‹¼æ¥çš„æ€§èƒ½é—®é¢˜"></a>Stringæ‹¼æ¥çš„æ€§èƒ½é—®é¢˜</h1><p>ä¼˜åŒ–ä¹‹å‰ï¼Œæ¯æ¬¡ç”¨â€+â€æ‹¼æ¥ï¼Œéƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„Stringã€‚ç‰¹åˆ«åœ¨å¾ªç¯æ‹¼æ¥å­—ç¬¦ä¸²çš„åœºæ™¯ä¸‹ï¼Œæ€§èƒ½æŸå¤±æ˜¯æå…¶ä¸¥é‡çš„ï¼š </p><ol><li>ç©ºé—´æµªè´¹ï¼šæ¯æ¬¡æ‹¼æ¥çš„ç»“æœéƒ½éœ€è¦åˆ›å»ºæ–°çš„ä¸å¯å˜ç±»     </li><li>æ—¶é—´æµªè´¹ï¼šåˆ›å»ºçš„æ–°ä¸å¯å˜ç±»éœ€è¦åˆå§‹åŒ–ï¼›äº§ç”Ÿå¤§é‡â€œçŸ­å‘½â€åƒåœ¾ï¼Œå½±å“ young gcç”šè‡³full gc     </li></ol><h1 id="æ‰€è°“ç®€å•åœºæ™¯"><a href="#æ‰€è°“ç®€å•åœºæ™¯" class="headerlink" title="æ‰€è°“ç®€å•åœºæ™¯"></a>æ‰€è°“ç®€å•åœºæ™¯</h1><blockquote><p>ç®€å•åœºæ™¯å’Œå¤æ‚åœºæ™¯æ˜¯æˆ‘ä¹±èµ·çš„åå­—ï¼Œå¸®åŠ©ç†è§£ç¼–è¯‘å™¨çš„ä¼˜åŒ–æ–¹æ¡ˆã€‚     </p></blockquote><p>ç®€å•åœºæ™¯å¯ç†è§£ä¸ºåœ¨ä¸€å¥ä¸­å®Œæˆæ‹¼æ¥ï¼š </p><pre><code class="hljs java"><span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;String sentence = â€œHelloâ€ + â€œworldâ€ + String.valueOf(i) + â€œ\nâ€;System.out.println(sentence);</code></pre><p>åˆ©ç”¨jadå¯çœ‹åˆ°ä¼˜åŒ–ç»“æœï¼š </p><pre><code class="hljs java"><span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;String sentence = (<span class="hljs-keyword">new</span> StringBuilder()).append(â€œHelloâ€).append(â€œworldâ€).append(String.valueOf(i)).append(â€œ\nâ€).toString();System.out.println(sentence);</code></pre><p>æ˜¯ä¸æ˜¯å¾ˆç¥å¥‡ï¼Œç«Ÿç„¶æŠŠStringçš„æ‹¼æ¥æ“ä½œä¼˜åŒ–æˆäº†StringBuilder#append()ï¼ </p><p>æ­¤æ—¶ï¼Œå¯ä»¥è®¤ä¸ºå·²ç»å°†ç®€å•åœºæ™¯çš„ç©ºé—´æ€§èƒ½ã€æ—¶é—´æ€§èƒ½ä¼˜åŒ–åˆ°æœ€ä¼˜ï¼ˆä»…é’ˆå¯¹Stringæ‹¼æ¥æ“ä½œè€Œè¨€ï¼‰ï¼Œçœ‹èµ·æ¥ç¼–è¯‘å™¨å·²ç»å®Œæˆäº†å¿…è¦çš„ä¼˜åŒ–ã€‚ä½ å¯ä»¥æµ‹è¯•ä¸€ä¸‹ï¼Œç®€å•åœºæ™¯ä¸‹çš„æ€§èƒ½èƒ½å¤Ÿä¸StringBuilderç›¸å½“ã€‚ä½†æ˜¯â€”â€”â€œä½†æ˜¯â€ä»¥å‰çš„éƒ½æ˜¯åºŸè¯â€”â€”ç¼–è¯‘å™¨çš„ä¼˜åŒ–å¯¹äºå¤æ‚åœºæ™¯çš„å¸®åŠ©å´å¾ˆæœ‰é™äº†ã€‚ </p><h1 id="æ‰€è°“å¤æ‚åœºæ™¯"><a href="#æ‰€è°“å¤æ‚åœºæ™¯" class="headerlink" title="æ‰€è°“å¤æ‚åœºæ™¯"></a>æ‰€è°“å¤æ‚åœºæ™¯</h1><p>æ‰€è°“å¤æ‚åœºæ™¯ï¼Œå¯ç†è§£ä¸ºâ€œç¼–è¯‘å™¨ä¸ç¡®å®šï¼ˆæˆ–å¾ˆéš¾ç¡®å®šï¼Œäºæ˜¯ä¸åšåˆ†æï¼‰è¦è¿›è¡Œå¤šå°‘æ¬¡å­—ç¬¦ä¸²æ‹¼æ¥åæ‰éœ€è¦è½¬æ¢å›Stringâ€ã€‚å¯èƒ½è¡¨è¿°ä¸å‡†ç¡®ï¼Œç†è§£ä¸ªå¤§æ¦‚å°±å¥½ã€‚ </p><p>æˆ‘ä»¬åˆ†æä¸€ä¸ªæœ€ç®€å•çš„å¤æ‚åœºæ™¯ï¼š </p><pre><code class="hljs java">String sentence = â€œâ€;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000000</span>; i++) &#123;  sentence += â€œHelloâ€ + â€œworldâ€ + String.valueOf(i) + â€œ\nâ€;&#125;System.out.println(sentence);</code></pre><h2 id="ç†æƒ³çš„ä¼˜åŒ–æ–¹æ¡ˆ"><a href="#ç†æƒ³çš„ä¼˜åŒ–æ–¹æ¡ˆ" class="headerlink" title="ç†æƒ³çš„ä¼˜åŒ–æ–¹æ¡ˆ"></a>ç†æƒ³çš„ä¼˜åŒ–æ–¹æ¡ˆ</h2><p>å½“ç„¶ï¼Œæ— è®ºä»€ä¹ˆåœºæ™¯ï¼Œç¨‹åºçŒ¿éƒ½å¯ä»¥æ‰‹åŠ¨ä¼˜åŒ–ï¼š </p><ul><li>åœ¨æ€§èƒ½æ•æ„Ÿçš„åœºæ™¯ä½¿ç”¨StringBuilderå®Œæˆæ‹¼æ¥ã€‚     </li><li>åœ¨æ€§èƒ½ä¸æ•æ„Ÿçš„åœºæ™¯ä½¿ç”¨æ›´æ–¹ä¾¿çš„Stringã€‚     </li></ul><blockquote><p>PSï¼šåˆ«åæ§½ï¼Œè¿™æ ·çš„APIè®¾è®¡æ˜¯åˆç†çš„ï¼Œ<strong>åœ¨åˆé€‚çš„åœ°æ–¹åšåˆé€‚çš„äº‹</strong>ã€‚     </p></blockquote><p>ç†æƒ³ç›®æ ‡æ˜¯æŠŠè¿™ä»¶äº‹äº¤ç»™javacå’ŒJITï¼š </p><ul><li>è®¾å®šä¸€ä¸ªæ‹¼æ¥æ¬¡æ•°çš„é˜ˆå€¼ï¼Œè¶…è¿‡é˜ˆå€¼å°±å¯åŠ¨ä¼˜åŒ–ï¼ˆå¯¹äºjavacæœ‰ä¸€ä¸ªç¼–è¯‘æœŸçš„é˜ˆå€¼ï¼ŒJITæœ‰ä¸€ä¸ªè¿è¡ŒæœŸçš„é˜ˆå€¼ï¼Œä»¥åˆ†é˜¶æ®µä¼˜åŒ–ï¼‰ã€‚     </li><li>ä¼˜åŒ–æ—¶ï¼Œåœ¨æ‹¼æ¥å‰ç”ŸæˆStringBuilderå¯¹è±¡ï¼Œå°†æ‹¼æ¥æ“ä½œæ¢æˆStringBuilder#append()ï¼Œç»§ç»­ä½¿ç”¨è¯¥å¯¹è±¡ï¼Œç›´è‡³â€œéœ€è¦â€Stringå¯¹è±¡æ—¶ï¼Œä½¿ç”¨StringBuilder#toString()â€œæ‡’åŠ è½½â€æ–°çš„Stringå¯¹è±¡ã€‚     </li></ul><p>è¯¥ä¼˜åŒ–æ–¹æ¡ˆçš„éš¾åº¦åœ¨äºä»£ç åˆ†æï¼šæœºå™¨å¾ˆéš¾çŸ¥é“åˆ°åº•ä½•æ—¶â€œéœ€è¦â€Stringå¯¹è±¡ï¼Œæ‰€ä»¥ä¹Ÿå¾ˆéš¾åœ¨åˆé€‚çš„ä½ç½®æ³¨å…¥ä»£ç å®Œæˆâ€œæ‡’åŠ è½½â€ã€‚ </p><p>è™½ç„¶å¾ˆéš¾å®ç°ï¼Œä½†è¿˜æ˜¯ç»™å‡ºç†æƒ³çš„ä¼˜åŒ–ç»“æœï¼Œä»¥ä¾›å®é™…æ–¹æ¡ˆå¯¹æ¯”ï¼š </p><pre><code class="hljs java">String sentence = â€œâ€;StringBuilder sentenceSB = <span class="hljs-keyword">new</span> StringBuilder(sentence);<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000000</span>; i++) &#123;  sentenceSB.append(â€œHelloâ€).append(â€œworldâ€).append(String.valueOf(i)).append(â€œ\nâ€);&#125;sentence = sentenceSB.toString();System.out.println(sentence);</code></pre><h2 id="å®é™…çš„ä¼˜åŒ–æ–¹æ¡ˆ"><a href="#å®é™…çš„ä¼˜åŒ–æ–¹æ¡ˆ" class="headerlink" title="å®é™…çš„ä¼˜åŒ–æ–¹æ¡ˆ"></a>å®é™…çš„ä¼˜åŒ–æ–¹æ¡ˆ</h2><p>åˆ©ç”¨jadæŸ¥çœ‹å®é™…çš„ä¼˜åŒ–ç»“æœï¼š </p><pre><code class="hljs java">String sentence = â€œâ€;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000000</span>; i++) &#123;  sentence = (<span class="hljs-keyword">new</span> StringBuilder()).append(sentence).append(â€œHelloâ€).append(â€œworldâ€).append(String.valueOf(i)).append(â€œ\nâ€).toString();&#125;System.out.println(sentence);</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œå®é™…ä¸Šç¼–è¯‘å™¨çš„ä¼˜åŒ–åªèƒ½è¾¾åˆ°ç®€å•åœºæ™¯çš„æœ€ä¼˜ï¼šä»…ä¼˜åŒ–å­—ç¬¦ä¸²æ‹¼æ¥çš„ä¸€å¥ã€‚è¿™ç§ä¼˜åŒ–ç¨‹åº¦ï¼Œå¯¹äºä¸Šè¿°å¤æ‚åœºæ™¯çš„æ€§èƒ½æå‡å¾ˆæœ‰é™ï¼Œå¾ªç¯æ—¶è¿˜æ˜¯ä¼šç”Ÿæˆå¤§é‡çŸ­å‘½åƒåœ¾ï¼Œç‰¹åˆ«æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥åˆ°å¾ˆå¤§çš„æ—¶å€™ï¼Œç©ºé—´å’Œæ—¶é—´ä¸Šéƒ½æ˜¯è‡´å‘½çš„ã€‚ </p><p>é€šè¿‡å¯¹ç†æƒ³æ–¹æ¡ˆçš„åˆ†æï¼Œæˆ‘ä»¬ä¹Ÿèƒ½ç†è§£ç¼–è¯‘å™¨ä¼˜åŒ–çš„æ— å¥ˆä¹‹å¤„ï¼šç¼–è¯‘å™¨æ— æ³•ï¼ˆæˆ–å¾ˆéš¾ï¼‰é€šè¿‡ä»£ç åˆ†æåˆ¤æ–­ä½•æ—¶æ˜¯æœ€æ™šè¿›è¡Œæ‡’åŠ è½½çš„æ—¶æœºã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬å°†ä»£ç æ¢ä¸ªå½¢å¼å¯èƒ½æ›´å®¹æ˜“ç†è§£ï¼š </p><pre><code class="hljs java">String sentence = â€œâ€;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000000</span>; i++) &#123;  sentence = sentence + â€œHelloâ€ + â€œworldâ€ + String.valueOf(i) + â€œ\nâ€;&#125;System.out.println(sentence);</code></pre><p>è§‚å¯Ÿç¬¬3è¡Œçš„ä»£ç ï¼Œç­‰å¼å³ä¾§å¼•ç”¨äº†sentenceã€‚æˆ‘è‚‰çœ¼çŸ¥é“è¿™å¥è¯åªå®Œæˆäº†å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œæœºå™¨å‘¢ï¼Ÿæœ€èµ·ç ï¼Œç°åœ¨çš„æœºå™¨è¿˜å¾ˆéš¾é€šè¿‡ä»£ç åˆ¤æ–­ã€‚ </p><blockquote><p>å¾…ä»¥åå°†äººå·¥æ™ºèƒ½ä¸ç¼–è¯‘ä¼˜åŒ–ç»“åˆèµ·æ¥ï¼Œå°±ç®—åªèƒ½ä»¥90%çš„æ¦‚ç‡å®Œæˆä¼˜åŒ–ï¼Œä¹Ÿæ˜¯éå¸¸coolçš„ã€‚     </p></blockquote><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™ä¸ªé—®é¢˜æˆ‘æ²¡æœ‰åšæ€§èƒ½æµ‹è¯•ã€‚å…¶å®ä¹Ÿæ²¡å¿…è¦è¿‡äºæ·±ç©¶ï¼Œä¸å…¶è®©ç¼–è¯‘å™¨ä»¥éšæ™¦çš„æ–¹å¼å®Œæˆä¼˜åŒ–ï¼Œä¸å¦‚ç”¨ä»£ç è¿›è¡Œä¸»åŠ¨ã€æ¸…æ™°çš„ä¼˜åŒ–ï¼Œè®©ä»£ç èƒ½å¤Ÿâ€œè‡ªè§£é‡Šâ€ã€‚ </p><p>é‚£ä¹ˆï¼Œå¦‚æœéœ€è¦ä¼˜åŒ–ï¼Œä½¿ç”¨StringBuilderå§ã€‚ </p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>String</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>String</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä½¿ç”¨BigDecimalè¿›è¡Œç²¾ç¡®è¿ç®—</title>
    <link href="/2019/06/12/%E4%BD%BF%E7%94%A8BigDecimal%E8%BF%9B%E8%A1%8C%E7%B2%BE%E7%A1%AE%E8%BF%90%E7%AE%97/"/>
    <url>/2019/06/12/%E4%BD%BF%E7%94%A8BigDecimal%E8%BF%9B%E8%A1%8C%E7%B2%BE%E7%A1%AE%E8%BF%90%E7%AE%97/</url>
    
    <content type="html"><![CDATA[<p>é¦–å…ˆæˆ‘ä»¬å…ˆæ¥çœ‹å¦‚ä¸‹ä»£ç ç¤ºä¾‹ï¼š </p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test_1</span> </span>&#123;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;        System.out.println(<span class="hljs-number">0.06</span>+<span class="hljs-number">0.01</span>);        System.out.println(<span class="hljs-number">1.0</span>-<span class="hljs-number">0.42</span>);        System.out.println(<span class="hljs-number">4.015</span>*<span class="hljs-number">100</span>);        System.out.println(<span class="hljs-number">303.1</span>/<span class="hljs-number">1000</span>);    &#125;    &#125;</code></pre><p>è¿è¡Œç»“æœå¦‚ä¸‹ã€‚         </p><p>â€‹         0.06999999999999999         </p><p>â€‹         0.5800000000000001         </p><p>â€‹         401.49999999999994         </p><p>â€‹         0.30310000000000004         </p><p>â€‹         ä½ è®¤ä¸ºä½ çœ‹é”™äº†ï¼Œä½†ç»“æœå´æ˜¯æ˜¯è¿™æ ·çš„ã€‚é—®é¢˜åœ¨å“ªé‡Œå‘¢ï¼ŸåŸå› åœ¨äºæˆ‘ä»¬çš„è®¡ç®—æœºæ˜¯äºŒè¿›åˆ¶çš„ã€‚æµ®ç‚¹æ•°æ²¡æœ‰åŠæ³•æ˜¯ç”¨äºŒè¿›åˆ¶è¿›è¡Œç²¾ç¡®è¡¨ç¤ºã€‚æˆ‘ä»¬çš„CPUè¡¨ç¤ºæµ®ç‚¹æ•°ç”±ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆï¼šæŒ‡æ•°å’Œå°¾æ•°ï¼Œè¿™æ ·çš„è¡¨ç¤ºæ–¹æ³•ä¸€èˆ¬éƒ½ä¼šå¤±å»ä¸€å®šçš„ç²¾ç¡®åº¦ï¼Œæœ‰äº›æµ®ç‚¹æ•°è¿ç®—ä¹Ÿä¼šäº§ç”Ÿä¸€å®šçš„è¯¯å·®ã€‚å¦‚ï¼š2.4çš„äºŒè¿›åˆ¶è¡¨ç¤ºå¹¶éå°±æ˜¯ç²¾ç¡®çš„2.4ã€‚åè€Œæœ€ä¸ºæ¥è¿‘çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ˜¯ 2.3999999999999999ã€‚æµ®ç‚¹æ•°çš„å€¼å®é™…ä¸Šæ˜¯ç”±ä¸€ä¸ªç‰¹å®šçš„æ•°å­¦å…¬å¼è®¡ç®—å¾—åˆ°çš„ã€‚         </p><a id="more"></a><p>â€‹          å…¶å®javaçš„floatåªèƒ½ç”¨æ¥è¿›è¡Œç§‘å­¦è®¡ç®—æˆ–å·¥ç¨‹è®¡ç®—ï¼Œåœ¨å¤§å¤šæ•°çš„å•†ä¸šè®¡ç®—ä¸­ï¼Œä¸€èˆ¬é‡‡ç”¨java.math.BigDecimalç±»æ¥è¿›è¡Œç²¾ç¡®è®¡ç®—ã€‚         </p><p>â€‹          åœ¨ä½¿ç”¨BigDecimalç±»æ¥è¿›è¡Œè®¡ç®—çš„æ—¶å€™ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹æ­¥éª¤ï¼š         </p><p>â€‹             1ã€ç”¨floatæˆ–è€…doubleå˜é‡æ„å»ºBigDecimalå¯¹è±¡ã€‚         </p><p>â€‹             2ã€é€šè¿‡è°ƒç”¨BigDecimalçš„åŠ ï¼Œå‡ï¼Œä¹˜ï¼Œé™¤ç­‰ç›¸åº”çš„æ–¹æ³•è¿›è¡Œç®—æœ¯è¿ç®—ã€‚         </p><p>â€‹             3ã€æŠŠBigDecimalå¯¹è±¡è½¬æ¢æˆfloatï¼Œdoubleï¼Œintç­‰ç±»å‹ã€‚         </p><p>â€‹          ä¸€èˆ¬æ¥è¯´ï¼Œå¯ä»¥ä½¿ç”¨BigDecimalçš„æ„é€ æ–¹æ³•æˆ–è€…é™æ€æ–¹æ³•çš„valueOf()æ–¹æ³•æŠŠåŸºæœ¬ç±»å‹çš„å˜é‡æ„å»ºæˆBigDecimalå¯¹è±¡ã€‚         </p><pre><code class="hljs java">BigDecimal b1 = <span class="hljs-keyword">new</span> BigDecimal(Double.toString(<span class="hljs-number">0.48</span>));BigDecimal b2 = BigDecimal.valueOf(<span class="hljs-number">0.48</span>);</code></pre><p>   å¯¹äºå¸¸ç”¨çš„åŠ ï¼Œå‡ï¼Œä¹˜ï¼Œé™¤ï¼ŒBigDecimalç±»æä¾›äº†ç›¸åº”çš„æˆå‘˜æ–¹æ³•ã€‚         </p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> BigDecimal <span class="hljs-title">add</span><span class="hljs-params">(BigDecimal value)</span></span>;                        <span class="hljs-comment">//åŠ æ³•</span><span class="hljs-function"><span class="hljs-keyword">public</span> BigDecimal <span class="hljs-title">subtract</span><span class="hljs-params">(BigDecimal value)</span></span>;                   <span class="hljs-comment">//å‡æ³• </span><span class="hljs-function"><span class="hljs-keyword">public</span> BigDecimal <span class="hljs-title">multiply</span><span class="hljs-params">(BigDecimal value)</span></span>;                   <span class="hljs-comment">//ä¹˜æ³•</span><span class="hljs-function"><span class="hljs-keyword">public</span> BigDecimal <span class="hljs-title">divide</span><span class="hljs-params">(BigDecimal value)</span></span>;                     <span class="hljs-comment">//é™¤æ³•</span></code></pre><p> è¿›è¡Œç›¸åº”çš„è®¡ç®—åï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦å°†BigDecimalå¯¹è±¡è½¬æ¢æˆç›¸åº”çš„åŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨floatValue()ï¼ŒdoubleValue()ç­‰æ–¹æ³•ã€‚                 </p><p>â€‹          ä¸‹é¢æ˜¯ä¸€ä¸ªå·¥å…·ç±»ï¼Œè¯¥å·¥å…·ç±»æä¾›åŠ ï¼Œå‡ï¼Œä¹˜ï¼Œé™¤è¿ç®—ã€‚ </p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Arith</span> </span>&#123;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * æä¾›ç²¾ç¡®åŠ æ³•è®¡ç®—çš„addæ–¹æ³•</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> value1 è¢«åŠ æ•°</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> value2 åŠ æ•°</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> ä¸¤ä¸ªå‚æ•°çš„å’Œ</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">double</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">double</span> value1,<span class="hljs-keyword">double</span> value2)</span></span>&#123;        BigDecimal b1 = <span class="hljs-keyword">new</span> BigDecimal(Double.valueOf(value1));        BigDecimal b2 = <span class="hljs-keyword">new</span> BigDecimal(Double.valueOf(value2));        <span class="hljs-keyword">return</span> b1.add(b2).doubleValue();    &#125;        <span class="hljs-comment">/**</span><span class="hljs-comment">     * æä¾›ç²¾ç¡®å‡æ³•è¿ç®—çš„subæ–¹æ³•</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> value1 è¢«å‡æ•°</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> value2 å‡æ•°</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> ä¸¤ä¸ªå‚æ•°çš„å·®</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">double</span> <span class="hljs-title">sub</span><span class="hljs-params">(<span class="hljs-keyword">double</span> value1,<span class="hljs-keyword">double</span> value2)</span></span>&#123;        BigDecimal b1 = <span class="hljs-keyword">new</span> BigDecimal(Double.valueOf(value1));        BigDecimal b2 = <span class="hljs-keyword">new</span> BigDecimal(Double.valueOf(value2));        <span class="hljs-keyword">return</span> b1.subtract(b2).doubleValue();    &#125;        <span class="hljs-comment">/**</span><span class="hljs-comment">     * æä¾›ç²¾ç¡®ä¹˜æ³•è¿ç®—çš„mulæ–¹æ³•</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> value1 è¢«ä¹˜æ•°</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> value2 ä¹˜æ•°</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> ä¸¤ä¸ªå‚æ•°çš„ç§¯</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">double</span> <span class="hljs-title">mul</span><span class="hljs-params">(<span class="hljs-keyword">double</span> value1,<span class="hljs-keyword">double</span> value2)</span></span>&#123;        BigDecimal b1 = <span class="hljs-keyword">new</span> BigDecimal(Double.valueOf(value1));        BigDecimal b2 = <span class="hljs-keyword">new</span> BigDecimal(Double.valueOf(value2));        <span class="hljs-keyword">return</span> b1.multiply(b2).doubleValue();    &#125;        <span class="hljs-comment">/**</span><span class="hljs-comment">     * æä¾›ç²¾ç¡®çš„é™¤æ³•è¿ç®—æ–¹æ³•div</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> value1 è¢«é™¤æ•°</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> value2 é™¤æ•°</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> scale ç²¾ç¡®èŒƒå›´</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> ä¸¤ä¸ªå‚æ•°çš„å•†</span><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> IllegalAccessException</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">double</span> <span class="hljs-title">div</span><span class="hljs-params">(<span class="hljs-keyword">double</span> value1,<span class="hljs-keyword">double</span> value2,<span class="hljs-keyword">int</span> scale)</span> <span class="hljs-keyword">throws</span> IllegalAccessException</span>&#123;        <span class="hljs-comment">//å¦‚æœç²¾ç¡®èŒƒå›´å°äº0ï¼ŒæŠ›å‡ºå¼‚å¸¸ä¿¡æ¯</span>        <span class="hljs-keyword">if</span>(scale&lt;<span class="hljs-number">0</span>)&#123;                     <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalAccessException(<span class="hljs-string">"ç²¾ç¡®åº¦ä¸èƒ½å°äº0"</span>);        &#125;        BigDecimal b1 = <span class="hljs-keyword">new</span> BigDecimal(Double.valueOf(value1));        BigDecimal b2 = <span class="hljs-keyword">new</span> BigDecimal(Double.valueOf(value2));        <span class="hljs-keyword">return</span> b1.divide(b2, scale).doubleValue();        &#125;&#125;</code></pre>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Javaå¼€å‘äººå‘˜æœ€å¸¸çŠ¯çš„10ä¸ªé”™è¯¯</title>
    <link href="/2019/06/12/Java%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98%E6%9C%80%E5%B8%B8%E7%8A%AF%E7%9A%8410%E4%B8%AA%E9%94%99%E8%AF%AF/"/>
    <url>/2019/06/12/Java%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98%E6%9C%80%E5%B8%B8%E7%8A%AF%E7%9A%8410%E4%B8%AA%E9%94%99%E8%AF%AF/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€æŠŠæ•°ç»„è½¬æˆ-ArrayList"><a href="#ä¸€ã€æŠŠæ•°ç»„è½¬æˆ-ArrayList" class="headerlink" title="ä¸€ã€æŠŠæ•°ç»„è½¬æˆ     ArrayList"></a>ä¸€ã€æŠŠæ•°ç»„è½¬æˆ     <code>ArrayList</code></h2><p>ä¸ºäº†å°†æ•°ç»„è½¬æ¢ä¸ºArrayListï¼Œå¼€å‘è€…ç»å¸¸ä¼šè¿™æ ·åšï¼š </p><pre><code class="hljs java">List&lt;String&gt; list = Arrays.asList(arr);</code></pre><p>ä½¿ç”¨     <code>Arrays.asList()</code>æ–¹æ³•å¯ä»¥å¾—åˆ°ä¸€ä¸ªArrayListï¼Œä½†æ˜¯å¾—åˆ°è¿™ä¸ª     <code>ArrayList</code>å…¶å®æ˜¯å®šä¹‰åœ¨Arraysç±»ä¸­çš„ä¸€ä¸ªç§æœ‰çš„é™æ€å†…éƒ¨ç±»ã€‚è¿™ä¸ªç±»è™½ç„¶å’Œ     <code>java.util.ArrayList</code>åŒåï¼Œä½†æ˜¯å¹¶ä¸æ˜¯åŒä¸€ä¸ªç±»ã€‚     <code>java.util.Arrays.ArrayList</code>ç±»ä¸­å®ç°äº†     <code>set()</code>,      <code>get()</code>,      <code>contains()</code>ç­‰æ–¹æ³•ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å®šä¹‰å‘å…¶ä¸­å¢åŠ å…ƒç´ çš„æ–¹æ³•ã€‚ä¹Ÿå°±æ˜¯è¯´é€šè¿‡     <code>Arrays.asList()</code>å¾—åˆ°çš„ArrayListçš„å¤§å°æ˜¯å›ºå®šçš„ã€‚ </p><p>å¦‚æœåœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæƒ³å¾—åˆ°ä¸€ä¸ªçœŸæ­£çš„ArrayListå¯¹è±¡ï¼ˆ     <code>java.util.ArrayList</code>çš„å®ä¾‹ï¼‰ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼š </p><pre><code class="hljs java">ArrayList&lt;String&gt; arrayList = <span class="hljs-keyword">new</span> ArrayList&lt;String&gt;(Arrays.asList(arr));</code></pre><pre><code>`  java.util.ArrayList`ä¸­åŒ…å«ä¸€ä¸ªå¯ä»¥æ¥å—é›†åˆç±»å‹å‚æ•°çš„æ„é€ å‡½æ•°ã€‚å› ä¸º     `  java.util.Arrays.ArrayList`è¿™ä¸ªå†…éƒ¨ç±»ç»§æ‰¿äº†AbstractListç±»ï¼Œæ‰€ä»¥ï¼Œè¯¥ç±»ä¹Ÿæ˜¯Collectionçš„å­ç±»ã€‚ </code></pre><a id="more"></a><h2 id="äºŒã€åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦åŒ…å«æŸä¸ªå€¼"><a href="#äºŒã€åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦åŒ…å«æŸä¸ªå€¼" class="headerlink" title="äºŒã€åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦åŒ…å«æŸä¸ªå€¼"></a>äºŒã€åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦åŒ…å«æŸä¸ªå€¼</h2><p>åœ¨åˆ¤æ–­ä¸€ä¸ªæ•°ç»„ä¸­æ˜¯å¦åŒ…å«æŸä¸ªå€¼çš„æ—¶å€™ï¼Œå¼€å‘è€…ç»å¸¸è¿™æ ·åšï¼š </p><pre><code class="hljs java">Set&lt;String&gt; set = <span class="hljs-keyword">new</span> HashSet&lt;String&gt;(Arrays.asList(arr));<span class="hljs-keyword">return</span> set.contains(targetValue);</code></pre><p>åœ¨<a href="http://www.hollischuang.com/archives/1269" target="_blank" rel="noopener">åœ¨Javaä¸­å¦‚ä½•é«˜æ•ˆçš„åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ </a>ä¸€æ–‡ä¸­ï¼Œæ·±å…¥åˆ†æè¿‡ï¼Œä»¥ä¸Šæ–¹å¼è™½ç„¶å¯ä»¥å®ç°åŠŸèƒ½ï¼Œä½†æ˜¯æ•ˆç‡å´æ¯”è¾ƒä½ã€‚å› ä¸ºå°†æ•°ç»„å‹å…¥Collectionç±»å‹ä¸­ï¼Œé¦–å…ˆè¦å°†æ•°ç»„å…ƒç´ éå†ä¸€éï¼Œç„¶åå†ä½¿ç”¨é›†åˆç±»åšå…¶ä»–æ“ä½œã€‚ </p><p>åœ¨åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦åŒ…å«æŸä¸ªå€¼çš„æ—¶å€™ï¼Œæ¨èä½¿ç”¨forå¾ªç¯éå†çš„å½¢å¼æˆ–è€…ä½¿ç”¨Apache Commonsç±»åº“ä¸­æä¾›çš„     <code>ArrayUtils</code>ç±»çš„     <code>contains</code>æ–¹æ³•ã€‚ </p><h2 id="ä¸‰ã€åœ¨å¾ªç¯ä¸­åˆ é™¤åˆ—è¡¨ä¸­çš„å…ƒç´ "><a href="#ä¸‰ã€åœ¨å¾ªç¯ä¸­åˆ é™¤åˆ—è¡¨ä¸­çš„å…ƒç´ " class="headerlink" title="ä¸‰ã€åœ¨å¾ªç¯ä¸­åˆ é™¤åˆ—è¡¨ä¸­çš„å…ƒç´ "></a>ä¸‰ã€åœ¨å¾ªç¯ä¸­åˆ é™¤åˆ—è¡¨ä¸­çš„å…ƒç´ </h2><p>åœ¨è®¨è®ºè¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œå…ˆè€ƒè™‘ä»¥ä¸‹ä»£ç çš„è¾“å‡ºç»“æœï¼š </p><pre><code class="hljs java">ArrayList&lt;String&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;String&gt;(Arrays.asList(<span class="hljs-string">"a"</span>,<span class="hljs-string">"b"</span>,<span class="hljs-string">"c"</span>,<span class="hljs-string">"d"</span>));<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;list.size();i++)&#123;    list.remove(i);&#125;System.out.println(list);</code></pre><p>è¾“å‡ºç»“æœï¼š </p><pre><code class="hljs bash">[b,d]</code></pre><p>ä»¥ä¸Šä»£ç çš„ç›®çš„æ˜¯æƒ³éå†åˆ é™¤listä¸­æ‰€æœ‰å…ƒç´ ï¼Œä½†æ˜¯ç»“æœå´æ²¡æœ‰æˆåŠŸã€‚åŸå› æ˜¯å¿½ç•¥äº†ä¸€ä¸ªå…³é”®çš„é—®é¢˜ï¼šå½“ä¸€ä¸ªå…ƒç´ è¢«åˆ é™¤æ—¶ï¼Œåˆ—è¡¨çš„å¤§å°ç¼©å°å¹¶ä¸”ä¸‹æ ‡ä¹Ÿä¼šéšä¹‹å˜åŒ–ï¼Œæ‰€ä»¥å½“ä½ æƒ³è¦åœ¨ä¸€ä¸ªå¾ªç¯ä¸­ç”¨ä¸‹æ ‡åˆ é™¤å¤šä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œå®ƒå¹¶ä¸ä¼šæ­£å¸¸çš„ç”Ÿæ•ˆã€‚ </p><p>ä¹Ÿæœ‰äº›äººçŸ¥é“ä»¥ä¸Šä»£ç çš„é—®é¢˜å°±ç”±äºæ•°ç»„ä¸‹æ ‡å˜æ¢å¼•èµ·çš„ã€‚æ‰€ä»¥ï¼Œä»–ä»¬æƒ³åˆ°ä½¿ç”¨å¢å¼ºforå¾ªç¯çš„å½¢å¼ï¼š </p><pre><code class="hljs java">ArrayList&lt;String&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;String&gt;(Arrays.asList(<span class="hljs-string">"a"</span>,<span class="hljs-string">"b"</span>,<span class="hljs-string">"c"</span>,<span class="hljs-string">"d"</span>));<span class="hljs-keyword">for</span>(String s:list)&#123;    <span class="hljs-keyword">if</span>(s.equals(<span class="hljs-string">"a"</span>))&#123;        list.remove(s);    &#125;&#125;</code></pre><p>ä½†æ˜¯ï¼Œå¾ˆä¸å¹¸çš„æ˜¯ï¼Œä»¥ä¸Šä»£ç ä¼šæŠ›å‡º     <code>ConcurrentModificationException</code>ï¼Œæœ‰è¶£çš„æ˜¯ï¼Œå¦‚æœåœ¨removeæ“ä½œåå¢åŠ ä¸€ä¸ªbreakï¼Œä»£ç å°±ä¸ä¼šæŠ¥é”™ï¼š </p><pre><code class="hljs java">ArrayList&lt;String&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;String&gt;(Arrays.asList(<span class="hljs-string">"a"</span>,<span class="hljs-string">"b"</span>,<span class="hljs-string">"c"</span>,<span class="hljs-string">"d"</span>));<span class="hljs-keyword">for</span>(String s:list)&#123;    <span class="hljs-keyword">if</span>(s.equals(<span class="hljs-string">"a"</span>))&#123;        list.remove(s);        <span class="hljs-keyword">break</span>;    &#125;&#125;</code></pre><p>åœ¨<a href="http://www.hollischuang.com/archives/33" target="_blank" rel="noopener">Javaä¸­çš„fail-fastæœºåˆ¶</a>ä¸€æ–‡ä¸­ï¼Œæ·±å…¥åˆ†æäº†å‡ ç§åœ¨éå†æ•°ç»„çš„åŒæ—¶åˆ é™¤å…¶ä¸­å…ƒç´ çš„æ–¹æ³•ä»¥åŠå„ç§æ–¹æ³•å­˜åœ¨çš„é—®é¢˜ã€‚å…¶ä¸­å°±ä»‹ç»äº†ä¸Šé¢çš„ä»£ç å‡ºé”™çš„åŸå› ã€‚ </p><blockquote><p>è¿­ä»£å™¨ï¼ˆIteratorï¼‰æ˜¯å·¥ä½œåœ¨ä¸€ä¸ªç‹¬ç«‹çš„çº¿ç¨‹ä¸­ï¼Œå¹¶ä¸”æ‹¥æœ‰ä¸€ä¸ª mutex é”ã€‚ è¿­ä»£å™¨è¢«åˆ›å»ºä¹‹åä¼šå»ºç«‹ä¸€ä¸ªæŒ‡å‘åŸæ¥å¯¹è±¡çš„å•é“¾ç´¢å¼•è¡¨ï¼Œå½“åŸæ¥çš„å¯¹è±¡æ•°é‡å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè¿™ä¸ªç´¢å¼•è¡¨çš„å†…å®¹ä¸ä¼šåŒæ­¥æ”¹å˜ï¼Œæ‰€ä»¥å½“ç´¢å¼•æŒ‡é’ˆå¾€åç§»åŠ¨çš„æ—¶å€™å°±æ‰¾ä¸åˆ°è¦è¿­ä»£çš„å¯¹è±¡ï¼Œæ‰€ä»¥æŒ‰ç…§ fail-fast åŸåˆ™ è¿­ä»£å™¨ä¼šé©¬ä¸ŠæŠ›å‡º         <code>java.util.ConcurrentModificationException</code> å¼‚å¸¸ã€‚     </p></blockquote><p>æ‰€ä»¥ï¼Œæ­£ç¡®çš„åœ¨éå†è¿‡ç¨‹ä¸­åˆ é™¤å…ƒç´ çš„æ–¹æ³•åº”è¯¥æ˜¯ä½¿ç”¨Iteratorï¼š </p><pre><code class="hljs java">ArrayList&lt;String&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;String&gt;(Arrays.asList(<span class="hljs-string">"a"</span>, <span class="hljs-string">"b"</span>, <span class="hljs-string">"c"</span>, <span class="hljs-string">"d"</span>));Iterator&lt;String&gt; iter = list.iterator();<span class="hljs-keyword">while</span> (iter.hasNext()) &#123;    String s = iter.next();    <span class="hljs-keyword">if</span> (s.equals(<span class="hljs-string">"a"</span>)) &#123;        iter.remove();    &#125;&#125;</code></pre><pre><code>`  next()`æ–¹æ³•å¿…é¡»åœ¨è°ƒç”¨     `  remove()`æ–¹æ³•ä¹‹å‰è°ƒç”¨ã€‚å¦‚æœåœ¨å¾ªç¯è¿‡ç¨‹ä¸­å…ˆè°ƒç”¨     `  remove()`ï¼Œå†è°ƒç”¨     `  next()`ï¼Œå°±ä¼šå¯¼è‡´å¼‚å¸¸     `  ConcurrentModificationException`ã€‚åŸå› å¦‚ä¸Šã€‚ </code></pre><h2 id="å››ã€HashTable-å’Œ-HashMap-çš„é€‰æ‹©"><a href="#å››ã€HashTable-å’Œ-HashMap-çš„é€‰æ‹©" class="headerlink" title="å››ã€HashTable å’Œ HashMap çš„é€‰æ‹©"></a>å››ã€HashTable å’Œ HashMap çš„é€‰æ‹©</h2><p>äº†è§£ç®—æ³•çš„äººå¯èƒ½å¯¹HashTableæ¯”è¾ƒç†Ÿæ‚‰ï¼Œå› ä¸ºä»–æ˜¯ä¸€ä¸ªæ•°æ®ç»“æ„çš„åå­—ã€‚ä½†åœ¨Javaé‡Œè¾¹ï¼Œç”¨HashMapæ¥è¡¨ç¤ºè¿™æ ·çš„æ•°æ®ç»“æ„ã€‚Hashtableå’Œ HashMapçš„ä¸€ä¸ªå…³é”®æ€§çš„ä¸åŒæ˜¯ï¼ŒHashTableæ˜¯åŒæ­¥çš„ï¼Œè€ŒHashMapä¸æ˜¯ã€‚æ‰€ä»¥é€šå¸¸ä¸éœ€è¦HashTableï¼ŒHashMapç”¨çš„æ›´å¤šã€‚ </p><p><a href="http://www.hollischuang.com/archives/82" target="_blank" rel="noopener">HashMapå®Œå…¨è§£è¯»</a>ã€<a href="http://www.hollischuang.com/archives/442" target="_blank" rel="noopener">Javaä¸­å¸¸è§äº²å±æ¯”è¾ƒ</a>ç­‰æ–‡ç« ä¸­ä»‹ç»äº†ä»–ä»¬çš„åŒºåˆ«å’Œå¦‚ä½•é€‰æ‹©ã€‚ </p><h2 id="äº”ã€ä½¿ç”¨åŸå§‹é›†åˆç±»å‹"><a href="#äº”ã€ä½¿ç”¨åŸå§‹é›†åˆç±»å‹" class="headerlink" title="äº”ã€ä½¿ç”¨åŸå§‹é›†åˆç±»å‹"></a>äº”ã€ä½¿ç”¨åŸå§‹é›†åˆç±»å‹</h2><p>åœ¨Javaé‡Œè¾¹ï¼ŒåŸå§‹ç±»å‹å’Œæ— ç•Œé€šé…ç¬¦ç±»å‹å¾ˆå®¹æ˜“æ··åˆåœ¨ä¸€èµ·ã€‚ä»¥Setä¸ºä¾‹ï¼ŒSetæ˜¯ä¸€ä¸ªåŸå§‹ç±»å‹ï¼Œè€ŒSet&lt; ? &gt;æ˜¯ä¸€ä¸ªæ— ç•Œé€šé…ç¬¦ç±»å‹ã€‚ ï¼ˆå¯ä»¥æŠŠåŸå§‹ç±»å‹ç†è§£ä¸ºæ²¡æœ‰ä½¿ç”¨æ³›å‹çº¦æŸçš„ç±»å‹ï¼‰ </p><p>è€ƒè™‘ä¸‹é¢ä½¿ç”¨åŸå§‹ç±»å‹Listä½œä¸ºå‚æ•°çš„ä»£ç ï¼š </p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(List list, Object o)</span></span>&#123;    list.add(o);&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span></span>&#123;    List&lt;String&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;String&gt;();    add(list, <span class="hljs-number">10</span>);    String s = list.get(<span class="hljs-number">0</span>);&#125;</code></pre><p>ä¸Šé¢çš„ä»£ç å°†ä¼šæŠ›å‡ºå¼‚å¸¸ï¼š </p><pre><code>`  java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.String` </code></pre><p>ä½¿ç”¨åŸå§‹é›†åˆç±»å‹æ˜¯å¾ˆå±é™©çš„ï¼Œå› ä¸ºåŸå§‹é›†åˆç±»å‹è·³è¿‡äº†æ³›å‹ç±»å‹æ£€æŸ¥ï¼Œæ˜¯ä¸å®‰å…¨çš„ã€‚Setã€Set&lt; ? &gt;å’ŒSet&lt; Object &gt;ä¹‹é—´æœ‰å¾ˆå¤§å·®åˆ«ã€‚å…³äºæ³›å‹ï¼Œå¯ä»¥å‚è€ƒä¸‹åˆ—æ–‡ç« ï¼š<a href="http://www.hollischuang.com/archives/1182" target="_blank" rel="noopener">ã€Šæˆç¥ä¹‹è·¯-åŸºç¡€ç¯‡ã€‹JavaåŸºç¡€çŸ¥è¯†â€”â€”æ³›å‹</a> </p><h2 id="å…­ã€è®¿é—®çº§åˆ«"><a href="#å…­ã€è®¿é—®çº§åˆ«" class="headerlink" title="å…­ã€è®¿é—®çº§åˆ«"></a>å…­ã€è®¿é—®çº§åˆ«</h2><p>ç¨‹åºå‘˜ä»¬ç»å¸¸ä½¿ç”¨     <code>public</code>ä½œä¸ºç±»ä¸­çš„å­—æ®µçš„ä¿®é¥°ç¬¦ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥å¾ˆç®€å•çš„é€šè¿‡å¼•ç”¨å¾—åˆ°å€¼ï¼Œä½†è¿™å¹¶ä¸æ˜¯å¥½çš„è®¾è®¡ï¼ŒæŒ‰ç…§ç»éªŒï¼Œåˆ†é…ç»™æˆå‘˜å˜é‡çš„è®¿é—®çº§åˆ«åº”è¯¥å°½å¯èƒ½çš„ä½ã€‚å‚è€ƒ<a href="http://www.hollischuang.com/archives/1334" target="_blank" rel="noopener">Javaä¸­çš„å››ç§è®¿é—®çº§åˆ«</a> </p><h2 id="ä¸ƒã€-ArrayListä¸-LinkedListçš„é€‰æ‹©"><a href="#ä¸ƒã€-ArrayListä¸-LinkedListçš„é€‰æ‹©" class="headerlink" title="ä¸ƒã€     ArrayListä¸     LinkedListçš„é€‰æ‹©"></a>ä¸ƒã€     <code>ArrayList</code>ä¸     <code>LinkedList</code>çš„é€‰æ‹©</h2><p>å½“ç¨‹åºå‘˜ä»¬ä¸çŸ¥é“     <code>ArrayList</code>ä¸     <code>LinkedList</code>çš„åŒºåˆ«æ—¶ï¼Œä»–ä»¬ç»å¸¸ä½¿ç”¨ArrayListï¼Œå› ä¸ºå®ƒçœ‹èµ·æ¥æ¯”è¾ƒç†Ÿæ‚‰ã€‚ç„¶è€Œï¼Œå®ƒä»¬ä¹‹å‰æœ‰å·¨å¤§çš„æ€§èƒ½å·®åˆ«ã€‚åœ¨<a href="http://www.hollischuang.com/archives/1349" target="_blank" rel="noopener">ArrayList vs LinkedList vs Vector åŒºåˆ«</a>ã€<a href="http://www.hollischuang.com/archives/442" target="_blank" rel="noopener">Javaä¸­å¸¸è§äº²å±æ¯”è¾ƒ</a>ç­‰æ–‡ç« ä¸­ä»‹ç»è¿‡ï¼Œç®€è€Œè¨€ä¹‹ï¼Œå¦‚æœæœ‰å¤§é‡çš„å¢åŠ åˆ é™¤æ“ä½œå¹¶ä¸”æ²¡æœ‰å¾ˆå¤šçš„éšæœºè®¿é—®å…ƒç´ çš„æ“ä½œï¼Œåº”è¯¥é¦–å…ˆ     <code>LinkedList</code>ã€‚ï¼ˆ     <code>LinkedList</code>æ›´é€‚åˆä»ä¸­é—´æ’å…¥æˆ–è€…åˆ é™¤ï¼ˆé“¾è¡¨çš„ç‰¹æ€§ï¼‰ï¼‰ </p><h2 id="å…«ã€å¯å˜ä¸ä¸å¯å˜"><a href="#å…«ã€å¯å˜ä¸ä¸å¯å˜" class="headerlink" title="å…«ã€å¯å˜ä¸ä¸å¯å˜"></a>å…«ã€å¯å˜ä¸ä¸å¯å˜</h2><p>åœ¨<a href="http://www.hollischuang.com/archives/1246" target="_blank" rel="noopener">ä¸ºä»€ä¹ˆJavaè¦æŠŠå­—ç¬¦ä¸²è®¾è®¡æˆä¸å¯å˜çš„</a>ä¸€æ–‡ä¸­ä»‹ç»è¿‡ï¼Œä¸å¯å˜å¯¹è±¡æœ‰è®¸å¤šçš„ä¼˜ç‚¹ï¼Œæ¯”å¦‚ç®€å•ï¼Œå®‰å…¨ç­‰ç­‰ã€‚åŒæ—¶ï¼Œä¹Ÿæœ‰äººæå‡ºç–‘é—®ï¼šæ—¢ç„¶ä¸å¯å˜æœ‰è¿™ä¹ˆå¤šå¥½å¤„ï¼Œä¸ºä»€ä¹ˆä¸æŠŠæ‰€æœ‰ç±»éƒ½ææˆä¸å¯å˜çš„å‘¢ï¼Ÿ </p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œå¯å˜å¯¹è±¡å¯ä»¥ç”¨æ¥é¿å…äº§ç”Ÿè¿‡å¤šçš„ä¸­é—´å¯¹è±¡ã€‚ä¸€ä¸ªç»å…¸çš„å®ä¾‹å°±æ˜¯è¿æ¥å¤§é‡çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœä½¿ç”¨ä¸å¯å˜çš„å­—ç¬¦ä¸²ï¼Œå°†ä¼šäº§ç”Ÿå¤§é‡çš„éœ€è¦è¿›è¡Œåƒåœ¾å›æ”¶çš„å¯¹è±¡ã€‚è¿™ä¼šæµªè´¹CPUå¤§é‡çš„æ—¶é—´ï¼Œä½¿ç”¨å¯å˜å¯¹è±¡æ‰æ˜¯æ­£ç¡®çš„æ–¹æ¡ˆ(æ¯”å¦‚     <code>StringBuilder</code>)ã€‚ </p><pre><code class="hljs java">String result=<span class="hljs-string">""</span>;<span class="hljs-keyword">for</span>(String s: arr)&#123;    result = result + s;&#125;</code></pre><p><a href="http://stackoverflow.com/questions/23616211/why-we-need-mutable-classes" target="_blank" rel="noopener">StackOverflow</a>ä¸­ä¹Ÿæœ‰å…³äºè¿™ä¸ªçš„è®¨è®ºã€‚ </p><h2 id="ä¹ã€çˆ¶ç±»å’Œå­ç±»çš„æ„é€ å‡½æ•°"><a href="#ä¹ã€çˆ¶ç±»å’Œå­ç±»çš„æ„é€ å‡½æ•°" class="headerlink" title="ä¹ã€çˆ¶ç±»å’Œå­ç±»çš„æ„é€ å‡½æ•°"></a>ä¹ã€çˆ¶ç±»å’Œå­ç±»çš„æ„é€ å‡½æ•°</h2><p>ä¸Šå›¾çš„ä»£ç ä¸­æœ‰ä¸¤å¤„ç¼–è¯‘æ—¶é”™è¯¯ï¼ŒåŸå› å…¶å®å¾ˆç®€å•ï¼Œä¸»è¦å’Œæ„é€ å‡½æ•°æœ‰å…³ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éƒ½çŸ¥é“ï¼š </p><blockquote><p>å¦‚æœä¸€ä¸ªç±»æ²¡æœ‰å®šä¹‰æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨å°†ä¼šæ’å…¥ä¸€ä¸ªæ— å‚æ•°çš„é»˜è®¤æ„é€ å‡½æ•°ã€‚     </p><p>å¦‚æœä¸€ä¸ªç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªå¸¦å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°±ä¸ä¼šå†å¸®æˆ‘ä»¬åˆ›å»ºæ— å‚çš„æ„é€ å‡½æ•°ã€‚ </p></blockquote><p>ä¸Šé¢çš„Superç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªå¸¦å‚æ•°çš„æ„é€ å‡½æ•°ã€‚ç¼–è¯‘å™¨å°†ä¸ä¼šæ’å…¥é»˜è®¤çš„æ— å‚æ•°æ„é€ å‡½æ•°ã€‚ </p><p>æˆ‘ä»¬è¿˜åº”è¯¥çŸ¥é“ï¼š </p><blockquote><p>å­ç±»çš„æ‰€æœ‰æ„é€ å‡½æ•°ï¼ˆæ— è®ºæ˜¯æœ‰å‚è¿˜æ˜¯æ— å‚ï¼‰åœ¨æ‰§è¡Œæ—¶ï¼Œéƒ½ä¼šè°ƒç”¨çˆ¶ç±»çš„æ— å‚æ„é€ å‡½æ•°ã€‚     </p></blockquote><p>æ‰€ä»¥ï¼Œç¼–è¯‘å™¨è¯•å›¾è°ƒç”¨Superç±»ä¸­çš„æ— å‚æ„é€ å‡½æ•°ã€‚ä½†æ˜¯çˆ¶ç±»é»˜è®¤çš„æ„é€ å‡½æ•°æœªå®šä¹‰ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ¥å‡ºè¿™ä¸ªé”™è¯¯ä¿¡æ¯ã€‚ </p><p>è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ç®€å•çš„é€šè¿‡ </p><ul><li><p>1)åœ¨çˆ¶ç±»ä¸­æ·»åŠ ä¸€ä¸ªSuper()æ„é€ æ–¹æ³•ï¼Œå°±åƒè¿™æ ·ï¼š         </p><p>public Super(){}         </p></li><li><p>2)ç§»é™¤è‡ªå®šä¹‰çš„çˆ¶ç±»æ„é€ å‡½æ•°         </p></li><li><p>3)åœ¨å­ç±»çš„æ„é€ å‡½æ•°ä¸­è°ƒç”¨çˆ¶ç±»çš„super(value)ã€‚         </p></li></ul><h2 id="åã€â€â€è¿˜æ˜¯æ„é€ å‡½æ•°"><a href="#åã€â€â€è¿˜æ˜¯æ„é€ å‡½æ•°" class="headerlink" title="åã€â€â€è¿˜æ˜¯æ„é€ å‡½æ•°"></a>åã€â€â€è¿˜æ˜¯æ„é€ å‡½æ•°</h2><p>å…³äºè¿™ä¸ªé—®é¢˜ï¼Œä¹Ÿæ˜¯ç¨‹åºå‘˜ç»å¸¸å‡ºç°å›°æƒ‘çš„åœ°æ–¹ï¼Œåœ¨<a href="http://www.hollischuang.com/archives/1249" target="_blank" rel="noopener">è¯¥å¦‚ä½•åˆ›å»ºå­—ç¬¦ä¸²ï¼Œä½¿ç”¨â€ â€œè¿˜æ˜¯æ„é€ å‡½æ•°ï¼Ÿ</a>ä¸­ä¹Ÿä»‹ç»è¿‡. </p><blockquote><p>å¦‚æœä½ åªéœ€è¦åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä½ å¯ä»¥ä½¿ç”¨åŒå¼•å·çš„æ–¹å¼ï¼Œå¦‚æœä½ éœ€è¦åœ¨å †ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œä½ å¯ä»¥é€‰æ‹©æ„é€ å‡½æ•°çš„æ–¹å¼ã€‚     </p></blockquote><p>åœ¨     <code>String d = new String(&quot;abcd&quot;)</code>æ—¶ï¼Œå› ä¸ºå­—é¢å€¼â€œabcdâ€å·²ç»æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œé‚£ä¹ˆä½¿ç”¨æ„é€ å‡½æ•°æ–¹å¼åªä¼šåˆ›å»ºä¸€ä¸ªé¢å¤–æ²¡æœ‰ç”¨å¤„çš„å¯¹è±¡ã€‚ </p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Redisåˆ†å¸ƒå¼é”çš„æ­£ç¡®å®ç°æ–¹å¼</title>
    <link href="/2019/06/12/Redis%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E7%9A%84%E6%AD%A3%E7%A1%AE%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F/"/>
    <url>/2019/06/12/Redis%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E7%9A%84%E6%AD%A3%E7%A1%AE%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åˆ†å¸ƒå¼é”ä¸€èˆ¬æœ‰ä¸‰ç§å®ç°æ–¹å¼ï¼š1. æ•°æ®åº“ä¹è§‚é”ï¼›2. åŸºäºRedisçš„åˆ†å¸ƒå¼é”ï¼›3. åŸºäºZooKeeperçš„åˆ†å¸ƒå¼é”ã€‚æœ¬ç¯‡åšå®¢å°†ä»‹ç»ç¬¬äºŒç§æ–¹å¼ï¼ŒåŸºäºRediså®ç°åˆ†å¸ƒå¼é”ã€‚è™½ç„¶ç½‘ä¸Šå·²ç»æœ‰å„ç§ä»‹ç»Redisåˆ†å¸ƒå¼é”å®ç°çš„åšå®¢ï¼Œç„¶è€Œä»–ä»¬çš„å®ç°å´æœ‰ç€å„ç§å„æ ·çš„é—®é¢˜ï¼Œä¸ºäº†é¿å…è¯¯äººå­å¼Ÿï¼Œæœ¬ç¯‡åšå®¢å°†è¯¦ç»†ä»‹ç»å¦‚ä½•æ­£ç¡®åœ°å®ç°Redisåˆ†å¸ƒå¼é”ã€‚</p><hr><h2 id="å¯é æ€§"><a href="#å¯é æ€§" class="headerlink" title="å¯é æ€§"></a>å¯é æ€§</h2><a id="more"></a><p>é¦–å…ˆï¼Œä¸ºäº†ç¡®ä¿åˆ†å¸ƒå¼é”å¯ç”¨ï¼Œæˆ‘ä»¬è‡³å°‘è¦ç¡®ä¿é”çš„å®ç°åŒæ—¶æ»¡è¶³ä»¥ä¸‹å››ä¸ªæ¡ä»¶ï¼š</p><ul><li>äº’æ–¥æ€§ã€‚åœ¨ä»»æ„æ—¶åˆ»ï¼Œåªæœ‰ä¸€ä¸ªå®¢æˆ·ç«¯èƒ½æŒæœ‰é”ã€‚</li><li>ä¸ä¼šå‘ç”Ÿæ­»é”ã€‚å³ä½¿æœ‰ä¸€ä¸ªå®¢æˆ·ç«¯åœ¨æŒæœ‰é”çš„æœŸé—´å´©æºƒè€Œæ²¡æœ‰ä¸»åŠ¨è§£é”ï¼Œä¹Ÿèƒ½ä¿è¯åç»­å…¶ä»–å®¢æˆ·ç«¯èƒ½åŠ é”ã€‚</li><li>å…·æœ‰å®¹é”™æ€§ã€‚åªè¦å¤§éƒ¨åˆ†çš„RedisèŠ‚ç‚¹æ­£å¸¸è¿è¡Œï¼Œå®¢æˆ·ç«¯å°±å¯ä»¥åŠ é”å’Œè§£é”ã€‚</li><li>è§£é“ƒè¿˜é¡»ç³»é“ƒäººã€‚åŠ é”å’Œè§£é”å¿…é¡»æ˜¯åŒä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯è‡ªå·±ä¸èƒ½æŠŠåˆ«äººåŠ çš„é”ç»™è§£äº†ã€‚</li></ul><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><h3 id="ç»„ä»¶ä¾èµ–"><a href="#ç»„ä»¶ä¾èµ–" class="headerlink" title="ç»„ä»¶ä¾èµ–"></a>ç»„ä»¶ä¾èµ–</h3><p>é¦–å…ˆæˆ‘ä»¬è¦é€šè¿‡Mavenå¼•å…¥Jediså¼€æºç»„ä»¶ï¼Œåœ¨pom.xmlæ–‡ä»¶åŠ å…¥ä¸‹é¢çš„ä»£ç ï¼š</p><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>redis.clients<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jedis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.9.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre><h3 id="åŠ é”ä»£ç "><a href="#åŠ é”ä»£ç " class="headerlink" title="åŠ é”ä»£ç "></a>åŠ é”ä»£ç </h3><h4 id="æ­£ç¡®å§¿åŠ¿"><a href="#æ­£ç¡®å§¿åŠ¿" class="headerlink" title="æ­£ç¡®å§¿åŠ¿"></a>æ­£ç¡®å§¿åŠ¿</h4><p>Talk is cheap, show me the codeã€‚å…ˆå±•ç¤ºä»£ç ï¼Œå†å¸¦å¤§å®¶æ…¢æ…¢è§£é‡Šä¸ºä»€ä¹ˆè¿™æ ·å®ç°ï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RedisTool</span> </span>&#123;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String LOCK_SUCCESS = <span class="hljs-string">"OK"</span>;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String SET_IF_NOT_EXIST = <span class="hljs-string">"NX"</span>;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String SET_WITH_EXPIRE_TIME = <span class="hljs-string">"PX"</span>;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * å°è¯•è·å–åˆ†å¸ƒå¼é”</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> jedis Rediså®¢æˆ·ç«¯</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> lockKey é”</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> requestId è¯·æ±‚æ ‡è¯†</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> expireTime è¶…æœŸæ—¶é—´</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> æ˜¯å¦è·å–æˆåŠŸ</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">tryGetDistributedLock</span><span class="hljs-params">(Jedis jedis, String lockKey, String requestId, <span class="hljs-keyword">int</span> expireTime)</span> </span>&#123;        String result = jedis.set(lockKey, requestId, SET_IF_NOT_EXIST, SET_WITH_EXPIRE_TIME, expireTime);        <span class="hljs-keyword">if</span> (LOCK_SUCCESS.equals(result)) &#123;            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;        &#125;        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;    &#125;&#125;</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åŠ é”å°±ä¸€è¡Œä»£ç ï¼šjedis.set(String key, String value, String nxxx, String expx, int time)ï¼Œè¿™ä¸ªset()æ–¹æ³•ä¸€å…±æœ‰äº”ä¸ªå½¢å‚ï¼š</p><p><strong>ç¬¬ä¸€ä¸ªä¸ºkey</strong>ï¼Œæˆ‘ä»¬ä½¿ç”¨keyæ¥å½“é”ï¼Œå› ä¸ºkeyæ˜¯å”¯ä¸€çš„ã€‚</p><p><strong>ç¬¬äºŒä¸ªä¸ºvalue</strong>ï¼Œæˆ‘ä»¬ä¼ çš„æ˜¯requestIdï¼Œå¾ˆå¤šç«¥é‹å¯èƒ½ä¸æ˜ç™½ï¼Œæœ‰keyä½œä¸ºé”ä¸å°±å¤Ÿäº†å—ï¼Œä¸ºä»€ä¹ˆè¿˜è¦ç”¨åˆ°valueï¼ŸåŸå› å°±æ˜¯æˆ‘ä»¬åœ¨ä¸Šé¢è®²åˆ°å¯é æ€§æ—¶ï¼Œåˆ†å¸ƒå¼é”è¦æ»¡è¶³ç¬¬å››ä¸ªæ¡ä»¶è§£é“ƒè¿˜é¡»ç³»é“ƒäººï¼Œé€šè¿‡ç»™valueèµ‹å€¼ä¸ºrequestIdï¼Œæˆ‘ä»¬å°±çŸ¥é“è¿™æŠŠé”æ˜¯å“ªä¸ªè¯·æ±‚åŠ çš„äº†ï¼Œåœ¨è§£é”çš„æ—¶å€™å°±å¯ä»¥æœ‰ä¾æ®ã€‚requestIdå¯ä»¥ä½¿ç”¨UUID.randomUUID().toString()æ–¹æ³•ç”Ÿæˆã€‚</p><p><strong>ç¬¬ä¸‰ä¸ªä¸ºnxxx</strong>ï¼Œè¿™ä¸ªå‚æ•°æˆ‘ä»¬å¡«çš„æ˜¯NXï¼Œæ„æ€æ˜¯SET IF NOT EXISTï¼Œå³å½“keyä¸å­˜åœ¨æ—¶ï¼Œæˆ‘ä»¬è¿›è¡Œsetæ“ä½œï¼›è‹¥keyå·²ç»å­˜åœ¨ï¼Œåˆ™ä¸åšä»»ä½•æ“ä½œï¼›</p><p><strong>ç¬¬å››ä¸ªä¸ºexpx</strong>ï¼Œè¿™ä¸ªå‚æ•°æˆ‘ä»¬ä¼ çš„æ˜¯PXï¼Œæ„æ€æ˜¯æˆ‘ä»¬è¦ç»™è¿™ä¸ªkeyåŠ ä¸€ä¸ªè¿‡æœŸçš„è®¾ç½®ï¼Œå…·ä½“æ—¶é—´ç”±ç¬¬äº”ä¸ªå‚æ•°å†³å®šã€‚</p><p><strong>ç¬¬äº”ä¸ªä¸ºtime</strong>ï¼Œä¸ç¬¬å››ä¸ªå‚æ•°ç›¸å‘¼åº”ï¼Œä»£è¡¨keyçš„è¿‡æœŸæ—¶é—´ã€‚</p><p>æ€»çš„æ¥è¯´ï¼Œæ‰§è¡Œä¸Šé¢çš„set()æ–¹æ³•å°±åªä¼šå¯¼è‡´ä¸¤ç§ç»“æœï¼š</p><ol><li>å½“å‰æ²¡æœ‰é”ï¼ˆkeyä¸å­˜åœ¨ï¼‰ï¼Œé‚£ä¹ˆå°±è¿›è¡ŒåŠ é”æ“ä½œï¼Œå¹¶å¯¹é”è®¾ç½®ä¸ªæœ‰æ•ˆæœŸï¼ŒåŒæ—¶valueè¡¨ç¤ºåŠ é”çš„å®¢æˆ·ç«¯ã€‚</li><li>å·²æœ‰é”å­˜åœ¨ï¼Œä¸åšä»»ä½•æ“ä½œã€‚</li></ol><p>å¿ƒç»†çš„ç«¥é‹å°±ä¼šå‘ç°äº†ï¼Œæˆ‘ä»¬çš„åŠ é”ä»£ç æ»¡è¶³æˆ‘ä»¬å¯é æ€§é‡Œæè¿°çš„ä¸‰ä¸ªæ¡ä»¶ã€‚é¦–å…ˆï¼Œset()åŠ å…¥äº†NXå‚æ•°ï¼Œå¯ä»¥ä¿è¯å¦‚æœå·²æœ‰keyå­˜åœ¨ï¼Œåˆ™å‡½æ•°ä¸ä¼šè°ƒç”¨æˆåŠŸï¼Œä¹Ÿå°±æ˜¯åªæœ‰ä¸€ä¸ªå®¢æˆ·ç«¯èƒ½æŒæœ‰é”ï¼Œæ»¡è¶³äº’æ–¥æ€§ã€‚å…¶æ¬¡ï¼Œç”±äºæˆ‘ä»¬å¯¹é”è®¾ç½®äº†è¿‡æœŸæ—¶é—´ï¼Œå³ä½¿é”çš„æŒæœ‰è€…åç»­å‘ç”Ÿå´©æºƒè€Œæ²¡æœ‰è§£é”ï¼Œé”ä¹Ÿä¼šå› ä¸ºåˆ°äº†è¿‡æœŸæ—¶é—´è€Œè‡ªåŠ¨è§£é”ï¼ˆå³keyè¢«åˆ é™¤ï¼‰ï¼Œä¸ä¼šå‘ç”Ÿæ­»é”ã€‚</p><p>æœ€åï¼Œå› ä¸ºæˆ‘ä»¬å°†valueèµ‹å€¼ä¸ºrequestIdï¼Œä»£è¡¨åŠ é”çš„å®¢æˆ·ç«¯è¯·æ±‚æ ‡è¯†ï¼Œé‚£ä¹ˆåœ¨å®¢æˆ·ç«¯åœ¨è§£é”çš„æ—¶å€™å°±å¯ä»¥è¿›è¡Œæ ¡éªŒæ˜¯å¦æ˜¯åŒä¸€ä¸ªå®¢æˆ·ç«¯ã€‚ç”±äºæˆ‘ä»¬åªè€ƒè™‘Rediså•æœºéƒ¨ç½²çš„åœºæ™¯ï¼Œæ‰€ä»¥å®¹é”™æ€§æˆ‘ä»¬æš‚ä¸è€ƒè™‘ã€‚</p><h4 id="é”™è¯¯ç¤ºä¾‹1"><a href="#é”™è¯¯ç¤ºä¾‹1" class="headerlink" title="é”™è¯¯ç¤ºä¾‹1"></a>é”™è¯¯ç¤ºä¾‹1</h4><p>æ¯”è¾ƒå¸¸è§çš„é”™è¯¯ç¤ºä¾‹å°±æ˜¯ä½¿ç”¨jedis.setnx()å’Œjedis.expire()ç»„åˆå®ç°åŠ é”ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">wrongGetLock1</span><span class="hljs-params">(Jedis jedis, String lockKey, String requestId, <span class="hljs-keyword">int</span> expireTime)</span> </span>&#123;    Long result = jedis.setnx(lockKey, requestId);    <span class="hljs-keyword">if</span> (result == <span class="hljs-number">1</span>) &#123;        <span class="hljs-comment">// è‹¥åœ¨è¿™é‡Œç¨‹åºçªç„¶å´©æºƒï¼Œåˆ™æ— æ³•è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œå°†å‘ç”Ÿæ­»é”</span>        jedis.expire(lockKey, expireTime);    &#125;&#125;</code></pre><p>setnx()æ–¹æ³•ä½œç”¨å°±æ˜¯SET IF NOT EXISTï¼Œexpire()æ–¹æ³•å°±æ˜¯ç»™é”åŠ ä¸€ä¸ªè¿‡æœŸæ—¶é—´ã€‚ä¹ä¸€çœ‹å¥½åƒå’Œå‰é¢çš„set()æ–¹æ³•ç»“æœä¸€æ ·ï¼Œç„¶è€Œç”±äºè¿™æ˜¯ä¸¤æ¡Rediså‘½ä»¤ï¼Œä¸å…·æœ‰åŸå­æ€§ï¼Œå¦‚æœç¨‹åºåœ¨æ‰§è¡Œå®Œsetnx()ä¹‹åçªç„¶å´©æºƒï¼Œå¯¼è‡´é”æ²¡æœ‰è®¾ç½®è¿‡æœŸæ—¶é—´ã€‚é‚£ä¹ˆå°†ä¼šå‘ç”Ÿæ­»é”ã€‚ç½‘ä¸Šä¹‹æ‰€ä»¥æœ‰äººè¿™æ ·å®ç°ï¼Œæ˜¯å› ä¸ºä½ç‰ˆæœ¬çš„jediså¹¶ä¸æ”¯æŒå¤šå‚æ•°çš„set()æ–¹æ³•ã€‚</p><h4 id="é”™è¯¯ç¤ºä¾‹2"><a href="#é”™è¯¯ç¤ºä¾‹2" class="headerlink" title="é”™è¯¯ç¤ºä¾‹2"></a>é”™è¯¯ç¤ºä¾‹2</h4><p>è¿™ä¸€ç§é”™è¯¯ç¤ºä¾‹å°±æ¯”è¾ƒéš¾ä»¥å‘ç°é—®é¢˜ï¼Œè€Œä¸”å®ç°ä¹Ÿæ¯”è¾ƒå¤æ‚ã€‚å®ç°æ€è·¯ï¼šä½¿ç”¨jedis.setnx()å‘½ä»¤å®ç°åŠ é”ï¼Œå…¶ä¸­keyæ˜¯é”ï¼Œvalueæ˜¯é”çš„è¿‡æœŸæ—¶é—´ã€‚</p><p>æ‰§è¡Œè¿‡ç¨‹ï¼š</p><ol><li>é€šè¿‡setnx()æ–¹æ³•å°è¯•åŠ é”ï¼Œå¦‚æœå½“å‰é”ä¸å­˜åœ¨ï¼Œè¿”å›åŠ é”æˆåŠŸã€‚</li><li>å¦‚æœé”å·²ç»å­˜åœ¨åˆ™è·å–é”çš„è¿‡æœŸæ—¶é—´ï¼Œå’Œå½“å‰æ—¶é—´æ¯”è¾ƒï¼Œå¦‚æœé”å·²ç»è¿‡æœŸï¼Œåˆ™è®¾ç½®æ–°çš„è¿‡æœŸæ—¶é—´ï¼Œè¿”å›åŠ é”æˆåŠŸã€‚</li></ol><p>ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">wrongGetLock2</span><span class="hljs-params">(Jedis jedis, String lockKey, <span class="hljs-keyword">int</span> expireTime)</span> </span>&#123;    <span class="hljs-keyword">long</span> expires = System.currentTimeMillis() + expireTime;    String expiresStr = String.valueOf(expires);    <span class="hljs-comment">// å¦‚æœå½“å‰é”ä¸å­˜åœ¨ï¼Œè¿”å›åŠ é”æˆåŠŸ</span>    <span class="hljs-keyword">if</span> (jedis.setnx(lockKey, expiresStr) == <span class="hljs-number">1</span>) &#123;        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;    &#125;    <span class="hljs-comment">// å¦‚æœé”å­˜åœ¨ï¼Œè·å–é”çš„è¿‡æœŸæ—¶é—´</span>    String currentValueStr = jedis.get(lockKey);    <span class="hljs-keyword">if</span> (currentValueStr != <span class="hljs-keyword">null</span> &amp;&amp; Long.parseLong(currentValueStr) &lt; System.currentTimeMillis()) &#123;        <span class="hljs-comment">// é”å·²è¿‡æœŸï¼Œè·å–ä¸Šä¸€ä¸ªé”çš„è¿‡æœŸæ—¶é—´ï¼Œå¹¶è®¾ç½®ç°åœ¨é”çš„è¿‡æœŸæ—¶é—´</span>        String oldValueStr = jedis.getSet(lockKey, expiresStr);        <span class="hljs-keyword">if</span> (oldValueStr != <span class="hljs-keyword">null</span> &amp;&amp; oldValueStr.equals(currentValueStr)) &#123;            <span class="hljs-comment">// è€ƒè™‘å¤šçº¿ç¨‹å¹¶å‘çš„æƒ…å†µï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹çš„è®¾ç½®å€¼å’Œå½“å‰å€¼ç›¸åŒï¼Œå®ƒæ‰æœ‰æƒåˆ©åŠ é”</span>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;        &#125;    &#125;    <span class="hljs-comment">// å…¶ä»–æƒ…å†µï¼Œä¸€å¾‹è¿”å›åŠ é”å¤±è´¥</span>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;&#125;</code></pre><p>é‚£ä¹ˆè¿™æ®µä»£ç é—®é¢˜åœ¨å“ªé‡Œï¼Ÿ1. ç”±äºæ˜¯å®¢æˆ·ç«¯è‡ªå·±ç”Ÿæˆè¿‡æœŸæ—¶é—´ï¼Œæ‰€ä»¥éœ€è¦å¼ºåˆ¶è¦æ±‚åˆ†å¸ƒå¼ä¸‹æ¯ä¸ªå®¢æˆ·ç«¯çš„æ—¶é—´å¿…é¡»åŒæ­¥ã€‚ 2. å½“é”è¿‡æœŸçš„æ—¶å€™ï¼Œå¦‚æœå¤šä¸ªå®¢æˆ·ç«¯åŒæ—¶æ‰§è¡Œjedis.getSet()æ–¹æ³•ï¼Œé‚£ä¹ˆè™½ç„¶æœ€ç»ˆåªæœ‰ä¸€ä¸ªå®¢æˆ·ç«¯å¯ä»¥åŠ é”ï¼Œä½†æ˜¯è¿™ä¸ªå®¢æˆ·ç«¯çš„é”çš„è¿‡æœŸæ—¶é—´å¯èƒ½è¢«å…¶ä»–å®¢æˆ·ç«¯è¦†ç›–ã€‚3. é”ä¸å…·å¤‡æ‹¥æœ‰è€…æ ‡è¯†ï¼Œå³ä»»ä½•å®¢æˆ·ç«¯éƒ½å¯ä»¥è§£é”ã€‚</p><h3 id="è§£é”ä»£ç "><a href="#è§£é”ä»£ç " class="headerlink" title="è§£é”ä»£ç "></a>è§£é”ä»£ç </h3><h4 id="æ­£ç¡®å§¿åŠ¿-1"><a href="#æ­£ç¡®å§¿åŠ¿-1" class="headerlink" title="æ­£ç¡®å§¿åŠ¿"></a>æ­£ç¡®å§¿åŠ¿</h4><p>è¿˜æ˜¯å…ˆå±•ç¤ºä»£ç ï¼Œå†å¸¦å¤§å®¶æ…¢æ…¢è§£é‡Šä¸ºä»€ä¹ˆè¿™æ ·å®ç°ï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RedisTool</span> </span>&#123;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Long RELEASE_SUCCESS = <span class="hljs-number">1L</span>;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * é‡Šæ”¾åˆ†å¸ƒå¼é”</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> jedis Rediså®¢æˆ·ç«¯</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> lockKey é”</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> requestId è¯·æ±‚æ ‡è¯†</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> æ˜¯å¦é‡Šæ”¾æˆåŠŸ</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">releaseDistributedLock</span><span class="hljs-params">(Jedis jedis, String lockKey, String requestId)</span> </span>&#123;        String script = <span class="hljs-string">"if redis.call('get', KEYS[1]) == ARGV[1] then return redis.call('del', KEYS[1]) else return 0 end"</span>;        Object result = jedis.eval(script, Collections.singletonList(lockKey), Collections.singletonList(requestId));        <span class="hljs-keyword">if</span> (RELEASE_SUCCESS.equals(result)) &#123;            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;        &#125;        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;    &#125;&#125;</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬è§£é”åªéœ€è¦ä¸¤è¡Œä»£ç å°±æå®šäº†ï¼ç¬¬ä¸€è¡Œä»£ç ï¼Œæˆ‘ä»¬å†™äº†ä¸€ä¸ªç®€å•çš„Luaè„šæœ¬ä»£ç ï¼Œä¸Šä¸€æ¬¡è§åˆ°è¿™ä¸ªç¼–ç¨‹è¯­è¨€è¿˜æ˜¯åœ¨ã€Šé»‘å®¢ä¸ç”»å®¶ã€‹é‡Œï¼Œæ²¡æƒ³åˆ°è¿™æ¬¡å±…ç„¶ç”¨ä¸Šäº†ã€‚ç¬¬äºŒè¡Œä»£ç ï¼Œæˆ‘ä»¬å°†Luaä»£ç ä¼ åˆ°jedis.eval()æ–¹æ³•é‡Œï¼Œå¹¶ä½¿å‚æ•°KEYS[1]èµ‹å€¼ä¸ºlockKeyï¼ŒARGV[1]èµ‹å€¼ä¸ºrequestIdã€‚eval()æ–¹æ³•æ˜¯å°†Luaä»£ç äº¤ç»™RedisæœåŠ¡ç«¯æ‰§è¡Œã€‚</p><p>é‚£ä¹ˆè¿™æ®µLuaä»£ç çš„åŠŸèƒ½æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå…¶å®å¾ˆç®€å•ï¼Œé¦–å…ˆè·å–é”å¯¹åº”çš„valueå€¼ï¼Œæ£€æŸ¥æ˜¯å¦ä¸requestIdç›¸ç­‰ï¼Œå¦‚æœç›¸ç­‰åˆ™åˆ é™¤é”ï¼ˆè§£é”ï¼‰ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆè¦ä½¿ç”¨Luaè¯­è¨€æ¥å®ç°å‘¢ï¼Ÿå› ä¸ºè¦ç¡®ä¿ä¸Šè¿°æ“ä½œæ˜¯åŸå­æ€§çš„ã€‚å…³äºéåŸå­æ€§ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜ï¼Œå¯ä»¥é˜…è¯»ã€è§£é”ä»£ç -é”™è¯¯ç¤ºä¾‹2ã€‘ ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆæ‰§è¡Œeval()æ–¹æ³•å¯ä»¥ç¡®ä¿åŸå­æ€§ï¼ŒæºäºRedisçš„ç‰¹æ€§ï¼Œä¸‹é¢æ˜¯å®˜ç½‘å¯¹evalå‘½ä»¤çš„éƒ¨åˆ†è§£é‡Šï¼š</p><p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯åœ¨evalå‘½ä»¤æ‰§è¡ŒLuaä»£ç çš„æ—¶å€™ï¼ŒLuaä»£ç å°†è¢«å½“æˆä¸€ä¸ªå‘½ä»¤å»æ‰§è¡Œï¼Œå¹¶ä¸”ç›´åˆ°evalå‘½ä»¤æ‰§è¡Œå®Œæˆï¼ŒRedisæ‰ä¼šæ‰§è¡Œå…¶ä»–å‘½ä»¤ã€‚</p><h4 id="é”™è¯¯ç¤ºä¾‹1-1"><a href="#é”™è¯¯ç¤ºä¾‹1-1" class="headerlink" title="é”™è¯¯ç¤ºä¾‹1"></a>é”™è¯¯ç¤ºä¾‹1</h4><p>æœ€å¸¸è§çš„è§£é”ä»£ç å°±æ˜¯ç›´æ¥ä½¿ç”¨jedis.del()æ–¹æ³•åˆ é™¤é”ï¼Œè¿™ç§ä¸å…ˆåˆ¤æ–­é”çš„æ‹¥æœ‰è€…è€Œç›´æ¥è§£é”çš„æ–¹å¼ï¼Œä¼šå¯¼è‡´ä»»ä½•å®¢æˆ·ç«¯éƒ½å¯ä»¥éšæ—¶è¿›è¡Œè§£é”ï¼Œå³ä½¿è¿™æŠŠé”ä¸æ˜¯å®ƒçš„ã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">wrongReleaseLock1</span><span class="hljs-params">(Jedis jedis, String lockKey)</span> </span>&#123;    jedis.del(lockKey);&#125;</code></pre><h4 id="é”™è¯¯ç¤ºä¾‹2-1"><a href="#é”™è¯¯ç¤ºä¾‹2-1" class="headerlink" title="é”™è¯¯ç¤ºä¾‹2"></a>é”™è¯¯ç¤ºä¾‹2</h4><p>è¿™ç§è§£é”ä»£ç ä¹ä¸€çœ‹ä¹Ÿæ˜¯æ²¡é—®é¢˜ï¼Œç”šè‡³æˆ‘ä¹‹å‰ä¹Ÿå·®ç‚¹è¿™æ ·å®ç°ï¼Œä¸æ­£ç¡®å§¿åŠ¿å·®ä¸å¤šï¼Œå”¯ä¸€åŒºåˆ«çš„æ˜¯åˆ†æˆä¸¤æ¡å‘½ä»¤å»æ‰§è¡Œï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">wrongReleaseLock2</span><span class="hljs-params">(Jedis jedis, String lockKey, String requestId)</span> </span>&#123;    <span class="hljs-comment">// åˆ¤æ–­åŠ é”ä¸è§£é”æ˜¯ä¸æ˜¯åŒä¸€ä¸ªå®¢æˆ·ç«¯</span>    <span class="hljs-keyword">if</span> (requestId.equals(jedis.get(lockKey))) &#123;        <span class="hljs-comment">// è‹¥åœ¨æ­¤æ—¶ï¼Œè¿™æŠŠé”çªç„¶ä¸æ˜¯è¿™ä¸ªå®¢æˆ·ç«¯çš„ï¼Œåˆ™ä¼šè¯¯è§£é”</span>        jedis.del(lockKey);    &#125;&#125;</code></pre><p>å¦‚ä»£ç æ³¨é‡Šï¼Œé—®é¢˜åœ¨äºå¦‚æœè°ƒç”¨jedis.del()æ–¹æ³•çš„æ—¶å€™ï¼Œè¿™æŠŠé”å·²ç»ä¸å±äºå½“å‰å®¢æˆ·ç«¯çš„æ—¶å€™ä¼šè§£é™¤ä»–äººåŠ çš„é”ã€‚é‚£ä¹ˆæ˜¯å¦çœŸçš„æœ‰è¿™ç§åœºæ™¯ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œæ¯”å¦‚å®¢æˆ·ç«¯AåŠ é”ï¼Œä¸€æ®µæ—¶é—´ä¹‹åå®¢æˆ·ç«¯Aè§£é”ï¼Œåœ¨æ‰§è¡Œjedis.del()ä¹‹å‰ï¼Œé”çªç„¶è¿‡æœŸäº†ï¼Œæ­¤æ—¶å®¢æˆ·ç«¯Bå°è¯•åŠ é”æˆåŠŸï¼Œç„¶åå®¢æˆ·ç«¯Aå†æ‰§è¡Œdel()æ–¹æ³•ï¼Œåˆ™å°†å®¢æˆ·ç«¯Bçš„é”ç»™è§£é™¤äº†ã€‚</p><hr><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ¬æ–‡ä¸»è¦ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨Javaä»£ç æ­£ç¡®å®ç°Redisåˆ†å¸ƒå¼é”ï¼Œå¯¹äºåŠ é”å’Œè§£é”ä¹Ÿåˆ†åˆ«ç»™å‡ºäº†ä¸¤ä¸ªæ¯”è¾ƒç»å…¸çš„é”™è¯¯ç¤ºä¾‹ã€‚å…¶å®æƒ³è¦é€šè¿‡Rediså®ç°åˆ†å¸ƒå¼é”å¹¶ä¸éš¾ï¼Œåªè¦ä¿è¯èƒ½æ»¡è¶³å¯é æ€§é‡Œçš„å››ä¸ªæ¡ä»¶ã€‚äº’è”ç½‘è™½ç„¶ç»™æˆ‘ä»¬å¸¦æ¥äº†æ–¹ä¾¿ï¼Œåªè¦æœ‰é—®é¢˜å°±å¯ä»¥googleï¼Œç„¶è€Œç½‘ä¸Šçš„ç­”æ¡ˆä¸€å®šæ˜¯å¯¹çš„å—ï¼Ÿå…¶å®ä¸ç„¶ï¼Œæ‰€ä»¥æˆ‘ä»¬æ›´åº”è¯¥æ—¶åˆ»ä¿æŒç€è´¨ç–‘ç²¾ç¥ï¼Œå¤šæƒ³å¤šéªŒè¯ã€‚</p><p>å¦‚æœä½ çš„é¡¹ç›®ä¸­Redisæ˜¯å¤šæœºéƒ¨ç½²çš„ï¼Œé‚£ä¹ˆå¯ä»¥å°è¯•ä½¿ç”¨Redissonå®ç°åˆ†å¸ƒå¼é”ï¼Œè¿™æ˜¯Rediså®˜æ–¹æä¾›çš„Javaç»„ä»¶ã€‚</p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Redis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Redis</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>brewå®‰è£…å¸¸ç”¨è½¯ä»¶</title>
    <link href="/2019/06/12/brew%E5%AE%89%E8%A3%85%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6/"/>
    <url>/2019/06/12/brew%E5%AE%89%E8%A3%85%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6/</url>
    
    <content type="html"><![CDATA[<p>1  å®‰è£…mysql</p><p>a)  brew install mysql</p><p>å®‰è£…å®Œåä¼šæç¤ºï¼š</p><p>To have launchd start mysql now and restart at login:</p><p>  brew services start mysql</p><p>Or, if you donâ€™t want/need a background service you can just run:</p><p>  mysql.server start</p><p>æ ¹æ®éœ€è¦é€‰æ‹©è‡ªå·±è¦çš„</p><p>è¿™æ ·å°±å®‰è£…å®Œäº†ï¼Œæ‰§è¡Œmysql.server startï¼ŒæœåŠ¡å°±èµ·æ¥äº†ï¼Œå¯ä»¥ç”¨</p><p>mysql -uroot è¿›å»çœ‹çœ‹</p> <a id="more"></a><p>ä¹‹å‰è¿˜ä»¥ä¸ºè¦åˆå§‹åŒ–mysqlï¼Œ å®é™…ä¸Šæ˜¯ä¸ç”¨çš„ï¼Œé‚£æ ·åªæ˜¯é‡æ–°åœ¨åˆ«çš„åœ°æ–¹å®‰è£…äº†ä¸€ä¸ªdbèµ·æ¥è€Œå·²</p><p>ä¸è¿‡å¯†ç è¿˜æ˜¯è¦ä¿®æ”¹ä¸€ä¸‹</p><p>cd /usr/local/opt/mysql/</p><p>./bin/mysql_secure_installation </p><p>ç„¶åæŒ‰ç…§æç¤ºè¿›è¡Œä¿®æ”¹å¯†ç å³å¯</p><p>2 å®‰è£…redis</p><p>brew install redis</p><p>To have launchd start redis now and restart at login:</p><p>  brew services start redis</p><p>Or, if you donâ€™t want/need a background service you can just run:</p><p>  redis-server /usr/local/etc/redis.conf</p><p>redis é…ç½®æ–‡ä»¶çš„ä½ç½®<br>/usr/local/etc/redis.conf</p><p>3 å®‰è£…zookeeper</p><p>brew info zookeeper</p><p>brew install zookeeper</p><p>å®‰è£…å®Œæ¯•æç¤ºï¼š</p><p>To have launchd start zookeeper now and restart at login:</p><p>  brew services start zookeeper</p><p>Or, if you donâ€™t want/need a background service you can just run:</p><p>  zkServer start</p><p>é…ç½®æ–‡ä»¶åœ°å€ï¼š</p><p>/usr/local/etc/zookeeper/zoo.cfg </p><p>4 å®‰è£…activemq</p><p>brew install activemq</p><p>To have launchd start activemq now and restart at login:</p><p>  brew services start activemq</p><p>Or, if you donâ€™t want/need a background service you can just run:</p><p>  activemq start</p><p>5 å®‰è£…nginx</p><p>brew info nginx</p><p>brew install nginx</p><p>è£…å®Œä»¥åæç¤ºï¼š</p><p>The default port has been set in /usr/local/etc/nginx/nginx.conf to 8080 so that</p><p>nginx can run without sudo.</p><p>nginx will load all files in /usr/local/etc/nginx/servers/.</p><p>To have launchd start nginx now and restart at login:</p><p>  brew services start nginx</p><p>Or, if you donâ€™t want/need a background service you can just run:</p><p>  nginx</p>]]></content>
    
    
    <categories>
      
      <category>Mac</category>
      
      <category>Homebrew</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Mac</tag>
      
      <tag>Homebrew</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Shadowsocks-Goä¸€é”®å®‰è£…è„šæœ¬</title>
    <link href="/2019/06/11/Shadowsocks-Go%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC/"/>
    <url>/2019/06/11/Shadowsocks-Go%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC/</url>
    
    <content type="html"><![CDATA[<p>æœ¬è„šæœ¬é€‚ç”¨ç¯å¢ƒï¼š<br>ç³»ç»Ÿæ”¯æŒï¼šCentOSï¼ŒDebianï¼ŒUbuntu<br>å†…å­˜è¦æ±‚ï¼šâ‰¥128M </p><p>å…³äºæœ¬è„šæœ¬ï¼š<br>ä¸€é”®å®‰è£… Go ç‰ˆçš„ shadowsocks æœ€æ–°ç‰ˆæœ¬ 1.1.5ã€‚æ®è¯´ go ç‰ˆæœ¬æœ‰ buff ã€‚ä¸ <a href="http://lib.csdn.net/base/python" target="_blank" rel="noopener">Python</a> ç‰ˆä¸åŒçš„æ˜¯ï¼Œå…¶å®¢æˆ·ç«¯ç¨‹åºèƒ½ä½¿ç”¨å¤šä¸ªæœåŠ¡ç«¯é…ç½®ï¼Œæœ¬è„šæœ¬å®‰è£…çš„æ˜¯æœåŠ¡ç«¯ç¨‹åºã€‚ä½œè€…é»˜è®¤æ¨è aes-128-cfb åŠ å¯†ï¼ŒåŸºäºä¸€è‡´æ€§ï¼Œè„šæœ¬ä½¿ç”¨äº† aes-256-cfb åŠ å¯†æ–¹å¼</p><a id="more"></a><p>é»˜è®¤é…ç½®ï¼š<br>æœåŠ¡å™¨ç«¯å£ï¼šè‡ªå·±è®¾å®šï¼ˆå¦‚ä¸è®¾å®šï¼Œé»˜è®¤ä¸º 8989ï¼‰<br>å®¢æˆ·ç«¯ç«¯å£ï¼š1080<br>å¯†ç ï¼šè‡ªå·±è®¾å®šï¼ˆå¦‚ä¸è®¾å®šï¼Œé»˜è®¤ä¸ºteddysun.comï¼‰<br>å®¢æˆ·ç«¯ä¸‹è½½ï¼š<br><a href="https://github.com/shadowsocks/shadowsocks-windows/releases" target="_blank" rel="noopener">https://github.com/shadowsocks/shadowsocks-windows/releases</a><br>ä½¿ç”¨æ–¹æ³•ï¼š<br>ä½¿ç”¨rootç”¨æˆ·ç™»å½•ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š<br>wget â€“no-check-certificate <a href="https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-go.sh" target="_blank" rel="noopener">https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-go.sh</a><br>chmod +x shadowsocks-go.sh<br>./shadowsocks-go.sh 2&gt;&amp;1 | tee shadowsocks-go.log </p><p>å®‰è£…å®Œæˆåï¼Œè„šæœ¬æç¤ºå¦‚ä¸‹ï¼š<br>Congratulations, shadowsocks-go install completed!<br>Your Server IP:your_server_ip<br>Your Server Port:your_server_port<br>Your Password:your_password<br>Your Local Port:1080<br>Your Encryption Method:aes-256-cfb </p><p>Welcome to visit:<a href="https://teddysun.com/392.html" target="_blank" rel="noopener">https://teddysun.com/392.html</a><br>Enjoy it! </p><p>å¸è½½æ–¹æ³•ï¼š<br>ä½¿ç”¨ root ç”¨æˆ·ç™»å½•ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š<br>./shadowsocks-go.sh uninstall </p><p>å…¶ä»–äº‹é¡¹ï¼š<br>å®¢æˆ·ç«¯é…ç½®çš„å‚è€ƒé“¾æ¥ï¼š<a href="https://teddysun.com/339.html" target="_blank" rel="noopener">https://teddysun.com/339.html</a><br>å®‰è£…å®Œæˆåå³å·²åå°å¯åŠ¨ shadowsocks-go ï¼Œè¿è¡Œï¼š<br>/etc/init.d/shadowsocks status </p><p>å¯ä»¥æŸ¥çœ‹ shadowsocks-go è¿›ç¨‹æ˜¯å¦å·²ç»å¯åŠ¨ã€‚<br>æœ¬è„šæœ¬å®‰è£…å®Œæˆåï¼Œå·²å°† shadowsocks-go åŠ å…¥å¼€æœºè‡ªå¯åŠ¨ã€‚<br>ç»Ÿä¸€å›å¤ï¼š<br>åœ¨ Bandwagonhost çš„ VPS ä¸Šå‡ºç° Trace/breakpoint trap ç°è±¡çš„ï¼Œåˆæ­¥è®¤ä¸ºæ˜¯ Bandwagonhost çš„ç³»ç»Ÿé—®é¢˜ã€‚<br>ç»è¿‡<a href="http://lib.csdn.net/base/softwaretest" target="_blank" rel="noopener">æµ‹è¯•</a>å‘ç°ï¼Œå’Œç‰ˆæœ¬å‡çº§æ— å…³ï¼Œå”¯ç‹¬åœ¨ Bandwagonhost æ‰ä¼šå‡ºç°è¿™ä¸ªç°è±¡ã€‚å»ºè®®æ¢æˆ libev ç‰ˆï¼Œæˆ–è€…å°†ç³»ç»Ÿæ¢ä¸º CentOS 7 å¯ä»¥è§£å†³è¯¥é—®é¢˜ã€‚<br>æœ¬äººä¸æ˜¯ Shadowsocks Go ä½œè€…ï¼Œå®‰è£…ç¨‹åºå‡æ¥è‡ªäºè¿™é‡Œã€‚<br>ä½¿ç”¨å‘½ä»¤ï¼š<br>å¯åŠ¨ï¼š/etc/init.d/shadowsocks start<br>åœæ­¢ï¼š/etc/init.d/shadowsocks stop<br>é‡å¯ï¼š/etc/init.d/shadowsocks restart<br>çŠ¶æ€ï¼š/etc/init.d/shadowsocks status<br>å¤šç”¨æˆ·å¤šç«¯å£é…ç½®æ–‡ä»¶ sampleï¼ˆ2015å¹´01æœˆ08æ—¥ï¼‰ï¼š<br>é…ç½®æ–‡ä»¶è·¯å¾„ï¼š/etc/shadowsocks/config.json<br>{<br>â€œport_passwordâ€:{<br>â€œ8989â€:â€password0â€,<br>â€œ9001â€:â€password1â€,<br>â€œ9002â€:â€password2â€,<br>â€œ9003â€:â€password3â€,<br>â€œ9004â€:â€password4â€<br>},<br>â€œmethodâ€:â€aes-256-cfbâ€,<br>â€œtimeoutâ€:600<br>} </p><p>å®˜æ–¹ç‰ˆæœ¬çš„ sample ï¼Œè¯¦è§è¿™é‡Œã€‚<br>æ›´å¤šç‰ˆæœ¬ Shadowsocks æœåŠ¡ç«¯ä¸€é”®å®‰è£…è„šæœ¬ï¼š<br>ShadowsocksR ç‰ˆä¸€é”®å®‰è£…è„šæœ¬ï¼ˆCentOSï¼ŒDebianï¼ŒUbuntuï¼‰<br>Shadowsocks Python ç‰ˆä¸€é”®å®‰è£…è„šæœ¬ï¼ˆCentOSï¼ŒDebianï¼ŒUbuntuï¼‰<br>CentOS ä¸‹ shadowsocks-libev ä¸€é”®å®‰è£…è„šæœ¬<br>Debian ä¸‹ shadowsocks-libev ä¸€é”®å®‰è£…è„šæœ¬ </p><p>é™„ï¼š</p><pre><code class="hljs go">## <span class="hljs-keyword">go</span>ä¸€é”®å®‰è£…è„šæœ¬ ########################################################################!/usr/bin/env bashPATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/binexport PATH#=================================================================##  System Required:  CentOS, Debian, Ubuntu                      ##  Description: One click Install Shadowsocks-<span class="hljs-keyword">go</span> server          ##  Author: Teddysun &lt;i@teddysun.com&gt;                            ##  Thanks: @cyfdecyf &lt;https:<span class="hljs-comment">//twitter.com/cyfdecyf&gt;              #</span>#  Intro:  https:<span class="hljs-comment">//teddysun.com/392.html                        #</span>#==================================================================clearechoecho <span class="hljs-string">"#############################################################"</span>echo <span class="hljs-string">"# One click Install Shadowsocks-go server                  #"</span>echo <span class="hljs-string">"# Intro: https://teddysun.com/392.html                      #"</span>echo <span class="hljs-string">"# Author: Teddysun &lt;i@teddysun.com&gt;                        #"</span>echo <span class="hljs-string">"# Github: https://github.com/shadowsocks/shadowsocks-go    #"</span>echo <span class="hljs-string">"#############################################################"</span>echo#Current foldercur_dir=<span class="hljs-string">`pwd`</span># Make sure only root can run our scriptrootness()&#123;    <span class="hljs-keyword">if</span> [[ $EUID -ne <span class="hljs-number">0</span> ]]; then      echo <span class="hljs-string">"Error:This script must be run as root!"</span> <span class="hljs-number">1</span>&gt;&amp;<span class="hljs-number">2</span>      exit <span class="hljs-number">1</span>    fi&#125;#Check systemcheck_sys()&#123;    local checkType=$<span class="hljs-number">1</span>    local value=$<span class="hljs-number">2</span>    local release=<span class="hljs-string">''</span>    local systemPackage=<span class="hljs-string">''</span>    <span class="hljs-keyword">if</span> [[ -f /etc/redhat-release ]]; then        release=<span class="hljs-string">"centos"</span>        systemPackage=<span class="hljs-string">"yum"</span>    elif cat /etc/issue | grep -q -E -i <span class="hljs-string">"debian"</span>; then        release=<span class="hljs-string">"debian"</span>        systemPackage=<span class="hljs-string">"apt"</span>    elif cat /etc/issue | grep -q -E -i <span class="hljs-string">"ubuntu"</span>; then        release=<span class="hljs-string">"ubuntu"</span>        systemPackage=<span class="hljs-string">"apt"</span>    elif cat /etc/issue | grep -q -E -i <span class="hljs-string">"centos|red hat|redhat"</span>; then        release=<span class="hljs-string">"centos"</span>        systemPackage=<span class="hljs-string">"yum"</span>    elif cat /proc/version | grep -q -E -i <span class="hljs-string">"debian"</span>; then        release=<span class="hljs-string">"debian"</span>        systemPackage=<span class="hljs-string">"apt"</span>    elif cat /proc/version | grep -q -E -i <span class="hljs-string">"ubuntu"</span>; then        release=<span class="hljs-string">"ubuntu"</span>        systemPackage=<span class="hljs-string">"apt"</span>    elif cat /proc/version | grep -q -E -i <span class="hljs-string">"centos|red hat|redhat"</span>; then        release=<span class="hljs-string">"centos"</span>        systemPackage=<span class="hljs-string">"yum"</span>    fi    <span class="hljs-keyword">if</span> [[ $&#123;checkType&#125; == <span class="hljs-string">"sysRelease"</span> ]]; then        <span class="hljs-keyword">if</span> [ <span class="hljs-string">"$value"</span> == <span class="hljs-string">"$release"</span> ]; then            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>        <span class="hljs-keyword">else</span>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>        fi    elif [[ $&#123;checkType&#125; == <span class="hljs-string">"packageManager"</span> ]]; then        <span class="hljs-keyword">if</span> [ <span class="hljs-string">"$value"</span> == <span class="hljs-string">"$systemPackage"</span> ]; then            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>        <span class="hljs-keyword">else</span>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>        fi    fi&#125;# Get versiongetversion()&#123;    <span class="hljs-keyword">if</span> [[ -s /etc/redhat-release ]]; then        grep -oE  <span class="hljs-string">"[0-9.]+"</span> /etc/redhat-release    <span class="hljs-keyword">else</span>        grep -oE  <span class="hljs-string">"[0-9.]+"</span> /etc/issue    fi&#125;# CentOS versioncentosversion()&#123;    <span class="hljs-keyword">if</span> check_sys sysRelease centos; then        local code=$<span class="hljs-number">1</span>        local version=<span class="hljs-string">"$(getversion)"</span>        local main_ver=$&#123;version%%.*&#125;        <span class="hljs-keyword">if</span> [ <span class="hljs-string">"$main_ver"</span> == <span class="hljs-string">"$code"</span> ]; then            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>        <span class="hljs-keyword">else</span>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>        fi    <span class="hljs-keyword">else</span>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>    fi&#125;# is <span class="hljs-number">64</span>bit or notis_64bit()&#123;    <span class="hljs-keyword">if</span> [ <span class="hljs-string">`getconf WORD_BIT`</span> = <span class="hljs-string">'32'</span> ] &amp;&amp; [ <span class="hljs-string">`getconf LONG_BIT`</span> = <span class="hljs-string">'64'</span> ] ; then        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>    <span class="hljs-keyword">else</span>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>    fi&#125;# Disable selinuxdisable_selinux()&#123;    <span class="hljs-keyword">if</span> [ -s /etc/selinux/config ] &amp;&amp; grep <span class="hljs-string">'SELINUX=enforcing'</span> /etc/selinux/config; then        sed -i <span class="hljs-string">'s/SELINUX=enforcing/SELINUX=disabled/g'</span> /etc/selinux/config        setenforce <span class="hljs-number">0</span>    fi&#125;get_ip()&#123;    local IP=$( ip addr | egrep -o <span class="hljs-string">'[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;'</span> | egrep -v <span class="hljs-string">"^192\.168|^172\.1[6-9]\.|^172\.2[0-9]\.|^172\.3[0-2]\.|^10\.|^127\.|^255\.|^0\."</span> | head -n <span class="hljs-number">1</span> )    [ -z $&#123;IP&#125; ] &amp;&amp; IP=$( wget -qO- -t1 -T2 ipv4.icanhazip.com )    [ -z $&#123;IP&#125; ] &amp;&amp; IP=$( wget -qO- -t1 -T2 ipinfo.io/ip )    [ ! -z $&#123;IP&#125; ] &amp;&amp; echo $&#123;IP&#125; || echo&#125;# Pre-installation settingspre_install()&#123;    <span class="hljs-keyword">if</span> ! check_sys packageManager yum &amp;&amp; ! check_sys packageManager apt; then        echo <span class="hljs-string">"Error: Your OS is not supported. please change OS to CentOS/Debian/Ubuntu and try again."</span>        exit <span class="hljs-number">1</span>    fi    # Set shadowsocks-<span class="hljs-keyword">go</span> config password    echo <span class="hljs-string">"Please input password for shadowsocks-go:"</span>    read -p <span class="hljs-string">"(Default password: teddysun.com):"</span> shadowsockspwd    [ -z <span class="hljs-string">"$&#123;shadowsockspwd&#125;"</span> ] &amp;&amp; shadowsockspwd=<span class="hljs-string">"teddysun.com"</span>    echo    echo <span class="hljs-string">"---------------------------"</span>    echo <span class="hljs-string">"password = $&#123;shadowsockspwd&#125;"</span>    echo <span class="hljs-string">"---------------------------"</span>    echo    # Set shadowsocks-<span class="hljs-keyword">go</span> config port    while <span class="hljs-literal">true</span>    do    echo -e <span class="hljs-string">"Please input port for shadowsocks-go [1-65535]:"</span>    read -p <span class="hljs-string">"(Default port: 8989):"</span> shadowsocksport    [ -z <span class="hljs-string">"$&#123;shadowsocksport&#125;"</span> ] &amp;&amp; shadowsocksport=<span class="hljs-string">"8989"</span>    expr $&#123;shadowsocksport&#125; + <span class="hljs-number">0</span> &amp;&gt;/dev/null    <span class="hljs-keyword">if</span> [ $? -eq <span class="hljs-number">0</span> ]; then        <span class="hljs-keyword">if</span> [ $&#123;shadowsocksport&#125; -ge <span class="hljs-number">1</span> ] &amp;&amp; [ $&#123;shadowsocksport&#125; -le <span class="hljs-number">65535</span> ]; then            echo            echo <span class="hljs-string">"---------------------------"</span>            echo <span class="hljs-string">"port = $&#123;shadowsocksport&#125;"</span>            echo <span class="hljs-string">"---------------------------"</span>            echo            <span class="hljs-keyword">break</span>        <span class="hljs-keyword">else</span>            echo <span class="hljs-string">"Input error, please input correct number"</span>        fi    <span class="hljs-keyword">else</span>        echo <span class="hljs-string">"Input error, please input correct number"</span>    fi    done    get_char()&#123;        SAVEDSTTY=<span class="hljs-string">`stty -g`</span>        stty -echo        stty cbreak        dd <span class="hljs-keyword">if</span>=/dev/tty bs=<span class="hljs-number">1</span> count=<span class="hljs-number">1</span> <span class="hljs-number">2</span>&gt; /dev/null        stty -raw        stty echo        stty $SAVEDSTTY    &#125;    echo    echo <span class="hljs-string">"Press any key to start...or Press Ctrl+C to cancel"</span>    char=<span class="hljs-string">`get_char`</span>    #Install necessary dependencies    <span class="hljs-keyword">if</span> check_sys packageManager yum; then        yum install -y wget unzip gzip curl    elif check_sys packageManager apt; then        apt-get -y update        apt-get install -y wget unzip gzip curl    fi    echo&#125;# Download shadowsocks-<span class="hljs-keyword">go</span>download_files()&#123;    cd $&#123;cur_dir&#125;    <span class="hljs-keyword">if</span> is_64bit; then        <span class="hljs-keyword">if</span> ! wget --no-check-certificate -c https:<span class="hljs-comment">//github.com/shadowsocks/shadowsocks-go/releases/download/1.1.5/shadowsocks-server-linux64-1.1.5.gz; then</span>            echo <span class="hljs-string">"Failed to download shadowsocks-server-linux64-1.1.5.gz"</span>            exit <span class="hljs-number">1</span>        fi        gzip -d shadowsocks-server-linux64<span class="hljs-number">-1.1</span><span class="hljs-number">.5</span>.gz        <span class="hljs-keyword">if</span> [ $? -eq <span class="hljs-number">0</span> ]; then            echo <span class="hljs-string">"Decompress shadowsocks-server-linux64-1.1.5.gz success."</span>        <span class="hljs-keyword">else</span>            echo <span class="hljs-string">"Decompress shadowsocks-server-linux64-1.1.5.gz failed! Please check gzip command."</span>            exit <span class="hljs-number">1</span>        fi        mv -f shadowsocks-server-linux64<span class="hljs-number">-1.1</span><span class="hljs-number">.5</span> /usr/bin/shadowsocks-server    <span class="hljs-keyword">else</span>        <span class="hljs-keyword">if</span> ! wget --no-check-certificate -c https:<span class="hljs-comment">//github.com/shadowsocks/shadowsocks-go/releases/download/1.1.5/shadowsocks-server-linux32-1.1.5.gz; then</span>            echo <span class="hljs-string">"Failed to download shadowsocks-server-linux32-1.1.5.gz"</span>            exit <span class="hljs-number">1</span>        fi        gzip -d shadowsocks-server-linux32<span class="hljs-number">-1.1</span><span class="hljs-number">.5</span>.gz        <span class="hljs-keyword">if</span> [ $? -eq <span class="hljs-number">0</span> ]; then            echo <span class="hljs-string">"Decompress shadowsocks-server-linux32-1.1.5.gz success."</span>        <span class="hljs-keyword">else</span>            echo <span class="hljs-string">"Decompress shadowsocks-server-linux32-1.1.5.gz failed! Please check gzip command."</span>            exit <span class="hljs-number">1</span>        fi        mv -f shadowsocks-server-linux32<span class="hljs-number">-1.1</span><span class="hljs-number">.5</span> /usr/bin/shadowsocks-server    fi    # Download start script    <span class="hljs-keyword">if</span> check_sys packageManager yum; then        <span class="hljs-keyword">if</span> ! wget --no-check-certificate -O /etc/init.d/shadowsocks https:<span class="hljs-comment">//raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-go; then</span>            echo <span class="hljs-string">"Failed to download shadowsocks-go auto start script!"</span>            exit <span class="hljs-number">1</span>        fi    elif check_sys packageManager apt; then        <span class="hljs-keyword">if</span> ! wget --no-check-certificate -O /etc/init.d/shadowsocks https:<span class="hljs-comment">//raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-go-debian; then</span>            echo <span class="hljs-string">"Failed to download shadowsocks-go auto start script!"</span>            exit <span class="hljs-number">1</span>        fi    fi&#125;# Config shadowsocksconfig_shadowsocks()&#123;    <span class="hljs-keyword">if</span> [ ! -d /etc/shadowsocks ]; then        mkdir -p /etc/shadowsocks    fi    cat &gt; /etc/shadowsocks/config.json&lt;&lt;-EOF&#123;    <span class="hljs-string">"server"</span>:<span class="hljs-string">"0.0.0.0"</span>,    <span class="hljs-string">"server_port"</span>:$&#123;shadowsocksport&#125;,    <span class="hljs-string">"local_port"</span>:<span class="hljs-number">1080</span>,    <span class="hljs-string">"password"</span>:<span class="hljs-string">"$&#123;shadowsockspwd&#125;"</span>,    <span class="hljs-string">"method"</span>:<span class="hljs-string">"aes-256-cfb"</span>,    <span class="hljs-string">"timeout"</span>:<span class="hljs-number">600</span>&#125;EOF&#125;# Firewall setfirewall_set()&#123;    echo <span class="hljs-string">"firewall set start..."</span>    <span class="hljs-keyword">if</span> centosversion <span class="hljs-number">6</span>; then        /etc/init.d/iptables status &gt; /dev/null <span class="hljs-number">2</span>&gt;&amp;<span class="hljs-number">1</span>        <span class="hljs-keyword">if</span> [ $? -eq <span class="hljs-number">0</span> ]; then            iptables -L -n | grep -i $&#123;shadowsocksport&#125; &gt; /dev/null <span class="hljs-number">2</span>&gt;&amp;<span class="hljs-number">1</span>            <span class="hljs-keyword">if</span> [ $? -ne <span class="hljs-number">0</span> ]; then                iptables -I INPUT -m state --state NEW -m tcp -p tcp --dport $&#123;shadowsocksport&#125; -j ACCEPT                iptables -I INPUT -m state --state NEW -m udp -p udp --dport $&#123;shadowsocksport&#125; -j ACCEPT                /etc/init.d/iptables save                /etc/init.d/iptables restart            <span class="hljs-keyword">else</span>                echo <span class="hljs-string">"port $&#123;shadowsocksport&#125; has been set up."</span>            fi        <span class="hljs-keyword">else</span>            echo <span class="hljs-string">"WARNING: iptables looks like shutdown or not installed, please manually set it if necessary."</span>        fi    elif centosversion <span class="hljs-number">7</span>; then        systemctl status firewalld &gt; /dev/null <span class="hljs-number">2</span>&gt;&amp;<span class="hljs-number">1</span>        <span class="hljs-keyword">if</span> [ $? -eq <span class="hljs-number">0</span> ]; then            firewall-cmd --permanent --zone=public --add-port=$&#123;shadowsocksport&#125;/tcp            firewall-cmd --permanent --zone=public --add-port=$&#123;shadowsocksport&#125;/udp            firewall-cmd --reload        <span class="hljs-keyword">else</span>            echo <span class="hljs-string">"Firewalld looks like not running, try to start..."</span>            systemctl start firewalld            <span class="hljs-keyword">if</span> [ $? -eq <span class="hljs-number">0</span> ]; then                firewall-cmd --permanent --zone=public --add-port=$&#123;shadowsocksport&#125;/tcp                firewall-cmd --permanent --zone=public --add-port=$&#123;shadowsocksport&#125;/udp                firewall-cmd --reload            <span class="hljs-keyword">else</span>                echo <span class="hljs-string">"WARNING: Try to start firewalld failed. please enable port $&#123;shadowsocksport&#125; manually if necessary."</span>            fi        fi    fi    echo <span class="hljs-string">"firewall set completed..."</span>&#125;# Install Shadowsocks-<span class="hljs-keyword">go</span>install()&#123;    <span class="hljs-keyword">if</span> [ -s /usr/bin/shadowsocks-server ]; then        echo <span class="hljs-string">"shadowsocks-go install success!"</span>        chmod +x /usr/bin/shadowsocks-server        chmod +x /etc/init.d/shadowsocks        <span class="hljs-keyword">if</span> check_sys packageManager yum; then            chkconfig --add shadowsocks            chkconfig shadowsocks on        elif check_sys packageManager apt; then            update-rc.d -f shadowsocks defaults        fi        /etc/init.d/shadowsocks start        <span class="hljs-keyword">if</span> [ $? -eq <span class="hljs-number">0</span> ]; then            echo <span class="hljs-string">"Shadowsocks-go start success!"</span>        <span class="hljs-keyword">else</span>            echo <span class="hljs-string">"Shadowsocks-go start failed!"</span>        fi    <span class="hljs-keyword">else</span>        echo        echo <span class="hljs-string">"Shadowsocks-go install failed!"</span>        exit <span class="hljs-number">1</span>    fi    clear    echo    echo <span class="hljs-string">"Congratulations, Shadowsocks-go install completed!"</span>    echo -e <span class="hljs-string">"Your Server IP: \033[41;37m $(get_ip) \033[0m"</span>    echo -e <span class="hljs-string">"Your Server Port: \033[41;37m $&#123;shadowsocksport&#125; \033[0m"</span>    echo -e <span class="hljs-string">"Your Password: \033[41;37m $&#123;shadowsockspwd&#125; \033[0m"</span>    echo -e <span class="hljs-string">"Your Local Port: \033[41;37m 1080 \033[0m"</span>    echo -e <span class="hljs-string">"Your Encryption Method: \033[41;37m aes-256-cfb \033[0m"</span>    echo    echo <span class="hljs-string">"Welcome to visit:https://teddysun.com/392.html"</span>    echo <span class="hljs-string">"Enjoy it!"</span>    echo&#125;# Uninstall Shadowsocks-<span class="hljs-keyword">go</span>uninstall_shadowsocks_go()&#123;    printf <span class="hljs-string">"Are you sure uninstall shadowsocks-go? (y/n) "</span>    printf <span class="hljs-string">"\n"</span>    read -p <span class="hljs-string">"(Default: n):"</span> answer    [ -z $&#123;answer&#125; ] &amp;&amp; answer=<span class="hljs-string">"n"</span>    <span class="hljs-keyword">if</span> [ <span class="hljs-string">"$&#123;answer&#125;"</span> == <span class="hljs-string">"y"</span> ] || [ <span class="hljs-string">"$&#123;answer&#125;"</span> == <span class="hljs-string">"Y"</span> ]; then        ps -ef | grep -v grep | grep -i <span class="hljs-string">"shadowsocks-server"</span> &gt; /dev/null <span class="hljs-number">2</span>&gt;&amp;<span class="hljs-number">1</span>        <span class="hljs-keyword">if</span> [ $? -eq <span class="hljs-number">0</span> ]; then            /etc/init.d/shadowsocks stop        fi        <span class="hljs-keyword">if</span> check_sys packageManager yum; then            chkconfig --del shadowsocks        elif check_sys packageManager apt; then            update-rc.d -f shadowsocks remove        fi        # <span class="hljs-built_in">delete</span> config file        rm -rf /etc/shadowsocks        # <span class="hljs-built_in">delete</span> shadowsocks        rm -f /etc/init.d/shadowsocks        rm -f /usr/bin/shadowsocks-server        echo <span class="hljs-string">"Shadowsocks-go uninstall success!"</span>    <span class="hljs-keyword">else</span>        echo        echo <span class="hljs-string">"Uninstall cancelled, nothing to do..."</span>        echo    fi&#125;# Install Shadowsocks-<span class="hljs-keyword">go</span>install_shadowsocks_go()&#123;    rootness    disable_selinux    pre_install    download_files    config_shadowsocks    <span class="hljs-keyword">if</span> check_sys packageManager yum; then        firewall_set    fi    install&#125;# Initialization stepaction=$<span class="hljs-number">1</span>[ -z $<span class="hljs-number">1</span> ] &amp;&amp; action=install<span class="hljs-keyword">case</span> <span class="hljs-string">"$action"</span> in    install|uninstall)    $&#123;action&#125;_shadowsocks_go    ;;    *)    echo <span class="hljs-string">"Arguments error! [$&#123;action&#125;]"</span>    echo <span class="hljs-string">"Usage: `basename $0` &#123;install|uninstall&#125;"</span>    ;;esac</code></pre><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Shadowsocks</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Shadowsocks</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Javaæ ¹æ®URLå°†ç½‘é¡µè½¬å­˜ä¸ºPDFæ–‡ä»¶</title>
    <link href="/2019/06/10/Java%E6%A0%B9%E6%8D%AEURL%E5%B0%86%E7%BD%91%E9%A1%B5%E8%BD%AC%E5%AD%98%E4%B8%BAPDF%E6%96%87%E4%BB%B6/"/>
    <url>/2019/06/10/Java%E6%A0%B9%E6%8D%AEURL%E5%B0%86%E7%BD%91%E9%A1%B5%E8%BD%AC%E5%AD%98%E4%B8%BAPDF%E6%96%87%E4%BB%B6/</url>
    
    <content type="html"><![CDATA[<h4 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h4><p>æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š</p><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- urlè½¬pdf --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.xhtmlrenderer<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>flying-saucer-pdf-itext5<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>9.0.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre><a id="more"></a><p>UrlToPdfUtil.javaï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.FileOutputStream;<span class="hljs-keyword">import</span> java.io.OutputStream; <span class="hljs-keyword">import</span> org.xhtmlrenderer.pdf.ITextFontResolver;<span class="hljs-keyword">import</span> org.xhtmlrenderer.pdf.ITextRenderer; <span class="hljs-keyword">import</span> com.itextpdf.text.pdf.BaseFont; <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UrlToPdfUtil</span> </span>&#123;     <span class="hljs-comment">//private static final String OUT_PUT_PDF_PATH = "/home/data/pdf/"; //pdfæ–‡ä»¶çš„å­˜æ”¾è·¯å¾„ï¼ˆLinuxï¼‰</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String OUT_PUT_PDF_PATH = <span class="hljs-string">"C:/Users/Administrator/Desktop/pdf/"</span>; <span class="hljs-comment">//pdfæ–‡ä»¶çš„å­˜æ”¾è·¯å¾„ï¼ˆwindowsï¼‰</span>     <span class="hljs-comment">/**</span><span class="hljs-comment">     * <span class="hljs-doctag">@Title</span> ç½‘é¡µè½¬å­˜ä¸ºPDFæ–‡ä»¶</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> url é“¾æ¥åœ°å€</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> outputFileName è½¬å­˜çš„PDFæ–‡ä»¶å</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">urlToPdf</span><span class="hljs-params">(String url, String outputFileName)</span> </span>&#123;        <span class="hljs-keyword">try</span> &#123;            String folder = outputFileName.substring(<span class="hljs-number">0</span>, <span class="hljs-number">6</span>);            String outputFile = OUT_PUT_PDF_PATH + folder +<span class="hljs-string">"/"</span>+ outputFileName;            java.io.File targetFile = <span class="hljs-keyword">new</span> java.io.File(outputFile);            <span class="hljs-keyword">if</span> (!targetFile.getParentFile().exists()) &#123;                targetFile.getParentFile().mkdirs(); <span class="hljs-comment">// åˆ›å»ºçˆ¶çº§æ–‡ä»¶è·¯å¾„</span>            &#125;            OutputStream os = <span class="hljs-keyword">new</span> FileOutputStream(outputFile);            ITextRenderer renderer = <span class="hljs-keyword">new</span> ITextRenderer();            renderer.setDocument(url);            ITextFontResolver fontResolver = renderer.getFontResolver();            <span class="hljs-comment">//fontResolver.addFont("/usr/share/fonts/chinese/simsun.ttc", BaseFont.IDENTITY_H, BaseFont.EMBEDDED); //Linux</span>            fontResolver.addFont(<span class="hljs-string">"c:/Windows/Fonts/simsun.ttc"</span>, BaseFont.IDENTITY_H, BaseFont.NOT_EMBEDDED); <span class="hljs-comment">//windows</span>            renderer.layout();            renderer.createPDF(os);            os.close();        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;            e.printStackTrace();        &#125;    &#125;         <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;        urlToPdf(<span class="hljs-string">"http://www.lrfun.com/toPdf.html"</span>, <span class="hljs-string">"201905098888888.pdf"</span>);    &#125;&#125;</code></pre><h4 id="æ³¨æ„ç‚¹ï¼š"><a href="#æ³¨æ„ç‚¹ï¼š" class="headerlink" title="æ³¨æ„ç‚¹ï¼š"></a>æ³¨æ„ç‚¹ï¼š</h4><p>1.å­—ä½“é™åˆ¶ï¼Œè¦ä½¿ç”¨simsunå­—ä½“ï¼ˆ<a href="http://www.lrfun.com/uploadfile/file/20190509/2019050915011034736.zip" target="_blank" rel="noopener">å¯ç‚¹å‡»ä¸‹è½½</a>ï¼‰ï¼Œä¸‹è½½è‡ªè¡Œå®‰è£…å§ï¼›</p><p>2.éœ€è¦è½¬ä¸ºPDFçš„ç½‘é¡µï¼Œå¿…é¡»éµå®ˆW3Cæ ‡å‡†ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªæ ‡ç­¾éƒ½å¿…é¡»é—­åˆï¼ˆå¦‚ï¼šimgç­‰æ ‡ç­¾çš„ç»“å°¾å¿…é¡»è¦æ·»åŠ â€œ/â€ï¼‰ï¼Œå¦åˆ™å°±ä¼šæŠ¥é”™ï¼Œè¯¦ç»†è¯·å‚è€ƒæ–‡ä»¶ï¼š<a href="http://www.lrfun.com/toPdf.html" target="_blank" rel="noopener">http://www.lrfun.com/toPdf.html</a></p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>JAVA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JAVA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>HTTPåè®®çŠ¶æ€ç è¯¦è§£</title>
    <link href="/2019/06/10/HTTP%E5%8D%8F%E8%AE%AE%E7%8A%B6%E6%80%81%E7%A0%81%E8%AF%A6%E8%A7%A3/"/>
    <url>/2019/06/10/HTTP%E5%8D%8F%E8%AE%AE%E7%8A%B6%E6%80%81%E7%A0%81%E8%AF%A6%E8%A7%A3/</url>
    
    <content type="html"><![CDATA[<p>å¸¸è§ </p><p>200 â€“ æœåŠ¡å™¨æˆåŠŸè¿”å›ç½‘é¡µ<br>404 â€“ è¯·æ±‚çš„ç½‘é¡µä¸å­˜åœ¨<br>500 â€“ æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ </p><p>0ï¼ˆç‰¹åˆ«è¯´æ˜ï¼‰ </p><p>0è¡¨ç¤ºæ— æ³•è®¿é—®ï¼Œæˆ–è€…è¯´ä¸æœåŠ¡å™¨æ²¡æœ‰è¿æ¥æˆåŠŸï¼Œä½†ä¸ä¸€å®šæ˜¯0å°±è¡¨ç¤ºå¤±è´¥ï¼Œæœ‰äº›æ—¶å€™è®¿é—®æœ¬åœ°èµ„æºæˆåŠŸäº†ä¹Ÿä¼šæ˜¯0ï¼Œæ¯”å¦‚Androidçš„webviewajaxè®¿é—®æœ¬åœ°èµ„æºæ—¶ï¼ŒresponseCodeå°±æ˜¯0ã€‚ </p><a id="more"></a><p>1xxï¼ˆä¸´æ—¶å“åº”ï¼‰ </p><p>è¡¨ç¤ºä¸´æ—¶å“åº”å¹¶éœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œçš„çŠ¶æ€ä»£ç ã€‚ </p><p>ä»£ç  è¯´æ˜<br>100 ï¼ˆç»§ç»­ï¼‰ è¯·æ±‚è€…åº”å½“ç»§ç»­æå‡ºè¯·æ±‚ã€‚ æœåŠ¡å™¨è¿”å›æ­¤ä»£ç è¡¨ç¤ºå·²æ”¶åˆ°è¯·æ±‚çš„ç¬¬ä¸€éƒ¨åˆ†ï¼Œæ­£åœ¨ç­‰å¾…å…¶ä½™éƒ¨åˆ†ã€‚<br>101 ï¼ˆåˆ‡æ¢åè®®ï¼‰ è¯·æ±‚è€…å·²è¦æ±‚æœåŠ¡å™¨åˆ‡æ¢åè®®ï¼ŒæœåŠ¡å™¨å·²ç¡®è®¤å¹¶å‡†å¤‡åˆ‡æ¢ã€‚ </p><p>2xx ï¼ˆæˆåŠŸï¼‰ </p><p>è¡¨ç¤ºæˆåŠŸå¤„ç†äº†è¯·æ±‚çš„çŠ¶æ€ä»£ç ã€‚ </p><p>ä»£ç  è¯´æ˜<br>200 ï¼ˆæˆåŠŸï¼‰ æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†è¯·æ±‚ã€‚ é€šå¸¸ï¼Œè¿™è¡¨ç¤ºæœåŠ¡å™¨æä¾›äº†è¯·æ±‚çš„ç½‘é¡µã€‚<br>201 ï¼ˆå·²åˆ›å»ºï¼‰ è¯·æ±‚æˆåŠŸå¹¶ä¸”æœåŠ¡å™¨åˆ›å»ºäº†æ–°çš„èµ„æºã€‚<br>202 ï¼ˆå·²æ¥å—ï¼‰ æœåŠ¡å™¨å·²æ¥å—è¯·æ±‚ï¼Œä½†å°šæœªå¤„ç†ã€‚<br>203 ï¼ˆéæˆæƒä¿¡æ¯ï¼‰ æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†è¿”å›çš„ä¿¡æ¯å¯èƒ½æ¥è‡ªå¦ä¸€æ¥æºã€‚<br>204 ï¼ˆæ— å†…å®¹ï¼‰ æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹ã€‚<br>205 ï¼ˆé‡ç½®å†…å®¹ï¼‰ æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹ã€‚<br>206 ï¼ˆéƒ¨åˆ†å†…å®¹ï¼‰ æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†éƒ¨åˆ† GET è¯·æ±‚ã€‚ </p><p>3xx ï¼ˆé‡å®šå‘ï¼‰ </p><p>è¡¨ç¤ºè¦å®Œæˆè¯·æ±‚ï¼Œéœ€è¦è¿›ä¸€æ­¥æ“ä½œã€‚ é€šå¸¸ï¼Œè¿™äº›çŠ¶æ€ä»£ç ç”¨æ¥é‡å®šå‘ã€‚ </p><p>ä»£ç  è¯´æ˜<br>300 ï¼ˆå¤šç§é€‰æ‹©ï¼‰ é’ˆå¯¹è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¯æ‰§è¡Œå¤šç§æ“ä½œã€‚ æœåŠ¡å™¨å¯æ ¹æ®è¯·æ±‚è€… (user agent) é€‰æ‹©ä¸€é¡¹æ“ä½œï¼Œæˆ–æä¾›æ“ä½œåˆ—è¡¨ä¾›è¯·æ±‚è€…é€‰æ‹©ã€‚<br>301 ï¼ˆæ°¸ä¹…ç§»åŠ¨ï¼‰ è¯·æ±‚çš„ç½‘é¡µå·²æ°¸ä¹…ç§»åŠ¨åˆ°æ–°ä½ç½®ã€‚ æœåŠ¡å™¨è¿”å›æ­¤å“åº”ï¼ˆå¯¹ GET æˆ– HEAD è¯·æ±‚çš„å“åº”ï¼‰æ—¶ï¼Œä¼šè‡ªåŠ¨å°†è¯·æ±‚è€…è½¬åˆ°æ–°ä½ç½®ã€‚<br>302 ï¼ˆä¸´æ—¶ç§»åŠ¨ï¼‰ æœåŠ¡å™¨ç›®å‰ä»ä¸åŒä½ç½®çš„ç½‘é¡µå“åº”è¯·æ±‚ï¼Œä½†è¯·æ±‚è€…åº”ç»§ç»­ä½¿ç”¨åŸæœ‰ä½ç½®æ¥è¿›è¡Œä»¥åçš„è¯·æ±‚ã€‚<br>303 ï¼ˆæŸ¥çœ‹å…¶ä»–ä½ç½®ï¼‰ è¯·æ±‚è€…åº”å½“å¯¹ä¸åŒçš„ä½ç½®ä½¿ç”¨å•ç‹¬çš„ GET è¯·æ±‚æ¥æ£€ç´¢å“åº”æ—¶ï¼ŒæœåŠ¡å™¨è¿”å›æ­¤ä»£ç ã€‚<br>304 ï¼ˆæœªä¿®æ”¹ï¼‰ è‡ªä»ä¸Šæ¬¡è¯·æ±‚åï¼Œè¯·æ±‚çš„ç½‘é¡µæœªä¿®æ”¹è¿‡ã€‚ æœåŠ¡å™¨è¿”å›æ­¤å“åº”æ—¶ï¼Œä¸ä¼šè¿”å›ç½‘é¡µå†…å®¹ã€‚<br>305 ï¼ˆä½¿ç”¨ä»£ç†ï¼‰ è¯·æ±‚è€…åªèƒ½ä½¿ç”¨ä»£ç†è®¿é—®è¯·æ±‚çš„ç½‘é¡µã€‚ å¦‚æœæœåŠ¡å™¨è¿”å›æ­¤å“åº”ï¼Œè¿˜è¡¨ç¤ºè¯·æ±‚è€…åº”ä½¿ç”¨ä»£ç†ã€‚<br>307 ï¼ˆä¸´æ—¶é‡å®šå‘ï¼‰ æœåŠ¡å™¨ç›®å‰ä»ä¸åŒä½ç½®çš„ç½‘é¡µå“åº”è¯·æ±‚ï¼Œä½†è¯·æ±‚è€…åº”ç»§ç»­ä½¿ç”¨åŸæœ‰ä½ç½®æ¥è¿›è¡Œä»¥åçš„è¯·æ±‚ã€‚ </p><p>4xxï¼ˆè¯·æ±‚é”™è¯¯ï¼‰ </p><p>è¿™äº›çŠ¶æ€ä»£ç è¡¨ç¤ºè¯·æ±‚å¯èƒ½å‡ºé”™ï¼Œå¦¨ç¢äº†æœåŠ¡å™¨çš„å¤„ç†ã€‚ </p><p>ä»£ç  è¯´æ˜<br>400 ï¼ˆé”™è¯¯è¯·æ±‚ï¼‰ æœåŠ¡å™¨ä¸ç†è§£è¯·æ±‚çš„è¯­æ³•ã€‚<br>401 ï¼ˆæœªæˆæƒï¼‰ è¯·æ±‚è¦æ±‚èº«ä»½éªŒè¯ã€‚ å¯¹äºéœ€è¦ç™»å½•çš„ç½‘é¡µï¼ŒæœåŠ¡å™¨å¯èƒ½è¿”å›æ­¤å“åº”ã€‚<br>403 ï¼ˆç¦æ­¢ï¼‰ æœåŠ¡å™¨æ‹’ç»è¯·æ±‚ã€‚<br>404 ï¼ˆæœªæ‰¾åˆ°ï¼‰ æœåŠ¡å™¨æ‰¾ä¸åˆ°è¯·æ±‚çš„ç½‘é¡µã€‚<br>405 ï¼ˆæ–¹æ³•ç¦ç”¨ï¼‰ ç¦ç”¨è¯·æ±‚ä¸­æŒ‡å®šçš„æ–¹æ³•ã€‚<br>406 ï¼ˆä¸æ¥å—ï¼‰ æ— æ³•ä½¿ç”¨è¯·æ±‚çš„å†…å®¹ç‰¹æ€§å“åº”è¯·æ±‚çš„ç½‘é¡µã€‚<br>407 ï¼ˆéœ€è¦ä»£ç†æˆæƒï¼‰ æ­¤çŠ¶æ€ä»£ç ä¸ 401ï¼ˆæœªæˆæƒï¼‰ç±»ä¼¼ï¼Œä½†æŒ‡å®šè¯·æ±‚è€…åº”å½“æˆæƒä½¿ç”¨ä»£ç†ã€‚<br>408 ï¼ˆè¯·æ±‚è¶…æ—¶ï¼‰ æœåŠ¡å™¨ç­‰å€™è¯·æ±‚æ—¶å‘ç”Ÿè¶…æ—¶ã€‚<br>409 ï¼ˆå†²çªï¼‰ æœåŠ¡å™¨åœ¨å®Œæˆè¯·æ±‚æ—¶å‘ç”Ÿå†²çªã€‚ æœåŠ¡å™¨å¿…é¡»åœ¨å“åº”ä¸­åŒ…å«æœ‰å…³å†²çªçš„ä¿¡æ¯ã€‚<br>410 ï¼ˆå·²åˆ é™¤ï¼‰ å¦‚æœè¯·æ±‚çš„èµ„æºå·²æ°¸ä¹…åˆ é™¤ï¼ŒæœåŠ¡å™¨å°±ä¼šè¿”å›æ­¤å“åº”ã€‚<br>411 ï¼ˆéœ€è¦æœ‰æ•ˆé•¿åº¦ï¼‰ æœåŠ¡å™¨ä¸æ¥å—ä¸å«æœ‰æ•ˆå†…å®¹é•¿åº¦æ ‡å¤´å­—æ®µçš„è¯·æ±‚ã€‚<br>412 ï¼ˆæœªæ»¡è¶³å‰ææ¡ä»¶ï¼‰ æœåŠ¡å™¨æœªæ»¡è¶³è¯·æ±‚è€…åœ¨è¯·æ±‚ä¸­è®¾ç½®çš„å…¶ä¸­ä¸€ä¸ªå‰ææ¡ä»¶ã€‚<br>413 ï¼ˆè¯·æ±‚å®ä½“è¿‡å¤§ï¼‰ æœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚ï¼Œå› ä¸ºè¯·æ±‚å®ä½“è¿‡å¤§ï¼Œè¶…å‡ºæœåŠ¡å™¨çš„å¤„ç†èƒ½åŠ›ã€‚<br>414 ï¼ˆè¯·æ±‚çš„ URI è¿‡é•¿ï¼‰ è¯·æ±‚çš„ URIï¼ˆé€šå¸¸ä¸ºç½‘å€ï¼‰è¿‡é•¿ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†ã€‚<br>415 ï¼ˆä¸æ”¯æŒçš„åª’ä½“ç±»å‹ï¼‰ è¯·æ±‚çš„æ ¼å¼ä¸å—è¯·æ±‚é¡µé¢çš„æ”¯æŒã€‚<br>416 ï¼ˆè¯·æ±‚èŒƒå›´ä¸ç¬¦åˆè¦æ±‚ï¼‰ å¦‚æœé¡µé¢æ— æ³•æä¾›è¯·æ±‚çš„èŒƒå›´ï¼Œåˆ™æœåŠ¡å™¨ä¼šè¿”å›æ­¤çŠ¶æ€ä»£ç ã€‚<br>417 ï¼ˆæœªæ»¡è¶³æœŸæœ›å€¼ï¼‰ æœåŠ¡å™¨æœªæ»¡è¶³â€æœŸæœ›â€è¯·æ±‚æ ‡å¤´å­—æ®µçš„è¦æ±‚ã€‚ </p><p>5xxï¼ˆæœåŠ¡å™¨é”™è¯¯ï¼‰ </p><p>è¿™äº›çŠ¶æ€ä»£ç è¡¨ç¤ºæœåŠ¡å™¨åœ¨å°è¯•å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿå†…éƒ¨é”™è¯¯ã€‚ è¿™äº›é”™è¯¯å¯èƒ½æ˜¯æœåŠ¡å™¨æœ¬èº«çš„é”™è¯¯ï¼Œè€Œä¸æ˜¯è¯·æ±‚å‡ºé”™ã€‚ </p><p>ä»£ç  è¯´æ˜<br>500 ï¼ˆæœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼‰ æœåŠ¡å™¨é‡åˆ°é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚ã€‚<br>501 ï¼ˆå°šæœªå®æ–½ï¼‰ æœåŠ¡å™¨ä¸å…·å¤‡å®Œæˆè¯·æ±‚çš„åŠŸèƒ½ã€‚ ä¾‹å¦‚ï¼ŒæœåŠ¡å™¨æ— æ³•è¯†åˆ«è¯·æ±‚æ–¹æ³•æ—¶å¯èƒ½ä¼šè¿”å›æ­¤ä»£ç ã€‚<br>502 ï¼ˆé”™è¯¯ç½‘å…³ï¼‰ æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°æ— æ•ˆå“åº”ã€‚<br>503 ï¼ˆæœåŠ¡ä¸å¯ç”¨ï¼‰ æœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨ï¼ˆç”±äºè¶…è½½æˆ–åœæœºç»´æŠ¤ï¼‰ã€‚ é€šå¸¸ï¼Œè¿™åªæ˜¯æš‚æ—¶çŠ¶æ€ã€‚<br>504 ï¼ˆç½‘å…³è¶…æ—¶ï¼‰ æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä½†æ˜¯æ²¡æœ‰åŠæ—¶ä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ã€‚<br>505 ï¼ˆHTTP ç‰ˆæœ¬ä¸å—æ”¯æŒï¼‰ æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚ä¸­æ‰€ç”¨çš„ HTTP åè®®ç‰ˆæœ¬ã€‚ </p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Http</category>
      
      <category>Status</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Http</tag>
      
      <tag>Status</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MongoDBå¤šæ•°æ®æºé…ç½®</title>
    <link href="/2019/06/10/MongoDB%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90%E9%85%8D%E7%BD%AE/"/>
    <url>/2019/06/10/MongoDB%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90%E9%85%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<p>SpringBootå¯¹å¸¸ç”¨çš„æ•°æ®åº“æ”¯æŒå¤–ï¼Œå¯¹NoSQL æ•°æ®åº“ä¹Ÿè¿›è¡Œäº†å°è£…è‡ªåŠ¨åŒ–ã€‚<br>è¿™ä¸€ç¯‡ä¸»è¦è®²springbootä¸mongoå¤šæ•°æ®æºç›¸å…³çš„é…ç½®</p><h3 id="1ã€mongoçš„ä»‹ç»"><a href="#1ã€mongoçš„ä»‹ç»" class="headerlink" title="1ã€mongoçš„ä»‹ç»"></a>1ã€mongoçš„ä»‹ç»</h3><p>MongoDBæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½ï¼Œå¼€æºï¼Œæ— æ¨¡å¼çš„æ–‡æ¡£å‹æ•°æ®åº“ï¼Œæ˜¯å½“å‰NoSqlæ•°æ®åº“ä¸­æ¯”è¾ƒçƒ­é—¨çš„ä¸€ç§ã€‚å®ƒåœ¨è®¸å¤šåœºæ™¯ä¸‹å¯ç”¨äºæ›¿ä»£ä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“æˆ–é”®/å€¼å­˜å‚¨æ–¹å¼,è¿™é‡Œä¸å†å¤šåšè¯´æ˜ã€‚è¯¦ç»†ä»‹ç»å‚è€ƒ<br><a href="http://blog.csdn.net/liusong0605/article/details/10554395" target="_blank" rel="noopener">mongoå…¥é—¨</a></p><a id="more"></a><h3 id="2ã€é¡¹ç›®æ„å»º"><a href="#2ã€é¡¹ç›®æ„å»º" class="headerlink" title="2ã€é¡¹ç›®æ„å»º"></a>2ã€é¡¹ç›®æ„å»º</h3><p>æ·»åŠ pomæ–‡ä»¶</p><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-mongodb<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre><h3 id="3ã€åœ¨application-propertiesä¸­æ·»åŠ é…ç½®"><a href="#3ã€åœ¨application-propertiesä¸­æ·»åŠ é…ç½®" class="headerlink" title="3ã€åœ¨application.propertiesä¸­æ·»åŠ é…ç½®"></a>3ã€åœ¨application.propertiesä¸­æ·»åŠ é…ç½®</h3><pre><code class="hljs properties"><span class="hljs-comment">##start mongodb for basic</span><span class="hljs-comment">#----------------------------------------------</span><span class="hljs-meta">basic.mongodb.host</span>= <span class="hljs-string">127.0.0.1</span><span class="hljs-meta">basic.mongodb.port</span>= <span class="hljs-string">27017</span><span class="hljs-meta">basic.mongodb.database</span>= <span class="hljs-string">basic</span><span class="hljs-comment">#----------------------------------------------</span><span class="hljs-comment">##end mongodb for spirit</span><span class="hljs-comment">##start mongodb for basic</span><span class="hljs-comment">#----------------------------------------------</span><span class="hljs-meta">order.mongodb.host</span>= <span class="hljs-string">127.0.0.2</span><span class="hljs-meta">order.mongodb.port</span>= <span class="hljs-string">27017</span><span class="hljs-meta">order.mongodb.database</span>= <span class="hljs-string">order</span><span class="hljs-comment">#----------------------------------------------</span><span class="hljs-comment">##end mongodb for spirit</span></code></pre><h3 id="4ã€é…ç½®ç›¸åº”çš„æ•°æ®æº"><a href="#4ã€é…ç½®ç›¸åº”çš„æ•°æ®æº" class="headerlink" title="4ã€é…ç½®ç›¸åº”çš„æ•°æ®æº"></a>4ã€é…ç½®ç›¸åº”çš„æ•°æ®æº</h3><p>è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨mongoTemplateè¿™ç§æ¨¡å¼å»åšmongoçš„ç›¸å…³æ“ä½œ</p><p>å…ˆå†™ä¸€ä¸ªåŸºç¡€çš„æŠ½è±¡ç±»</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AbstractMongoConfigure</span> </span>&#123;    <span class="hljs-keyword">private</span> String host, database;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> port;    <span class="hljs-comment">/*</span><span class="hljs-comment">       * Method that creates MongoDbFactory</span><span class="hljs-comment">       * Common to both of the MongoDb connections</span><span class="hljs-comment">       */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> MongoDbFactory <span class="hljs-title">mongoDbFactory</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> SimpleMongoDbFactory(<span class="hljs-keyword">new</span> MongoClient(host, port), database);    &#125;    <span class="hljs-comment">/*</span><span class="hljs-comment">     * Factory method to create the MongoTemplate</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">public</span> MongoTemplate <span class="hljs-title">getMongoTemplate</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception</span>;    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getHost</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> host;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setHost</span><span class="hljs-params">(String host)</span> </span>&#123;        <span class="hljs-keyword">this</span>.host = host;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getDatabase</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> database;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setDatabase</span><span class="hljs-params">(String database)</span> </span>&#123;        <span class="hljs-keyword">this</span>.database = database;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getPort</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> port;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setPort</span><span class="hljs-params">(<span class="hljs-keyword">int</span> port)</span> </span>&#123;        <span class="hljs-keyword">this</span>.port = port;    &#125;&#125;</code></pre><h3 id="3-1-æ¥ä¸‹æ¥ç¬¬ä¸€ä¸ªåº“çš„å°è£…"><a href="#3-1-æ¥ä¸‹æ¥ç¬¬ä¸€ä¸ªåº“çš„å°è£…" class="headerlink" title="3.1)æ¥ä¸‹æ¥ç¬¬ä¸€ä¸ªåº“çš„å°è£…"></a>3.1)æ¥ä¸‹æ¥ç¬¬ä¸€ä¸ªåº“çš„å°è£…</h3><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><span class="hljs-meta">@EnableMongoRepositories</span>(basePackages = &#123;<span class="hljs-string">"com.sunliangliang.service.basic"</span>&#125;, mongoTemplateRef = <span class="hljs-string">"basicMongoTemplate"</span>)<span class="hljs-meta">@ConfigurationProperties</span>(prefix = <span class="hljs-string">"basic.mongodb"</span>)<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BasicMongoConfigure</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractMongoConfigure</span> </span>&#123;    <span class="hljs-meta">@Override</span>    <span class="hljs-meta">@Bean</span>(name = <span class="hljs-string">"basicMongoTemplate"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> MongoTemplate <span class="hljs-title">getMongoTemplate</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> MongoTemplate(mongoDbFactory());    &#125;&#125;</code></pre><p>å…¶ä¸­ basePackages çš„å€¼æ˜¯è¯¥åº“åº”ç”¨äºç›¸åº”çš„åŸºç¡€åŒ…ï¼Œprefixå³ä¸ºç›¸åº”çš„applicationsä¸­çš„é…ç½®å€¼</p><h4 id="3-2-æ¥ä¸‹æ¥ç¬¬ä¸¤ä¸ªåº“çš„å°è£…"><a href="#3-2-æ¥ä¸‹æ¥ç¬¬ä¸¤ä¸ªåº“çš„å°è£…" class="headerlink" title="3.2)æ¥ä¸‹æ¥ç¬¬ä¸¤ä¸ªåº“çš„å°è£…"></a>3.2)æ¥ä¸‹æ¥ç¬¬ä¸¤ä¸ªåº“çš„å°è£…</h4><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><span class="hljs-meta">@EnableMongoRepositories</span>(basePackages = &#123;<span class="hljs-string">"com.sunliangliang.service.order"</span>&#125;, mongoTemplateRef = <span class="hljs-string">"orderMongoTemplate"</span>)<span class="hljs-meta">@ConfigurationProperties</span>(prefix = <span class="hljs-string">"order.mongodb"</span>)<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OrderMongoConfigure</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractMongoConfigure</span></span>&#123;    <span class="hljs-meta">@Primary</span>    <span class="hljs-meta">@Override</span>    <span class="hljs-meta">@Bean</span>(name = <span class="hljs-string">"orderMongoTemplate"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> MongoTemplate <span class="hljs-title">getMongoTemplate</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> MongoTemplate(mongoDbFactory());    &#125;&#125;</code></pre><p>å°è£…å®Œæˆåæ¥ä¸‹æ¥è¿›è¡Œç›¸åº”å®ä½“çš„é…ç½®</p><h3 id="4ã€åˆ›å»ºæ•°æ®å®ä½“"><a href="#4ã€åˆ›å»ºæ•°æ®å®ä½“" class="headerlink" title="4ã€åˆ›å»ºæ•°æ®å®ä½“"></a>4ã€åˆ›å»ºæ•°æ®å®ä½“</h3><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserInfo</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Serializable</span></span>&#123;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">long</span> id;    <span class="hljs-keyword">private</span> String username;    <span class="hljs-keyword">private</span> String password;    <span class="hljs-keyword">private</span> String nickname;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> age;    <span class="hljs-keyword">private</span> String name;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">long</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> id;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setId</span><span class="hljs-params">(<span class="hljs-keyword">long</span> id)</span> </span>&#123;        <span class="hljs-keyword">this</span>.id = id;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getUsername</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> username;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUsername</span><span class="hljs-params">(String username)</span> </span>&#123;        <span class="hljs-keyword">this</span>.username = username;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getPassword</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> password;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setPassword</span><span class="hljs-params">(String password)</span> </span>&#123;        <span class="hljs-keyword">this</span>.password = password;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getNickname</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> nickname;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setNickname</span><span class="hljs-params">(String nickname)</span> </span>&#123;        <span class="hljs-keyword">this</span>.nickname = nickname;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getAge</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> age;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setAge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> age)</span> </span>&#123;        <span class="hljs-keyword">this</span>.age = age;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> name;    &#125;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>&#123;        <span class="hljs-keyword">this</span>.name = name;    &#125;&#125;</code></pre><h3 id="4ã€æ·»åŠ å¯¹å®ä½“çš„æ“ä½œ"><a href="#4ã€æ·»åŠ å¯¹å®ä½“çš„æ“ä½œ" class="headerlink" title="4ã€æ·»åŠ å¯¹å®ä½“çš„æ“ä½œ"></a>4ã€æ·»åŠ å¯¹å®ä½“çš„æ“ä½œ</h3><p>åœ¨è¿™é‡Œæˆ‘å†™äº†ä¸€ä¸ªå…¬ç”¨çš„æ¥å£ç”¨äºåŸºç¡€çš„å¢åˆ æ”¹æŸ¥</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">BaseService</span>&lt;<span class="hljs-title">T</span>&gt; </span>&#123;    <span class="hljs-function">Boolean <span class="hljs-title">save</span><span class="hljs-params">(T entity)</span></span>;    <span class="hljs-function">Boolean <span class="hljs-title">update</span><span class="hljs-params">(T entity)</span></span>;    <span class="hljs-function">Boolean <span class="hljs-title">delete</span><span class="hljs-params">(Long id)</span></span>;    <span class="hljs-function">T <span class="hljs-title">getById</span><span class="hljs-params">(Long id)</span></span>;    <span class="hljs-function">List&lt;T&gt; <span class="hljs-title">listAll</span><span class="hljs-params">()</span></span>;    <span class="hljs-function">List&lt;T&gt; <span class="hljs-title">listAll</span><span class="hljs-params">(T entity)</span></span>;&#125;</code></pre><p>æ¥ä¸‹æ¥æ¥å£çš„å®ç°</p><pre><code class="hljs java"><span class="hljs-meta">@Service</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserInfoService</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">BaseService</span>&lt;<span class="hljs-title">UserInfo</span>&gt;</span>&#123;    <span class="hljs-meta">@Autowired</span>    <span class="hljs-meta">@Qualifier</span>(<span class="hljs-string">"basicMongoTemplate"</span>)    <span class="hljs-keyword">private</span> MongoTemplate mongoTemplate;    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> Boolean <span class="hljs-title">save</span><span class="hljs-params">(UserInfo entity)</span> </span>&#123;        mongoTemplate.save(entity);        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;    &#125;    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> Boolean <span class="hljs-title">update</span><span class="hljs-params">(UserInfo entity)</span> </span>&#123;        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;    &#125;    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> Boolean <span class="hljs-title">delete</span><span class="hljs-params">(Long id)</span> </span>&#123;        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;    &#125;    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> UserInfo <span class="hljs-title">getById</span><span class="hljs-params">(Long id)</span> </span>&#123;        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;    &#125;    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;UserInfo&gt; <span class="hljs-title">listAll</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> mongoTemplate.findAll(UserInfo<span class="hljs-class">.<span class="hljs-keyword">class</span>)</span>;    &#125;    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;UserInfo&gt; <span class="hljs-title">listAll</span><span class="hljs-params">(UserInfo entity)</span> </span>&#123;        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;    &#125;&#125;</code></pre><p>æ³¨æ„æ­¤å¤„@Qualifier(â€œbasicMongoTemplateâ€)ä¸­å³ä¸ºç›¸åº”çš„å…·ä½“å®ç°ç±»ã€‚</p><p>è¿™é‡Œåªå†™äº†æ·»åŠ å’ŒæŸ¥è¯¢åˆ—è¡¨çš„å®ç°ï¼Œå…¶ä»–çš„æŸ¥è¯¢ç›¸åº”çš„apiå³å¯</p><pre><code class="hljs java"><span class="hljs-meta">@RunWith</span>(SpringJUnit4ClassRunner<span class="hljs-class">.<span class="hljs-keyword">class</span>)</span><span class="hljs-class">@<span class="hljs-title">SpringBootTest</span></span><span class="hljs-class"><span class="hljs-title">public</span> <span class="hljs-title">class</span> <span class="hljs-title">UserInfoServiceTest</span> </span>&#123;    <span class="hljs-meta">@Autowired</span>    <span class="hljs-keyword">private</span> UserInfoService userInfoService;    <span class="hljs-meta">@Test</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">save</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;        UserInfo userInfo = <span class="hljs-keyword">new</span> UserInfo();        userInfo.setAge(<span class="hljs-number">23</span>);        userInfo.setId(<span class="hljs-number">1000l</span>);        userInfo.setName(<span class="hljs-string">"ç®¡ç†å‘˜"</span>);        userInfo.setNickname(<span class="hljs-string">"hehe"</span>);        userInfo.setPassword(<span class="hljs-string">"123456"</span>);        userInfo.setUsername(<span class="hljs-string">"admin"</span>);        userInfoService.save(userInfo);    &#125;    <span class="hljs-meta">@Test</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">listAll</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;        userInfoService.listAll();    &#125;&#125;</code></pre><p>è‹¥åº“ä¸å­˜åœ¨ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆç›¸åº”çš„åº“å’Œæ–‡æ¡£</p><p>å¦ä¸€ä¸ªorderç›¸å…³åº“çš„é…ç½®å°±ä¸å†è¿™é‡Œå†™äº†</p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>MongoDB</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MongoDB</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JAVAæ“ä½œMongoDBå·¥å…·ç±»åˆ†äº«</title>
    <link href="/2019/06/10/JAVA%E6%93%8D%E4%BD%9CMongoDB%E5%B7%A5%E5%85%B7%E7%B1%BB%E5%88%86%E4%BA%AB/"/>
    <url>/2019/06/10/JAVA%E6%93%8D%E4%BD%9CMongoDB%E5%B7%A5%E5%85%B7%E7%B1%BB%E5%88%86%E4%BA%AB/</url>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘åšäº†ä¸ªç”¨MongoDBå­˜å‚¨çš„é¡¹ç›®ï¼Œç”±äºMongoDBå¯¹å¼€å‘äººå‘˜ä¸å¼€æ”¾ï¼Œç”±DBAç»Ÿä¸€ç®¡ç†ã€‚å› æ­¤ï¼Œè‡ªå·±æŠ½æ—¶é—´å†™äº†ä¸ªMongoDBçš„æŸ¥è¯¢æœºã€‚ä¾¿äºæŸ¥è¯¢é¡¹ç›®ä¸­çš„æ•°æ®ï¼Œæ–¹ä¾¿ç»´æŠ¤å’Œåˆ†æé—®é¢˜ã€‚æ€»ç»“äº†ä¸€äº›javaæ“ä½œMongoDBçš„æ–¹æ³•ã€‚æœ¬æ–‡æ²¡æœ‰ä½¿ç”¨spring-dataæ¥æ“ä½œMongoDBã€‚è€Œæ˜¯ç›´æ¥ä½¿ç”¨MongoDB for javaçš„åŸå§‹APIã€‚ç°åœ¨ä»‹ç»ä¸€ä¸‹å·¥å…·ç±»ã€‚ </p><h1 id="1-å‡†å¤‡å·¥ä½œ"><a href="#1-å‡†å¤‡å·¥ä½œ" class="headerlink" title="1.å‡†å¤‡å·¥ä½œ"></a>1.å‡†å¤‡å·¥ä½œ</h1><p>MongoDBçš„å®‰è£…ï¼Œä¸å¤šåšä»‹ç»ã€‚ </p><p>MongoDBçš„javaé©±åŠ¨ </p><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mongodb<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mongo-java-driver<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.11.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre><a id="more"></a><h1 id="2-å°è£…å®ä½“ä»‹ç»"><a href="#2-å°è£…å®ä½“ä»‹ç»" class="headerlink" title="2.å°è£…å®ä½“ä»‹ç»"></a>2.å°è£…å®ä½“ä»‹ç»</h1><ul><li><p>MongoDBCursorâ€”â€”MongoDBæ¡ä»¶æŸ¥è¯¢å°è£…å®ä½“ï¼ˆæ”¯æŒlimitï¼Œskipï¼Œsortï¼‰     </p></li><li><p>MongoDBEntityâ€”â€”MongoDBé›†åˆå°è£…å®ä½“     </p></li><li><p>MongoDBUpdateâ€”â€”MongoDBæ›´æ–°å°è£…å®ä½“ </p><p>â€‹    </p></li></ul><p>MongoDBCursor </p><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.mongodb.BasicDBObject;<span class="hljs-keyword">import</span> com.mongodb.DBObject; <span class="hljs-keyword">import</span> java.util.HashMap;<span class="hljs-keyword">import</span> java.util.LinkedHashMap;<span class="hljs-keyword">import</span> java.util.Map; <span class="hljs-comment">/**</span><span class="hljs-comment"> * MongoDBæ¡ä»¶æŸ¥è¯¢å°è£…å®ä½“ï¼ˆæ”¯æŒlimitï¼Œskipï¼Œsortï¼‰</span><span class="hljs-comment"> *</span><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: alex</span><span class="hljs-comment"> * <span class="hljs-doctag">@time</span>: 14-1-21 ä¸‹åˆ5:00</span><span class="hljs-comment"> * <span class="hljs-doctag">@version</span>: 1.0</span><span class="hljs-comment"> */</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MongoDBCursor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">MongoDBEntity</span> </span>&#123;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * skipå±æ€§</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> skip;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * limitå±æ€§</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> limit = <span class="hljs-number">100</span>;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * æ’åºå±æ€§</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">private</span> Map&lt;String, Object&gt; sort = <span class="hljs-keyword">new</span> LinkedHashMap&lt;String, Object&gt;();     <span class="hljs-comment">/**</span><span class="hljs-comment">     * è‡ªå®šä¹‰æŸ¥è¯¢å­—æ®µå±æ€§</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">private</span> Map&lt;String, Object&gt; customFieldMap = <span class="hljs-keyword">new</span> HashMap&lt;String, Object&gt;();     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getSkip</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> skip;    &#125;     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setSkip</span><span class="hljs-params">(<span class="hljs-keyword">int</span> skip)</span> </span>&#123;        <span class="hljs-keyword">this</span>.skip = skip;    &#125;     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getLimit</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> limit;    &#125;     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setLimit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> limit)</span> </span>&#123;        <span class="hljs-keyword">this</span>.limit = limit;    &#125;     <span class="hljs-function"><span class="hljs-keyword">public</span> Map&lt;String, Object&gt; <span class="hljs-title">getSort</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> sort;    &#125;     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setSort</span><span class="hljs-params">(Map&lt;String, Object&gt; sort)</span> </span>&#123;        <span class="hljs-keyword">this</span>.sort = sort;    &#125;     <span class="hljs-function"><span class="hljs-keyword">public</span> DBObject <span class="hljs-title">getSortObject</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.sort == <span class="hljs-keyword">null</span>) &#123;            <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;        &#125;        DBObject dbo = <span class="hljs-keyword">new</span> BasicDBObject();        <span class="hljs-keyword">for</span> (String k : sort.keySet()) &#123;            dbo.put(k, Integer.valueOf(sort.get(k).toString()));        &#125;        <span class="hljs-keyword">return</span> dbo;    &#125;     <span class="hljs-function"><span class="hljs-keyword">public</span> Map&lt;String, Object&gt; <span class="hljs-title">getCustomFieldMap</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> customFieldMap;    &#125;     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setCustomFieldMap</span><span class="hljs-params">(Map&lt;String, Object&gt; customFieldMap)</span> </span>&#123;        <span class="hljs-keyword">this</span>.customFieldMap = customFieldMap;    &#125;&#125;</code></pre><p> MongoDBEntity </p><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.mongodb.DB; <span class="hljs-keyword">import</span> java.util.Map; <span class="hljs-comment">/**</span><span class="hljs-comment"> * MongoDBé›†åˆå°è£…å®ä½“</span><span class="hljs-comment"> *</span><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: alex</span><span class="hljs-comment"> * <span class="hljs-doctag">@time</span>: 14-1-20 ä¸‹åˆ2:57</span><span class="hljs-comment"> * <span class="hljs-doctag">@version</span>: 1.0</span><span class="hljs-comment"> */</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MongoDBEntity</span> </span>&#123;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * mongoæ•°æ®åº“</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">private</span> DB db;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * é›†åˆåå­—</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">private</span> String collectionName;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * å­—æ®µå°è£…Map</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">private</span> Map&lt;String,Object&gt; fieldMap;     <span class="hljs-function"><span class="hljs-keyword">public</span> DB <span class="hljs-title">getDb</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> db;    &#125;     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setDb</span><span class="hljs-params">(DB db)</span> </span>&#123;        <span class="hljs-keyword">this</span>.db = db;    &#125;     <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getCollectionName</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> collectionName;    &#125;     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setCollectionName</span><span class="hljs-params">(String collectionName)</span> </span>&#123;        <span class="hljs-keyword">this</span>.collectionName = collectionName;    &#125;     <span class="hljs-function"><span class="hljs-keyword">public</span> Map&lt;String, Object&gt; <span class="hljs-title">getFieldMap</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> fieldMap;    &#125;     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setFieldMap</span><span class="hljs-params">(Map&lt;String, Object&gt; fieldMap)</span> </span>&#123;        <span class="hljs-keyword">this</span>.fieldMap = fieldMap;    &#125;&#125;</code></pre><p>MongoDBUpdate  </p><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.Map; <span class="hljs-comment">/**</span><span class="hljs-comment"> * MongoDBæ›´æ–°å°è£…å®ä½“</span><span class="hljs-comment"> *</span><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: alex</span><span class="hljs-comment"> * <span class="hljs-doctag">@time</span>: 14-1-21 ä¸‹åˆ5:00</span><span class="hljs-comment"> * <span class="hljs-doctag">@version</span>: 1.0</span><span class="hljs-comment"> */</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MongoDBUpdate</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">MongoDBEntity</span> </span>&#123;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * whereæŸ¥è¯¢Map</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">private</span> Map&lt;String, Object&gt; whereMap;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * valueæŸ¥è¯¢Map</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">private</span> Map&lt;String, Object&gt; valueMap;     <span class="hljs-function"><span class="hljs-keyword">public</span> Map&lt;String, Object&gt; <span class="hljs-title">getWhereMap</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> whereMap;    &#125;     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setWhereMap</span><span class="hljs-params">(Map&lt;String, Object&gt; whereMap)</span> </span>&#123;        <span class="hljs-keyword">this</span>.whereMap = whereMap;    &#125;     <span class="hljs-function"><span class="hljs-keyword">public</span> Map&lt;String, Object&gt; <span class="hljs-title">getValueMap</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> valueMap;    &#125;     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setValueMap</span><span class="hljs-params">(Map&lt;String, Object&gt; valueMap)</span> </span>&#123;        <span class="hljs-keyword">this</span>.valueMap = valueMap;    &#125;&#125;</code></pre><h1 id="3-MongoDBæ“ä½œç±»"><a href="#3-MongoDBæ“ä½œç±»" class="headerlink" title="3.MongoDBæ“ä½œç±»"></a>3.MongoDBæ“ä½œç±»</h1><ul><li>MongoDBCommonUtilâ€”â€”MongoDBé›†åˆæ“ä½œå·¥ä½œç±»     </li><li>MongoDBUtilâ€”â€”MongoDBCRUDæ“ä½œå°è£…å·¥å…·ç±»     </li></ul><p>MongoDBCommonUtil </p><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.mongodb.*;<span class="hljs-keyword">import</span> org.bson.types.BasicBSONList;<span class="hljs-keyword">import</span> org.bson.types.ObjectId; <span class="hljs-keyword">import</span> java.util.*; <span class="hljs-comment">/**</span><span class="hljs-comment"> * MongoDBCRUDæ“ä½œå°è£…å·¥å…·ç±»</span><span class="hljs-comment"> *</span><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: alex</span><span class="hljs-comment"> * <span class="hljs-doctag">@time</span>: 14-1-21 ä¸‹åˆ3:16</span><span class="hljs-comment"> * <span class="hljs-doctag">@version</span>: 1.0</span><span class="hljs-comment"> */</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MongoDBUtil</span> </span>&#123;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * æŒ‰ä¸»é”®æŸ¥è¯¢å•ä¸ªå®ä½“</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> id            ä¸»é”®</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBCursor æŸ¥è¯¢å®ä½“</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> DBObject</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> DBObject <span class="hljs-title">findById</span><span class="hljs-params">(MongoDBCursor mongoDBCursor, String id)</span> </span>&#123;        Map&lt;String, Object&gt; map = <span class="hljs-keyword">new</span> HashMap&lt;String, Object&gt;();        map.put(<span class="hljs-string">"_id"</span>, <span class="hljs-keyword">new</span> ObjectId(id));        mongoDBCursor.setFieldMap(map);        <span class="hljs-keyword">return</span> findOne(mongoDBCursor);    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * æŒ‰æ¡ä»¶æŸ¥è¯¢å•ä¸ª</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBCursor æŸ¥è¯¢å®ä½“</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> DBObject</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> DBObject <span class="hljs-title">findOne</span><span class="hljs-params">(MongoDBCursor mongoDBCursor)</span> </span>&#123;        DBObject dbObject = getMapped(mongoDBCursor.getFieldMap());        <span class="hljs-keyword">return</span> MongoDBCommonUtil.getCollection(mongoDBCursor).findOne(dbObject);    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * æŸ¥è¯¢å…¨éƒ¨</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBCursor æŸ¥è¯¢å®ä½“</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;DBObject&gt; <span class="hljs-title">findAll</span><span class="hljs-params">(MongoDBCursor mongoDBCursor)</span> </span>&#123;        mongoDBCursor.setFieldMap(<span class="hljs-keyword">new</span> HashMap&lt;String, Object&gt;());        <span class="hljs-keyword">return</span> find(mongoDBCursor);    &#125;      <span class="hljs-comment">/**</span><span class="hljs-comment">     * æŒ‰æ¡ä»¶æŸ¥è¯¢</span><span class="hljs-comment">     * æ”¯æŒskipï¼Œlimit,sort</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBCursor æŸ¥è¯¢å®ä½“</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;DBObject&gt; <span class="hljs-title">find</span><span class="hljs-params">(MongoDBCursor mongoDBCursor)</span> </span>&#123;        DBObject dbObject = getMapped(mongoDBCursor.getFieldMap());        BasicDBObjectBuilder customField = <span class="hljs-keyword">null</span>;        <span class="hljs-comment">//è‡ªå®šä¹‰æŸ¥è¯¢å­—æ®µ</span>        <span class="hljs-keyword">if</span>(mongoDBCursor.getCustomFieldMap() != <span class="hljs-keyword">null</span> &amp;&amp; mongoDBCursor.getCustomFieldMap().size() &gt; <span class="hljs-number">0</span>) &#123;            customField = <span class="hljs-keyword">new</span> BasicDBObjectBuilder();            <span class="hljs-keyword">for</span>(Map.Entry&lt;String, Object&gt; field : mongoDBCursor.getCustomFieldMap().entrySet()) &#123;                customField.add(field.getKey(),field.getValue());            &#125;        &#125;        <span class="hljs-keyword">return</span> find(mongoDBCursor, dbObject, customField);    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * æŸ¥è¯¢ï¼ˆç§æœ‰æ–¹æ³•,æ£€æŸ¥æ˜¯å¦å«æœ‰skipï¼Œlimitï¼Œsortï¼‰</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> dbObject      æŸ¥è¯¢æ¡ä»¶</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBCursor æŸ¥è¯¢å®ä½“</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> List&lt;DBObject&gt; <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">final</span> MongoDBCursor mongoDBCursor, DBObject dbObject,BasicDBObjectBuilder customField)</span> </span>&#123;        MongoDBCursorPreparer cursorPreparer = mongoDBCursor == <span class="hljs-keyword">null</span> ? <span class="hljs-keyword">null</span> : <span class="hljs-keyword">new</span> MongoDBCursorPreparer() &#123;            <span class="hljs-function"><span class="hljs-keyword">public</span> DBCursor <span class="hljs-title">prepare</span><span class="hljs-params">(DBCursor dbCursor)</span> </span>&#123;                <span class="hljs-keyword">if</span> (mongoDBCursor == <span class="hljs-keyword">null</span>) &#123;                    <span class="hljs-keyword">return</span> dbCursor;                &#125;                <span class="hljs-keyword">if</span> (mongoDBCursor.getLimit() &lt;= <span class="hljs-number">0</span> &amp;&amp; mongoDBCursor.getSkip() &lt;= <span class="hljs-number">0</span> &amp;&amp; mongoDBCursor.getSortObject() == <span class="hljs-keyword">null</span>) &#123;                    <span class="hljs-keyword">return</span> dbCursor;                &#125;                DBCursor cursorToUse = dbCursor;                <span class="hljs-keyword">if</span> (mongoDBCursor.getSkip() &gt; <span class="hljs-number">0</span>) &#123;                    cursorToUse = cursorToUse.skip(mongoDBCursor.getSkip());                &#125;                <span class="hljs-keyword">if</span> (mongoDBCursor.getLimit() &gt; <span class="hljs-number">0</span>) &#123;                    cursorToUse = cursorToUse.limit(mongoDBCursor.getLimit());                &#125;                <span class="hljs-keyword">if</span> (mongoDBCursor.getSortObject() != <span class="hljs-keyword">null</span>) &#123;                    cursorToUse = cursorToUse.sort(mongoDBCursor.getSortObject());                &#125;                <span class="hljs-keyword">return</span> cursorToUse;            &#125;        &#125;;        <span class="hljs-keyword">return</span> find(mongoDBCursor, dbObject, cursorPreparer,customField);    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * æŸ¥è¯¢ï¼ˆç§æœ‰æ–¹æ³•ï¼ŒçœŸæ­£çš„æŸ¥è¯¢æ“ä½œï¼‰</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> query       æŸ¥è¯¢æ¡ä»¶</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBCursor  æŸ¥è¯¢å®ä½“</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> cursorPreparer æŸ¥è¯¢è½¬æ¢æ¥å£</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> List&lt;DBObject&gt; <span class="hljs-title">find</span><span class="hljs-params">(MongoDBCursor mongoDBCursor, DBObject query, MongoDBCursorPreparer cursorPreparer,BasicDBObjectBuilder customField)</span> </span>&#123;        DBCursor dbCursor = <span class="hljs-keyword">null</span>;        <span class="hljs-keyword">if</span>(customField == <span class="hljs-keyword">null</span>) &#123;            dbCursor = MongoDBCommonUtil.getCollection(mongoDBCursor).find(query);        &#125; <span class="hljs-keyword">else</span> &#123;            dbCursor = MongoDBCommonUtil.getCollection(mongoDBCursor).find(query,customField.get());        &#125;        <span class="hljs-keyword">if</span> (cursorPreparer != <span class="hljs-keyword">null</span>) &#123;            dbCursor = cursorPreparer.prepare(dbCursor);        &#125;        <span class="hljs-keyword">return</span> dbCursor.toArray();    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * CountæŸ¥è¯¢</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBCursor æŸ¥è¯¢å®ä½“</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> æ€»æ•°</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">long</span> <span class="hljs-title">count</span><span class="hljs-params">(MongoDBCursor mongoDBCursor)</span> </span>&#123;        DBObject dbObject = getMapped(mongoDBCursor.getFieldMap());        <span class="hljs-keyword">return</span> MongoDBCommonUtil.getCollection(mongoDBCursor).count(dbObject);     &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * æŠŠå‚æ•°Mapè½¬æ¢DBObject</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> map æŸ¥è¯¢æ¡ä»¶</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> DBObject</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> DBObject <span class="hljs-title">getMapped</span><span class="hljs-params">(Map&lt;String, Object&gt; map)</span> </span>&#123;        DBObject dbObject = <span class="hljs-keyword">new</span> BasicDBObject();        Iterator&lt;Map.Entry&lt;String, Object&gt;&gt; iterable = map.entrySet().iterator();        <span class="hljs-keyword">while</span> (iterable.hasNext()) &#123;            Map.Entry&lt;String, Object&gt; entry = iterable.next();            Object value = entry.getValue();            String key = entry.getKey();            <span class="hljs-keyword">if</span> (key.startsWith(<span class="hljs-string">"$"</span>) &amp;&amp; value <span class="hljs-keyword">instanceof</span> Map) &#123;                BasicBSONList basicBSONList = <span class="hljs-keyword">new</span> BasicBSONList();                Map&lt;String, Object&gt; conditionsMap = ((Map) value);<span class="hljs-comment">//                Set&lt;String&gt; keys = conditionsMap.keySet();</span>                <span class="hljs-keyword">for</span> (String k : conditionsMap.keySet()) &#123;                    Object conditionsValue = conditionsMap.get(k);                    <span class="hljs-keyword">if</span> (conditionsValue <span class="hljs-keyword">instanceof</span> Collection) &#123;                        conditionsValue = convertArray(conditionsValue);                    &#125;                    DBObject dbObject2 = <span class="hljs-keyword">new</span> BasicDBObject(k, conditionsValue);                    basicBSONList.add(dbObject2);                &#125;                value = basicBSONList;            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (value <span class="hljs-keyword">instanceof</span> Collection) &#123;                value = convertArray(value);            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!key.startsWith(<span class="hljs-string">"$"</span>) &amp;&amp; value <span class="hljs-keyword">instanceof</span> Map) &#123;                value = getMapped(((Map) value));            &#125;            dbObject.put(key, value);        &#125;        <span class="hljs-keyword">return</span> dbObject;    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * è½¬æ¢æˆObject[]</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> value å¾…è½¬æ¢å®ä½“</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> Object[]</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Object[] convertArray(Object value) &#123;        Object[] values = ((Collection) value).toArray();        <span class="hljs-keyword">return</span> values;    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * æ·»åŠ æ“ä½œ</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBEntity å®ä½“</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(MongoDBEntity mongoDBEntity)</span> </span>&#123;        DBObject dbObject = <span class="hljs-keyword">new</span> BasicDBObject(mongoDBEntity.getFieldMap());        MongoDBCommonUtil.getCollection(mongoDBEntity).insert(dbObject);    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * æ‰¹é‡å¤„ç†æ·»åŠ æ“ä½œ</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> list          æ‰¹é‡å­—æ®µæ•°æ®</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBEntity å®ä½“</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(MongoDBEntity mongoDBEntity, List&lt;Map&lt;String, Object&gt;&gt; list)</span> </span>&#123;        <span class="hljs-keyword">for</span> (Map&lt;String, Object&gt; map : list) &#123;            mongoDBEntity.setFieldMap(map);            add(mongoDBEntity);        &#125;    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * åˆ é™¤æ“ä½œ</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBEntity å®ä½“</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">delete</span><span class="hljs-params">(MongoDBEntity mongoDBEntity)</span> </span>&#123;        DBObject dbObject = <span class="hljs-keyword">new</span> BasicDBObject(mongoDBEntity.getFieldMap());        MongoDBCommonUtil.getCollection(mongoDBEntity).remove(dbObject);    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * åˆ é™¤æ“ä½œ,æ ¹æ®ä¸»é”®</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> id            ä¸»é”®</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBEntity å®ä½“</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">delete</span><span class="hljs-params">(MongoDBEntity mongoDBEntity, String id)</span> </span>&#123;        Map&lt;String, Object&gt; map = <span class="hljs-keyword">new</span> HashMap&lt;String, Object&gt;();        map.put(<span class="hljs-string">"_id"</span>, <span class="hljs-keyword">new</span> ObjectId(id));        mongoDBEntity.setFieldMap(map);        delete(mongoDBEntity);    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * åˆ é™¤å…¨éƒ¨</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBEntity å®ä½“</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">deleteAll</span><span class="hljs-params">(MongoDBEntity mongoDBEntity)</span> </span>&#123;        MongoDBCommonUtil.getCollection(mongoDBEntity).drop();    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * ä¿®æ”¹æ“ä½œ</span><span class="hljs-comment">     * ä¼šç”¨ä¸€ä¸ªæ–°æ–‡æ¡£æ›¿æ¢ç°æœ‰æ–‡æ¡£,æ–‡æ¡£keyç»“æ„ä¼šå‘ç”Ÿæ”¹å˜</span><span class="hljs-comment">     * æ¯”å¦‚åŸæ–‡æ¡£&#123;"_id":"123","name":"zhangsan","age":12&#125;å½“æ ¹æ®_idä¿®æ”¹age</span><span class="hljs-comment">     * valueä¸º&#123;"age":12&#125;æ–°å»ºçš„æ–‡æ¡£nameå€¼ä¼šæ²¡æœ‰,ç»“æ„å‘ç”Ÿäº†æ”¹å˜</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBUpdate æ›´æ–°å®ä½“</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(MongoDBUpdate mongoDBUpdate)</span> </span>&#123;        executeUpdate(mongoDBUpdate, <span class="hljs-keyword">new</span> UpdateCallback() &#123;            <span class="hljs-function"><span class="hljs-keyword">public</span> DBObject <span class="hljs-title">doCallback</span><span class="hljs-params">(DBObject valueDBObject)</span> </span>&#123;                <span class="hljs-keyword">return</span> valueDBObject;            &#125;        &#125;);    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * ä¿®æ”¹æ“ä½œ,ä½¿ç”¨$setä¿®æ”¹å™¨</span><span class="hljs-comment">     * ç”¨æ¥æŒ‡å®šä¸€ä¸ªé”®å€¼,å¦‚æœé”®ä¸å­˜åœ¨,åˆ™è‡ªåŠ¨åˆ›å»º,ä¼šæ›´æ–°åŸæ¥æ–‡æ¡£, ä¸ä¼šç”Ÿæˆæ–°çš„, ç»“æ„ä¸ä¼šå‘ç”Ÿæ”¹å˜</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBUpdate æ›´æ–°å®ä½“</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">updateSet</span><span class="hljs-params">(MongoDBUpdate mongoDBUpdate)</span> </span>&#123;        executeUpdate(mongoDBUpdate, <span class="hljs-keyword">new</span> UpdateCallback() &#123;            <span class="hljs-function"><span class="hljs-keyword">public</span> DBObject <span class="hljs-title">doCallback</span><span class="hljs-params">(DBObject valueDBObject)</span> </span>&#123;                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BasicDBObject(<span class="hljs-string">"$set"</span>, valueDBObject);            &#125;        &#125;);    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * ä¿®æ”¹æ“ä½œ,ä½¿ç”¨$incä¿®æ”¹å™¨</span><span class="hljs-comment">     * ä¿®æ”¹å™¨é”®çš„å€¼å¿…é¡»ä¸ºæ•°å­—</span><span class="hljs-comment">     * å¦‚æœé”®å­˜åœ¨å¢åŠ æˆ–å‡å°‘é”®çš„å€¼, å¦‚æœä¸å­˜åœ¨åˆ›å»ºé”®</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBUpdate æ›´æ–°å®ä½“</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">updateInc</span><span class="hljs-params">(MongoDBUpdate mongoDBUpdate)</span> </span>&#123;        executeUpdate(mongoDBUpdate, <span class="hljs-keyword">new</span> UpdateCallback() &#123;            <span class="hljs-function"><span class="hljs-keyword">public</span> DBObject <span class="hljs-title">doCallback</span><span class="hljs-params">(DBObject valueDBObject)</span> </span>&#123;                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BasicDBObject(<span class="hljs-string">"$inc"</span>, valueDBObject);            &#125;        &#125;);    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * ä¿®æ”¹(ç§æœ‰æ–¹æ³•)</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBUpdate  æ›´æ–°å®ä½“</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> updateCallback æ›´æ–°å›è°ƒ</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">executeUpdate</span><span class="hljs-params">(MongoDBUpdate mongoDBUpdate, UpdateCallback updateCallback)</span> </span>&#123;        DBObject whereDBObject = <span class="hljs-keyword">new</span> BasicDBObject(mongoDBUpdate.getWhereMap());        DBObject valueDBObject = <span class="hljs-keyword">new</span> BasicDBObject(mongoDBUpdate.getValueMap());        valueDBObject = updateCallback.doCallback(valueDBObject);        MongoDBCommonUtil.getCollection(mongoDBUpdate).update(whereDBObject, valueDBObject);    &#125;      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;        <span class="hljs-keyword">try</span> &#123;            <span class="hljs-comment">//è·å–æ“ä½œDB</span>            DB db = MongoDBCommonUtil.getDB(<span class="hljs-string">"192.168.227.170"</span>, <span class="hljs-number">20011</span>,<span class="hljs-string">"lagd"</span>,<span class="hljs-string">"lagd_rw"</span>,<span class="hljs-string">"lagd_pwd"</span>);            MongoDBCursor mongoDBCursor = <span class="hljs-keyword">new</span> MongoDBCursor();            mongoDBCursor.setDb(db);     <span class="hljs-comment">//èµ‹å€¼DB</span>            mongoDBCursor.setCollectionName(<span class="hljs-string">"lagd_data_dictionary"</span>);   <span class="hljs-comment">//èµ‹å€¼é›†åˆå</span>            <span class="hljs-comment">//å°è£…æŸ¥è¯¢æ¡ä»¶</span>            Map&lt;String, Object&gt; fieldMap = <span class="hljs-keyword">new</span> HashMap&lt;String, Object&gt;();            fieldMap.put(<span class="hljs-string">"type"</span>,<span class="hljs-string">"dataSource"</span>);            mongoDBCursor.setFieldMap(fieldMap);            <span class="hljs-comment">//èµ‹å€¼skip</span>            mongoDBCursor.setSkip(<span class="hljs-number">1</span>);            <span class="hljs-comment">//èµ‹å€¼limit</span>            mongoDBCursor.setLimit(<span class="hljs-number">1</span>);            <span class="hljs-comment">//å°è£…Sort</span>            Map&lt;String, Object&gt; sortMap = <span class="hljs-keyword">new</span> LinkedHashMap&lt;String, Object&gt;();            sortMap.put(<span class="hljs-string">"key"</span>,<span class="hljs-number">1</span>);            mongoDBCursor.setSort(sortMap);            <span class="hljs-comment">//æŸ¥è¯¢</span>            List&lt;DBObject&gt; result = MongoDBUtil.find(mongoDBCursor);            <span class="hljs-keyword">for</span>(DBObject dbObject : result)&#123;                <span class="hljs-keyword">for</span>(String key : dbObject.keySet())&#123;                    System.out.println(<span class="hljs-string">"key="</span> + key + <span class="hljs-string">";  value="</span> + dbObject.get(key));                &#125;            &#125;        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;</code></pre><p> MongoDBUtil </p><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.mongodb.*;<span class="hljs-keyword">import</span> org.bson.types.BasicBSONList;<span class="hljs-keyword">import</span> org.bson.types.ObjectId; <span class="hljs-keyword">import</span> java.util.*; <span class="hljs-comment">/**</span><span class="hljs-comment"> * MongoDBCRUDæ“ä½œå°è£…å·¥å…·ç±»</span><span class="hljs-comment"> *</span><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: alex</span><span class="hljs-comment"> * <span class="hljs-doctag">@time</span>: 14-1-21 ä¸‹åˆ3:16</span><span class="hljs-comment"> * <span class="hljs-doctag">@version</span>: 1.0</span><span class="hljs-comment"> */</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MongoDBUtil</span> </span>&#123;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * æŒ‰ä¸»é”®æŸ¥è¯¢å•ä¸ªå®ä½“</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> id            ä¸»é”®</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBCursor æŸ¥è¯¢å®ä½“</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> DBObject</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> DBObject <span class="hljs-title">findById</span><span class="hljs-params">(MongoDBCursor mongoDBCursor, String id)</span> </span>&#123;        Map&lt;String, Object&gt; map = <span class="hljs-keyword">new</span> HashMap&lt;String, Object&gt;();        map.put(<span class="hljs-string">"_id"</span>, <span class="hljs-keyword">new</span> ObjectId(id));        mongoDBCursor.setFieldMap(map);        <span class="hljs-keyword">return</span> findOne(mongoDBCursor);    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * æŒ‰æ¡ä»¶æŸ¥è¯¢å•ä¸ª</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBCursor æŸ¥è¯¢å®ä½“</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> DBObject</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> DBObject <span class="hljs-title">findOne</span><span class="hljs-params">(MongoDBCursor mongoDBCursor)</span> </span>&#123;        DBObject dbObject = getMapped(mongoDBCursor.getFieldMap());        <span class="hljs-keyword">return</span> MongoDBCommonUtil.getCollection(mongoDBCursor).findOne(dbObject);    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * æŸ¥è¯¢å…¨éƒ¨</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBCursor æŸ¥è¯¢å®ä½“</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;DBObject&gt; <span class="hljs-title">findAll</span><span class="hljs-params">(MongoDBCursor mongoDBCursor)</span> </span>&#123;        mongoDBCursor.setFieldMap(<span class="hljs-keyword">new</span> HashMap&lt;String, Object&gt;());        <span class="hljs-keyword">return</span> find(mongoDBCursor);    &#125;      <span class="hljs-comment">/**</span><span class="hljs-comment">     * æŒ‰æ¡ä»¶æŸ¥è¯¢</span><span class="hljs-comment">     * æ”¯æŒskipï¼Œlimit,sort</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBCursor æŸ¥è¯¢å®ä½“</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;DBObject&gt; <span class="hljs-title">find</span><span class="hljs-params">(MongoDBCursor mongoDBCursor)</span> </span>&#123;        DBObject dbObject = getMapped(mongoDBCursor.getFieldMap());        BasicDBObjectBuilder customField = <span class="hljs-keyword">null</span>;        <span class="hljs-comment">//è‡ªå®šä¹‰æŸ¥è¯¢å­—æ®µ</span>        <span class="hljs-keyword">if</span>(mongoDBCursor.getCustomFieldMap() != <span class="hljs-keyword">null</span> &amp;&amp; mongoDBCursor.getCustomFieldMap().size() &gt; <span class="hljs-number">0</span>) &#123;            customField = <span class="hljs-keyword">new</span> BasicDBObjectBuilder();            <span class="hljs-keyword">for</span>(Map.Entry&lt;String, Object&gt; field : mongoDBCursor.getCustomFieldMap().entrySet()) &#123;                customField.add(field.getKey(),field.getValue());            &#125;        &#125;        <span class="hljs-keyword">return</span> find(mongoDBCursor, dbObject, customField);    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * æŸ¥è¯¢ï¼ˆç§æœ‰æ–¹æ³•,æ£€æŸ¥æ˜¯å¦å«æœ‰skipï¼Œlimitï¼Œsortï¼‰</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> dbObject      æŸ¥è¯¢æ¡ä»¶</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBCursor æŸ¥è¯¢å®ä½“</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> List&lt;DBObject&gt; <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">final</span> MongoDBCursor mongoDBCursor, DBObject dbObject,BasicDBObjectBuilder customField)</span> </span>&#123;        MongoDBCursorPreparer cursorPreparer = mongoDBCursor == <span class="hljs-keyword">null</span> ? <span class="hljs-keyword">null</span> : <span class="hljs-keyword">new</span> MongoDBCursorPreparer() &#123;            <span class="hljs-function"><span class="hljs-keyword">public</span> DBCursor <span class="hljs-title">prepare</span><span class="hljs-params">(DBCursor dbCursor)</span> </span>&#123;                <span class="hljs-keyword">if</span> (mongoDBCursor == <span class="hljs-keyword">null</span>) &#123;                    <span class="hljs-keyword">return</span> dbCursor;                &#125;                <span class="hljs-keyword">if</span> (mongoDBCursor.getLimit() &lt;= <span class="hljs-number">0</span> &amp;&amp; mongoDBCursor.getSkip() &lt;= <span class="hljs-number">0</span> &amp;&amp; mongoDBCursor.getSortObject() == <span class="hljs-keyword">null</span>) &#123;                    <span class="hljs-keyword">return</span> dbCursor;                &#125;                DBCursor cursorToUse = dbCursor;                <span class="hljs-keyword">if</span> (mongoDBCursor.getSkip() &gt; <span class="hljs-number">0</span>) &#123;                    cursorToUse = cursorToUse.skip(mongoDBCursor.getSkip());                &#125;                <span class="hljs-keyword">if</span> (mongoDBCursor.getLimit() &gt; <span class="hljs-number">0</span>) &#123;                    cursorToUse = cursorToUse.limit(mongoDBCursor.getLimit());                &#125;                <span class="hljs-keyword">if</span> (mongoDBCursor.getSortObject() != <span class="hljs-keyword">null</span>) &#123;                    cursorToUse = cursorToUse.sort(mongoDBCursor.getSortObject());                &#125;                <span class="hljs-keyword">return</span> cursorToUse;            &#125;        &#125;;        <span class="hljs-keyword">return</span> find(mongoDBCursor, dbObject, cursorPreparer,customField);    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * æŸ¥è¯¢ï¼ˆç§æœ‰æ–¹æ³•ï¼ŒçœŸæ­£çš„æŸ¥è¯¢æ“ä½œï¼‰</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> query       æŸ¥è¯¢æ¡ä»¶</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBCursor  æŸ¥è¯¢å®ä½“</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> cursorPreparer æŸ¥è¯¢è½¬æ¢æ¥å£</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> List&lt;DBObject&gt; <span class="hljs-title">find</span><span class="hljs-params">(MongoDBCursor mongoDBCursor, DBObject query, MongoDBCursorPreparer cursorPreparer,BasicDBObjectBuilder customField)</span> </span>&#123;        DBCursor dbCursor = <span class="hljs-keyword">null</span>;        <span class="hljs-keyword">if</span>(customField == <span class="hljs-keyword">null</span>) &#123;            dbCursor = MongoDBCommonUtil.getCollection(mongoDBCursor).find(query);        &#125; <span class="hljs-keyword">else</span> &#123;            dbCursor = MongoDBCommonUtil.getCollection(mongoDBCursor).find(query,customField.get());        &#125;        <span class="hljs-keyword">if</span> (cursorPreparer != <span class="hljs-keyword">null</span>) &#123;            dbCursor = cursorPreparer.prepare(dbCursor);        &#125;        <span class="hljs-keyword">return</span> dbCursor.toArray();    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * CountæŸ¥è¯¢</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBCursor æŸ¥è¯¢å®ä½“</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> æ€»æ•°</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">long</span> <span class="hljs-title">count</span><span class="hljs-params">(MongoDBCursor mongoDBCursor)</span> </span>&#123;        DBObject dbObject = getMapped(mongoDBCursor.getFieldMap());        <span class="hljs-keyword">return</span> MongoDBCommonUtil.getCollection(mongoDBCursor).count(dbObject);     &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * æŠŠå‚æ•°Mapè½¬æ¢DBObject</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> map æŸ¥è¯¢æ¡ä»¶</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> DBObject</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> DBObject <span class="hljs-title">getMapped</span><span class="hljs-params">(Map&lt;String, Object&gt; map)</span> </span>&#123;        DBObject dbObject = <span class="hljs-keyword">new</span> BasicDBObject();        Iterator&lt;Map.Entry&lt;String, Object&gt;&gt; iterable = map.entrySet().iterator();        <span class="hljs-keyword">while</span> (iterable.hasNext()) &#123;            Map.Entry&lt;String, Object&gt; entry = iterable.next();            Object value = entry.getValue();            String key = entry.getKey();            <span class="hljs-keyword">if</span> (key.startsWith(<span class="hljs-string">"$"</span>) &amp;&amp; value <span class="hljs-keyword">instanceof</span> Map) &#123;                BasicBSONList basicBSONList = <span class="hljs-keyword">new</span> BasicBSONList();                Map&lt;String, Object&gt; conditionsMap = ((Map) value);<span class="hljs-comment">//                Set&lt;String&gt; keys = conditionsMap.keySet();</span>                <span class="hljs-keyword">for</span> (String k : conditionsMap.keySet()) &#123;                    Object conditionsValue = conditionsMap.get(k);                    <span class="hljs-keyword">if</span> (conditionsValue <span class="hljs-keyword">instanceof</span> Collection) &#123;                        conditionsValue = convertArray(conditionsValue);                    &#125;                    DBObject dbObject2 = <span class="hljs-keyword">new</span> BasicDBObject(k, conditionsValue);                    basicBSONList.add(dbObject2);                &#125;                value = basicBSONList;            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (value <span class="hljs-keyword">instanceof</span> Collection) &#123;                value = convertArray(value);            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!key.startsWith(<span class="hljs-string">"$"</span>) &amp;&amp; value <span class="hljs-keyword">instanceof</span> Map) &#123;                value = getMapped(((Map) value));            &#125;            dbObject.put(key, value);        &#125;        <span class="hljs-keyword">return</span> dbObject;    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * è½¬æ¢æˆObject[]</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> value å¾…è½¬æ¢å®ä½“</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> Object[]</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Object[] convertArray(Object value) &#123;        Object[] values = ((Collection) value).toArray();        <span class="hljs-keyword">return</span> values;    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * æ·»åŠ æ“ä½œ</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBEntity å®ä½“</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(MongoDBEntity mongoDBEntity)</span> </span>&#123;        DBObject dbObject = <span class="hljs-keyword">new</span> BasicDBObject(mongoDBEntity.getFieldMap());        MongoDBCommonUtil.getCollection(mongoDBEntity).insert(dbObject);    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * æ‰¹é‡å¤„ç†æ·»åŠ æ“ä½œ</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> list          æ‰¹é‡å­—æ®µæ•°æ®</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBEntity å®ä½“</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(MongoDBEntity mongoDBEntity, List&lt;Map&lt;String, Object&gt;&gt; list)</span> </span>&#123;        <span class="hljs-keyword">for</span> (Map&lt;String, Object&gt; map : list) &#123;            mongoDBEntity.setFieldMap(map);            add(mongoDBEntity);        &#125;    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * åˆ é™¤æ“ä½œ</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBEntity å®ä½“</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">delete</span><span class="hljs-params">(MongoDBEntity mongoDBEntity)</span> </span>&#123;        DBObject dbObject = <span class="hljs-keyword">new</span> BasicDBObject(mongoDBEntity.getFieldMap());        MongoDBCommonUtil.getCollection(mongoDBEntity).remove(dbObject);    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * åˆ é™¤æ“ä½œ,æ ¹æ®ä¸»é”®</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> id            ä¸»é”®</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBEntity å®ä½“</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">delete</span><span class="hljs-params">(MongoDBEntity mongoDBEntity, String id)</span> </span>&#123;        Map&lt;String, Object&gt; map = <span class="hljs-keyword">new</span> HashMap&lt;String, Object&gt;();        map.put(<span class="hljs-string">"_id"</span>, <span class="hljs-keyword">new</span> ObjectId(id));        mongoDBEntity.setFieldMap(map);        delete(mongoDBEntity);    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * åˆ é™¤å…¨éƒ¨</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBEntity å®ä½“</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">deleteAll</span><span class="hljs-params">(MongoDBEntity mongoDBEntity)</span> </span>&#123;        MongoDBCommonUtil.getCollection(mongoDBEntity).drop();    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * ä¿®æ”¹æ“ä½œ</span><span class="hljs-comment">     * ä¼šç”¨ä¸€ä¸ªæ–°æ–‡æ¡£æ›¿æ¢ç°æœ‰æ–‡æ¡£,æ–‡æ¡£keyç»“æ„ä¼šå‘ç”Ÿæ”¹å˜</span><span class="hljs-comment">     * æ¯”å¦‚åŸæ–‡æ¡£&#123;"_id":"123","name":"zhangsan","age":12&#125;å½“æ ¹æ®_idä¿®æ”¹age</span><span class="hljs-comment">     * valueä¸º&#123;"age":12&#125;æ–°å»ºçš„æ–‡æ¡£nameå€¼ä¼šæ²¡æœ‰,ç»“æ„å‘ç”Ÿäº†æ”¹å˜</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBUpdate æ›´æ–°å®ä½“</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(MongoDBUpdate mongoDBUpdate)</span> </span>&#123;        executeUpdate(mongoDBUpdate, <span class="hljs-keyword">new</span> UpdateCallback() &#123;            <span class="hljs-function"><span class="hljs-keyword">public</span> DBObject <span class="hljs-title">doCallback</span><span class="hljs-params">(DBObject valueDBObject)</span> </span>&#123;                <span class="hljs-keyword">return</span> valueDBObject;            &#125;        &#125;);    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * ä¿®æ”¹æ“ä½œ,ä½¿ç”¨$setä¿®æ”¹å™¨</span><span class="hljs-comment">     * ç”¨æ¥æŒ‡å®šä¸€ä¸ªé”®å€¼,å¦‚æœé”®ä¸å­˜åœ¨,åˆ™è‡ªåŠ¨åˆ›å»º,ä¼šæ›´æ–°åŸæ¥æ–‡æ¡£, ä¸ä¼šç”Ÿæˆæ–°çš„, ç»“æ„ä¸ä¼šå‘ç”Ÿæ”¹å˜</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBUpdate æ›´æ–°å®ä½“</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">updateSet</span><span class="hljs-params">(MongoDBUpdate mongoDBUpdate)</span> </span>&#123;        executeUpdate(mongoDBUpdate, <span class="hljs-keyword">new</span> UpdateCallback() &#123;            <span class="hljs-function"><span class="hljs-keyword">public</span> DBObject <span class="hljs-title">doCallback</span><span class="hljs-params">(DBObject valueDBObject)</span> </span>&#123;                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BasicDBObject(<span class="hljs-string">"$set"</span>, valueDBObject);            &#125;        &#125;);    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * ä¿®æ”¹æ“ä½œ,ä½¿ç”¨$incä¿®æ”¹å™¨</span><span class="hljs-comment">     * ä¿®æ”¹å™¨é”®çš„å€¼å¿…é¡»ä¸ºæ•°å­—</span><span class="hljs-comment">     * å¦‚æœé”®å­˜åœ¨å¢åŠ æˆ–å‡å°‘é”®çš„å€¼, å¦‚æœä¸å­˜åœ¨åˆ›å»ºé”®</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBUpdate æ›´æ–°å®ä½“</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">updateInc</span><span class="hljs-params">(MongoDBUpdate mongoDBUpdate)</span> </span>&#123;        executeUpdate(mongoDBUpdate, <span class="hljs-keyword">new</span> UpdateCallback() &#123;            <span class="hljs-function"><span class="hljs-keyword">public</span> DBObject <span class="hljs-title">doCallback</span><span class="hljs-params">(DBObject valueDBObject)</span> </span>&#123;                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BasicDBObject(<span class="hljs-string">"$inc"</span>, valueDBObject);            &#125;        &#125;);    &#125;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * ä¿®æ”¹(ç§æœ‰æ–¹æ³•)</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mongoDBUpdate  æ›´æ–°å®ä½“</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> updateCallback æ›´æ–°å›è°ƒ</span><span class="hljs-comment">     */</span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">executeUpdate</span><span class="hljs-params">(MongoDBUpdate mongoDBUpdate, UpdateCallback updateCallback)</span> </span>&#123;        DBObject whereDBObject = <span class="hljs-keyword">new</span> BasicDBObject(mongoDBUpdate.getWhereMap());        DBObject valueDBObject = <span class="hljs-keyword">new</span> BasicDBObject(mongoDBUpdate.getValueMap());        valueDBObject = updateCallback.doCallback(valueDBObject);        MongoDBCommonUtil.getCollection(mongoDBUpdate).update(whereDBObject, valueDBObject);    &#125;      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;        <span class="hljs-keyword">try</span> &#123;            <span class="hljs-comment">//è·å–æ“ä½œDB</span>            DB db = MongoDBCommonUtil.getDB(<span class="hljs-string">"192.168.227.170"</span>, <span class="hljs-number">20011</span>,<span class="hljs-string">"lagd"</span>,<span class="hljs-string">"lagd_rw"</span>,<span class="hljs-string">"lagd_pwd"</span>);            MongoDBCursor mongoDBCursor = <span class="hljs-keyword">new</span> MongoDBCursor();            mongoDBCursor.setDb(db);     <span class="hljs-comment">//èµ‹å€¼DB</span>            mongoDBCursor.setCollectionName(<span class="hljs-string">"lagd_data_dictionary"</span>);   <span class="hljs-comment">//èµ‹å€¼é›†åˆå</span>            <span class="hljs-comment">//å°è£…æŸ¥è¯¢æ¡ä»¶</span>            Map&lt;String, Object&gt; fieldMap = <span class="hljs-keyword">new</span> HashMap&lt;String, Object&gt;();            fieldMap.put(<span class="hljs-string">"type"</span>,<span class="hljs-string">"dataSource"</span>);            mongoDBCursor.setFieldMap(fieldMap);            <span class="hljs-comment">//èµ‹å€¼skip</span>            mongoDBCursor.setSkip(<span class="hljs-number">1</span>);            <span class="hljs-comment">//èµ‹å€¼limit</span>            mongoDBCursor.setLimit(<span class="hljs-number">1</span>);            <span class="hljs-comment">//å°è£…Sort</span>            Map&lt;String, Object&gt; sortMap = <span class="hljs-keyword">new</span> LinkedHashMap&lt;String, Object&gt;();            sortMap.put(<span class="hljs-string">"key"</span>,<span class="hljs-number">1</span>);            mongoDBCursor.setSort(sortMap);            <span class="hljs-comment">//è‡ªå®šä¹‰æŸ¥è¯¢å­—æ®µ</span>            Map&lt;String, Object&gt; customFieldMap =  <span class="hljs-keyword">new</span> LinkedHashMap&lt;String, Object&gt;();            customFieldMap.put(<span class="hljs-string">"type"</span>,<span class="hljs-string">"1"</span>);            customFieldMap.put(<span class="hljs-string">"key"</span>,<span class="hljs-string">"1"</span>);            customFieldMap.put(<span class="hljs-string">"value"</span>,<span class="hljs-string">"1"</span>);            mongoDBCursor.setCustomFieldMap(customFieldMap);            <span class="hljs-comment">//æŸ¥è¯¢</span>            List&lt;DBObject&gt; result = MongoDBUtil.find(mongoDBCursor);            <span class="hljs-keyword">for</span>(DBObject dbObject : result)&#123;                <span class="hljs-keyword">for</span>(String key : dbObject.keySet())&#123;                    System.out.println(<span class="hljs-string">"é”®ï¼š"</span> + key + <span class="hljs-string">";  å€¼ï¼š"</span> + dbObject.get(key));                &#125;            &#125;        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;</code></pre><p>MongoDBCursorPreparer </p><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.mongodb.DBCursor; <span class="hljs-comment">/**</span><span class="hljs-comment"> * æŸ¥è¯¢è½¬æ¢æ¥å£å®šä¹‰</span><span class="hljs-comment"> *</span><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: alex</span><span class="hljs-comment"> * <span class="hljs-doctag">@time</span>: 14-1-21 ä¸‹åˆ4:55</span><span class="hljs-comment"> * <span class="hljs-doctag">@version</span>: 1.0</span><span class="hljs-comment"> */</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">MongoDBCursorPreparer</span> </span>&#123;     <span class="hljs-function">DBCursor <span class="hljs-title">prepare</span><span class="hljs-params">(DBCursor cursor)</span></span>;&#125;</code></pre><p>UpdateCallback </p><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.mongodb.DBObject; <span class="hljs-comment">/**</span><span class="hljs-comment"> * MongoDBæ›´æ–°æ“ä½œæ¥å£å®šä¹‰</span><span class="hljs-comment"> *</span><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: alex</span><span class="hljs-comment"> * <span class="hljs-doctag">@time</span>: 14-1-21 ä¸‹åˆ5:25</span><span class="hljs-comment"> * <span class="hljs-doctag">@version</span>: 1.0</span><span class="hljs-comment"> */</span><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UpdateCallback</span> </span>&#123;     <span class="hljs-function">DBObject <span class="hljs-title">doCallback</span><span class="hljs-params">(DBObject valueDBObject)</span></span>;&#125;</code></pre><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>MongoDB</category>
      
      <category>JAVA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MongoDB</tag>
      
      <tag>JAVA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CentOS7æ­å»ºngrokæœåŠ¡å™¨</title>
    <link href="/2019/06/10/CentOS7%E6%90%AD%E5%BB%BAngrok%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    <url>/2019/06/10/CentOS7%E6%90%AD%E5%BB%BAngrok%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
    
    <content type="html"><![CDATA[<p>ngrokæ˜¯ä¸€ä¸ªåå‘ä»£ç†ï¼Œå®ƒèƒ½å¤Ÿè®©ä½ æœ¬åœ°çš„webæœåŠ¡æˆ–tcpæœåŠ¡é€šè¿‡å…¬å…±çš„ç«¯å£å’Œå¤–éƒ¨å»ºç«‹ä¸€ä¸ªå®‰å…¨çš„é€šé“ï¼Œ ä½¿å¾—å¤–ç½‘å¯ä»¥è®¿é—®æœ¬åœ°çš„è®¡ç®—æœºæœåŠ¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬æä¾›çš„æœåŠ¡ï¼ˆæ¯”å¦‚webç«™ç‚¹ï¼‰æ— éœ€æ­å»ºåœ¨å¤–éƒ¨æœåŠ¡å™¨ï¼Œ åªè¦é€šè¿‡ngrokæŠŠç«™ç‚¹æ˜ å°„å‡ºå»ï¼Œåˆ«äººå³å¯ç›´æ¥è®¿é—®åˆ°æˆ‘ä»¬çš„æœåŠ¡ã€‚</p><p>æœ‰åšè¿‡å¾®ä¿¡å…¬ä¼—å·å¼€å‘çš„äººï¼Œå¯¹å®ƒåº”è¯¥ä¸é™Œç”Ÿã€‚å› ä¸ºç”¨æˆ·è·Ÿå¾®ä¿¡å…¬ä¼—å·äº§ç”Ÿçš„äº¤äº’è¡Œä¸ºï¼Œå¾®ä¿¡ä¼šæŠŠç”¨æˆ·çš„ç›¸å…³ä¿¡æ¯æ¨é€åˆ°æˆ‘ä»¬è‡ªå·±çš„æœåŠ¡å™¨ï¼Œ å¦‚æœæœåŠ¡åœ¨æœ¬åœ°ï¼Œé‚£å¾®ä¿¡å½“ç„¶æ— æ³•æ¨é€ç»™æˆ‘ä»¬ï¼Œè¿™ä½¿å¾—å¼€å‘åŠŸèƒ½çš„æ—¶å€™è°ƒè¯•ç›¸å½“éº»çƒ¦ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ngrokæŠŠæœ¬åœ°ç«™ç‚¹æ˜ å°„å‡ºå»ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>å¦å¤–å¦‚æœæˆ‘ä»¬æƒ³æŠŠæœ¬åœ°å¼€å‘æ—¶å€™çš„ç³»ç»Ÿä¸´æ—¶ç»™å¤–ç½‘ç”¨æˆ·çœ‹ï¼Œæ— éœ€éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šé¢å»å°±å¯ä»¥ï¼Œéå¸¸æ–¹ä¾¿ã€‚</p><p>ngrokæ˜¯å¼€æºçš„ï¼Œå®˜ç½‘åœ°å€ï¼š<a href="https://github.com/inconshreveable/ngrok" target="_blank" rel="noopener">https://github.com/inconshreveable/ngrok</a></p><p>ä¸‹é¢ï¼Œæˆ‘ä»¬å¼€å§‹æ­å»ºngrokæœåŠ¡ã€‚æ“ä½œç³»ç»Ÿä¸ºCentOS 7.2</p><a id="more"></a><h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><p>æ­å»ºngrokæœåŠ¡éœ€è¦æœ‰ä¸€ä¸ªå¤–ç½‘æœåŠ¡å™¨åŠä¸€ä¸ªåŸŸåè§£æåˆ°å¤–ç½‘æœåŠ¡å™¨ä¸Šï¼Œæˆ‘å·²ç»æœ‰äº†ä¸€ä¸ª<code>xncoding.com</code>åŸŸåï¼Œå¹¶ä¸”æ‹¥æœ‰ä¸€å°è…¾è®¯äº‘ä¸»æœºã€‚</p><p>åœ¨è…¾è®¯äº‘ä¸»æœºçš„åŸŸåè§£æå¤„ï¼Œé…ç½®2ä¸ªAè®°å½•ï¼Œæ¯”å¦‚æˆ‘æ–°å»º2ä¸ª<code>ngrok.xncoding.com</code> å’Œ <code>*.ngrok.xncoding.com</code> è§£æåˆ°vpsæœåŠ¡å™¨ä¸Šã€‚</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymn9j8enj30tq0de0tm.jpg" srcset="/img/loading.gif" alt="img"></p><h2 id="æ­å»ºngrokæœåŠ¡"><a href="#æ­å»ºngrokæœåŠ¡" class="headerlink" title="æ­å»ºngrokæœåŠ¡"></a>æ­å»ºngrokæœåŠ¡</h2><h3 id="å®‰è£…goè¯­è¨€ç¯å¢ƒ"><a href="#å®‰è£…goè¯­è¨€ç¯å¢ƒ" class="headerlink" title="å®‰è£…goè¯­è¨€ç¯å¢ƒ"></a>å®‰è£…goè¯­è¨€ç¯å¢ƒ</h3><p>ngrokæ˜¯åŸºäºgoè¯­è¨€å¼€å‘çš„ï¼Œæ‰€ä»¥éœ€è¦å…ˆå®‰è£…goè¯­è¨€å¼€å‘ç¯å¢ƒï¼ŒCentOSå¯ä»¥ä½¿ç”¨yumå®‰è£…ï¼š</p><pre><code class="hljs bash">yum install golang</code></pre><h3 id="å®‰è£…git"><a href="#å®‰è£…git" class="headerlink" title="å®‰è£…git"></a>å®‰è£…git</h3><p>é»˜è®¤çš„gitç‰ˆæœ¬å¤ªä½äº†ï¼Œéœ€è¦å‡çº§åˆ°git2.5ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><pre><code class="hljs bash">sudo yum remove gitsudo yum install epel-releasesudo yum install https://centos7.iuscommunity.org/ius-release.rpmsudo yum install git2u</code></pre><p><code>git --version</code>ï¼Œè¿”å› <code>git version 2.5.0</code>ï¼Œå®‰è£…æˆåŠŸã€‚</p><h3 id="ä¸‹è½½ngrokæºç "><a href="#ä¸‹è½½ngrokæºç " class="headerlink" title="ä¸‹è½½ngrokæºç "></a>ä¸‹è½½ngrokæºç </h3><p>æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œå¹¶cloneä¸€ä»½æºç ï¼š</p><pre><code class="hljs bash">mkdir ~/go/src/github.com/inconshreveable<span class="hljs-built_in">cd</span> ~/go/src/github.com/inconshreveablegit <span class="hljs-built_in">clone</span> https://github.com/inconshreveable/ngrok.git<span class="hljs-built_in">export</span> GOPATH=~/go/src/github.com/inconshreveable/ngrok</code></pre><h3 id="ç”Ÿæˆè‡ªç­¾åè¯ä¹¦"><a href="#ç”Ÿæˆè‡ªç­¾åè¯ä¹¦" class="headerlink" title="ç”Ÿæˆè‡ªç­¾åè¯ä¹¦"></a>ç”Ÿæˆè‡ªç­¾åè¯ä¹¦</h3><p>ä½¿ç”¨ngrok.comå®˜æ–¹æœåŠ¡æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯å®˜æ–¹çš„SSLè¯ä¹¦ã€‚è‡ªå·±å»ºç«‹ngrokæœåŠ¡ï¼Œéœ€è¦æˆ‘ä»¬ç”Ÿæˆè‡ªå·±çš„è¯ä¹¦ï¼Œå¹¶æä¾›æºå¸¦è¯¥è¯ä¹¦çš„ngrokå®¢æˆ·ç«¯ã€‚</p><p>è¯ä¹¦ç”Ÿæˆè¿‡ç¨‹éœ€è¦æœ‰è‡ªå·±çš„ä¸€ä¸ªåŸºç¡€åŸŸåï¼Œæ¯”å¦‚æˆ‘çš„å°±æ˜¯<code>ngrok.xncoding.com</code>ã€‚</p><pre><code class="hljs bash">$ <span class="hljs-built_in">cd</span> ngrok$ openssl genrsa -out rootCA.key 2048$ openssl req -x509 -new -nodes -key rootCA.key -subj <span class="hljs-string">"/CN=ngrok.xncoding.com"</span> -days 5000 -out rootCA.pem$ openssl genrsa -out device.key 2048$ openssl req -new -key device.key -subj <span class="hljs-string">"/CN=ngrok.xncoding.com"</span> -out device.csr$ openssl x509 -req -<span class="hljs-keyword">in</span> device.csr -CA rootCA.pem -CAkey rootCA.key -CAcreateserial -out device.crt -days 5000</code></pre><p>æ‰§è¡Œå®Œæˆä»¥ä¸Šå‘½ä»¤åï¼Œåœ¨ngrokç›®å½•ä¸‹ï¼Œä¼šæ–°ç”Ÿæˆ6ä¸ªæ–‡ä»¶ï¼š</p><pre><code class="hljs bash">-rw-r--r-- 1 root root   1001 Dec 29 11:53 device.crt-rw-r--r-- 1 root root    903 Dec 29 11:44 device.csr-rw-r--r-- 1 root root   1675 Dec 29 11:44 device.key-rw-r--r-- 1 root root   1679 Dec 29 11:44 rootCA.key-rw-r--r-- 1 root root   1119 Dec 29 11:44 rootCA.pem-rw-r--r-- 1 root root     17 Dec 29 11:53 rootCA.srl</code></pre><p>æˆ‘ä»¬åœ¨ç¼–è¯‘å¯æ‰§è¡Œæ–‡ä»¶ä¹‹å‰ï¼Œéœ€è¦æŠŠç”Ÿæˆçš„è¯ä¹¦åˆ†åˆ«æ›¿æ¢åˆ° <code>assets/client/tls</code>å’Œ<code>assets/server/tls</code>ä¸­ï¼Œ è¿™ä¸¤ä¸ªç›®å½•åˆ†åˆ«å­˜æ”¾ç€ngrokå’Œngrokdçš„é»˜è®¤è¯ä¹¦ã€‚</p><pre><code class="hljs bash">$ cp rootCA.pem assets/client/tls/ngrokroot.crt$ cp device.crt assets/server/tls/snakeoil.crt$ cp device.key assets/server/tls/snakeoil.key</code></pre><h3 id="ä½¿ç”¨lets-encryptå…è´¹è¯ä¹¦"><a href="#ä½¿ç”¨lets-encryptå…è´¹è¯ä¹¦" class="headerlink" title="ä½¿ç”¨lets encryptå…è´¹è¯ä¹¦"></a>ä½¿ç”¨lets encryptå…è´¹è¯ä¹¦</h3><p>å¦‚æœæƒ³è®©æµè§ˆå™¨ä¸å¼¹å‡ºæç¤ºï¼Œæœ€å¥½ä¸è¦ä½¿ç”¨è‡ªç­¾åè¯ä¹¦ï¼Œç°åœ¨lets encryptæ¨å‡ºæ³›åŸŸåè¯ä¹¦äº†ï¼Œæ‰€ä»¥å¯ä»¥å…ˆç”³è¯·ä¸ªå…è´¹åŸŸåè¯ä¹¦ã€‚</p><p>å®¢æˆ·ç«¯ç”¨è¯ä¹¦ ï¼š</p><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> ngrokcp /etc/letsencrypt/live/xncoding.com/chain.pem assets/client/tls/ngrokroot.crt</code></pre><p>æœåŠ¡å™¨ç«¯ç”¨è¯ä¹¦ï¼š</p><pre><code class="hljs bash">cp /etc/letsencrypt/live/xncoding.com/cert.pem assets/server/tls/snakeoil.crtcp /etc/letsencrypt/live/xncoding.com/privkey.pem assets/server/tls/snakeoil.key</code></pre><h3 id="ç¼–è¯‘ngrokdå’Œngrok"><a href="#ç¼–è¯‘ngrokdå’Œngrok" class="headerlink" title="ç¼–è¯‘ngrokdå’Œngrok"></a>ç¼–è¯‘ngrokdå’Œngrok</h3><p>é¦–å…ˆéœ€è¦çŸ¥é“ï¼Œngrokd ä¸ºæœåŠ¡ç«¯çš„æ‰§è¡Œæ–‡ä»¶ï¼Œngrokä¸ºå®¢æˆ·ç«¯çš„æ‰§è¡Œæ–‡ä»¶ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥ç¼–è¯‘ngrokdï¼Œåœ¨ngrokç›®å½•ä¸‹ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><pre><code class="hljs bash">$ make release-server</code></pre><p>ç¼–è¯‘è¿‡ç¨‹éœ€è¦ç­‰å¾…ä¸€ä¼šï¼Œå› ä¸ºéœ€è¦é€šè¿‡gitå®‰è£…ç›¸å…³ä¾èµ–åŒ…ã€‚å¦‚æœæç¤ºæ²¡æœ‰æƒé™ï¼Œä½¿ç”¨ sudo å‘½ä»¤æ¥å®‰è£…ã€‚</p><p>ç”±äºå®¢æˆ·ç«¯çš„å¹³å°ç‰ˆæœ¬è¾ƒå¤šï¼Œæˆ‘ä»¬éœ€è¦äº¤å‰ç¼–è¯‘æ¥é€‰æ‹©ç”Ÿæˆçš„å¹³å°ã€‚ ä»¥windowsã€armã€linuxç‰ˆæœ¬ç¼–è¯‘ï¼Œå¦‚ä¸‹ï¼š</p><pre><code class="hljs bash">$ GOOS=linux GOARCH=amd64 make release-client$ GOOS=windows GOARCH=amd64 make release-client$ GOOS=linux GOARCH=arm make release-client</code></pre><p>ä¸åŒå¹³å°ä½¿ç”¨ä¸åŒçš„ GOOS å’Œ GOARCHï¼ŒGOOSä¸ºgoç¼–è¯‘å‡ºæ¥çš„æ“ä½œç³»ç»Ÿ (windows,linux,darwin)ï¼ŒGOARCH, å¯¹åº”çš„æ„æ¶ (386,amd64,arm)</p><p>é€šè¿‡ä¸Šé¢çš„æ­¥éª¤ï¼Œå°†ç”Ÿæˆæ‰€æœ‰å®¢æˆ·ç«¯æ–‡ä»¶ï¼Œå®¢æˆ·ç«¯æ–‡ä»¶æ”¾åœ¨å¯¹äºçš„æ–‡ä»¶å¤¹ä¸­ï¼Œå¦‚windows 64ä½çš„ä¸ºï¼šwindows_amd64ï¼Œlinuxå®¢æˆ·ç«¯åœ¨binç›®å½•ä¸‹çš„ngrokæ–‡ä»¶ã€‚</p><p>å®Œæˆä¹‹åï¼ŒæŠŠç›¸åº”çš„å®¢æˆ·ç«¯æ–‡ä»¶ä½¿ç”¨SFTPæˆ–å…¶ä»–æ–¹å¼åˆ†å‘åˆ°å®¢æˆ·ç«¯ç”µè„‘ä¸Šé¢ï¼Œæ¯”å¦‚æˆ‘ç”¨çš„windowsç”µè„‘ï¼Œå°±æŠŠ<code>windows_amd64/ngrok.exe</code>æ–‡ä»¶å¤åˆ¶è¿‡å»ã€‚</p><h3 id="å¯åŠ¨ngrokdæœåŠ¡å™¨"><a href="#å¯åŠ¨ngrokdæœåŠ¡å™¨" class="headerlink" title="å¯åŠ¨ngrokdæœåŠ¡å™¨"></a>å¯åŠ¨ngrokdæœåŠ¡å™¨</h3><p>è¯·å°† bin/ngrokd æ”¾å…¥PATHç¯å¢ƒå˜é‡ä¸­ï¼Œå¯åŠ¨å‘½ä»¤ï¼š</p><pre><code class="hljs bash">nohup ngrokd -domain=ngrok.xncoding.com -httpAddr=:5442 -httpsAddr=:5443 -tunnelAddr=<span class="hljs-string">":4443"</span> &amp;</code></pre><p><code>-domain</code>ä¸ºä½ çš„æœåŠ¡åŸŸåï¼Œ<code>-httpAddr</code>ä¸ºhttpæœåŠ¡ç«¯å£åœ°å€ï¼Œè®¿é—®å½¢å¼ä¸º<code>xxx.ngrok.xncoding.com:5442</code>ï¼Œä¹Ÿå¯è®¾ç½®ä¸º80é»˜è®¤ç«¯å£ï¼Œ<code>-httpsAddr</code>ä¸ºhttpsæœåŠ¡ï¼ŒåŒä¸Šã€‚</p><p>ngrokdè¿˜ä¼šå¼€ä¸€ä¸ªç«¯å£ç”¨æ¥è·Ÿå®¢æˆ·ç«¯é€šè®¯ï¼ˆå¯é€šè¿‡<code>-tunnelAddr=&quot;:xxx&quot;</code> æŒ‡å®šï¼‰ï¼Œå¦‚æœä½ é…ç½®äº† iptables è§„åˆ™ï¼Œéœ€è¦æ”¾è¡Œè¿™ä¸ªé€šè®¯ç«¯å£(4443)ä¸Šçš„ TCP åè®®ã€‚</p><pre><code class="hljs bash">firewall-cmd --zone=public --add-port=4443/tcp --permanentfirewall-cmd --reload</code></pre><h3 id="Nginxé…ç½®80ç«¯å£è½¬å‘"><a href="#Nginxé…ç½®80ç«¯å£è½¬å‘" class="headerlink" title="Nginxé…ç½®80ç«¯å£è½¬å‘"></a>Nginxé…ç½®80ç«¯å£è½¬å‘</h3><p>æˆ‘ä»¬åœ¨å¾®ä¿¡å¼€å‘æ—¶å€™ä¸å…è®¸ä½¿ç”¨ç«¯å£è®¿é—®ï¼Œé‚£ä¹ˆæœ€å¥½ä½¿ç”¨nginxåå‘ä»£ç†è½¬å‘ï¼Œé¦–å…ˆç”³è¯·ä¸€ä¸ª<code>demo.ngrok.xncoding.com</code>çš„å…è´¹è¯ä¹¦ï¼Œç„¶åä¿®æ”¹nginxé…ç½®å¦‚ä¸‹ï¼š</p><pre><code class="hljs bash">server &#123;    listen       80;    server_name  demo.ngrok.xncoding.com;    <span class="hljs-built_in">return</span>       301 https://demo.ngrok.xncoding.com<span class="hljs-variable">$request_uri</span>;&#125;server &#123;    listen       443 ssl http2;    server_name  demo.ngrok.xncoding.com;    charset utf-8;    ssl_certificate /etc/letsencrypt/live/demo.ngrok.xncoding.com/fullchain.pem;    ssl_certificate_key /etc/letsencrypt/live/demo.ngrok.xncoding.com/privkey.pem;    ssl_trusted_certificate /etc/letsencrypt/live/demo.ngrok.xncoding.com/chain.pem;    access_log /var/<span class="hljs-built_in">log</span>/nginx/ngrok.log main;    error_log /var/<span class="hljs-built_in">log</span>/nginx/ngrok_error.log error;    location / &#123;        proxy_pass http://127.0.0.1:5442;        proxy_redirect off;        proxy_set_header Host       <span class="hljs-variable">$http_host</span>:5442;        proxy_set_header X-Real-IP  <span class="hljs-variable">$remote_addr</span>;        proxy_set_header X-Forwarded-For <span class="hljs-variable">$proxy_add_x_forwarded_for</span>;    &#125;&#125;</code></pre><p>ä½†æ˜¯ï¼è¿™é‡Œå°±æœ‰ä¸€ä¸ªå¾ˆçƒ¦èºçš„åœ°æ–¹äº†ï¼Œngrokd é‡Œé¢æœ‰ä¸€å±‚è‡ªå·±çš„ Host å¤„ç†ï¼Œäºæ˜¯ <code>proxy_set_header Host</code> å¿…é¡»å¸¦ä¸Š ngrokd æ‰€ç›‘å¬çš„ç«¯å£ï¼Œ å¦åˆ™å°±ç®—è¯·æ±‚è¢«è½¬å‘åˆ°å¯¹åº”ç«¯å£ä¸Šï¼Œ ngrokd ä¹Ÿä¸ä¼šæ­£ç¡®çš„å¤„ç†ã€‚</p><h3 id="å¯ç”¨å®¢æˆ·ç«¯"><a href="#å¯ç”¨å®¢æˆ·ç«¯" class="headerlink" title="å¯ç”¨å®¢æˆ·ç«¯"></a>å¯ç”¨å®¢æˆ·ç«¯</h3><p>åœ¨åˆšåˆšå¤åˆ¶è¿‡æ¥çš„ngrok.exeå®¢æˆ·ç«¯æ–‡ä»¶å¤¹ä¸­ï¼Œæ–°å»ºä¸€ä¸ªå®¢æˆ·ç«¯é…ç½®<code>ngrok.cfg</code>ï¼š</p><pre><code class="hljs bash">server_addr: <span class="hljs-string">"ngrok.xncoding.com:4443"</span>trust_host_root_certs: <span class="hljs-literal">false</span></code></pre><p>æœ¬åœ°å¯åŠ¨ä¸€ä¸ªSpringBootçš„WEBå·¥ç¨‹ï¼Œç«¯å£8092ï¼Œç„¶åé€šè¿‡ä¸‹é¢å‘½ä»¤å¯åŠ¨å®¢æˆ·ç«¯ï¼š</p><pre><code class="hljs bash">ngrok.exe -subdomain demo -config=ngrok.cfg -<span class="hljs-built_in">log</span>=log.txt 8092</code></pre><p>çœ‹åˆ°ä¸‹é¢çš„ç”»é¢è¯´æ˜è¿æ¥æˆåŠŸäº†ï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymnc8ceij30lb06oglu.jpg" srcset="/img/loading.gif" alt="img"></p><p>è®¿é—®é¡µé¢ï¼Œæµè§ˆå™¨ä¸­è¾“å…¥ï¼š<code>https://demo.ngrok.xncoding.com</code>ï¼ŒæˆåŠŸè®¿é—®æœ¬åœ°SpringBootç«™ç‚¹å†…å®¹ã€‚</p><p>æµè§ˆå™¨è¾“å…¥ï¼š<code>127.0.0.1:4040</code> æŸ¥çœ‹é¡µé¢è¯·æ±‚æƒ…å†µï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymndmltvj30q10fu0uv.jpg" srcset="/img/loading.gif" alt="img"></p><h2 id="çƒ¦æ¼çš„äº‹æƒ…"><a href="#çƒ¦æ¼çš„äº‹æƒ…" class="headerlink" title="çƒ¦æ¼çš„äº‹æƒ…"></a>çƒ¦æ¼çš„äº‹æƒ…</h2><p>å¸¦ä¸Šç«¯å£å·åˆä¼šå¯¼è‡´äº†å¦ä¸€ä¸ªæ“è›‹çš„é—®é¢˜ï¼šä½ è¯·æ±‚çš„æ—¶å€™æ˜¯<code>demo.ngrok.xncoding.com</code>ï¼Œ ä½ åœ¨ web åº”ç”¨ä¸­è·å–åˆ°çš„ Host æ˜¯ <code>demo.ngrok.xncoding.com:5442</code>ï¼Œ å¦‚æœä½ çš„ç¨‹åºé‡Œé¢æœ‰åŸºäº Request Host çš„é‡å®šå‘ï¼Œå°±ä¼šè¢«é‡å®šå‘åˆ° <code>demo.ngrok.xncoding.com:5442</code> ä¸‹é¢å»ã€‚</p><p>è¦å®Œç¾çš„è§£å†³è¿™ä¸ªç«¯å£çš„é—®é¢˜ï¼Œå°±éœ€è¦è®© ngrokd ç›´æ¥ç›‘å¬ 80 ç«¯å£ï¼Œæˆ–è€…ä½¿ç”¨Dockerå®¹å™¨çš„ç«¯å£æ˜ å°„æ¥è§£å†³ã€‚</p><h2 id="ä½¿ç”¨Docker"><a href="#ä½¿ç”¨Docker" class="headerlink" title="ä½¿ç”¨Docker"></a>ä½¿ç”¨Docker</h2><p>ä¸Šé¢æˆ‘è®²åˆ°è‡ªå·±æ‰‹åŠ¨æ­å»ºçš„æ—¶å€™å‡ºç°çš„ç«¯å£é—®é¢˜ï¼Œæ²¡åŠæ³•è§£å†³ã€‚ ä¸€èˆ¬80ç«¯å£æ—©å°±è¢«å ç”¨äº†ï¼Œä¸å¯èƒ½å°±ç»™ä½ ngrokä½¿ç”¨ï¼Œæœ€å®Œç¾çš„æ–¹å¼æ˜¯ä½¿ç”¨Docker + Nginxçš„æ–¹å¼ã€‚</p><h3 id="å®‰è£…docker"><a href="#å®‰è£…docker" class="headerlink" title="å®‰è£…docker"></a>å®‰è£…docker</h3><p>å‚è€ƒæˆ‘çš„è¿™ç¯‡<a href="https://www.xncoding.com/2017/04/01/docker/docker01.html" target="_blank" rel="noopener">Dockerå…¥é—¨</a>æ¥å®‰è£…dockerã€‚</p><h3 id="æ„å»ºé•œè±¡"><a href="#æ„å»ºé•œè±¡" class="headerlink" title="æ„å»ºé•œè±¡"></a>æ„å»ºé•œè±¡</h3><p>è¿™é‡Œä½¿ç”¨çš„æ˜¯<a href="https://github.com/hteen/docker-ngrok" target="_blank" rel="noopener">hteen/docker-ngrok</a></p><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/hteen/docker-ngrok.git<span class="hljs-built_in">cd</span> docker-ngrokdocker build -t hteen/ngrok .</code></pre><p>è¿™é‡Œéœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´ä¸‹è½½</p><h3 id="Dockerå®¹å™¨çš„https"><a href="#Dockerå®¹å™¨çš„https" class="headerlink" title="Dockerå®¹å™¨çš„https"></a>Dockerå®¹å™¨çš„https</h3><p>å…³äº https çš„æ”¯æŒ</p><p>ç”±äº ngrok å·¥ä½œæ˜¯é€šè¿‡åˆ†é… subdomain çš„æ–¹å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬å®é™…ä½¿ç”¨åˆ°çš„åŸŸåéƒ½æ˜¯ <code>ngrok.xncoding.com</code>çš„å­åŸŸåï¼Œ å¦‚ <code>demo.ngrok.xncoding.com</code> å¦‚æœè¦å¯¹è¿™ä¸ªå­åŸŸåå¯ç”¨ https æœåŠ¡ï¼Œé‚£ä¹ˆè‡³å°‘éœ€è¦ä¸‰ç‚¹æ”¯æŒï¼š</p><ol><li>ngrok æ”¯æŒ httpsï¼Œ è¿™ä¸ªé»˜è®¤å°±æ˜¯å¼€å¯çš„</li><li><code>demo.ngrok.xncoding.com</code> ä¹Ÿéœ€è¦æœ‰è¯ä¹¦æˆ–åŒ…å«åœ¨ä¸€ä¸ªæ³›åŸŸåè¯ä¹¦ä¸­</li><li>æµè§ˆå™¨ï¼ˆæˆ–å…¶ä»–ç»ˆç«¯ï¼‰ä¿¡ä»» <code>demo.ngrok.xncoding.com</code> çš„æ ¹è¯ä¹¦</li></ol><p>å¥½æ¶ˆæ¯æ˜¯ç°åœ¨lets encryptæ”¯æŒé€šé…ç¬¦åŸŸåäº†ï¼Œæ‰€ä»¥å¾ˆç®€å•ï¼Œå…·ä½“æ€ä¹ˆç”³è¯·ï¼Œè¯·å‚è€ƒæˆ‘åšå®¢ä¸­çš„nginxç›¸å…³æ–‡ç« ã€‚</p><p>è¿™é‡Œè¯·å…ˆç”³è¯·<code>ngrok.xncoding.com</code>çš„é€šé…ç¬¦è¯ä¹¦ã€‚</p><p>ç”³è¯·å¥½ä¹‹åï¼Œå¢åŠ é…ç½®<code>/etc/nginx/conf.d/ngrok.conf</code> æ·»åŠ åå‘ä»£ç†é…ç½®ï¼š</p><pre><code class="hljs bash">map <span class="hljs-variable">$scheme</span> <span class="hljs-variable">$proxy_port</span> &#123;    <span class="hljs-string">"http"</span>  <span class="hljs-string">"5442"</span>;    <span class="hljs-string">"https"</span> <span class="hljs-string">"5443"</span>;    default <span class="hljs-string">"5442"</span>;&#125;server &#123;    listen      80;    listen      443;    server_name ngrok.xncoding.com *.ngrok.xncoding.com;    location / &#123;        proxy_pass  <span class="hljs-variable">$scheme</span>://127.0.0.1:<span class="hljs-variable">$proxy_port</span>;    &#125;    ssl on;    ssl_certificate /etc/letsencrypt/live/ngrok.xncoding.com/fullchain.pem;    ssl_certificate_key /etc/letsencrypt/live/ngrok.xncoding.com/privkey.pem;    proxy_set_header    X-Real-IP <span class="hljs-variable">$remote_addr</span>;    proxy_set_header    Host <span class="hljs-variable">$http_host</span>;    proxy_set_header    X-Forwarded-For <span class="hljs-variable">$proxy_add_x_forwarded_for</span>;    access_log off;    log_not_found off;&#125;</code></pre><h3 id="è¿è¡Œé•œè±¡"><a href="#è¿è¡Œé•œè±¡" class="headerlink" title="è¿è¡Œé•œè±¡"></a>è¿è¡Œé•œè±¡</h3><p>ä¸Šä¸€æ­¥å·²ç»ç”³è¯·<code>ngrok.xncoding.com</code>è¿™ä¸ªåŸŸåçš„é€šé…ç¬¦lets encryptè¯ä¹¦ï¼Œç„¶åä¿®æ”¹è„šæœ¬<code>server.sh</code></p><pre><code class="hljs bash">-tlsKey=/etc/letsencrypt/live/ngrok.xncoding.com/privkey.pem -tlsCrt=/etc/letsencrypt/live/ngrok.xncoding.com/fullchain.pem</code></pre><p>ä¹Ÿå°±æ˜¯å°†ä¹‹å‰çš„è¯ä¹¦å˜é‡æ”¹æˆä½ å®é™…çš„è¯ä¹¦è·¯å¾„å³å¯ã€‚</p><p>ç„¶åè¿è¡Œï¼š</p><pre><code class="hljs bash">docker run -idt --name ngrok-server \-p 5442:80 -p 5443:443 -p 4443:4443 \-v /data/ngrok:/myfiles \-e DOMAIN=<span class="hljs-string">'ngrok.xncoding.com'</span> -e HTTP_ADDR=<span class="hljs-string">':80'</span> -e HTTPS_ADDR=<span class="hljs-string">':443'</span> hteen/ngrok /bin/sh /server.sh</code></pre><p>å¦‚æœåœ¨è…¾è®¯äº‘ä¸»æœºä¸Šé¢ï¼Œè¿˜éœ€è¦æœ¬çº§é˜²ç«å¢™æ”¾è¡Œ4443ç«¯å£ï¼Œä»¥åŠåœ¨è…¾è®¯äº‘å®‰å…¨ç»„ä¸­ä¹Ÿè¦æ”¾å¼€4443ç«¯å£ã€‚</p><pre><code class="hljs bash"><span class="hljs-comment"># 1.æŸ¥çœ‹å·²å¼€æ”¾çš„ç«¯å£(é»˜è®¤ä¸å¼€æ”¾ä»»ä½•ç«¯å£)</span>firewall-cmd --list-ports<span class="hljs-comment"># 2.å¼€å¯4443ç«¯å£</span>firewall-cmd --zone=public --add-port=4443/tcp --permanent<span class="hljs-comment"># 3.é‡å¯é˜²ç«å¢™</span>systemctl restart firewalld</code></pre><p>è¿™é‡Œä¼šæŠŠä¸»æœºçš„5442ç«¯å£æ˜ å°„åˆ°Dockerå®¹å™¨ä¸­çš„80ç«¯å£ï¼Œè®²5443ç«¯å£æ˜ å°„åˆ°443ç«¯å£ï¼ŒåŒæ—¶å°†æœ¬æœºçš„/data/ngrokæ–‡ä»¶å¤¹æ˜ å°„åˆ°dockerå®¹å™¨çš„/myfilesç›®å½•ã€‚</p><p>è¿è¡Œåï¼Œä¼šè¦ç­‰ä¸€æ®µæ—¶é—´ï¼Œå› ä¸ºè¦ç¼–è¯‘å®¢æˆ·ç«¯ã€‚ä¸€ç›´ç­‰åˆ°/data/ngrok/ç›®å½•é‡Œé¢æœ‰/binç›®å½•å°±OKäº†ã€‚</p><h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><p>å› ä¸ºngrokæœ‰å¿ƒè·³æœºåˆ¶ï¼Œæ¯æ¬¡å¿ƒè·³å‡ä¼šäº§ç”Ÿæ—¥å¿—ï¼Œæ‰€ä»¥ä»¥dockeræ–¹å¼è¿è¡Œï¼Œä¼šäº§ç”Ÿå¾ˆå¤šæ—¥å¿—ã€‚å®æµ‹è¯•ä¸­ï¼Œå¤§æ¦‚æ¯ä¸ªæ˜ŸæœŸä¼šäº§ç”Ÿ100Mçš„æ—¥å¿—æ–‡ä»¶ã€‚</p><p>æŸ¥å¹´dockeræ—¥å¿—æ–‡ä»¶ä½ç½®<code>sudo docker inspect &lt;id&gt; | grep LogPath</code></p><p>æŸ¥çœ‹å¤§å°<code>sudo ls -lh /var/lib/docker/containers/&lt;id&gt;/&lt;id&gt;-json.log</code></p><h3 id="è¿è¡Œå®¢æˆ·ç«¯"><a href="#è¿è¡Œå®¢æˆ·ç«¯" class="headerlink" title="è¿è¡Œå®¢æˆ·ç«¯"></a>è¿è¡Œå®¢æˆ·ç«¯</h3><p>åœ¨<code>/data/ngrok/bin/</code>ç›®å½•ä¸‹ä¼šç”Ÿæˆå®¢æˆ·ç«¯ç¨‹åºï¼Œæ¯ä¸ªå¹³å°çš„ç‰ˆæœ¬éƒ½æœ‰ã€‚ä»¥windows64ä½æ¥è¯´ï¼Œ åœ¨windows_amd64ç›®å½•ä¸‹ï¼Œæ‹·è´åˆ°è‡ªå·±çš„windowsç”µè„‘ä¸Šã€‚</p><p>æ–°å»ºé…ç½®æ–‡ä»¶ngrok.cfgï¼Œè·Ÿngrok.exeåŒçº§ç›®å½•ï¼Œé‡Œé¢çš„å†…å®¹è·Ÿä¹‹å‰è®²çš„ä¸€æ ·ï¼š</p><pre><code class="hljs bash">server_addr: <span class="hljs-string">"ngrok.xncoding.com:4443"</span>trust_host_root_certs: <span class="hljs-literal">false</span></code></pre><p>ç„¶åæ‰“å¼€windowsçš„å‘½ä»¤è¡Œï¼Œcdåˆ°<code>ngrok.exe</code>æ‰€åœ¨çš„ç›®å½•ä¸­ï¼Œåˆ°è¿™ä¸ªè¿è¡Œï¼š</p><pre><code class="hljs bash">ngrok -config=ngrok.cfg -subdomain=demo -<span class="hljs-built_in">log</span>=log.txt 8092</code></pre><p>æˆ–è€…ä¸ºäº†æ–¹ä¾¿ï¼Œåœ¨<code>ngrok.exe</code>æ‰€åœ¨çš„ç›®å½•ä¸­æ–°å»ºä¸€ä¸ª<code>run.bat</code>æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><pre><code class="hljs plain">@echo offngrok.exe -config&#x3D;ngrok.cfg -subdomain&#x3D;demo -log&#x3D;log.txt 8092</code></pre><p>ä¸Šé¢çš„subdomainæ˜¯ä½ æƒ³å»è®¿é—®åŸŸåå‰ç¼€ï¼Œåé¢çš„ç«¯å£æ˜¯ä½ æœ¬æœºåº”ç”¨å¯åŠ¨ç«¯å£ã€‚</p><p>çœ‹åˆ°ä¸‹é¢çš„ç»“æœè¡¨ç¤ºæˆåŠŸäº†ï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymngjdqwj30ke0cbdgh.jpg" srcset="/img/loading.gif" alt="img"></p><p>ç„¶åå†æ‰“å¼€<code>http://demo.ngrok.xncoding.com</code>çœ‹çœ‹ï¼Œå‘ç°ä¸ä¼šåƒä¹‹å‰é‚£æ ·å‡ºç°ç«¯å£äº†ã€‚</p><h2 id="å›½å†…å…è´¹çš„ngrok"><a href="#å›½å†…å…è´¹çš„ngrok" class="headerlink" title="å›½å†…å…è´¹çš„ngrok"></a>å›½å†…å…è´¹çš„ngrok</h2><p>å¦‚æœä½ è‡ªå·±æ²¡VPSï¼Œæˆ–è€…ä½ æœºå­ä¸Šé¢80ç«¯å£å·²ç»è¢«nginxå ç”¨ä¸æƒ³æäº†ï¼Œå°±ç›´æ¥ä½¿ç”¨å…è´¹çš„ngrokå§ï¼Œ æˆ‘æ¨èä½ ä½¿ç”¨<a href="https://www.ngrok.cc/" target="_blank" rel="noopener">https://www.ngrok.cc/</a>ã€‚</p><p>æ¯”å¦‚æˆ‘è‡ªå·±å¼„äº†ä¸ª<code>yidao620.free.ngrok.cc</code>ï¼Œå¯åŠ¨æœ¬åœ°å®¢æˆ·ç«¯åï¼Œæ˜ å°„åˆ°æœ¬åœ°çš„8092ç«¯å£äº†ï¼Œä¹Ÿè¿˜ä¸é”™ã€‚</p><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><ul><li><a href="https://morongs.github.io/2016/12/28/dajian-ngrok/" target="_blank" rel="noopener">ä»é›¶æ•™ä½ æ­å»ºngrokæœåŠ¡å™¨</a></li><li><a href="https://www.jianshu.com/p/4b03fb532145" target="_blank" rel="noopener">ngrokä½¿ç”¨è‡ªå·±çš„è¯ä¹¦é€šè¿‡httpsè®¿é—®</a></li><li><a href="https://yii.im/posts/pretty-self-hosted-ngrokd/" target="_blank" rel="noopener">æ­å»ºå¹¶é…ç½®ä¼˜é›…çš„ ngrok æœåŠ¡å®ç°å†…ç½‘ç©¿é€</a></li><li><a href="https://blog.fengcl.com/2017/05/24/how-to-use-docker-build-ngrok-to-network-penetrate/" target="_blank" rel="noopener">ä½¿ç”¨Dockeræ­å»ºNgrokæœåŠ¡å™¨å®ç°å†…ç½‘ç©¿é€</a></li><li><a href="https://fengqi.me/unix/409.html" target="_blank" rel="noopener">æ­å»ºè‡ªå·±çš„NgrokæœåŠ¡å™¨, å¹¶ä¸Nginxå¹¶å­˜</a></li></ul><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>CentOS</category>
      
      <category>Linux</category>
      
      <category>Ngrok</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CentOS</tag>
      
      <tag>Linux</tag>
      
      <tag>Ngrok</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åˆ›å»ºçº¿ç¨‹æ± çš„ä¸¤ç§åŠæ³•</title>
    <link href="/2019/06/10/%E5%88%9B%E5%BB%BA%E7%BA%BF%E7%A8%8B%E6%B1%A0%E7%9A%84%E4%B8%A4%E7%A7%8D%E5%8A%9E%E6%B3%95/"/>
    <url>/2019/06/10/%E5%88%9B%E5%BB%BA%E7%BA%BF%E7%A8%8B%E6%B1%A0%E7%9A%84%E4%B8%A4%E7%A7%8D%E5%8A%9E%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<p>çº¿ç¨‹æ± ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªå®¹çº³å¤šä¸ªçº¿ç¨‹çš„å®¹å™¨ï¼Œå…¶ä¸­çš„çº¿ç¨‹å¯ä»¥åå¤ä½¿ç”¨ï¼Œçœå»äº†é¢‘ç¹åˆ›å»ºçº¿ç¨‹å¯¹è±¡çš„æ“ä½œï¼Œ</p><p>æ— éœ€åå¤åˆ›å»ºçº¿ç¨‹è€Œæ¶ˆè€—è¿‡å¤šèµ„æºã€‚</p><p>æˆ‘ä»¬è¯¦ç»†çš„è§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çº¿ç¨‹æ± ï¼Ÿ</p><p>åœ¨javaä¸­ï¼Œå¦‚æœæ¯ä¸ªè¯·æ±‚åˆ°è¾¾å°±åˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹ï¼Œå¼€é”€æ˜¯ç›¸å½“å¤§çš„ã€‚åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œåˆ›å»ºå’Œé”€æ¯çº¿ç¨‹èŠ±è´¹çš„æ—¶é—´å’Œæ¶ˆè€—çš„ç³»ç»Ÿèµ„æºéƒ½ç›¸å½“å¤§ï¼Œ</p><p>ç”šè‡³å¯èƒ½è¦æ¯”åœ¨å¤„ç†å®é™…çš„ç”¨æˆ·è¯·æ±‚çš„æ—¶é—´å’Œèµ„æºè¦å¤šçš„å¤šã€‚é™¤äº†åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹çš„å¼€é”€ä¹‹å¤–ï¼Œæ´»åŠ¨çš„çº¿ç¨‹ä¹Ÿéœ€è¦æ¶ˆè€—ç³»ç»Ÿèµ„æºã€‚</p><p>å¦‚æœåœ¨ä¸€ä¸ªjvmé‡Œåˆ›å»ºå¤ªå¤šçš„çº¿ç¨‹ï¼Œå¯èƒ½ä¼šä½¿ç³»ç»Ÿç”±äºè¿‡åº¦æ¶ˆè€—å†…å­˜æˆ–â€œåˆ‡æ¢è¿‡åº¦â€è€Œå¯¼è‡´ç³»ç»Ÿèµ„æºä¸è¶³ã€‚ä¸ºäº†é˜²æ­¢èµ„æºä¸è¶³ï¼Œ</p><p>éœ€è¦é‡‡å–ä¸€äº›åŠæ³•æ¥é™åˆ¶ä»»ä½•ç»™å®šæ—¶åˆ»å¤„ç†çš„è¯·æ±‚æ•°ç›®ï¼Œå°½å¯èƒ½å‡å°‘åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹çš„æ¬¡æ•°ï¼Œç‰¹åˆ«æ˜¯ä¸€äº›èµ„æºè€—è´¹æ¯”è¾ƒå¤§çš„çº¿ç¨‹çš„åˆ›å»ºå’Œé”€æ¯ï¼Œ</p><p>å°½é‡åˆ©ç”¨å·²æœ‰å¯¹è±¡æ¥è¿›è¡ŒæœåŠ¡ã€‚</p><p>çº¿ç¨‹æ± ä¸»è¦ç”¨æ¥è§£å†³çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸå¼€é”€é—®é¢˜å’Œèµ„æºä¸è¶³é—®é¢˜ã€‚é€šè¿‡å¯¹å¤šä¸ªä»»åŠ¡é‡å¤ä½¿ç”¨çº¿ç¨‹ï¼Œçº¿ç¨‹åˆ›å»ºçš„å¼€é”€å°±è¢«åˆ†æ‘Šåˆ°äº†å¤šä¸ªä»»åŠ¡ä¸Šäº†ï¼Œ</p><p>è€Œä¸”ç”±äºåœ¨è¯·æ±‚åˆ°è¾¾æ—¶çº¿ç¨‹å·²ç»å­˜åœ¨ï¼Œæ‰€ä»¥æ¶ˆé™¤äº†çº¿ç¨‹åˆ›å»ºæ‰€å¸¦æ¥çš„å»¶è¿Ÿã€‚è¿™æ ·ï¼Œå°±å¯ä»¥ç«‹å³ä¸ºè¯·æ±‚æœåŠ¡ï¼Œä½¿ç”¨åº”ç”¨ç¨‹åºå“åº”æ›´å¿«ã€‚å¦å¤–ï¼Œ</p><p>é€šè¿‡é€‚å½“çš„è°ƒæ•´çº¿ç¨‹ä¸­çš„çº¿ç¨‹æ•°ç›®å¯ä»¥é˜²æ­¢å‡ºç°èµ„æºä¸è¶³çš„æƒ…å†µã€‚</p><a id="more"></a><h6 id="ä½¿ç”¨çº¿ç¨‹æ± æ–¹å¼â€“Runnableæ¥å£"><a href="#ä½¿ç”¨çº¿ç¨‹æ± æ–¹å¼â€“Runnableæ¥å£" class="headerlink" title="ä½¿ç”¨çº¿ç¨‹æ± æ–¹å¼â€“Runnableæ¥å£"></a><strong>ä½¿ç”¨çº¿ç¨‹æ± æ–¹å¼â€“Runnableæ¥å£</strong></h6><blockquote><p>é€šå¸¸ï¼Œçº¿ç¨‹æ± éƒ½æ˜¯é€šè¿‡çº¿ç¨‹æ± å·¥å‚åˆ›å»ºï¼Œå†è°ƒç”¨çº¿ç¨‹æ± ä¸­çš„æ–¹æ³•è·å–çº¿ç¨‹ï¼Œå†é€šè¿‡çº¿ç¨‹å»æ‰§è¡Œä»»åŠ¡æ–¹æ³•ã€‚</p></blockquote><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ThreadPoolDemo</span> </span>&#123;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;        <span class="hljs-comment">//åˆ›å»ºçº¿ç¨‹æ± å¯¹è±¡</span>        ExecutorService service = Executors.newFixedThreadPool(<span class="hljs-number">2</span>);<span class="hljs-comment">//åŒ…å«2ä¸ªçº¿ç¨‹å¯¹è±¡</span>        <span class="hljs-comment">//åˆ›å»ºRunnableå®ä¾‹å¯¹è±¡</span>        MyRunnable r = <span class="hljs-keyword">new</span> MyRunnable();        <span class="hljs-comment">//è‡ªå·±åˆ›å»ºçº¿ç¨‹å¯¹è±¡çš„æ–¹å¼</span>        <span class="hljs-comment">//Thread t = new Thread(r);</span>        <span class="hljs-comment">//t.start(); ---&gt; è°ƒç”¨MyRunnableä¸­çš„run()</span>        <span class="hljs-comment">//ä»çº¿ç¨‹æ± ä¸­è·å–çº¿ç¨‹å¯¹è±¡,ç„¶åè°ƒç”¨MyRunnableä¸­çš„run()</span>        service.submit(r);        <span class="hljs-comment">//å†è·å–ä¸ªçº¿ç¨‹å¯¹è±¡ï¼Œè°ƒç”¨MyRunnableä¸­çš„run()</span>        service.submit(r);        service.submit(r);        service.submit(r);        <span class="hljs-comment">//æ³¨æ„ï¼šsubmitæ–¹æ³•è°ƒç”¨ç»“æŸåï¼Œç¨‹åºå¹¶ä¸ç»ˆæ­¢ï¼Œæ˜¯å› ä¸ºçº¿ç¨‹æ± æ§åˆ¶äº†çº¿ç¨‹çš„å…³é—­ã€‚å°†ä½¿ç”¨å®Œçš„çº¿ç¨‹åˆå½’è¿˜åˆ°äº†çº¿ç¨‹æ± ä¸­</span>        <span class="hljs-comment">//å…³é—­çº¿ç¨‹æ± </span>        service.shutdown();    &#125;&#125;</code></pre><p>Runnableæ¥å£å®ç°ç±»</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyRunnable</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Runnable</span> </span>&#123;    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;        System.out.println(<span class="hljs-string">"æˆ‘è¦ä¸€ä¸ªæ•™ç»ƒ"</span>);        <span class="hljs-keyword">try</span> &#123;            Thread.sleep(<span class="hljs-number">2000</span>);        &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;            e.printStackTrace();        &#125;        System.out.println(<span class="hljs-string">"æ•™ç»ƒæ¥äº†ï¼š "</span> + Thread.currentThread().getName());        System.out.println(<span class="hljs-string">"æ•™æˆ‘æ¸¸æ³³,æ•™å®Œåï¼Œæ•™ç»ƒå›åˆ°äº†æ¸¸æ³³æ± "</span>);    &#125;&#125;</code></pre><h6 id="ä½¿ç”¨çº¿ç¨‹æ± æ–¹å¼â€”Callableæ¥å£"><a href="#ä½¿ç”¨çº¿ç¨‹æ± æ–¹å¼â€”Callableæ¥å£" class="headerlink" title="ä½¿ç”¨çº¿ç¨‹æ± æ–¹å¼â€”Callableæ¥å£"></a><strong>ä½¿ç”¨çº¿ç¨‹æ± æ–¹å¼â€”Callableæ¥å£</strong></h6><blockquote><p>ä¸Runnableæ¥å£åŠŸèƒ½ç›¸ä¼¼ï¼Œç”¨æ¥æŒ‡å®šçº¿ç¨‹çš„ä»»åŠ¡ã€‚å…¶ä¸­çš„call()æ–¹æ³•ï¼Œç”¨æ¥è¿”å›çº¿ç¨‹ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åçš„ç»“æœï¼Œcallæ–¹æ³•å¯æŠ›å‡ºå¼‚å¸¸ã€‚</p></blockquote><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.concurrent.ExecutorService;<span class="hljs-keyword">import</span> java.util.concurrent.Executors;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ThreadPoolDemo</span> </span>&#123;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;        <span class="hljs-comment">//åˆ›å»ºçº¿ç¨‹æ± å¯¹è±¡</span>        ExecutorService service = Executors.newFixedThreadPool(<span class="hljs-number">2</span>);<span class="hljs-comment">//åŒ…å«2ä¸ªçº¿ç¨‹å¯¹è±¡</span>        <span class="hljs-comment">//åˆ›å»ºCallableå¯¹è±¡</span>        MyCallable c = <span class="hljs-keyword">new</span> MyCallable();        <span class="hljs-comment">//ä»çº¿ç¨‹æ± ä¸­è·å–çº¿ç¨‹å¯¹è±¡,ç„¶åè°ƒç”¨MyRunnableä¸­çš„run()</span>        service.submit(c);        <span class="hljs-comment">//å†è·å–ä¸ªæ•™ç»ƒ</span>        service.submit(c);        service.submit(c);        <span class="hljs-comment">//æ³¨æ„ï¼šsubmitæ–¹æ³•è°ƒç”¨ç»“æŸåï¼Œç¨‹åºå¹¶ä¸ç»ˆæ­¢ï¼Œæ˜¯å› ä¸ºçº¿ç¨‹æ± æ§åˆ¶äº†çº¿ç¨‹çš„å…³é—­ã€‚å°†ä½¿ç”¨å®Œçš„çº¿ç¨‹åˆå½’è¿˜åˆ°äº†çº¿ç¨‹æ± ä¸­</span>        <span class="hljs-comment">//å…³é—­çº¿ç¨‹æ± </span>        <span class="hljs-comment">//service.shutdown();</span>    &#125;&#125;</code></pre><p>Callableæ¥å£å®ç°ç±»,callæ–¹æ³•å¯æŠ›å‡ºå¼‚å¸¸ã€è¿”å›çº¿ç¨‹ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åçš„ç»“æœ</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyCallable</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Callable</span> </span>&#123;    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> Object <span class="hljs-title">call</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;        System.out.println(<span class="hljs-string">"æˆ‘è¦ä¸€ä¸ªæ•™ç»ƒ:call"</span>);        Thread.sleep(<span class="hljs-number">2000</span>);        System.out.println(<span class="hljs-string">"æ•™ç»ƒæ¥äº†ï¼š "</span> + Thread.currentThread().getName());        System.out.println(<span class="hljs-string">"æ•™æˆ‘æ¸¸æ³³,æ•™å®Œå,æ•™ç»ƒå›åˆ°äº†æ¸¸æ³³æ± "</span>);        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;    &#125;&#125;</code></pre>]]></content>
    
    
    <categories>
      
      <category>çº¿ç¨‹</category>
      
      <category>JAVA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JAVA</tag>
      
      <tag>çº¿ç¨‹</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å®ç°å¤šçº¿ç¨‹çš„ä¸¤ç§æ–¹å¼</title>
    <link href="/2019/06/10/%E5%AE%9E%E7%8E%B0%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F/"/>
    <url>/2019/06/10/%E5%AE%9E%E7%8E%B0%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<p>Threadç±»ï¼š</p><p>Threadæ˜¯ç¨‹åºä¸­çš„æ‰§è¡Œçº¿ç¨‹ã€‚javaè™šæ‹Ÿæœºå…è®¸åº”ç”¨ç¨‹åºå¹¶å‘åœ°çš„è¿è¡Œå¤šä¸ªæ‰§è¡Œçº¿ç¨‹ã€‚</p><h5 id="1-è¿›ç¨‹ä¸çº¿ç¨‹çš„å…³ç³»"><a href="#1-è¿›ç¨‹ä¸çº¿ç¨‹çš„å…³ç³»" class="headerlink" title="1.è¿›ç¨‹ä¸çº¿ç¨‹çš„å…³ç³»"></a><strong>1.è¿›ç¨‹ä¸çº¿ç¨‹çš„å…³ç³»</strong></h5><p>è¿›ç¨‹ï¼šè¿›ç¨‹æŒ‡æ­£åœ¨è¿è¡Œçš„ç¨‹åºã€‚ç¡®åˆ‡çš„æ¥è¯´ï¼Œå½“ä¸€ä¸ªç¨‹åºè¿›å…¥å†…å­˜è¿è¡Œï¼Œå³å˜æˆä¸€ä¸ªè¿›ç¨‹ï¼Œè¿›ç¨‹æ˜¯å¤„äºè¿è¡Œè¿‡ç¨‹ä¸­çš„ç¨‹åºï¼Œå¹¶ä¸”å…·æœ‰ä¸€å®šç‹¬ç«‹åŠŸèƒ½ã€‚</p><p>çº¿ç¨‹ï¼šçº¿ç¨‹æ˜¯è¿›ç¨‹ä¸­çš„ä¸€ä¸ªæ‰§è¡Œå•å…ƒï¼Œè´Ÿè´£å½“å‰è¿›ç¨‹ä¸­ç¨‹åºçš„æ‰§è¡Œï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚ä¸€ä¸ªè¿›ç¨‹ä¸­æ˜¯å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹çš„ï¼Œ</p><p>ã€€ã€€ã€€è¿™ä¸ªåº”ç”¨ç¨‹åºä¹Ÿå¯ä»¥ç§°ä¹‹ä¸ºå¤šçº¿ç¨‹ç¨‹åºã€‚</p><p>ç®€è€Œè¨€ä¹‹ï¼šä¸€ä¸ªç¨‹åºè¿è¡Œåè‡³å°‘æœ‰ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥åŒ…å«å¤šä¸ªçº¿ç¨‹ã€‚</p><p>â€‹    <a id="more"></a></p><h5 id="2-å¤šçº¿ç¨‹ä¸¤ç§å®ç°æ–¹å¼"><a href="#2-å¤šçº¿ç¨‹ä¸¤ç§å®ç°æ–¹å¼" class="headerlink" title="2.å¤šçº¿ç¨‹ä¸¤ç§å®ç°æ–¹å¼"></a><strong>2.å¤šçº¿ç¨‹ä¸¤ç§å®ç°æ–¹å¼</strong></h5><p>åˆ›å»ºçº¿ç¨‹æœ‰ä¸¤ç§æ–¹æ³•</p><pre><code>ä¸€ç§æ–¹æ³•æ˜¯å°†ç±»å£°æ˜ä¸º Thread çš„å­ç±»ã€‚è¯¥å­ç±»åº”é‡å†™ Thread ç±»çš„ run æ–¹æ³•ã€‚åˆ›å»ºå¯¹è±¡ï¼Œå¼€å¯çº¿ç¨‹ã€‚</code></pre><p> runæ–¹æ³•ç›¸å½“äºå…¶ä»–çº¿ç¨‹çš„mainæ–¹æ³•ã€‚</p><pre><code>å¦ä¸€ç§æ–¹æ³•æ˜¯å£°æ˜ä¸€ä¸ªå®ç° Runnable æ¥å£çš„ç±»ã€‚è¯¥ç±»ç„¶åå®ç° run æ–¹æ³•ã€‚</code></pre><p> ç„¶ååˆ›å»ºRunnableçš„å­ç±»å¯¹è±¡ï¼Œä¼ å…¥åˆ°æŸä¸ªçº¿ç¨‹çš„æ„é€ æ–¹æ³•ä¸­ï¼Œå¼€å¯çº¿ç¨‹ã€‚</p><h6 id="2-1-åˆ›å»ºçº¿ç¨‹æ–¹å¼ä¸€ç»§æ‰¿Threadç±»"><a href="#2-1-åˆ›å»ºçº¿ç¨‹æ–¹å¼ä¸€ç»§æ‰¿Threadç±»" class="headerlink" title="2.1.åˆ›å»ºçº¿ç¨‹æ–¹å¼ä¸€ç»§æ‰¿Threadç±»"></a><strong>2.1.åˆ›å»ºçº¿ç¨‹æ–¹å¼ä¸€ç»§æ‰¿Threadç±»</strong></h6><p>åˆ›å»ºçº¿ç¨‹çš„æ­¥éª¤ï¼š</p><p>1 å®šä¹‰ä¸€ä¸ªç±»ç»§æ‰¿Threadã€‚</p><p>2 é‡å†™runæ–¹æ³•ã€‚</p><p>3 åˆ›å»ºå­ç±»å¯¹è±¡ï¼Œå°±æ˜¯åˆ›å»ºçº¿ç¨‹å¯¹è±¡ã€‚</p><p>4 è°ƒç”¨startæ–¹æ³•ï¼Œå¼€å¯çº¿ç¨‹å¹¶è®©çº¿ç¨‹æ‰§è¡Œï¼ŒåŒæ—¶è¿˜ä¼šå‘Šè¯‰jvmå»è°ƒç”¨runæ–¹æ³•ã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Demo01</span> </span>&#123;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;        <span class="hljs-comment">//åˆ›å»ºè‡ªå®šä¹‰çº¿ç¨‹å¯¹è±¡</span>        MyThread mt = <span class="hljs-keyword">new</span> MyThread(<span class="hljs-string">"æ–°çš„çº¿ç¨‹ï¼"</span>);        <span class="hljs-comment">//å¼€å¯æ–°çº¿ç¨‹</span>        mt.start();        <span class="hljs-comment">//åœ¨ä¸»æ–¹æ³•ä¸­æ‰§è¡Œforå¾ªç¯</span>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;            System.out.println(<span class="hljs-string">"for==mainçº¿ç¨‹ï¼"</span> + i);        &#125;    &#125;&#125;</code></pre><p>è‡ªå®šä¹‰çº¿ç¨‹ç±»</p><h6 id=""><a href="#" class="headerlink" title=""></a></h6><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyThread</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span> </span>&#123;    <span class="hljs-comment">//å®šä¹‰æŒ‡å®šçº¿ç¨‹åç§°çš„æ„é€ æ–¹æ³•</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyThread</span><span class="hljs-params">(String name)</span> </span>&#123;        <span class="hljs-comment">//è°ƒç”¨çˆ¶ç±»çš„Stringå‚æ•°çš„æ„é€ æ–¹æ³•ï¼ŒæŒ‡å®šçº¿ç¨‹çš„åç§°</span>        <span class="hljs-keyword">super</span>(name);    &#125;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * é‡å†™runæ–¹æ³•ï¼Œå®Œæˆè¯¥çº¿ç¨‹æ‰§è¡Œçš„é€»è¾‘</span><span class="hljs-comment">     */</span>    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;            System.out.println(getName() + <span class="hljs-string">"ï¼šæ­£åœ¨æ‰§è¡Œï¼"</span> + i);        &#125;    &#125;&#125;</code></pre><h6 id="2-2-åˆ›å»ºçº¿ç¨‹æ–¹å¼â€”å®ç°Runnableæ¥å£"><a href="#2-2-åˆ›å»ºçº¿ç¨‹æ–¹å¼â€”å®ç°Runnableæ¥å£" class="headerlink" title="2.2.åˆ›å»ºçº¿ç¨‹æ–¹å¼â€”å®ç°Runnableæ¥å£"></a><strong>2.2.åˆ›å»ºçº¿ç¨‹æ–¹å¼â€”å®ç°Runnableæ¥å£</strong></h6><p>åˆ›å»ºçº¿ç¨‹çš„å¦ä¸€ç§æ–¹æ³•æ˜¯å£°æ˜å®ç° Runnable æ¥å£çš„ç±»ã€‚</p><p>è¯¥ç±»ç„¶åå®ç° run æ–¹æ³•ã€‚ç„¶ååˆ›å»ºRunnableçš„å­ç±»å¯¹è±¡ï¼Œä¼ å…¥åˆ°æŸä¸ªçº¿ç¨‹çš„æ„é€ æ–¹æ³•ä¸­ï¼Œå¼€å¯çº¿ç¨‹ã€‚</p><p>1ã€å®šä¹‰ç±»å®ç°Runnableæ¥å£ã€‚</p><p>2ã€è¦†ç›–æ¥å£ä¸­çš„runæ–¹æ³•ã€‚ã€‚</p><p>3ã€åˆ›å»ºThreadç±»çš„å¯¹è±¡</p><p>4ã€å°†Runnableæ¥å£çš„å­ç±»å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™Threadç±»çš„æ„é€ å‡½æ•°ã€‚</p><p>5ã€è°ƒç”¨Threadç±»çš„startæ–¹æ³•å¼€å¯çº¿ç¨‹ã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Demo02</span> </span>&#123;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;        <span class="hljs-comment">//åˆ›å»ºçº¿ç¨‹æ‰§è¡Œç›®æ ‡ç±»å¯¹è±¡</span>        Runnable runn = <span class="hljs-keyword">new</span> MyRunnable();        <span class="hljs-comment">//å°†Runnableæ¥å£çš„å­ç±»å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™Threadç±»çš„æ„é€ å‡½æ•°</span>        Thread thread = <span class="hljs-keyword">new</span> Thread(runn);        Thread thread2 = <span class="hljs-keyword">new</span> Thread(runn);        <span class="hljs-comment">//å¼€å¯çº¿ç¨‹</span>        thread.start();        thread2.start();        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;            System.out.println(<span class="hljs-string">"mainçº¿ç¨‹ï¼šæ­£åœ¨æ‰§è¡Œï¼"</span> + i);        &#125;    &#125;&#125;</code></pre><p>è‡ªå®šä¹‰çº¿ç¨‹æ‰§è¡Œä»»åŠ¡ç±»</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyRunnable</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Runnable</span> </span>&#123;    <span class="hljs-comment">//å®šä¹‰çº¿ç¨‹è¦æ‰§è¡Œçš„runæ–¹æ³•é€»è¾‘</span>    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;            System.out.println(<span class="hljs-string">"æˆ‘çš„çº¿ç¨‹ï¼šæ­£åœ¨æ‰§è¡Œï¼"</span> + i);        &#125;    &#125;&#125;</code></pre><h5 id="3-å¤šçº¿ç¨‹ä¸¤ç§å®ç°æ–¹å¼çš„åŒºåˆ«"><a href="#3-å¤šçº¿ç¨‹ä¸¤ç§å®ç°æ–¹å¼çš„åŒºåˆ«" class="headerlink" title="3.å¤šçº¿ç¨‹ä¸¤ç§å®ç°æ–¹å¼çš„åŒºåˆ«"></a><strong>3.å¤šçº¿ç¨‹ä¸¤ç§å®ç°æ–¹å¼çš„åŒºåˆ«</strong></h5><p>ç¬¬äºŒç§æ–¹å¼å®ç°Runnableæ¥å£é¿å…äº†å•ç»§æ‰¿çš„å±€é™æ€§ï¼Œæ‰€ä»¥è¾ƒä¸ºå¸¸ç”¨ã€‚å®ç°Runnableæ¥å£çš„æ–¹å¼ï¼Œæ›´åŠ çš„ç¬¦åˆé¢å‘å¯¹è±¡ï¼Œçº¿ç¨‹åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œ</p><p>ä¸€éƒ¨åˆ†çº¿ç¨‹å¯¹è±¡ï¼Œä¸€éƒ¨åˆ†çº¿ç¨‹ä»»åŠ¡ã€‚ç»§æ‰¿Threadç±»ï¼Œçº¿ç¨‹å¯¹è±¡å’Œçº¿ç¨‹ä»»åŠ¡è€¦åˆåœ¨ä¸€èµ·ã€‚ä¸€æ—¦åˆ›å»ºThreadç±»çš„å­ç±»å¯¹è±¡ï¼Œæ—¢æ˜¯çº¿ç¨‹å¯¹è±¡ï¼Œ</p><p>æœ‰åˆæœ‰çº¿ç¨‹ä»»åŠ¡ã€‚å®ç°runnableæ¥å£ï¼Œå°†çº¿ç¨‹ä»»åŠ¡å•ç‹¬åˆ†ç¦»å‡ºæ¥å°è£…æˆå¯¹è±¡ï¼Œç±»å‹å°±æ˜¯Runnableæ¥å£ç±»å‹ã€‚Runnableæ¥å£å¯¹çº¿ç¨‹å¯¹è±¡å’Œçº¿ç¨‹ä»»åŠ¡è¿›è¡Œè§£è€¦ã€‚</p><h5 id="4-çº¿ç¨‹çš„åŒ¿åå†…éƒ¨ç±»ä½¿ç”¨"><a href="#4-çº¿ç¨‹çš„åŒ¿åå†…éƒ¨ç±»ä½¿ç”¨" class="headerlink" title="4. çº¿ç¨‹çš„åŒ¿åå†…éƒ¨ç±»ä½¿ç”¨"></a><strong>4. çº¿ç¨‹çš„åŒ¿åå†…éƒ¨ç±»ä½¿ç”¨</strong></h5><p>æ–¹å¼1ï¼šåˆ›å»ºçº¿ç¨‹å¯¹è±¡æ—¶ï¼Œç›´æ¥é‡å†™Threadç±»ä¸­çš„runæ–¹æ³•</p><pre><code class="hljs java"><span class="hljs-keyword">new</span> Thread() &#123;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>; x &lt; <span class="hljs-number">40</span>; x++) &#123;            System.out.println(Thread.currentThread().getName() + <span class="hljs-string">"...X...."</span> + x);        &#125;    &#125;&#125;.start();</code></pre><p>æ–¹å¼2ï¼šä½¿ç”¨åŒ¿åå†…éƒ¨ç±»çš„æ–¹å¼å®ç°Runnableæ¥å£ï¼Œé‡æ–°Runnableæ¥å£ä¸­çš„runæ–¹æ³•</p><pre><code class="hljs java">Runnable r = <span class="hljs-keyword">new</span> Runnable() &#123;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>; x &lt; <span class="hljs-number">40</span>; x++) &#123;            System.out.println(Thread.currentThread().getName() + <span class="hljs-string">"...Y...."</span> + x);        &#125;    &#125;&#125;;<span class="hljs-keyword">new</span> Thread(r).start();</code></pre>]]></content>
    
    
    <categories>
      
      <category>å¤šçº¿ç¨‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JAVA</tag>
      
      <tag>å¤šçº¿ç¨‹</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>macèµ„æºå…±äº«</title>
    <link href="/2019/06/10/mac%E8%B5%84%E6%BA%90%E5%85%B1%E4%BA%AB/"/>
    <url>/2019/06/10/mac%E8%B5%84%E6%BA%90%E5%85%B1%E4%BA%AB/</url>
    
    <content type="html"><![CDATA[<h4 id="PDFelement-Pro-For-Macå¼ºå¤§çš„PDFç¼–è¾‘å·¥å…·V6-8-0"><a href="#PDFelement-Pro-For-Macå¼ºå¤§çš„PDFç¼–è¾‘å·¥å…·V6-8-0" class="headerlink" title="PDFelement Pro For Macå¼ºå¤§çš„PDFç¼–è¾‘å·¥å…·V6.8.0"></a>PDFelement Pro For Macå¼ºå¤§çš„PDFç¼–è¾‘å·¥å…·V6.8.0</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>Wondershare PDFelement Proï¼ˆPDFelement 6 Pro ï¼‰æ˜¯ä¸€æ¬¾å®‰å…¨å¼ºå¤§ï¼Œç®€å•å¥½ç”¨çš„PDFè§£å†³æ–¹æ¡ˆã€‚æ‹¥æœ‰æ‚¨ä½¿ç”¨PDFæ‰€éœ€çš„ä¸€åˆ‡ã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>ç‰¹æ€§ï¼š</p><p>PDFç¼–è¾‘å™¨</p><p>ç¼–è¾‘ï¼Œåˆ é™¤ï¼Œå‰ªåˆ‡ï¼Œå¤åˆ¶ï¼Œç²˜è´´å’Œæ’å…¥PDFæ–‡æœ¬å’Œå›¾åƒã€‚</p><p>æ”¹å˜å­—ä½“å±æ€§ï¼ˆç±»å‹ï¼Œå¤§å°å’Œé£æ ¼ï¼Œå¯¹é½ï¼‰ã€‚</p><p>æ’å…¥ï¼Œæ›´æ–°æˆ–åˆ é™¤è‡ªå®šä¹‰æ°´å°å’ŒèƒŒæ™¯ã€‚</p><p>ä½¿ç”¨é«˜çº§æ ¼å¼åº”ç”¨è´èŒ¨ç¼–å·ã€‚ ï¼ˆç‹¬å®¶ï¼ï¼‰</p><p>æ’å…¥ï¼Œæ›´æ–°æˆ–åˆ é™¤é¡µçœ‰å’Œé¡µè„šï¼ˆåŒ…æ‹¬é¡µç å’Œæ—¥æœŸï¼‰ã€‚</p><p>æ’å…¥å’Œç¼–è¾‘è¶…é“¾æ¥ã€‚</p><p>æ ‡è®°å’Œæ³¨é‡ŠPDF</p><a id="more"></a><p>æ·»åŠ è¯„è®ºï¼Œç²˜æ»ä¾¿ç¬ºï¼Œæ–‡æœ¬æ¡†ï¼Œæ–‡æœ¬å‘¼å‡ºï¼Œé‚®ç¥¨ï¼Œæ·»åŠ /ç¼–è¾‘é“¾æ¥ï¼Œå¾’æ‰‹ç”»ã€‚</p><p>çªå‡ºæ˜¾ç¤ºï¼Œå¼ºè°ƒæˆ–çªç ´ä¸Šä¸‹æ–‡ã€‚</p><p>åˆ›å»ºå’Œç®¡ç†é¢„å»ºå’Œè‡ªå®šä¹‰é‚®ç¥¨åº“ã€‚</p><p>åˆ›å»ºå’Œç¼–è¾‘è¡¨å•</p><p>å¡«å†™PDFè¡¨æ ¼ã€‚</p><p>è‡ªåŠ¨è¡¨å•å­—æ®µè¯†åˆ«è‡ªåŠ¨åˆ›å»ºè¡¨å•ã€‚</p><p>ä»äº¤äº’å¼å­—æ®µå¯¹è±¡ï¼ˆå¦‚æŒ‰é’®ï¼Œå¤é€‰æ¡†ï¼Œå•é€‰æŒ‰é’®ï¼Œåˆ—è¡¨æ¡†å’Œä¸‹æ‹‰åˆ—è¡¨ï¼‰ä¸­åˆ›å»ºå¯å¡«å†™çš„PDFè¡¨å•ã€‚</p><p>è®¿é—®é¢„å…ˆæ„å»ºï¼Œå¯è‡ªå®šä¹‰çš„å¯å¡«å†™è¡¨å•çš„é›†åˆã€‚</p><p>æ”¯æŒåœ¨PDFä¸Šåˆ›å»ºï¼Œç¼–è¾‘å’Œæ·»åŠ æ•°å­—ç­¾åã€‚</p><p>æ•°æ®æå–ï¼ˆç‹¬å®¶ï¼ï¼‰</p><p>ä»æ•°å­—å’Œæ‰«æçš„PDFè¡¨æ ¼ä¸­è‡ªåŠ¨æå–æ•°æ®ã€‚</p><p>ä»æ•°å­—å’Œæ‰«æçš„PDFæ ¼å¼çš„æ‰¹é‡æ•°æ®æå–åˆ°CSVç”µå­è¡¨æ ¼ã€‚</p><p>æ ‡è®°å¹¶æå–æ‰«æPDFçš„é€‰å®šè¡¨å•åŸŸä¸­çš„æ•°æ®ã€‚</p><p>ä»PDFæ ¼å¼å¯¼å‡ºæˆ–å¯¼å…¥è¡¨å•æ•°æ®ã€‚</p><p>OCRï¼ˆç‹¬å®¶ï¼ï¼‰</p><p>OCRï¼ˆå…‰å­¦å­—ç¬¦è¯†åˆ«ï¼‰ä½¿æ‚¨èƒ½å¤Ÿç¼–è¾‘å’Œè½¬æ¢æ‰«æçš„PDFæ–‡ä»¶æˆ–å›¾ç‰‡ä¸­çš„å­—ç¬¦ã€‚</p><p>OCRæœ‰åŠ©äºä»æ‰«æçš„PDFè¡¨å•æˆ–å‘ç¥¨ä¸­æå–æ•°æ®ã€‚</p><p>PDF / Aï¼ˆç‹¬å®¶ï¼ï¼‰</p><p>æ”¯æŒPDF / Aä½œä¸ºä¸€ä¸ªå¯ç”¨çš„è¾“å‡ºæ ¼å¼ä¸ISOæ ‡å‡†é•¿æœŸå½’æ¡£ã€‚</p><p>PDFè½¬æ¢å™¨</p><p>é™¤æ ‡å‡†ç‰ˆæ”¯æŒçš„Wordï¼ŒExcelï¼ŒPPTå’ŒImageç­‰æ™®é€šè¾“å‡ºæ ¼å¼å¤–ï¼ŒProç‰ˆæœ¬è¿˜æ”¯æŒå°†PDFæ–‡ä»¶è½¬æ¢ä¸ºEPUBï¼ŒHTMLï¼ŒTextï¼ŒRTFç­‰æ ¼å¼ã€‚</p><p>ä½¿ç”¨OCRæŠ€æœ¯å°†æ‰«æçš„PDFè½¬æ¢ä¸ºå¯ç¼–è¾‘å’Œå¯æœç´¢çš„æ–‡æ¡£ã€‚</p><p>è½¬æ¢åä¿ç•™æ–‡æœ¬ï¼Œå›¾åƒï¼Œå›¾å½¢ï¼Œå­—ä½“å’ŒåµŒå…¥å¼å…ƒç´ çš„åŸå§‹å¸ƒå±€ã€‚</p><p>é¡µé¢ç®¡ç†</p><p>ç®¡ç†æ–‡æ¡£ä¸­çš„é¡µé¢ï¼ˆé‡æ–°ç»„ç»‡ï¼Œæ’å…¥ï¼Œæå–ï¼Œè£å‰ªï¼Œæ—‹è½¬å’Œåˆ é™¤é¡µé¢ï¼‰ã€‚</p><p>åˆ›å»ºå’Œç»„åˆPDF</p><p>æ”¯æŒè¾“å…¥æ ¼å¼ï¼špdf / html / webarchive / rtf / txt / jpeg / jpg / png / bmp / gifã€‚</p><p>å°†ä¸åŒçš„æ ¼å¼æ–‡ä»¶ç»„åˆæˆä¸€ä¸ªæ–°çš„PDFã€‚</p><p>ç”±PDFelementåˆ›å»ºçš„æ–‡ä»¶æ˜¯100ï¼…å…¼å®¹å’ŒAdobe Readerå’Œå…¶ä»–PDFé˜…è¯»å™¨è®¿é—®ã€‚</p><p>å®‰å…¨å¹¶å…±äº«PDF</p><p>è®¾ç½®å¯†ç ä»¥é˜²æ­¢æœªç»æˆæƒçš„ç”¨æˆ·æ‰“å¼€PDFã€‚</p><p>åº”ç”¨æƒé™ã€‚é€šè¿‡ä¸ºæ–‡æ¡£è®¾ç½®æƒé™ï¼Œé™åˆ¶ç”¨æˆ·è®¿é—®PDFæ‰“å°ï¼Œå¤åˆ¶ï¼Œç¼–è¾‘å’Œæå–ã€‚</p><p>ç¼–è¾‘PDFä¸­çš„æ•æ„Ÿæ–‡æœ¬å’Œå›¾åƒã€‚ ï¼ˆç‹¬å®¶ï¼ï¼‰</p><p>å‘é€PDFæ ¼å¼çš„ç”µå­é‚®ä»¶é™„ä»¶ã€‚</p><p>æ”¯æŒç›´æ¥æ‰“å°å’Œç”µå­é‚®ä»¶ç¼–è¾‘çš„PDFã€‚</p><p>å°†æ‚¨çš„PDFæ–‡ä»¶ä¿å­˜åˆ°æµè¡Œçš„äº‘å­˜å‚¨æœåŠ¡ï¼ˆGoogle Driveï¼ŒDropboxå’ŒEvernoteï¼‰ã€‚</p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š</p><p>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>å¤šå›½è¯­è¨€ï¼ˆChinese/Englishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1l8L-qN7rewdeCuWt1dSlcw" target="_blank" rel="noopener">https://pan.baidu.com/s/1l8L-qN7rewdeCuWt1dSlcw</a> æå–ç : dfn2 </p><h4 id="RazorSQL-For-Macæ”¯æŒå¤šç§æ•°æ®åº“çš„æ•°æ®åº“ç®¡ç†å·¥å…·-V8-3-4"><a href="#RazorSQL-For-Macæ”¯æŒå¤šç§æ•°æ®åº“çš„æ•°æ®åº“ç®¡ç†å·¥å…·-V8-3-4" class="headerlink" title="RazorSQL For Macæ”¯æŒå¤šç§æ•°æ®åº“çš„æ•°æ®åº“ç®¡ç†å·¥å…· V8.3.4"></a>RazorSQL For Macæ”¯æŒå¤šç§æ•°æ®åº“çš„æ•°æ®åº“ç®¡ç†å·¥å…· V8.3.4</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>RazorSQL æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„æ•°æ®åº“ç®¡ç†å®¢æˆ·ç«¯ï¼Œå…·æœ‰æ•°æ®åº“è¿æ¥ã€SQLç¼–è¾‘å’ŒæŸ¥è¯¢ã€æ•°æ®åº“ç®¡ç†ã€å¯¼å…¥/å¯¼å‡ºæ•°æ®ç­‰ç­‰åŠŸèƒ½ã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>RazorSQL æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„æ•°æ®åº“ç®¡ç†å®¢æˆ·ç«¯ï¼Œå…·æœ‰æ•°æ®åº“è¿æ¥ã€SQLç¼–è¾‘å’ŒæŸ¥è¯¢ã€æ•°æ®åº“ç®¡ç†ã€å¯¼å…¥/å¯¼å‡ºæ•°æ®ç­‰ç­‰åŠŸèƒ½ã€‚</p><p>æ”¯æŒä¸»æµçš„30å¤šç§æ•°æ®åº“ï¼Œå¦‚ï¼šCassandraã€Oracleã€SQLiteã€MS SQL Serverã€MySQLã€MongoDBç­‰ã€‚</p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š</p><p>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>è‹±æ–‡è¯­è¨€ï¼ˆEnglishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1_80dXs_NW0ZAp3_umhXQiw" target="_blank" rel="noopener">https://pan.baidu.com/s/1_80dXs_NW0ZAp3_umhXQiw</a> æå–ç : vn9k </p><h4 id="Microsoft-Office-For-MacåŠå…¬è½¯ä»¶-V2019-16-25-19051201"><a href="#Microsoft-Office-For-MacåŠå…¬è½¯ä»¶-V2019-16-25-19051201" class="headerlink" title="Microsoft Office For MacåŠå…¬è½¯ä»¶ V2019 16.25.19051201"></a>Microsoft Office For MacåŠå…¬è½¯ä»¶ V2019 16.25.19051201</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>Office For MacåŒ…å«å…¨æ–°çš„Wordï¼ŒExcel,PowerPointï¼ŒOutlookå’ŒOneNoteï¼Œå®Œå…¨æ”¯æŒRetinaï¼Œæ”¯æŒä¸­æ–‡ï¼Œå¤§é‡åŠŸèƒ½æ›´æ–°ï¼Œéå¸¸å¼ºå¤§ï¼</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>å…¨æ–°çš„ã€å¯Œæœ‰æ—¶ä»£æ°”æ¯çš„ Wordã€Excelã€PowerPointã€Outlook å’Œ OneNote â€” å°†ç†Ÿæ‚‰çš„ Office ä¸ä½ é’Ÿçˆ±çš„ç‹¬æœ‰ Mac åŠŸèƒ½ç›¸ç»“åˆï¼Œè®©ä½ å¯ä»¥å¿«é€Ÿä¸Šæ‰‹ã€‚</p><p>æ— è®ºèº«å¤„ä½•å¤„ï¼Œä½ éƒ½èƒ½éšæ—¶åˆ›å»ºç²¾ç¾çš„æ–‡æ¡£ï¼Œæ·±å…¥è·å–å„ç±»ä¿¡æ¯ï¼Œä»å®¹è‡ªä¿¡åœ°å±•ç¤ºã€‚</p><p>Office åº”ç”¨ç¨‹åºåŠŸèƒ½å¼ºå¤§ï¼Œå€ŸåŠ© Office åº”ç”¨ç¨‹åºï¼Œä½ å¯ä»¥åœ¨å¹³æ¿ç”µè„‘ã€æ‰‹æœºå’Œ Web ä¸Šéšæ—¶å®Œæˆå·¥ä½œã€‚</p><p>å†…ç½®å·¥å…·èƒ½æ›´å¥½åœ°æ”¯æŒå›¢é˜Ÿåä½œï¼Œå›¢é˜Ÿæˆå‘˜å¯ä»¥å…±äº«ã€å®¡é˜…å’Œå…±åŒç¼–è¾‘æ–‡æ¡£ã€æ¼”ç¤ºæ–‡ç¨¿å’Œç¬”è®°ï¼Œè®©ä½ çš„å›¢é˜Ÿæ›´é«˜æ•ˆç´§å¯†åˆä½œã€‚</p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š<br>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p><strong>æ”¯æŒ10.14ç³»ç»Ÿ</strong></p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>å¤šå›½è¯­è¨€ï¼ˆChinese/Englishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/14QibV7ruW1CJd7QADnAKog" target="_blank" rel="noopener">https://pan.baidu.com/s/14QibV7ruW1CJd7QADnAKog</a> æå–ç : ne4p</p><h4 id="Sketch-For-MacçŸ¢é‡ç»˜å›¾å·¥å…·-V54-1"><a href="#Sketch-For-MacçŸ¢é‡ç»˜å›¾å·¥å…·-V54-1" class="headerlink" title="Sketch For MacçŸ¢é‡ç»˜å›¾å·¥å…· V54.1"></a>Sketch For MacçŸ¢é‡ç»˜å›¾å·¥å…· V54.1</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>Sketch æ˜¯Macä¸Šä¸€ä¸ªå¼ºå¤§ã€åˆ›æ–°ã€æ˜“ä½¿ç”¨çš„çŸ¢é‡ç»˜å›¾è½¯ä»¶ã€‚Sketch ç®€çº¦çš„è®¾è®¡æ˜¯åŸºäºæ— é™çš„è§„æ¨¡å’Œå±‚æ¬¡çš„ç»˜å›¾ç©ºé—´ï¼Œä¸°å¯Œçš„è°ƒè‰²æ¿ã€é¢æ¿ã€èœå•ã€çª—å£å’Œæ§ä»¶ã€‚è™½ç„¶ä½¿ç”¨ç®€å•ï¼Œä½†æ˜¯å®ƒæä¾›äº†åŠŸèƒ½å¼ºå¤§çš„çŸ¢é‡ç»˜å›¾å’Œæ–‡å­—å·¥å…·ï¼Œå¦‚å®Œç¾çš„å¸ƒå°”è¿ç®—ã€ç¬¦å·ï¼Œå’Œå¼ºå¤§çš„æ ‡å°ºã€å‚è€ƒçº¿å’Œç½‘æ ¼ã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š<br>ç®€å•ä½†åŠŸèƒ½å¼ºå¤§çš„æ¥å£</p><ul><li>ä¼˜åŒ–çš„è§†ç½‘è†œå’ŒéRetinaæ˜¾ç¤ºå±</li><li>å¼ºå¤§çš„é€ å‹ï¼Œå¤šé‡é˜´å½±ï¼Œå¤šä¸ªå¡«å……ï¼Œæ¸å˜ï¼Œæ··åˆï¼Œæ¨¡ç³Šï¼Œå™ªç‚¹å¤šâ€¦</li><li>çµæ´»çš„å¸ƒå°”æ“ä½œç®€å•çš„å›¾å½¢ç»„åˆæˆå¤æ‚çš„å½¢çŠ¶</li><li>ç”»æ¿åŠåˆ‡ç‰‡å‡ºå£å¤šä¸ªå›¾åƒå‡ºä¸€ä¸ªå•ä¸€çš„æ–‡ä»¶</li><li>è‡ªåŠ¨@ 2Xå‡ºå£çš„è§†ç½‘è†œå›¾å½¢<br>ç‹¬ç‰¹çš„é¢œè‰²ï¼ˆä¸RGBå’ŒHSBæ¨¡å¼ï¼‰å’Œå­—ä½“é€‰æ‹©å™¨</li><li>ç¾ä¸½çš„åŸç”Ÿæ–‡æœ¬æ¸²æŸ“å’Œæ–‡æœ¬æ ·å¼</li><li>å‘é‡å’Œåƒç´ å˜ç„¦ï¼Œæ‹‰è¿‘ä¸æ— é™çš„çŸ¢é‡ç²¾åº¦æˆ–ä¸ªåˆ«åƒç´ </li><li>å¤šç«™å’Œå¾„å‘æ¸å˜ç¼–è¾‘å³ä¾§çš„ç”»å¸ƒä¸­ã€‚å¼ºå¤§çš„æ‰€è§å³æ‰€å¾—çš„æ¸²æŸ“ã€‚</li><li>PDFï¼ŒEPSå’ŒSVGçš„è¿›å£å’Œå‡ºå£çš„æ”¯æŒ</li><li>å…±äº«ä¸é“¾æ¥å›¾å±‚æ ·å¼çš„è‡ªåŠ¨æ›´æ–°å½¼æ­¤</li><li>åŠŸèƒ½å¼ºå¤§ï¼Œæ˜“äºä½¿ç”¨çš„çŸ¢é‡å·¥å…·<br>æ­¤å¤–ï¼Œè®¾è®¡å¸ˆåœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢å°†äº«å—ä»¥ä¸‹åŠŸèƒ½ï¼š<br>ã€€ã€€ä¸ºWebå’ŒUIè®¾è®¡</li><li>å¤åˆ¶CSSæ ·å¼åˆ°å‰ªè´´æ¿ï¼ˆåŒ…æ‹¬æ¢¯åº¦ï¼ ï¼‰</li><li>åˆ‡ç‰‡ï¼šå°†å‡ºå£ä½œä¸ºç”»å¸ƒä¸Šçš„å›¾åƒåŒºåŸŸ</li><li>960pxç½‘æ ¼ï¼Œç”¨æ›´å…ˆè¿›çš„ç½‘æ ¼é€‰é¡¹çš„æ”¯æŒ</li><li>å¤šé¡µçš„å•ä¸ªæ–‡ä»¶é‡Œé¢æ”¯æŒ<br>ç”¨äºå›¾æ ‡è®¾è®¡å¸ˆ</li><li>ç”»æ¿ï¼Œç”»æ¿æ¯ä¸€ä¸ªæ˜¯è‡ªå·±çš„å°å¸†å¸ƒ</li><li>iOSçš„å›¾æ ‡æ¨¡æ¿</li><li>åƒç´ ç½‘æ ¼</li><li>åƒç´ æ•ˆæœï¼Œå¦‚é«˜æ–¯å’Œè¿åŠ¨æ¨¡ç³Š</li></ul><p>ç°V53ä»¥ä¸Šçš„ç‰ˆæœ¬ï¼Œå·²ç»æ”¯æŒä¸­æ–‡äº†</p><p>æ±‰åŒ–å®‰è£…è¯´æ˜ï¼š ç‚¹è¿™é‡Œ <a href="https://u14254589.pipipan.com/fs/14254589-234413612" target="_blank" rel="noopener">æ±‰åŒ–åŒ…ä¸‹è½½</a></p><p>1.ä¸‹è½½æ±‰åŒ– Sketchl18N-master å‹ç¼©åŒ…</p><p>2.æ‰¾åˆ° SketchI18N.sketchplugin åŒå‡»å®‰è£…ï¼ˆå‰æä½ è£…å¥½äº† Sketchï¼‰</p><p>3.æç¤ºå®‰è£…æˆåŠŸåç‚¹ OK è¿›å…¥sketch</p><p>4.åœ¨ Sketch ä¸­æŒ‰å¿«æ·é”® control command + x å®ç°ï¼ˆä¹Ÿå¯ä»¥åœ¨èœå•æ ä¸­ Plugins ä¸­æ‰¾åˆ° Sketchl 18Nï¼‰</p><p>5.æ±‰åŒ–æˆåŠŸ</p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š<br>OS X 10.13æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š<br>å¤šå›½è¯­è¨€ï¼ˆChinese/Englishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1PcQavpmtNZ5WdT5c4uMp_Q" target="_blank" rel="noopener">https://pan.baidu.com/s/1PcQavpmtNZ5WdT5c4uMp_Q</a> æå–ç : 4x1n å¤åˆ¶è¿™æ®µå†…å®¹åæ‰“å¼€ç™¾åº¦ç½‘ç›˜æ‰‹æœºAppï¼Œæ“ä½œæ›´æ–¹ä¾¿å“¦</p><h4 id="OmniFocus-For-Macæœ€ä¼˜ç§€çš„GTDæ•ˆç‡å·¥å…·-V3-3-2"><a href="#OmniFocus-For-Macæœ€ä¼˜ç§€çš„GTDæ•ˆç‡å·¥å…·-V3-3-2" class="headerlink" title="OmniFocus For Macæœ€ä¼˜ç§€çš„GTDæ•ˆç‡å·¥å…· V3.3.2"></a>OmniFocus For Macæœ€ä¼˜ç§€çš„GTDæ•ˆç‡å·¥å…· V3.3.2</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>OmniFocus æ˜¯ä¸€æ¬¾IOS å’ŒMacå¹³å°ä¸Šæœ€å¼ºå¤§çš„ä¹¦ç±ä¸äº‹åŠ¡ç®¡ç†æ–¹æ³•â€œGetting Things Doneâ€å·¥å…·ï¼Œä½ å¯ä»¥æœ‰æ¡ç†æœ‰é€»è¾‘çš„å®‰æ’å¥½ä½ çš„å·¥ä½œå’Œç”Ÿæ´»ã€‚ä¸»è¦ååŠ©æ‚¨æ•æ‰å¹¶ç®¡ç†å„é¡¹äº‹åŠ¡ä¸ç‚¹å­ï¼Œå‘æŒ¥ç”Ÿäº§åŠ›ï¼›æ‚¨å¯ä»¥ç”¨å®ƒæ¥å‚¨å­˜ã€ç®¡ç†åŠå¤„ç†å„é¡¹åŠ¨ä½œæˆ–ä»»åŠ¡ï¼Œè€Œä»»åŠ¡æˆ–å„é¡¹ç›®å¯è¢«æŒ‡æ´¾åˆ°ç›¸å…³çš„ä¸“æ¡ˆä¸­ï¼ŒåŒæ—¶OmniFocusä¹Ÿæä¾›äº†è§†è§‰æç¤ºæ¥æé†’æ‚¨ä¸‹ä¸€æ­¥è¯¥æ‰§è¡Œçš„åŠ¨ä½œã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>OmniFocusçš„å¼€å‘æ¦‚å¿µæ˜¯æ¥è‡ªDavid Allençš„ä¹¦ç±ä¸äº‹åŠ¡ç®¡ç†æ–¹æ³•â€œGetting Things Doneâ€ï¼Œä¸»è¦ååŠ©æ‚¨æ•æ‰å¹¶ç®¡ç†å„é¡¹äº‹åŠ¡ä¸ç‚¹å­ï¼Œå‘æŒ¥ç”Ÿäº§åŠ›ï¼›æ‚¨å¯ä»¥ç”¨å®ƒæ¥å‚¨å­˜ã€ç®¡ç†åŠå¤„ç†å„é¡¹åŠ¨ä½œæˆ–ä»»åŠ¡ï¼Œè€Œä»»åŠ¡æˆ–å„é¡¹ç›®å¯è¢«æŒ‡æ´¾åˆ°ç›¸å…³çš„ä¸“æ¡ˆä¸­ï¼ŒåŒæ—¶OmniFocusä¹Ÿæä¾›äº†è§†è§‰æç¤ºæ¥æé†’æ‚¨ä¸‹ä¸€æ­¥è¯¥æ‰§è¡Œçš„åŠ¨ä½œã€‚</p><p>OmniFocuså¯è¾“å…¥kGTDæ–‡ä»¶çš„èµ„æ–™ã€ä¸iCalåŒæ­¥ã€é€è¿‡MailåŠ å…¥ä»»åŠ¡ã€ä½¿ç”¨Spotlightæ¥å­˜å–å„é¡¹ä»»åŠ¡ã€è¿‡æ»¤ä¸“æ¡ˆä¸ä»»åŠ¡ã€æ”¯æ´æ¡£æ¡ˆé™„ä»¶â€¦ç­‰ç­‰ã€‚å¼€å‘äººå‘˜åœ¨äº§å“ç½‘é¡µä¹Ÿæä¾›äº†äº§å“æ¦‚è§‚ä¸ç¤ºèŒƒå½±ç‰‡ï¼Œä¾›ä½¿ç”¨è€…å‚è€ƒã€‚Capture-å¿«é€Ÿæ–¹ä¾¿è®°å½•ä½ æ‰€æœ‰éœ€è¦åšçš„äº‹ä»¶åˆ°ä½ çš„æ”¶ä»¶ç®±ä¸­ï¼Œç›´åˆ°ä½ å‡†å¤‡å»å¤„ç†å’Œç»„ç»‡ä»–ä»¬ã€‚Organize-åœ¨OmniFocusä¸­ä½¿ç”¨å¼ºå¤§çš„contextsç‰¹ç‚¹è¿›è¡Œåˆ†ç±»çš„å·¥ä½œæ¨¡å¼ã€‚</p><p>Sync-ä½ åœ¨Macä¸Šæ²¡æœ‰å®Œæˆä½ çš„ç›®æ ‡ï¼Œä½ å¯ä»¥æŠŠä»–ä»¬ä¸€èµ·å¸¦èµ°ã€‚åœ¨OmniFocusé‡Œï¼Œä½ èƒ½å¤ŸæŠŠä½ çš„ä»»åŠ¡æ•°æ®åº“åŒæ­¥åˆ°æœåŠ¡å™¨æˆ–è€…ç£ç›˜é‡Œã€‚å¦‚æœä½ æœ‰iPhoneï¼Œé‚£å°±æ›´æ–¹ä¾¿äº†ï¼Œç›´æ¥æŠŠæ‰€æœ‰Macçš„ä»»åŠ¡æ•°æ®ç›´æ¥åŒæ­¥åœ¨iPhoneå’ŒiPadä¸Šã€‚</p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š</p><p>OS X 10.13æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>å¤šå›½è¯­è¨€ï¼ˆChinese/Englishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1eKH2kA-Z85RKe-wGz2CgnA" target="_blank" rel="noopener">https://pan.baidu.com/s/1eKH2kA-Z85RKe-wGz2CgnA</a> æå–ç : 81iu </p><h4 id="Launchey-For-Macçµæ´»çš„èœå•æ å¿«æ·å·¥å…·-V2-0-9b"><a href="#Launchey-For-Macçµæ´»çš„èœå•æ å¿«æ·å·¥å…·-V2-0-9b" class="headerlink" title="Launchey For Macçµæ´»çš„èœå•æ å¿«æ·å·¥å…· V2.0.9b"></a>Launchey For Macçµæ´»çš„èœå•æ å¿«æ·å·¥å…· V2.0.9b</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>Launcheyæ˜¯ä¸€ä¸ªè½»é‡çº§çš„èœå•å¯åŠ¨ç¨‹åºï¼Œè®©ä½ å¯åŠ¨ä»»ä½•åº”ç”¨ç¨‹åºåœ¨æ‚¨çš„Macçš„èœå•æ ã€‚ä½ å¯ä»¥é€‰æ‹©å“ªäº›åº”ç”¨ç¨‹åºæ˜¯å¯è§çš„Launcheyçš„èœå•æ èœå•ï¼Œé€‰æ‹©5ä¸ªæœ€å–œæ¬¢çš„ï¼Œä½ å°±å¯ä»¥ç›´æ¥åœ¨ä½ çš„Macçš„èœå•æ æ˜¾ç¤ºã€‚Launcheyè®©æ‚¨å¯åŠ¨æ‚¨æœ€å–œçˆ±çš„åº”ç”¨ç¨‹åºè®¾ç½®å…¨å±€çƒ­é”®ã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>ç‰¹å¾ï¼š</p><p>å¯å®šåˆ¶çš„èœå•ï¼Œ</p><p>å¯å®šåˆ¶çš„çƒ­é”®ï¼Œ</p><p>ç›´æ¥åœ¨èœå•æ ä¸­æ˜¾ç¤ºåº”ç”¨ï¼Œ</p><p>å¯å®šåˆ¶çš„åº”ç”¨ç¨‹åºï¼Œ</p><p>åœ¨å¯åŠ¨æ—¶å¯åŠ¨ï¼Œ</p><p>å¿«é€Ÿè½»å·§ï¼Œ</p><p>ä½¿ç”¨æœ€æ–°çš„AppleæŠ€æœ¯æ„å»ºï¼Œ</p><p>ä¸“ä¸ºOS X El Capitanè®¾è®¡ã€‚</p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š</p><p>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>è‹±æ–‡è¯­è¨€ï¼ˆEnglishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1LwS_tKeLJ5bKxCICy1TQdA" target="_blank" rel="noopener">https://pan.baidu.com/s/1LwS_tKeLJ5bKxCICy1TQdA</a> æå–ç : 6rma</p><h4 id="uTools-For-Macä½ çš„ç”Ÿäº§åŠ›å·¥å…·é›†-V0-6-1-beta"><a href="#uTools-For-Macä½ çš„ç”Ÿäº§åŠ›å·¥å…·é›†-V0-6-1-beta" class="headerlink" title="uTools For Macä½ çš„ç”Ÿäº§åŠ›å·¥å…·é›† V0.6.1-beta"></a>uTools For Macä½ çš„ç”Ÿäº§åŠ›å·¥å…·é›† V0.6.1-beta</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>uToolsæ˜¯ä¸€ä¸ªæç®€ã€æ’ä»¶åŒ–ã€è·¨å¹³å°çš„ç°ä»£æ¡Œé¢è½¯ä»¶ã€‚é€šè¿‡è‡ªç”±é€‰é…ä¸°å¯Œçš„æ’ä»¶ï¼Œæ‰“é€ ä½ å¾—å¿ƒåº”æ‰‹çš„å·¥å…·é›†åˆã€‚</p><p>å½“ä½ ç†Ÿæ‚‰å®ƒåï¼Œèƒ½å¤Ÿä¸ºä½ èŠ‚çº¦å¤§é‡æ—¶é—´ï¼Œè®©ä½ å¯ä»¥æ›´åŠ ä¸“æ³¨åœ°æ”¹å˜ä¸–ç•Œã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>å¿«é€Ÿå¯åŠ¨</p><p>å¼ºå¤§çš„å¿«é€Ÿå¯åŠ¨ï¼Œæ¯”ä½ æƒ³è±¡çš„æ›´åŠ æ·±å…¥ã€‚å¯¹ä¸­æ–‡è¯­ä¹‰çš„å‹å¥½æ”¯æŒï¼Œé¦–å­—æ¯æ£€ç´¢ç­‰ã€‚</p><p>è‡ªåŠ¨è¯†åˆ«</p><p>uToolsæ”¯æŒå¤šç§è¾“å…¥æºå‘¼å‡ºæ’ä»¶ï¼Œä¾‹å¦‚ï¼šå­—ç¬¦è¾“å…¥ã€æ–‡ä»¶æ‹–æ‹½ã€æˆªå›¾ç²˜è´´ï¼Œäº¦èƒ½å¤Ÿè‡ªåŠ¨è¯†åˆ«è¾“å…¥å†…å®¹è¿›å…¥ç›¸åº”æ’ä»¶ï¼Œå¦‚jsonã€æ—¶é—´æˆ³ã€base64ç­‰ã€‚</p><p>æ•°æ®åŒæ­¥</p><p>uToolså„æ’ä»¶äº§ç”Ÿçš„æ•°æ®å°†ä¿å­˜åˆ°æœ¬åœ°æ•°æ®åº“ä¸­ã€‚ä¸ºäº†ä¾¿äºåœ¨ä¸åŒè®¾å¤‡ä¹‹é—´å…±äº«æ•°æ®ï¼Œæˆ–æ˜¯é¢„é˜²é‡è£…ç³»ç»Ÿé€ æˆæ•°æ®ä¸¢å¤±ï¼Œæˆ‘ä»¬æä¾›äº‘ç«¯æ•°æ®å¤‡ä»½åŒæ­¥æœåŠ¡ï¼Œç™»å½•åå¯ä¸€é”®å¼€å¯ã€‚</p><p>é«˜åº¦è‡ªç”±</p><p>uTools ä¸€åˆ‡çš†æ’ä»¶çš„è®¾è®¡ï¼Œå¯ä»¥å…è®¸ä½ é«˜åº¦è‡ªç”±çš„å®šä¹‰è‡ªå·±çš„å¼€å‘å·¥å…·ï¼Œç°åœ¨ä½ ä¹Ÿå¯ä»¥æ‰©å±•ç¬¬ä¸‰æ–¹æ’ä»¶æˆ–è€…å¼€å‘å±äºè‡ªå·±çš„æ’ä»¶ã€‚</p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š</p><p>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>å¤šå›½è¯­è¨€ï¼ˆChinese/Englishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1ZUjcSggBZrkJCrs2lVdCMA" target="_blank" rel="noopener">https://pan.baidu.com/s/1ZUjcSggBZrkJCrs2lVdCMA</a> æå–ç : vcwa</p><h4 id="Remote-Desktop-Manager-For-Macä¼˜ç§€çš„è¿œç¨‹æ¡Œé¢ç®¡ç†åº”ç”¨-V2019-1-3-0"><a href="#Remote-Desktop-Manager-For-Macä¼˜ç§€çš„è¿œç¨‹æ¡Œé¢ç®¡ç†åº”ç”¨-V2019-1-3-0" class="headerlink" title="Remote Desktop Manager For Macä¼˜ç§€çš„è¿œç¨‹æ¡Œé¢ç®¡ç†åº”ç”¨ V2019.1.3.0"></a>Remote Desktop Manager For Macä¼˜ç§€çš„è¿œç¨‹æ¡Œé¢ç®¡ç†åº”ç”¨ V2019.1.3.0</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>Devolutions Remote Desktop Manageræ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§ç›´è§‚çš„è¿œç¨‹æ¡Œé¢ç®¡ç†åº”ç”¨ï¼Œä½¿æ‚¨å¯ä»¥åœ¨ç”¨æˆ·å‹å¥½çš„ç•Œé¢ä¸­ç®¡ç†æ‰€æœ‰è¿œç¨‹è¿æ¥ï¼Œå¸æˆ·å‡­æ®å’Œå…¶ä»–ä¿¡æ¯ã€‚ä¸“é—¨é’ˆå¯¹ç½‘ç»œå’Œç³»ç»Ÿç®¡ç†å‘˜ï¼Œä»¥åŠéœ€è¦å°†æ‰€æœ‰è¿œç¨‹è¿æ¥ï¼Œå¯†ç å’Œå…¶ä»–å‡­æ®ä¿å­˜åœ¨åŒä¸€å±‹æªä¸‹çš„ç”¨æˆ·ã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>åŠŸèƒ½ä¸°å¯Œï¼Œæ˜“äºä¸ç®¡ç†åº”ç”¨ç¨‹åºä¸€èµ·å·¥ä½œ</p><p>å®ƒçš„ç»„ç»‡è‰¯å¥½çš„ç•Œé¢å’Œæ˜“äºä½¿ç”¨çš„åŠŸèƒ½å°†ä½¿æ‚¨åœ¨ä½¿ç”¨è¿œç¨‹æ¡Œé¢ç®¡ç†å™¨ä¹‹å‰ä¸éœ€è¦å¤§é‡çš„æ—¶é—´å®ƒã€‚</p><p>ç»å¯¹ä½¿ç”¨è¿œç¨‹æ¡Œé¢ç®¡ç†å™¨ä¼ä¸šç‰ˆçš„æ‰€æœ‰æ¡ç›®éƒ½å¿…é¡»æ‰‹å·¥å®Œæˆï¼Œæ— è®ºæˆ‘ä»¬æ˜¯åœ¨è°ˆè®ºå‡­è¯ï¼Œç»„è¿˜æ˜¯å…¶ä»–æ›´é«˜çº§çš„è®¾ç½®ã€‚</p><p>ä½†æ˜¯ï¼Œä½œä¸ºè¡¥å¿ï¼Œä¸€æ—¦é…ç½®äº†ä¼šè¯ï¼Œå°±å¯ä»¥åˆ©ç”¨å…¶æ‰¹é‡ç¼–è¾‘åŠŸèƒ½ï¼Œä½¿æ‚¨å¯ä»¥è·¨å¤šä¸ªä¼šè¯æ›´æ”¹è®¾ç½®ã€‚</p><p>è½»æ¾ç®¡ç†æ‚¨çš„è¿œç¨‹è¿æ¥å¹¶ä¿å­˜æ‚¨çš„æ‰€æœ‰å¯†ç å’Œå‡­æ®</p><p>æ­¤å¤–ï¼Œè¿œç¨‹æ¡Œé¢ç®¡ç†å™¨ä¼ä¸šç‰ˆè¿˜æ”¯æŒRDPï¼ŒSSHï¼ŒWebï¼ŒVNCï¼ŒTelnetï¼ŒICA / HDXï¼ŒTeamViewerï¼ŒLogMeInç­‰å¤§é‡è¿æ¥ï¼Œä»¥åŠ25ç§VPNç±»å‹çš„é™„åŠ åŠŸèƒ½ã€‚</p><p>å°±å®‰å…¨æ€§è€Œè¨€ï¼Œè¿œç¨‹æ¡Œé¢ç®¡ç†å™¨ä¼ä¸šç‰ˆå…·æœ‰å†…ç½®çš„å¯†ç ç®¡ç†å™¨ï¼Œå¯†ç åˆ†æå™¨å’ŒSSHå¯†é’¥ç”Ÿæˆå™¨ã€‚å®ƒè¿˜ä½¿æ‚¨èƒ½å¤Ÿä¿å­˜å’Œç®¡ç†æ‰€æœ‰å¯†ç ï¼Œå¹¶ä»å…¶ä»–ç°æœ‰å¯†ç ç®¡ç†å™¨å¯¼å…¥æ•°æ®ã€‚</p><p>ç³»ç»Ÿå’Œç½‘ç»œç®¡ç†å‘˜çš„ç»¼åˆå’Œæœ‰ç”¨çš„å·¥å…·</p><p>å…³äºå…¶ç®¡ç†å·¥å…·ï¼Œè¿œç¨‹æ¡Œé¢ç®¡ç†å™¨ä¼ä¸šç‰ˆé›†æˆäº†ç”¨äºCitrix XenServerï¼ŒVMwareï¼ŒMicrosoftç»ˆç«¯æœåŠ¡å™¨å’ŒHyper-Vçš„æ§åˆ¶å°ï¼Œä»¥åŠè¿œç¨‹å…³é—­ï¼Œå±€åŸŸç½‘å”¤é†’å’Œåº“å­˜æŠ¥å‘ŠåŠŸèƒ½ã€‚</p><p>è€ƒè™‘åˆ°æ‰€æœ‰å› ç´ ï¼Œè¿œç¨‹æ¡Œé¢ç®¡ç†å™¨ä¼ä¸šç‰ˆæä¾›äº†ä¸€ä¸ªç®€åŒ–çš„ç®¡ç†ç¯å¢ƒå’Œå¤§é‡çš„åŠŸèƒ½ï¼Œä½¿å…¶æˆä¸ºä»»ä½•ç³»ç»Ÿå’Œç½‘ç»œç®¡ç†å‘˜ä¸å¤šä¸ªè¿œç¨‹è¿æ¥å’Œå‡­è¯å·¥ä½œçš„å¿…å¤‡åº”ç”¨ç¨‹åºã€‚</p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š</p><p>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>è‹±æ–‡è¯­è¨€ï¼ˆEnglishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1rmHryFLYZiIh-CIh49tA1A" target="_blank" rel="noopener">https://pan.baidu.com/s/1rmHryFLYZiIh-CIh49tA1A</a> æå–ç : ihd3</p><h4 id="Things-For-Macå¼ºå¤§çš„GTDæ•ˆç‡å·¥å…·-V3-9-0"><a href="#Things-For-Macå¼ºå¤§çš„GTDæ•ˆç‡å·¥å…·-V3-9-0" class="headerlink" title="Things For Macå¼ºå¤§çš„GTDæ•ˆç‡å·¥å…· V3.9.0"></a>Things For Macå¼ºå¤§çš„GTDæ•ˆç‡å·¥å…· V3.9.0</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>Things Macç‰ˆæ˜¯MAC OSå¹³å°ä¸Šçš„æ–‡ä»¶ç®¡ç†å·¥å…·ï¼Œåœ¨ä¸€ç§ä¼˜é›…å’Œç›´è§‚çš„æ–¹å¼æ¥å¸®åŠ©ç»„ç»‡ä½ çš„ä»»åŠ¡ã€‚Things for Macç»“åˆäº†å¼ºå¤§çš„åŠŸèƒ½ä¸ç®€å•çš„ä½¿ç”¨ç•Œé¢ï¼Œé€šè¿‡ä½¿ç”¨æ ‡ç­¾å’Œæ™ºèƒ½è¿‡æ»¤æ æ¥æ›´å¥½çš„ä¸ºä½ å·¥ä½œã€‚</p><p>ååˆ†ç®€æ´æ˜“ç”¨ã€‚</p><p>æ‚¨ä¼šç«‹å³æ³¨æ„åˆ° Things ä¸­çš„æ‰€æœ‰åŠŸèƒ½æ˜¯å¦‚æ­¤å®Œç¾åœ°èåˆåœ¨ä¸€èµ·ï¼Œä»è€Œä¸ºæ‚¨å¸¦æ¥æ•´æ´ã€é›†ä¸­çš„ä½“éªŒã€‚æ²¡æœ‰ä¸å¿…è¦çš„é“ƒå£°å’Œå“¨å£°ï¼Œä»¥åŠæ£€æŸ¥å™¨çª—å£å’Œå¼¹å‡ºå¯¹è¯æ¡†ã€‚åªæœ‰æ‚¨å’Œæ‚¨çš„å¾…åŠäº‹é¡¹ã€‚</p><p>ä¸€åˆ‡éƒ½ä»¥æ‚¨çš„å¾…åŠäº‹é¡¹ä¸ºä¸­å¿ƒã€‚</p><p>Things ä¸­çš„å¾…åŠäº‹é¡¹æ¯”è¾ƒç‰¹åˆ«ã€‚åœ¨åˆ—è¡¨ä¸­ï¼Œå®ƒä»¬ä¼šä»¥æœ€ç´§å‡‘çš„å½¢å¼æ˜¾ç¤ºå¤é€‰æ¡†å’Œæ ‡é¢˜ã€‚ä½†å°†å®ƒä»¬å±•å¼€åï¼Œå®ƒä»¬å°±ä¼šå˜ä¸ºä¸€å¼ æ¼‚äº®çš„ç™½çº¸ï¼Œä¸Šé¢æœ‰æ‚¨æƒ³åšçš„å„ç§äº‹æƒ… â€“ å¹¶ä¸”å¦‚æœæ‚¨éœ€è¦ï¼Œè¿˜å¯ä»¥åŒ…æ‹¬æ‚¨çš„æ£€æŸ¥åˆ—è¡¨ã€æ ‡ç­¾ã€æé†’äº‹é¡¹ä»¥åŠæˆªæ­¢æ—¥æœŸã€‚</p><p>ä¸€äº›è¶…é…·çš„åŠŸèƒ½ã€‚</p><p>ä¾‹å¦‚â€œæŒ‰ç±»å‹æŸ¥çœ‹â€ â€“ è¿™æ˜¯æµè§ˆåˆ—è¡¨å’ŒæŸ¥æ‰¾å¾…åŠäº‹é¡¹çš„æä½³æ–¹å¼ã€‚æˆ–è€…è‡ªç„¶è¯­è¨€æ—¥æœŸè§£æå™¨ â€“ åªéœ€è¾“å…¥â€œæ˜å¤©â€ã€â€œ4 å¤©åâ€æˆ–â€œä¸‹å‘¨ä¸‰â€ï¼Œå°±ä¼šè·³åˆ°æ‰€æœ‰æ­£ç¡®çš„ç»“æœã€‚</p><p>ä¸€æ¬¾åˆ¶ä½œç›¸å½“ç²¾è‰¯çš„ macOS åº”ç”¨ã€‚</p><p>Things å¯ä¸æ‰€æœ‰ macOS æŠ€æœ¯å®Œå…¨é›†æˆï¼š Touch Barã€ä»Šå¤©å°éƒ¨ä»¶ã€å…±äº«æ‰©å±•ã€ Handoffã€æ—¥å†ã€æé†’äº‹é¡¹å’Œ AppleScriptã€‚æˆ–è®¸è¿˜åŒ…æ‹¬å‡ é¡¹æˆ‘ä»¬å¿˜è®°åˆ—å‡ºçš„æŠ€æœ¯ã€‚</p><p>å„ç§å‡ºè‰²çš„åŠŸèƒ½æ•°ä¸èƒœæ•°ã€‚</p><p>æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±å–œæ¬¢çš„åŠŸèƒ½ï¼Œä¸å¯èƒ½å°†å…¶å…¨éƒ¨åˆ—å‡ºã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>å¦‚æœæ‚¨æ˜¯åˆæ¬¡ä½¿ç”¨ Thingsï¼Œè¯·å‚ç…§ä»¥ä¸‹çš„åŸºæœ¬å·¥ä½œæµç¨‹ï¼š</p><p>1.æ”¶é›†æƒ³æ³•</p><p>å¿«é€Ÿè®°å½•æ‚¨çš„æƒ³æ³•ï¼šä¸ Siri äº¤è°ˆæˆ–è€…ä½¿ç”¨ç³»ç»ŸèŒƒå›´çš„é”®ç›˜å¿«æ·é”®æ¥å¯åŠ¨â€œå¿«é€Ÿåˆ›å»ºâ€ã€‚</p><p>2.åˆ†ç±»</p><p>ä¸ºæ‚¨çš„æ¯ä¸ªç›®æ ‡åˆ›å»ºä¸€ä¸ªé¡¹ç›®ã€‚æ ¹æ®æ‚¨çš„è´£ä»»åŒºåŸŸç¾¤ç»„å„é¡¹ç›®ï¼Œä¾‹å¦‚â€œå®¶åº­â€ã€â€œå·¥ä½œâ€æˆ–â€œå¥åº·â€ã€‚å®šæœŸå®¡æŸ¥è¿™äº›é¡¹ç›®ï¼Œä»è€Œé¡ºåˆ©å®ç°å„ç›®æ ‡ã€‚</p><p>3.è®¡åˆ’æ—¶é—´</p><p>æœ‰æ•ˆç®¡ç†æ‚¨çš„æ—¶é—´ â€“ åŒæ—¶æŸ¥çœ‹æ‚¨çš„å¾…åŠäº‹é¡¹å’Œæ—¥å†äº‹ä»¶ï¼Œå¹¶ç›¸åº”åœ°å¯¹æ¯å‘¨è¿›è¡Œè®¡åˆ’ã€‚åˆ›å»ºé‡å¤çš„å¾…åŠäº‹é¡¹ä»¥ç¡®ä¿å§‹ç»ˆå¦‚ä¸€ã€‚</p><p>4.å……å®ç”Ÿæ´»æ¯ä¸€å¤©</p><p>æ¯å¤©æ—©æ™¨æŸ¥çœ‹æ‚¨çš„â€œä»Šå¤©â€åˆ—è¡¨ï¼Œç„¶åé©¬ä¸Šè¡ŒåŠ¨ã€‚ä¹‹å‰è®¡åˆ’çš„å¾…åŠäº‹é¡¹ä¼šè‡ªåŠ¨æ˜¾ç¤ºåœ¨å…¶ä¸­ã€‚åœ¨æ‚¨è¿›è¡Œæ¯å¤©çš„å·¥ä½œæ—¶ï¼Œè¿™æ˜¯æ‚¨å”¯ä¸€éœ€è¦æŸ¥çœ‹çš„åˆ—è¡¨ã€‚</p><p>5.è‡ªå®šä¹‰å·¥ä½œæµç¨‹</p><p>æ‚¨å¯ä»¥åˆ©ç”¨æ ‡ç­¾ä¸ºå¾…åŠäº‹é¡¹åˆ†é…è‡ªå®šä¹‰ç±»åˆ«ï¼šæ ‡è®°â€œé‡è¦â€å¾…åŠäº‹é¡¹ã€â€œæ—¥å¸¸â€å¾…åŠäº‹é¡¹ã€éœ€è¦åœ¨â€œåŠå…¬å®¤â€å®Œæˆçš„å¾…åŠäº‹é¡¹ä»¥åŠä¸â€œå‡¯ç‰¹â€ä¸€èµ·å®Œæˆçš„å¾…åŠäº‹é¡¹ã€‚æ—¢å¯ä»¥æŒ‰æ ‡ç­¾è½»æ¾ç­›é€‰åˆ—è¡¨ï¼Œä¹Ÿå¯ä»¥åœ¨æ‰€æœ‰åˆ—è¡¨ä¸­æœç´¢æ ‡ç­¾ã€‚</p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š</p><p>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>å¤šå›½è¯­è¨€ï¼ˆChinese/Englishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/17vMxzdK3yCNgIaALor7w7A" target="_blank" rel="noopener">https://pan.baidu.com/s/17vMxzdK3yCNgIaALor7w7A</a> æå–ç : d4x9</p><h4 id="Things-For-Macå¼ºå¤§çš„GTDæ•ˆç‡å·¥å…·-V3-9-1"><a href="#Things-For-Macå¼ºå¤§çš„GTDæ•ˆç‡å·¥å…·-V3-9-1" class="headerlink" title="Things For Macå¼ºå¤§çš„GTDæ•ˆç‡å·¥å…· V3.9.1"></a>Things For Macå¼ºå¤§çš„GTDæ•ˆç‡å·¥å…· V3.9.1</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>Things Macç‰ˆæ˜¯MAC OSå¹³å°ä¸Šçš„æ–‡ä»¶ç®¡ç†å·¥å…·ï¼Œåœ¨ä¸€ç§ä¼˜é›…å’Œç›´è§‚çš„æ–¹å¼æ¥å¸®åŠ©ç»„ç»‡ä½ çš„ä»»åŠ¡ã€‚Things for Macç»“åˆäº†å¼ºå¤§çš„åŠŸèƒ½ä¸ç®€å•çš„ä½¿ç”¨ç•Œé¢ï¼Œé€šè¿‡ä½¿ç”¨æ ‡ç­¾å’Œæ™ºèƒ½è¿‡æ»¤æ æ¥æ›´å¥½çš„ä¸ºä½ å·¥ä½œã€‚</p><p>ååˆ†ç®€æ´æ˜“ç”¨ã€‚</p><p>æ‚¨ä¼šç«‹å³æ³¨æ„åˆ° Things ä¸­çš„æ‰€æœ‰åŠŸèƒ½æ˜¯å¦‚æ­¤å®Œç¾åœ°èåˆåœ¨ä¸€èµ·ï¼Œä»è€Œä¸ºæ‚¨å¸¦æ¥æ•´æ´ã€é›†ä¸­çš„ä½“éªŒã€‚æ²¡æœ‰ä¸å¿…è¦çš„é“ƒå£°å’Œå“¨å£°ï¼Œä»¥åŠæ£€æŸ¥å™¨çª—å£å’Œå¼¹å‡ºå¯¹è¯æ¡†ã€‚åªæœ‰æ‚¨å’Œæ‚¨çš„å¾…åŠäº‹é¡¹ã€‚</p><p>ä¸€åˆ‡éƒ½ä»¥æ‚¨çš„å¾…åŠäº‹é¡¹ä¸ºä¸­å¿ƒã€‚</p><p>Things ä¸­çš„å¾…åŠäº‹é¡¹æ¯”è¾ƒç‰¹åˆ«ã€‚åœ¨åˆ—è¡¨ä¸­ï¼Œå®ƒä»¬ä¼šä»¥æœ€ç´§å‡‘çš„å½¢å¼æ˜¾ç¤ºå¤é€‰æ¡†å’Œæ ‡é¢˜ã€‚ä½†å°†å®ƒä»¬å±•å¼€åï¼Œå®ƒä»¬å°±ä¼šå˜ä¸ºä¸€å¼ æ¼‚äº®çš„ç™½çº¸ï¼Œä¸Šé¢æœ‰æ‚¨æƒ³åšçš„å„ç§äº‹æƒ… â€“ å¹¶ä¸”å¦‚æœæ‚¨éœ€è¦ï¼Œè¿˜å¯ä»¥åŒ…æ‹¬æ‚¨çš„æ£€æŸ¥åˆ—è¡¨ã€æ ‡ç­¾ã€æé†’äº‹é¡¹ä»¥åŠæˆªæ­¢æ—¥æœŸã€‚</p><p>ä¸€äº›è¶…é…·çš„åŠŸèƒ½ã€‚</p><p>ä¾‹å¦‚â€œæŒ‰ç±»å‹æŸ¥çœ‹â€ â€“ è¿™æ˜¯æµè§ˆåˆ—è¡¨å’ŒæŸ¥æ‰¾å¾…åŠäº‹é¡¹çš„æä½³æ–¹å¼ã€‚æˆ–è€…è‡ªç„¶è¯­è¨€æ—¥æœŸè§£æå™¨ â€“ åªéœ€è¾“å…¥â€œæ˜å¤©â€ã€â€œ4 å¤©åâ€æˆ–â€œä¸‹å‘¨ä¸‰â€ï¼Œå°±ä¼šè·³åˆ°æ‰€æœ‰æ­£ç¡®çš„ç»“æœã€‚</p><p>ä¸€æ¬¾åˆ¶ä½œç›¸å½“ç²¾è‰¯çš„ macOS åº”ç”¨ã€‚</p><p>Things å¯ä¸æ‰€æœ‰ macOS æŠ€æœ¯å®Œå…¨é›†æˆï¼š Touch Barã€ä»Šå¤©å°éƒ¨ä»¶ã€å…±äº«æ‰©å±•ã€ Handoffã€æ—¥å†ã€æé†’äº‹é¡¹å’Œ AppleScriptã€‚æˆ–è®¸è¿˜åŒ…æ‹¬å‡ é¡¹æˆ‘ä»¬å¿˜è®°åˆ—å‡ºçš„æŠ€æœ¯ã€‚</p><p>å„ç§å‡ºè‰²çš„åŠŸèƒ½æ•°ä¸èƒœæ•°ã€‚</p><p>æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±å–œæ¬¢çš„åŠŸèƒ½ï¼Œä¸å¯èƒ½å°†å…¶å…¨éƒ¨åˆ—å‡ºã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>å¦‚æœæ‚¨æ˜¯åˆæ¬¡ä½¿ç”¨ Thingsï¼Œè¯·å‚ç…§ä»¥ä¸‹çš„åŸºæœ¬å·¥ä½œæµç¨‹ï¼š</p><p>1.æ”¶é›†æƒ³æ³•</p><p>å¿«é€Ÿè®°å½•æ‚¨çš„æƒ³æ³•ï¼šä¸ Siri äº¤è°ˆæˆ–è€…ä½¿ç”¨ç³»ç»ŸèŒƒå›´çš„é”®ç›˜å¿«æ·é”®æ¥å¯åŠ¨â€œå¿«é€Ÿåˆ›å»ºâ€ã€‚</p><p>2.åˆ†ç±»</p><p>ä¸ºæ‚¨çš„æ¯ä¸ªç›®æ ‡åˆ›å»ºä¸€ä¸ªé¡¹ç›®ã€‚æ ¹æ®æ‚¨çš„è´£ä»»åŒºåŸŸç¾¤ç»„å„é¡¹ç›®ï¼Œä¾‹å¦‚â€œå®¶åº­â€ã€â€œå·¥ä½œâ€æˆ–â€œå¥åº·â€ã€‚å®šæœŸå®¡æŸ¥è¿™äº›é¡¹ç›®ï¼Œä»è€Œé¡ºåˆ©å®ç°å„ç›®æ ‡ã€‚</p><p>3.è®¡åˆ’æ—¶é—´</p><p>æœ‰æ•ˆç®¡ç†æ‚¨çš„æ—¶é—´ â€“ åŒæ—¶æŸ¥çœ‹æ‚¨çš„å¾…åŠäº‹é¡¹å’Œæ—¥å†äº‹ä»¶ï¼Œå¹¶ç›¸åº”åœ°å¯¹æ¯å‘¨è¿›è¡Œè®¡åˆ’ã€‚åˆ›å»ºé‡å¤çš„å¾…åŠäº‹é¡¹ä»¥ç¡®ä¿å§‹ç»ˆå¦‚ä¸€ã€‚</p><p>4.å……å®ç”Ÿæ´»æ¯ä¸€å¤©</p><p>æ¯å¤©æ—©æ™¨æŸ¥çœ‹æ‚¨çš„â€œä»Šå¤©â€åˆ—è¡¨ï¼Œç„¶åé©¬ä¸Šè¡ŒåŠ¨ã€‚ä¹‹å‰è®¡åˆ’çš„å¾…åŠäº‹é¡¹ä¼šè‡ªåŠ¨æ˜¾ç¤ºåœ¨å…¶ä¸­ã€‚åœ¨æ‚¨è¿›è¡Œæ¯å¤©çš„å·¥ä½œæ—¶ï¼Œè¿™æ˜¯æ‚¨å”¯ä¸€éœ€è¦æŸ¥çœ‹çš„åˆ—è¡¨ã€‚</p><p>5.è‡ªå®šä¹‰å·¥ä½œæµç¨‹</p><p>æ‚¨å¯ä»¥åˆ©ç”¨æ ‡ç­¾ä¸ºå¾…åŠäº‹é¡¹åˆ†é…è‡ªå®šä¹‰ç±»åˆ«ï¼šæ ‡è®°â€œé‡è¦â€å¾…åŠäº‹é¡¹ã€â€œæ—¥å¸¸â€å¾…åŠäº‹é¡¹ã€éœ€è¦åœ¨â€œåŠå…¬å®¤â€å®Œæˆçš„å¾…åŠäº‹é¡¹ä»¥åŠä¸â€œå‡¯ç‰¹â€ä¸€èµ·å®Œæˆçš„å¾…åŠäº‹é¡¹ã€‚æ—¢å¯ä»¥æŒ‰æ ‡ç­¾è½»æ¾ç­›é€‰åˆ—è¡¨ï¼Œä¹Ÿå¯ä»¥åœ¨æ‰€æœ‰åˆ—è¡¨ä¸­æœç´¢æ ‡ç­¾ã€‚</p><p>è½¯ä»¶æˆªå›¾ï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/ac9085_67e22147e15b4713a652948afefca293_mv2_nj7cje.jpg" srcset="/img/loading.gif" alt="img"></p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š</p><p>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>å¤šå›½è¯­è¨€ï¼ˆChinese/Englishï¼‰</p><p>ä¸‹è½½ç ´è§£ç‰ˆæœ¬ï¼š</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1Hw0wnFeuf2RWOpRz5Z1uEw" target="_blank" rel="noopener">https://pan.baidu.com/s/1Hw0wnFeuf2RWOpRz5Z1uEw</a> æå–ç : g37n</p><h4 id="TechSmith-Snagit-For-Macè¶…å¼ºæˆªå±ç¥å™¨-V2019-1-3"><a href="#TechSmith-Snagit-For-Macè¶…å¼ºæˆªå±ç¥å™¨-V2019-1-3" class="headerlink" title="TechSmith Snagit For Macè¶…å¼ºæˆªå±ç¥å™¨ V2019.1.3"></a>TechSmith Snagit For Macè¶…å¼ºæˆªå±ç¥å™¨ V2019.1.3</h4><p>è½¯ä»¶ä»‹ç»ï¼š<br>Snagit for mac(TechSmith Snagit)è¿™æ˜¯ä¸€æ¬¾å¾ˆå¥½ç”¨çš„Mac OSç³»ç»Ÿæˆªå±å·¥å…·ï¼Œä½ å¯ä»¥ä½¿ç”¨æ­¤å·¥å…·è½»æ¾æŠ“å–å›¾åƒã€æ–‡æœ¬å’Œå½±éŸ³ç­‰å¤šç§å†…å®¹å½¢å¼ï¼Œå†…ç½®å¼ºå¤§ç¼–è¾‘å™¨ï¼Œæ•æ‰ã€ç¼–è¾‘ä¸€æ­¥åˆ°ä½ã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š<br>Snagit å¸®åŠ©æ‚¨é€šè¿‡è§†é¢‘å’Œå›¾åƒæé«˜äº¤æµçš„æ°´å¹³å’Œè´¨é‡ã€‚æ‚¨å¯å¿«é€Ÿæä¾›æ›´å¥½çš„åé¦ˆï¼Œé¼“åŠ±å›¢é˜Ÿåˆä½œï¼Œä»¥åŠæ”¹å˜åˆä¼™æ–¹å¼ï¼Œä»è€Œå®Œæˆå·¥ä½œã€‚æ‚¨å¯é‡‡é›†ä»»ä½•å›¾åƒï¼Œç„¶åç”¨å„ç§ç‰¹æ•ˆå¯¹å…¶è¿›è¡Œå¼ºåŒ–æˆ–å¿«é€Ÿåˆ›å»ºè®¡ç®—æœºå±å¹•å›¾åƒè§†é¢‘ã€‚æ ¹æ®éœ€è¦é€‰æ‹©ç‰¹æ•ˆï¼Œæ–¹ä¾¿åœ°è‡ªå®šä¹‰ä»»æ„æˆªå±ã€‚<br>æ‚¨å¯ä½¿ç”¨ Snagit çš„å„ç§æ ‡è®°å·¥å…·åŠ äº®ä¸€ä¸ªåŒºåŸŸï¼Œæˆ–è€…å°†æ³¨æ„åŠ›å¸å¼•åˆ°æŸä¸ªç‰¹æ®Šçš„ç‚¹ä¸Šã€‚æ‚¨ä¹Ÿå¯é€šè¿‡å½•åˆ¶å±å¹•å’Œå¿«é€Ÿè£å‰ªä¸éœ€è¦çš„éƒ¨åˆ†æ¥å¿«é€Ÿåˆ›å»ºè§†é¢‘ã€‚ä½¿ç”¨ Snagit åˆ¶ä½œçš„æ‰€æœ‰å†…å®¹éƒ½èƒ½æ–¹ä¾¿åœ°ä¸ä»»ä½•äººåˆ†äº«ã€‚</p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š<br>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š<br>è‹±æ–‡è¯­è¨€ï¼ˆEnglishï¼‰â€‹</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1YsJxqDOqXvuTzpqMD9pq8Q" target="_blank" rel="noopener">https://pan.baidu.com/s/1YsJxqDOqXvuTzpqMD9pq8Q</a> æå–ç : 7bba</p><h4 id="Better-And-Better-For-Macä¸€æ¬¾åŒ…å«å¾ˆå¤šåŠŸèƒ½ç­‰é•¿æˆªå›¾çš„macOSå·¥å…·-V1-6-63"><a href="#Better-And-Better-For-Macä¸€æ¬¾åŒ…å«å¾ˆå¤šåŠŸèƒ½ç­‰é•¿æˆªå›¾çš„macOSå·¥å…·-V1-6-63" class="headerlink" title="Better And Better For Macä¸€æ¬¾åŒ…å«å¾ˆå¤šåŠŸèƒ½ç­‰é•¿æˆªå›¾çš„macOSå·¥å…· V1.6.63"></a>Better And Better For Macä¸€æ¬¾åŒ…å«å¾ˆå¤šåŠŸèƒ½ç­‰é•¿æˆªå›¾çš„macOSå·¥å…· V1.6.63</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>BetterAndBetter æ˜¯ä¸€æ¬¾é›†åˆä¼—å¤šä¼˜ç§€åŠŸèƒ½çš„ macOS è½¯ä»¶ã€‚åŒ…å«ğŸ–±ï¸é¼ æ ‡ã€âŒ¨ï¸é”®ç›˜ã€è§¦æ‘¸æ¿ã€æƒ…æ™¯æ¨¡å¼ã€è“ç‰™è§£é”ã€è‡ªåŠ¨åˆ‡æ¢è¾“å…¥æ³•ã€ğŸ”‰ æ‰“å­—éŸ³æ•ˆç­‰åŠŸèƒ½ï¼Œå‡ºè‰²çš„åˆ›æ„å’Œå¼ºå¤§çš„åŠŸèƒ½å°†æå¤§æå‡ä½ çš„ macOS ä½¿ç”¨ä½“éªŒã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>è§¦æ‘¸æ¿æ¨¡å—</p><p>è¿™ä¸ªæ¨¡å—æ˜¯æ‰‹åŠ¿è¯†åˆ«åº”ç”¨ç¨‹åºï¼Œåœ¨ MacBook ç³»åˆ—é‡Œè‡ªå¸¦çš„è§¦æ‘¸æ¿ä¸Šï¼Œè½¯ä»¶ä¼šç›‘å¬ä½ å‡ ä¸ªæ‰‹æŒ‡ï¼Œåšä¸åŒçš„æ‰‹åŠ¿åŠ¨ä½œï¼Œå¦‚æœæ‰‹åŠ¿è¢«è¯†åˆ«ï¼ŒBetterAndBetter å°†æ‰§è¡Œå·²ç»åˆ¶å®šè§„åˆ™çš„ç›¸åº”æ“ä½œã€‚</p><p>ç›®å‰ BetterAndBetter å¯ä»¥æ¨¡æ‹ŸæŒ‰é”®ï¼Œæ‰§è¡Œè½¯ä»¶é¢„è®¾çš„å‘½ä»¤ï¼Œæ‰§è¡Œ apple scriptã€‚</p><p>å…¶ä¸­æœ‰ä¸€ä¸ªå¼€å…³æ˜¯å¼€å¯äºŒæŒ‡ç»˜å›¾åŠŸèƒ½ï¼Œæ„æ€æ˜¯æŒ‰ä½ä¸€ä¸ªæ‰‹æŒ‡ï¼Œå¦ä¸€ä¸ªæ‰‹æŒ‡åœ¨å·¦ä¾§è½»æ‹ä¸€ä¸‹ï¼Œå°±å¯ä»¥ç”¨å•æŒ‡ç»˜å›¾äº†ï¼Œç›¸å½“äºæŒ‰ä½é¼ æ ‡å³é”®åšæ‹–ç§»åŠ¨ä½œï¼Œå°±ä¼šæ‰§è¡Œé¼ æ ‡æ¨¡å—é‡Œé¢çš„æŸäº›åŠŸèƒ½ã€‚</p><p>é€‰æ‹©æ‰‹åŠ¿æ—¶å¦‚æœé€‰æ‹©é»‘åå•ï¼Œå°±ä¼šåœ¨ä½ é€‰æ‹©çš„ç¨‹åºé‡Œæ‰€æœ‰çš„æ‰‹åŠ¿ä¸èµ·ä½œç”¨ã€‚</p><p>é¼ æ ‡æ¨¡å—</p><p>è¿™ä¸ªæ¨¡å—æ˜¯é¼ æ ‡æ‰‹åŠ¿è¯†åˆ«åº”ç”¨ç¨‹åºã€‚æŒ‰ä½å³é”®éƒ¨åˆ†æ˜¯åœ¨æŒ‰ä½é¼ æ ‡å³é”®çš„åŒæ—¶ä½¿ç”¨é¼ æ ‡è¿›è¡Œçš„è¿åŠ¨ã€‚ å¦‚æœæ‰‹åŠ¿è¢«è¯†åˆ«ï¼ŒBetterAndBetter å°†æ‰§è¡ŒæŸäº›æ“ä½œã€‚</p><p>ç»„åˆæŒ‰é”®éƒ¨åˆ†ï¼Œæ˜¯æŒ‡æŒ‰ä½é¼ æ ‡å³é”®ï¼Œç„¶åé…åˆèœå•é‡ŒæŒ‡ç¤ºçš„åŠ¨ä½œå»è‡ªå®šä¹‰æ‰§è¡ŒåŠ¨ä½œã€‚</p><p>å…¶ä»–æŒ‰é”®éƒ¨åˆ†ï¼Œæ˜¯æŒ‡æŒ‰ä½å…¶ä»–æŒ‰é”®ï¼Œç„¶åé…åˆç›¸åº”èœå•é‡ŒæŒ‡ç¤ºçš„åŠ¨ä½œå»è‡ªå®šä¹‰æ‰§è¡ŒåŠ¨ä½œã€‚</p><p>æ‰‹åŠ¿ç›¸ä¼¼åº¦ï¼Œæ„æ€æ˜¯ä½ é¼ æ ‡ç”»çš„è½¨è¿¹å’Œæ•°æ®åº“é‡Œå·²ç»è®¾ç½®çš„è½¨è¿¹æ¯”å¯¹çš„å»åˆç¨‹åº¦ï¼Œè¿™ä¸ªå€¼ä¸€èˆ¬è®¾å®šä¸º 75â€“95ï¼Œå…·ä½“å¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…æ“ä½œä»¥åçš„æ„Ÿè§‰æ¥è®¾å®šã€‚</p><p>é¼ æ ‡åŠ é€Ÿåº¦æ»‘å—ï¼Œä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„ä¹ æƒ¯è°ƒèŠ‚é¼ æ ‡çš„åŠ é€Ÿåº¦ï¼Œæ•°å€¼ä¸ºé›¶æ—¶å°±æ˜¯å…³é—­é¼ æ ‡çš„åŠ é€Ÿåº¦ã€‚</p><p>è‡ªåŠ¨è·³çª—æ¨¡å—</p><p>è¿™ä¸ªæ¨¡å—ç±»ä¼¼ popclip è¿™ä¸ªè½¯ä»¶ï¼ŒæŒ‰ä½é¼ æ ‡å·¦é”®ï¼Œç„¶åæ‹–ç§»å»é€‰æ‹©æ–‡æœ¬æˆ–è€…åœ¨ Finder é‡Œé¢å»é€‰æ‹©æ–‡ä»¶ï¼Œè½¯ä»¶ä¼šæ ¹æ®ä¸åŒçš„æƒ…å†µè‡ªåŠ¨è·³å‡ºä¸åŒçš„çª—å£ï¼Œç‚¹å‡»å·²ç»è·³å‡ºçš„çª—å£ï¼Œå°±å¯ä»¥æ‰§è¡Œç›¸åº”çš„åŠ¨ä½œ</p><p>å› ä¸ºæœ‰ 2 ä¸ªè¡¨æ ¼ï¼Œæ‰€ä»¥å…ˆç‚¹å‡»ä¸€ä¸ªè¡¨æ ¼ï¼Œç„¶ååœ¨æŒ‰â€œ+â€ç­‰æŒ‰é’®ã€‚è¡¨æ ¼é‡Œçš„å†…å®¹éƒ½æ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œç‰¹åˆ«æé†’çš„æ˜¯è¿™ä¸¤ä¸ªè¡¨æ ¼é‡Œé¢çš„è¡Œæ˜¯å¯ä»¥æ‹–ç§»çš„ï¼Œä»¥æ­¤æ¥è°ƒæ•´è·³çª—çš„å…ˆåæ¬¡åºã€‚</p><p>éœ€è¦ç‰¹åˆ«è§£é‡Šçš„æ˜¯çŠ¶æ€æ ï¼Œæœ‰ âŒ˜Cï¼ŒâŒ˜Vï¼ŒâŒ˜Xå’ŒâŒ˜ï¼Œå®ƒçš„æ„æ€æ˜¯åœ¨æ¿€æ´»çš„ App é‡Œçš„å¤åˆ¶ï¼Œç²˜è´´ï¼Œå‰ªåˆ‡æŒ‰é’®æ˜¯ç‚¹äº®çš„ï¼Œå¯¹åº”çš„æ ‡è¯†æ‰ä¼šå‡ºç°åœ¨è·³çª—é‡Œï¼ŒâŒ˜ è¡¨ç¤ºåœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½ä¼šå‡ºç°åœ¨è·³çª—é‡Œã€‚</p><p>åœ¨é€‰æ‹©æ–‡æœ¬æ—¶æœ‰ä»¥ä¸‹ä¸‰ç§æƒ…å†µä¸‹ä¼šè·³å‡ºçª—å£ï¼š</p><p>é¼ æ ‡æ‹–æ‹½åˆ’é€‰ï¼›</p><p>åœ¨æ–‡æœ¬ä¸Šé¢åŒå‡»é¼ æ ‡ï¼›</p><p>é¼ æ ‡æ²¡æœ‰ç§»åŠ¨çš„æƒ…å†µä¸‹ï¼Œåœ¨èƒ½è¾“å…¥çš„åœ°æ–¹éš”å¼€ 0.6 ç§’ä»¥ä¸Šçš„ä¸¤æ¬¡ç‚¹å‡»é¼ æ ‡ã€‚</p><p>åœ¨é€‰æ‹©æ–‡ä»¶æ—¶ä¹Ÿæœ‰ä»¥ä¸‹ä¸‰ç§æƒ…å†µä¸‹ä¼šè·³å‡ºçª—å£ï¼š</p><p>é¼ æ ‡æ‹–æ‹½åˆ’é€‰åœ¨ Finder ç¨‹åºçš„ç©ºç™½å¤„ï¼›</p><p>æ¡Œé¢ä¸ŠåŒå‡»é¼ æ ‡ï¼›</p><p>åœ¨é¼ æ ‡æ²¡æœ‰ç§»åŠ¨çš„æƒ…å†µä¸‹ï¼Œåœ¨æ–‡ä»¶æˆ–è€…ç›®å½•ä¸Šé¢éš”å¼€ 0.6 ç§’ä»¥ä¸Šçš„ä¸¤æ¬¡ç‚¹å‡»é¼ æ ‡ã€‚</p><p>è¾¹è§’è§¦å‘æ¨¡å—</p><p>è¿™ä¸ªæ¨¡å—æ˜¯å¯ä»¥è®¾å®šåœ¨ä¸åŒçš„æ¡Œé¢æ—¶ï¼Œå·¦é”®æˆ–å³é”®ç‚¹å‡»å±è†œçš„å››ä¸ªè§’ï¼Œå¯ä»¥åˆ†åˆ«è®¾ç½®ä¸€äº›åŠ¨ä½œï¼Œè¿™äº›åŠ¨ä½œæœ‰å¿«æ·é”®ï¼Œé¢„è®¾åŠ¨ä½œå’Œ applescript ä¸‰ç§ã€‚</p><p>çª—å£ç®¡ç†</p><p>å½“ä½ ç§»åŠ¨çª—å£æ—¶ï¼Œä¼šè‡ªåŠ¨å‡ºæ¥å…«ä¸ªæç¤ºæ¡†ï¼Œåˆ†åˆ«ä»£è¡¨åˆ†å±çš„ä½ç½®ã€‚</p><p>å¸é™„åŠŸèƒ½ï¼šå½“ä½ ç”¨é¼ æ ‡æŠŠä¸€ä¸ªçª—å£æ‹–ç§»å‘å±è†œå·¦è¾¹æˆ–è€…å³è¾¹ï¼Œå½“çª—å£çš„ä¸€è¾¹æ¥è¿‘å±è†œè¾¹ç¼˜æ—¶ï¼Œåœ¨ç›¸åº”ä½ç½®ä¼šå‡ºç°ä¸€æ¡é»„è‰²çš„çº¿ï¼Œæ­¤æ—¶æ¾å¼€é¼ æ ‡æŒ‰é”®ï¼Œçª—å£å°±ä¼šå¸é™„åœ¨å±å¹•ä¸€ä¾§ã€‚å½“é¼ æ ‡ç§»åŠ¨åˆ°å·²ç»æœ‰çª—å£å¸é™„çš„å±è†œçš„å·¦è¾¹æˆ–è€…å³è¾¹æ—¶ï¼Œé¼ æ ‡ä¸‹è¢«å¸é™„çš„çª—å£å°±ä¼šè‡ªåŠ¨å¼¹å‡ºæ¥ã€‚é¼ æ ‡ç¦»å¼€è¿™ä¸ªçª—å£æ—¶ï¼Œçª—å£åˆä¼šå¸é™„åœ¨å±å¹•çš„ä¸¤è¾¹ï¼Œæ³¨æ„ï¼šçª—å£å®½åº¦ç­‰äºå±å¹•å®½åº¦çš„çª—å£æ˜¯ä¸ä¼šè¢«å¸é™„çš„ã€‚</p><p>å·¥å…·ç®±æ¨¡å—</p><p>è“ç‰™è§£é”</p><p>è¿™ä¸ªæ¨¡å—æ˜¯åœ¨éœ€è¦è¾“å…¥ç³»ç»Ÿå¯†ç æ—¶ï¼Œé€šè¿‡æ£€æµ‹å·²ç»é…å¯¹çš„è“ç‰™è®¾å¤‡æ˜¯å¦èƒ½è¿æ¥ï¼Œèƒ½è¿æ¥å°±è‡ªåŠ¨è¾“å…¥å¯†ç ã€‚åªæœ‰ä»ç¡çœ ï¼Œå±ä¿ï¼Œå’Œå…³é—­å±è†œä¸­æ¢å¤æ—¶éœ€è¦æ£€æµ‹è“ç‰™çš„ï¼Œåœ¨å…¶ä»–éœ€è¦ç³»ç»Ÿå¯†ç æ—¶éƒ½æ˜¯ä¸ç»è¿‡è“ç‰™æ£€æµ‹ï¼Œå°±ç›´æ¥è¾“å…¥å¯†ç çš„ï¼Œæ¯”å¦‚åœ¨åå¥½è®¾ç½®éœ€è¦å¯†ç æ—¶ã€‚</p><p>ç™»å½•æ—¶æ‹ç…§ï¼Œå¦‚æœæ¿€æ´»è¿™ä¸ªæŒ‰é’®ï¼Œå°±æ˜¯ä»ç¡çœ ï¼Œå±ä¿ï¼Œå’Œå…³é—­å±è†œä¸­æ¢å¤æ—¶ä¸€æ–¹é¢æ£€æµ‹è“ç‰™è®¾å¤‡ï¼ŒåŒæ—¶æ‰“å¼€è‡ªå¸¦çš„æ‘„åƒå¤´è¿›è¡Œæ‹ç…§ï¼Œå¦‚æœæœ€åæ²¡æœ‰æ£€æµ‹åˆ°è“ç‰™è®¾å¤‡ï¼Œå°±æŠŠç…§ç‰‡å­˜å‚¨åœ¨ä½ æ‰€é€‰æ‹©çš„ç›®å½•ï¼Œè€Œä¸”ä½ è‡ªå·±å¯ä»¥æ‰“å¼€ icloud åŒæ­¥ï¼Œé‚£æ ·å°±æŠŠç…§ç‰‡é©¬ä¸Šé€åˆ°äº†äº‘ç«¯äº†ï¼Œä½ å°±èƒ½çŸ¥é“è°åŠ¨äº†ä½ çš„Macã€‚</p><p>å‰ªåˆ‡æ¿ç®¡ç†</p><p>BetterAndBetter å¯ä»¥è®°ä½ä½ æœ€è¿‘ä½¿ç”¨è¿‡çš„åä¸ªå‰ªåˆ‡æ¿å†…å®¹ï¼Œä½ è¿˜å¯ä»¥åœ¨å·¥å…·ç®±æ¨¡å—å¢åŠ ä¸‰ä¸ªå›ºå®šçš„å‰ªåˆ‡æ¿å†…å®¹ã€‚</p><p>æœ‰ä¸¤ç§è§¦å‘æ¨¡å¼ï¼š</p><p>åœ¨è‡ªåŠ¨è·³çª—é‡Œï¼Œåœ¨è·³å‡ºæ¥çš„çª—å£é‡Œç‚¹å‡»â€âœ„â€çš„å›¾æ ‡ï¼›</p><p>åœ¨å¿«æ·é”®æ¨¡å—é‡Œæœ‰ä¸€ä¸ªå¯ä»¥è‡ªå®šä¹‰çš„å¿«æ·é”®ã€‚</p><p>ä¸¤ç§æ¨¡å¼éƒ½ä¼šå¼¹å‡ºä¸€ä¸ªå‰ªåˆ‡æ¿ç®¡ç†çš„çª—å£ã€‚</p><p>ä¹Ÿæœ‰ä¸¤ç§æ‰§è¡Œæ–¹å¼ï¼š</p><p>ç”¨é¼ æ ‡ç‚¹å‡»å·²ç»è·³å‡ºçª—å£çš„ä»»æ„ä¸€è¡Œï¼›</p><p>æŒ‰å¯¹åº”çš„æ•°å­—é”®ï¼Œè°ƒç”¨å›ºå®šçš„å‰ªåˆ‡æ¿å†…å®¹éœ€è¦å…ˆæŒ‰ä½Fné”®ï¼Œå†æŒ‰ç›¸åº”çš„æ•°å­—é”®ã€‚</p><p>æ›´å¤šåŠŸèƒ½â€¦..</p><p><a href="http://i.youku.com/i/UNjIyODg4NTU4NA==?spm=a2hzp.8244740.0.0" target="_blank" rel="noopener"><strong>ç‚¹å‡»è¿™é‡Œå®˜æ–¹è§†é »æ•™ç¨‹</strong></a><br>è½¯ä»¶å…¼å®¹æ€§ï¼š</p><p>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>å¤šå›½è¯­è¨€ï¼ˆChinese/Englishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1KH1m4WsoRcRlwf9wQIPikA" target="_blank" rel="noopener">https://pan.baidu.com/s/1KH1m4WsoRcRlwf9wQIPikA</a> æå–ç : yrtn</p><h4 id="SQLPro-Studio-For-Macæ•°æ®åº“å®¢æˆ·ç«¯-V2019-05-10-00"><a href="#SQLPro-Studio-For-Macæ•°æ®åº“å®¢æˆ·ç«¯-V2019-05-10-00" class="headerlink" title="SQLPro Studio For Macæ•°æ®åº“å®¢æˆ·ç«¯ V2019.05.10.00"></a>SQLPro Studio For Macæ•°æ®åº“å®¢æˆ·ç«¯ V2019.05.10.00</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>SQLPro Studio Macç‰ˆæ˜¯ä¸€æ¬¾Macä¸Šä¼˜ç§€çš„æ•°æ®åº“å®¢æˆ·ç«¯ï¼ŒSQLPro Studioæ”¯æŒPostgresï¼ŒMySQLï¼ŒMicrosoft SQL Serverï¼ŒOracleç­‰ä¸»æµæ•°æ®åº“ï¼Œå¯ä»¥æ–¹ä¾¿æ˜“ç”¨çš„ç®¡ç†æ•°æ®åº“ï¼Œå¾ˆä¸é”™ï¼</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>ã€€ã€€åŠŸèƒ½ç‰¹ç‚¹</p><p>ã€€ã€€+æ™ºèƒ½æ„ŸçŸ¥/ SQLè‡ªåŠ¨å®Œæˆã€‚</p><p>ã€€ã€€+è¯­æ³•ä¸å®šåˆ¶ä¸»é¢˜çªå‡ºã€‚</p><p>ã€€ã€€+åŸºäºé€‰é¡¹å¡çš„ç”¨æˆ·ç•Œé¢ã€‚</p><p>ã€€ã€€+å¿«é€Ÿè®¿é—®è¡¨å’Œåˆ—ã€‚</p><p>ã€€ã€€+SQLç¾åŒ–/æ ¼å¼åŒ–ã€‚</p><p>ã€€ã€€+æ”¯æŒçš„NTLMv2ã€‚</p><p>ã€€ã€€+æ”¯æŒNetbiosçš„ã€‚</p><p>ã€€ã€€+ä¸»å¯†ç çš„æ”¯æŒï¼Œä»¥æé«˜å®‰å…¨æ€§ã€‚</p><p>ã€€ã€€SQLPro Studioæ”¯æŒä»¥ä¸‹æ•°æ®åº“æœåŠ¡å™¨ï¼š</p><ul><li>MySQLçš„ï¼†MariaDBçš„</li></ul><p>ã€€ã€€+PostgreSQL</p><p>ã€€ã€€+çš„Microsoft SQL Serverï¼ˆ2005åŠä»¥ä¸Šï¼‰</p><p>ã€€ã€€+ç”²éª¨æ–‡ï¼ˆ8iå’Œä»¥ä¸Šï¼‰</p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š<br>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>è‹±æ–‡è¯­è¨€ï¼ˆEnglishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1haEku9VhVnpGsEM6pshVLg" target="_blank" rel="noopener">https://pan.baidu.com/s/1haEku9VhVnpGsEM6pshVLg</a> æå–ç : zv8q</p><h4 id="NeatDownloadManager-For-Macä¸€æ¬¾å…è´¹å¥½ç”¨çš„å¤šçº¿ç¨‹ä¸‹è½½å·¥å…·-V1-0"><a href="#NeatDownloadManager-For-Macä¸€æ¬¾å…è´¹å¥½ç”¨çš„å¤šçº¿ç¨‹ä¸‹è½½å·¥å…·-V1-0" class="headerlink" title="NeatDownloadManager For Macä¸€æ¬¾å…è´¹å¥½ç”¨çš„å¤šçº¿ç¨‹ä¸‹è½½å·¥å…· V1.0"></a>NeatDownloadManager For Macä¸€æ¬¾å…è´¹å¥½ç”¨çš„å¤šçº¿ç¨‹ä¸‹è½½å·¥å…· V1.0</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>NeatDownloadManager Macç‰ˆæ˜¯Macå¹³å°ä¸Šçš„ä¸€æ¬¾å…è´¹å¥½ç”¨çš„å¤šçº¿ç¨‹ä¸‹è½½å·¥å…·ã€‚NeatDownloadManager Macç‰ˆä½¿ç”¨åŠ¨æ€åˆ†æ®µç®—æ³•ä¸‹è½½æ–‡ä»¶ï¼Œæ”¯æŒHTTPï¼ŒHTTPSå’ŒFTPåè®®ï¼ŒHTTPå’Œä»£ç†èº«ä»½éªŒè¯ã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>NeatDownloadManager Macç‰ˆæ”¯æŒæš‚åœ/æ¢å¤åŠŸèƒ½ä»¥åŠæ›´æ–°è¿‡æœŸä¸‹è½½è¿æ¥ï¼ŒNeatDownloadManager Macç‰ˆå…·æœ‰æµè§ˆå™¨æ‰©å±•ï¼Œå¯ä»¥ç”¨äºéšæ—¶æ•è·ä¸‹è½½é“¾æ¥å’Œä»åœ¨çº¿è§†é¢‘ç½‘ç«™ä¸Šä¸‹è½½è§†é¢‘ã€‚</p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š</p><p>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>è‹±æ–‡è¯­è¨€ï¼ˆEnglishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1zgSoATpucEGD0dQcZW4Ilg" target="_blank" rel="noopener">https://pan.baidu.com/s/1zgSoATpucEGD0dQcZW4Ilg</a> æå–ç : 7yy6</p><h4 id="Dash-For-Macç¼–ç¨‹æ–‡æ¡£ç®¡ç†å·¥å…·-V4-6-3"><a href="#Dash-For-Macç¼–ç¨‹æ–‡æ¡£ç®¡ç†å·¥å…·-V4-6-3" class="headerlink" title="Dash For Macç¼–ç¨‹æ–‡æ¡£ç®¡ç†å·¥å…· V4.6.3"></a>Dash For Macç¼–ç¨‹æ–‡æ¡£ç®¡ç†å·¥å…· V4.6.3</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>Dash for macæ˜¯ä½¿ç”¨ä¸Mac OSå¹³å°çš„è½¯ä»¶ç¼–ç¨‹æ–‡æ¡£ç®¡ç†å·¥å…·ï¼Œå¯ä»¥æµè§ˆAPIæ–‡æ¡£ï¼Œä»¥åŠç®¡ç†ä»£ç ç‰‡æ®µå·¥å…·ã€‚Dashè‡ªå¸¦äº†ä¸°å¯Œçš„APIæ–‡æ¡£ï¼Œæ¶‰åŠå„ç§ä¸»æµçš„ç¼–ç¨‹è¯­è¨€å’Œæ¡†æ¶ã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>å¯ä»¥æµè§ˆAPIæ–‡æ¡£ï¼Œä»¥åŠç®¡ç†ä»£ç ç‰‡æ®µå·¥å…·ã€‚Dashè‡ªå¸¦äº†ä¸°å¯Œçš„APIæ–‡æ¡£ï¼Œæ¶‰åŠå„ç§ä¸»æµçš„ç¼–ç¨‹è¯­è¨€å’Œæ¡†æ¶ï¼ŒåŒ…æ‹¬:ActionScript, Android, C++, CAppuccino, Cocos2D, Cocos3D, Corona, CSS, Django, Groovy, HTML, Java, JavaFX, JavaScript, jQuery, Kobold2D, Lua, MySQL, Node.js, Man Pages, Perl, PHP, Python, Ruby, Ruby on Rails, Scala, Sparrow, SQLite, Unity 3D, WordPress, XSLT, XULã€‚</p><p>åˆ©ç”¨Dashçš„ä»£ç ç‰‡æ®µç®¡ç†åŠŸèƒ½ï¼Œä½ å¯ä»¥æŠŠæ—¥å¸¸ä½¿ç”¨é¢‘ç¹çš„ä»£ç ä¿å­˜èµ·æ¥ï¼Œç„¶åä¸ºå…¶è®¾ç½®ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„ç¼©å†™ï¼Œè¿™æ ·ä¸€æ¥åŸæœ¬éœ€è¦ä¸€éåˆä¸€éçš„æ•²å‡»é”®ç›˜é‡å¤å½•å…¥çš„ç¹çå·¥ä½œï¼Œå°±å¯ä»¥äº¤ç»™Dashæ¥è½»æ¾æå®šã€‚</p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š</p><p>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>è‹±æ–‡è¯­è¨€ï¼ˆEnglishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1BPILqRQPln1RdKIwr1LWDw" target="_blank" rel="noopener">https://pan.baidu.com/s/1BPILqRQPln1RdKIwr1LWDw</a> æå–ç : vn26</p><h4 id="One-Switch-For-Macé›†åˆä¸€é”®åˆ‡æ¢ç³»ç»Ÿå„é¡¹åŠŸèƒ½å·¥å…·-V1-3"><a href="#One-Switch-For-Macé›†åˆä¸€é”®åˆ‡æ¢ç³»ç»Ÿå„é¡¹åŠŸèƒ½å·¥å…·-V1-3" class="headerlink" title="One Switch For Macé›†åˆä¸€é”®åˆ‡æ¢ç³»ç»Ÿå„é¡¹åŠŸèƒ½å·¥å…· V1.3"></a>One Switch For Macé›†åˆä¸€é”®åˆ‡æ¢ç³»ç»Ÿå„é¡¹åŠŸèƒ½å·¥å…· V1.3</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>One Switchæ˜¯ä¸€æ¬¾å°å·§çš„åº”ç”¨ç¨‹åºï¼Œæ—¨åœ¨é€šè¿‡å¿«é€Ÿè®¿é—®ä¸€äº›é‡è¦çš„äº¤æ¢æœºæ¥æé«˜æ‚¨çš„æ•ˆç‡ã€‚å®ƒå¯ä»¥ä»èœå•æ æ‰“å¼€ï¼Œåªéœ€ç‚¹å‡»å‡ ä¸‹å³å¯åˆ‡æ¢æŸäº›ç³»ç»ŸåŠŸèƒ½ã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>éšè—æ¡Œé¢å›¾æ ‡</p><p>åªéœ€å•å‡»ä¸€ä¸‹å³å¯éšè—å‡Œä¹±çš„æ¡Œé¢ã€‚</p><p>æš—æ¨¡å¼</p><p>éšæ—¶åˆ‡æ¢æš—æ¨¡å¼ã€‚</p><p>ä¿æŒæ¸…é†’</p><p>é˜²æ­¢Macç¡çœ æˆ–æ˜¾ç¤ºå±å¹•ä¿æŠ¤ç¨‹åºã€‚</p><p>å±å¹•ä¿æŠ¤ç¨‹åº</p><p>æœ‰æ—¶æ‚¨éœ€è¦æ‰‹åŠ¨æ‰“å¼€å®ƒã€‚</p><p>AirPods</p><p>åªéœ€ä¸€ç§’é’Ÿå³å¯å°†AirPodsä¸Macè¿æ¥</p><p>è½¯ä»¶æˆªå›¾ï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/1554394646_one-switch_02_aif4of.jpg" srcset="/img/loading.gif" alt="img"></p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š</p><p>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>å¤šå›½è¯­è¨€ï¼ˆChinese/Englishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1Pagw3SkhRQ6epHiBnbr1NA" target="_blank" rel="noopener">https://pan.baidu.com/s/1Pagw3SkhRQ6epHiBnbr1NA</a> æå–ç : kbdr</p><h4 id="Money-Pro-For-Macå¼ºå¤§çš„ä¸ªäººè´¢åŠ¡ç®¡ç†å·¥å…·-V2-1-00"><a href="#Money-Pro-For-Macå¼ºå¤§çš„ä¸ªäººè´¢åŠ¡ç®¡ç†å·¥å…·-V2-1-00" class="headerlink" title="Money Pro For Macå¼ºå¤§çš„ä¸ªäººè´¢åŠ¡ç®¡ç†å·¥å…· V2.1.00"></a>Money Pro For Macå¼ºå¤§çš„ä¸ªäººè´¢åŠ¡ç®¡ç†å·¥å…· V2.1.00</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>Money for macæ˜¯ä¸€æ¬¾Macå¹³å°ä¸Šå¥½ç”¨çš„ä¸ªäººè´¢åŠ¡ç®¡ç†å·¥å…·ï¼Œå¯ä»¥è½»æ¾çš„å¤„ç†æ”¶å…¥å’Œæ¶ˆè´¹çš„è®°å½•å’Œæ ¸ç®—ã€‚å·ç§°Macå¹³å°ä¸Šæœ€å¥½çš„ä¸ªäººç†è´¢è½¯ä»¶ã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>Moneyæ˜“äºä½¿ç”¨çš„ä¸ªäººå…¨é¢è´¢åŠ¡ç®¡ç†åº”ç”¨ã€‚å®ƒå°†æ‚¨çš„ä¸ªäººè´¢åŠ¡åˆ†ç±»æ¸…æ™°ç®¡ç†ï¼Œä¸ªäººæ”¶å…¥æ˜ç»†ä»¥å®Œå–„çš„å›¾è¡¨å½¢å¼æ¥è¡¨ç¤ºã€‚å®ƒæ—¨åœ¨å¸®åŠ©ä½ æ§åˆ¶ä½ çš„è´¢åŠ¡æ”¯å‡ºï¼Œåœ¨Macä¸Šè½»æ¾æ–¹ä¾¿çš„è®°å¸è¿˜å¯ä¸iphoneåŒæ­¥ã€‚</p><p>ã€€ã€€ä¸€ä¸ªæ¼‚äº®çš„ç•Œé¢ã€‚</p><p>ã€€ã€€ç®¡ç†ä½ ä¸åŒçš„å¸æˆ·æ¥å¹³è¡¡æ”¯å‡ºã€‚</p><p>ã€€ã€€æ™ºèƒ½è°ƒåº¦ã€‚</p><p>ã€€ã€€æä¾›å¤šç§é«˜çº§è´¢åŠ¡æŠ¥å‘Šã€‚</p><p>ã€€ã€€ç®€æ˜“çš„é¢„ç®—è§„åˆ’ã€‚</p><p>ã€€ã€€æŠ•èµ„è·Ÿè¸ªã€‚</p><p>è½¯ä»¶æˆªå›¾ï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/ac9085_7a0598addb9449f88af591314de6fd48_mv2_guneqx.jpg" srcset="/img/loading.gif" alt="img"></p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š</p><p>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>å¤šå›½è¯­è¨€ï¼ˆChinese/Englishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1CLzuDlVzFgfxwysv0Hjkfw" target="_blank" rel="noopener">https://pan.baidu.com/s/1CLzuDlVzFgfxwysv0Hjkfw</a> æå–ç : i2wk</p><h4 id="Fantastical-For-Macä¼˜é›…çš„æ—¥å†å·¥å…·-V2-5-9"><a href="#Fantastical-For-Macä¼˜é›…çš„æ—¥å†å·¥å…·-V2-5-9" class="headerlink" title="Fantastical For Macä¼˜é›…çš„æ—¥å†å·¥å…· V2.5.9"></a>Fantastical For Macä¼˜é›…çš„æ—¥å†å·¥å…· V2.5.9</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>Fantasticalçš„è®¾è®¡è€…Flexibitsç»“åˆäº†Fantasticalçš„ä¼ ç»Ÿä¼˜åŠ¿ï¼Œå®ç°äº†å®Œæ•´çš„æ¡Œé¢ä½“éªŒï¼Œç»™ç”¨æˆ·å¸¦æ¥äº†å…¨æ–°çš„Fantastical 2ã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>Fantasticalçš„è®¾è®¡è€…Flexibitsç»“åˆäº†Fantasticalçš„ä¼ ç»Ÿä¼˜åŠ¿ï¼Œå®ç°äº†å®Œæ•´çš„æ¡Œé¢ä½“éªŒï¼Œç»™ç”¨æˆ·å¸¦æ¥äº†å…¨æ–°çš„Fantastical 2ã€‚Fantastical 2ä¸å‰ä¸€ä»£çš„æœ€å¤§åŒºåˆ«åœ¨äºï¼ŒFantastical 2ç°åœ¨ä½œä¸ºä¸€ä¸ªå®Œæ•´çš„Appå¯ä»¥è®©ç”¨æˆ·åœ¨ç‹¬ç«‹çª—å£ä¸­æŸ¥çœ‹å…¨å¤©ã€å‘¨ã€æœˆã€å¹´ç•Œé¢ã€‚å®ƒçš„ç•Œé¢çª—å£ä½¿ç”¨äº†æ™ºèƒ½åŒé¢æ¿è®¾è®¡ï¼Œå·¦ä¾§æ˜¾ç¤ºæ­£åœ¨è¿è¡Œçš„è®®ç¨‹ï¼Œå³ä¾§æ˜¾ç¤ºå®Œæ•´çš„æ—¥å†ã€‚ä¸”Fantastical 2è¿˜å…·æœ‰è‡ªå®šä¹‰æ—¥å†è¿™ä¸€å¤§ç‰¹è‰²ï¼Œå®ƒè¿˜åŒæ—¶æ”¯æŒMacä¸Šå·²å»ºç«‹çš„iCloudã€Googleä»¥åŠYahooç­‰çš„æ—¥å†æœåŠ¡ã€‚</p><p>è½¯ä»¶æˆªå›¾ï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/1508348004_fantastical_01_oqiar5.jpg" srcset="/img/loading.gif" alt="img"></p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š</p><p>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>è‹±æ–‡è¯­è¨€ï¼ˆEnglishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1sSQkDDrZDI65_EAEw5TqDw" target="_blank" rel="noopener">https://pan.baidu.com/s/1sSQkDDrZDI65_EAEw5TqDw</a> æå–ç : ksjx</p><h4 id="Amadeus-Pro-For-Macå¼ºå¤§çš„éŸ³ä¹ç¼–è¾‘å™¨-V2-6-0"><a href="#Amadeus-Pro-For-Macå¼ºå¤§çš„éŸ³ä¹ç¼–è¾‘å™¨-V2-6-0" class="headerlink" title="Amadeus Pro For Macå¼ºå¤§çš„éŸ³ä¹ç¼–è¾‘å™¨ V2.6.0"></a>Amadeus Pro For Macå¼ºå¤§çš„éŸ³ä¹ç¼–è¾‘å™¨ V2.6.0</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>Amadeus pro for macæ˜¯Mac oså¹³å°ä¸Šçš„ä¸€æ¬¾åŠŸèƒ½éå¸¸å¼ºå¤§çš„MacéŸ³ä¹ç¼–è¾‘å™¨ï¼ŒAmadeus Pro Version for macæ˜¯ä¸€æ¬¾å¼ºå¤§çš„å¤šè½¨éŸ³é¢‘ç¼–è¾‘å™¨ï¼Œæ”¯æŒå¤šç§æ ¼å¼ï¼Œå¦‚MP3, AAC, Ogg Vorbis, Apple Lossless, AIFF, Waveç­‰ã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>ã€€ã€€ã€ï¼‘ã€‘å¤šè½¨ç¼–è¾‘</p><p>ã€€ã€€Amadeus Proæ˜¯ä¸€ä¸ªåŠŸèƒ½é½å…¨çš„å¤šè½¨éŸ³é¢‘ç¼–è¾‘å™¨ã€‚æ¯é¦–æ›²ç›®å¯ä»¥åˆ†å‰²æˆå¤šä¸ªç›¸äº’ç‹¬ç«‹åˆå®¹æ˜“æ‹–æ›³çš„éŸ³é¢‘å‰ªè¾‘ã€‚æ­¤å¤–ï¼ŒéŸ³é¢‘å•ä½å¯ä»¥åº”ç”¨äºå®æ—¶çš„ä¸ªåˆ«æ›²ç›®ï¼Œè€Œæ— éœ€ä»»ä½•ç ´åæ€§ç¼–è¾‘ã€‚</p><p>ã€€ã€€ã€ï¼’ã€‘æ‰¹å¤„ç†</p><p>ã€€ã€€å¦‚æœä½ æƒ³è½¬æ¢æˆMP3æ–‡ä»¶ï¼Œè®©Amadeus Proæ¥ï¼å¼ºå¤§çš„æ‰¹é‡å¤„ç†å™¨ä¸ä»…å…è®¸ä½ è½¬æ¢å¤§é‡ä»»ä½•æ ¼å¼çš„æ–‡ä»¶ï¼Œè¿˜å¯ä»¥å¤„ç†ä»»ä½•åºåˆ—çš„éŸ³æ•ˆã€‚</p><p>ã€€ã€€ã€ï¼“ã€‘ç»´ä¿®ä¸­å¿ƒ</p><p>ã€€ã€€æ–¹ä¾¿çš„ç»´ä¿®ä¸­å¿ƒï¼Œå¯è®©æ‚¨å¯»æ‰¾å¹¶ä¿®å¤è£‚ç¼ï¼Œåªéœ€ä¸€æ¬¡ç®€å•çš„é¼ æ ‡ç‚¹å‡»ã€‚æ­¤å¤–ï¼ŒAmadeus Proå¼ºå¤§çš„é™å™ªåŠŸèƒ½è®©æ‚¨è½»æ¾åœ°æ‘†è„±æ¼äººçš„å˜¶å˜¶å£°ã€‚</p><p>ã€€ã€€ã€4ã€‘åŠŸèƒ½ä»‹ç»</p><p>ã€€å°†å”±ç‰‡æˆ–ç£å¸¦è½¬æ¢åˆ°CD</p><p>ã€€ã€€Amadeus Proçš„å¼ºå¤§çš„å»å™ªå’Œä¿®å¤åŠŸèƒ½ï¼Œå¯ä»¥è½»æ˜“å°†æ‚¨æœ€å–œçˆ±çš„å½•éŸ³æˆ–è€å”±ç‰‡é‡Œæ¼äººçš„å˜¶å˜¶å£°å»é™¤</p><p>ã€€ã€€åˆ†å‰²æˆå¤šä¸ªéŸ³è½¨å½•åˆ¶</p><p>ã€€ã€€åªéœ€é¼ æ ‡è½»è½»ç‚¹å‡»å°±èƒ½Amadeus Proèƒ½å°†æ‚¨çš„å½•éŸ³åˆ»å½•åˆ°CDä¸Š</p><p>ã€€ã€€ä¸“ç”¨å‡è¡¡å™¨å¯ä»¥å°†å£°éŸ³åšæ—§å¤„ç†</p><p>ã€€ã€€ã€5ã€‘å¼ºå¤§çš„æ‰¹å¤„ç†åŠŸèƒ½</p><p>ã€€ã€€æ”¯æŒè½¬æ¢ä¸ºä»¥ä¸‹æ–‡ä»¶æ ¼å¼ï¼šAIFF, WAVE, Mp3, Ogg Vorbis, Mp4, M4a (AACå’ŒAppleåŸå£°), FLAC, Apple CAF, QuickTime, SoundDesigner II, Next, Mp2 (åªè¯»)ã€‚</p><p>ã€€ã€€å…è®¸æ‚¨ç”³è¯·ä»»æ„åºåˆ—çš„éŸ³å“æ•ˆæœé›†åˆã€‚</p><p>ã€€ã€€ä¿ç•™å…ƒæ•°æ®ï¼ˆè‰ºæœ¯å®¶ï¼Œæ­Œåï¼Œä¸“è¾‘å°é¢ç­‰ï¼‰</p><p>ã€€ã€€ã€6ã€‘éŸ³æ•ˆ</p><p>ã€€ã€€å…¨åŠ›æ”¯æŒä¸¤ä¸ªéŸ³é¢‘å•å…ƒå’ŒVSTéŸ³é¢‘æ’ä»¶ã€‚æ‰©å±•å’Œå®šåˆ¶åŠŸèƒ½èƒ½æ»¡è¶³æ‚¨çš„å„ç§ç‰¹æ®Šè¦æ±‚ã€‚</p><p>ã€€ã€€å»ºæˆç¨‹åºæœ€å¸¸ç”¨çš„æ•ˆæœï¼ˆå¤šæ³¢æ®µå›¾å½¢å‡è¡¡å™¨ï¼ŒéŸ³é‡æ­£å¸¸åŒ–ï¼Œæ·¡å…¥/æ·¡å‡ºï¼Œå›éŸ³ï¼Œé€Ÿåº¦å’ŒéŸ³è°ƒçš„å˜åŒ–ç­‰ï¼‰</p><p>è½¯ä»¶æˆªå›¾ï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/1600x1000bb_tuzdk9.jpg" srcset="/img/loading.gif" alt="img"></p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š</p><p>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>è‹±æ–‡è¯­è¨€ï¼ˆEnglishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1HISK5fVwuKObgsJ9AxFztw" target="_blank" rel="noopener">https://pan.baidu.com/s/1HISK5fVwuKObgsJ9AxFztw</a> æå–ç : 8vyk</p><h4 id="Drive-Scope-For-Macç¡¬ç›˜æ£€æµ‹åˆ†æå·¥å…·-V1-2-5"><a href="#Drive-Scope-For-Macç¡¬ç›˜æ£€æµ‹åˆ†æå·¥å…·-V1-2-5" class="headerlink" title="Drive Scope For Macç¡¬ç›˜æ£€æµ‹åˆ†æå·¥å…· V1.2.5"></a>Drive Scope For Macç¡¬ç›˜æ£€æµ‹åˆ†æå·¥å…· V1.2.5</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>Drive Scopeæ˜¯ç”±Micromatå‘å¸ƒçš„æ–°ç¨‹åºï¼Œå®ƒè¢«å®šä¹‰ä¸ºâ€œSMARTå¸‚åœºæœ€å®Œæ•´çš„å®ç”¨ç¨‹åºâ€ã€‚å®ƒä¸SSDå’ŒHDDï¼ˆä½†ä¸æ˜¯RAIDï¼‰å…¼å®¹ï¼Œå¹¶æ”¶é›†å’Œåˆ†æMacé©±åŠ¨å™¨çš„çŠ¶æ€ã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>Drive Scopeç¡¬ç›˜é©±åŠ¨å™¨ï¼ˆå’Œå›ºæ€ç¡¬ç›˜ï¼‰æ˜¯Macä¸­æœ€æ˜“å‡ºæ•…éšœçš„ç»„ä»¶ã€‚å‡ºäºè¿™ä¸ªåŸå› ï¼Œäº‹å®ä¸Šï¼Œé©±åŠ¨å™¨åˆ¶é€ å•†å·²ç»åœ¨é©±åŠ¨å™¨ä¸­å†…ç½®äº†è‡ªæˆ‘ç›‘æ§ï¼Œåˆ†æå’ŒæŠ¥å‘ŠæŠ€æœ¯ã€‚ï¼ˆa.k.a.SMARTï¼‰å¤§å¤šæ•°å®ç”¨ç¨‹åºå‡ ä¹ä¸ä¼šæ³„éœ²è¿™äº›ä¿¡æ¯çš„è¡¨é¢ï¼Œåªéœ€æŠ¥å‘ŠåŸºæœ¬è¦ç´ ï¼šé€šè¿‡æˆ–å¤±è´¥ã€‚é€šå¸¸ï¼Œä¸€æ—¦å‘ç”Ÿæ•´ä½“æ•…éšœï¼Œå°±æ²¡æœ‰è¶³å¤Ÿçš„æ—¶é—´ä»é©±åŠ¨å™¨è·å–é‡è¦æ•°æ®ã€‚ä½¿ç”¨Drive Scopeï¼Œæ‚¨å¯ä»¥äº†è§£è¿æ¥åˆ°Macçš„å¤§å¤šæ•°é©±åŠ¨å™¨çš„è¿è¡ŒçŠ¶å†µã€‚</p><p>Drive Health</p><p>ä½¿ç”¨Drive Scopeï¼Œæ‚¨å¯ä»¥çœ‹åˆ°Driveçš„å¥åº·çŠ¶å†µçš„å®Œæ•´å›¾ç‰‡ã€‚æœ‰å…³é©±åŠ¨å™¨æ­£åœ¨ç›‘æ§çš„æ¯ä¸ªæ–¹é¢çš„è¯¦ç»†ä¿¡æ¯å¯ä¾›æŸ¥çœ‹ã€‚æŸ¥çœ‹æœ‰åŠ©äºé©±åŠ¨å™¨è¿è¡ŒçŠ¶å†µçš„æ¯ä¸ªå±æ€§ â€“ è¯¦ç»†ä¿¡æ¯ã€‚æŸ¥çœ‹å“ªäº›å±æ€§å¯¼è‡´æ•´ä½“æ•…éšœï¼Œå“ªäº›å±æ€§ä»…ä»…æ˜¯ä¿¡æ¯æ€§çš„ã€‚</p><p>æ§åˆ¶æµ‹è¯•</p><p>é€šå¸¸ï¼Œåªè¦æ–¹ä¾¿ï¼Œé©±åŠ¨å™¨å°±ä¼šæ£€æŸ¥å®ƒçš„SMARTå±æ€§ã€‚ä½¿ç”¨Drive Scopeï¼Œæ‚¨å¯ä»¥æ‰‹åŠ¨è§¦å‘é©±åŠ¨å™¨çš„å†…éƒ¨æµ‹è¯•ï¼Œä»¥ç¡®ä¿SMARTæ•°æ®å°½å¯èƒ½åœ°ä¿æŒæœ€æ–°çŠ¶æ€ã€‚æ£€æŸ¥é©±åŠ¨å™¨ä¸Šæ¬¡ä½¿ç”¨é©±åŠ¨å™¨æµ‹è¯•æ—¥å¿—è¿›è¡Œæµ‹è¯•çš„æ—¶é—´ã€‚</p><p>ä¿¡æ¯</p><p>é¦–æ¬¡æ‰“å¼€Drive Scopeæ—¶ï¼Œå°†æ˜¾ç¤ºä¸€ä¸ªä¿¡æ¯é¡µé¢ï¼Œå…¶ä¸­æ±‡æ€»äº†æœ‰å…³é©±åŠ¨å™¨çš„æ‰€æœ‰é‡è¦ä¿¡æ¯ã€‚è¯·å‚é˜…Drive Scopeçš„é«˜çº§è¿è¡ŒçŠ¶å†µè¯„ä¼°ï¼Œä»¥åŠé‡åˆ°çš„é”™è¯¯æ•°é‡ï¼Œä»¥åŠç‰¹å®šäºé©±åŠ¨å™¨çš„å‹å·å’Œå®¹é‡ä¿¡æ¯ã€‚</p><p>è½¯ä»¶æˆªå›¾ï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/1524289844_drive-scope_01_dov15u.jpg" srcset="/img/loading.gif" alt="img"></p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š</p><p>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>è‹±æ–‡è¯­è¨€ï¼ˆEnglishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1DRBX83HI7lkXEfsxaLzm7Q" target="_blank" rel="noopener">https://pan.baidu.com/s/1DRBX83HI7lkXEfsxaLzm7Q</a> æå–ç : 83as</p><h4 id="Downie-For-Macåœ¨çº¿è§†é¢‘ä¸‹è½½è¶…çº§å·¥å…·-V3-7-3"><a href="#Downie-For-Macåœ¨çº¿è§†é¢‘ä¸‹è½½è¶…çº§å·¥å…·-V3-7-3" class="headerlink" title="Downie For Macåœ¨çº¿è§†é¢‘ä¸‹è½½è¶…çº§å·¥å…· V3.7.3"></a>Downie For Macåœ¨çº¿è§†é¢‘ä¸‹è½½è¶…çº§å·¥å…· V3.7.3</h4><p>è½¯ä»¶ä»‹ç»ï¼š<br>Downie for Macæ˜¯ä¸€ä¸ªè¶…çº§æ˜“äºä½¿ç”¨çš„è§†é¢‘ä¸‹è½½å·¥å…·ï¼Œæ”¯æŒYouTubeï¼ŒVimeo ç­‰è¶…è¿‡170ä¸ªè§†é¢‘ç½‘ç«™ã€‚å®ƒä¸ä¼šå› ä¸ºå¤§é‡çš„é€‰é¡¹è€Œè®©ç”¨æˆ·å›°æ‰° - å®ƒä½¿ç”¨èµ·æ¥éå¸¸ç®€å•ã€‚æœ€æ–°ç ´è§£ç‰ˆï¼Œå®æµ‹æ”¯æŒå›½å†…çš„ä¼˜é…·ï¼Œçˆ±å¥‡è‰ºå’ŒåœŸè±†ä»¥åŠå›½å¤–çš„Youtubeï¼Œå¦‚æœä½ å¯¹è§†é¢‘ä¸‹è½½æœ‰å¼ºçƒˆçš„éœ€æ±‚ï¼Œé‚£ä¹ˆDownie æ˜¯ä¸€ä¸ªç®€å•æ˜“ç”¨çš„è§†é¢‘ä¸‹è½½å·¥å…·ã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š<br>Downie for macå¯èƒ½çœ‹èµ·æ¥åƒä¸€ä¸ªç®€å•çš„æ‹–æ”¾å’Œæ‹–æ”¾åº”ç”¨ç¨‹åºã€‚å®ƒè¢«è®¾è®¡ä¸ºç®€å•æ˜“ç”¨ - åªéœ€æ‹–æ”¾é“¾æ¥åˆ°Downieï¼Œå®ƒå°±ä¼šä¸‹è½½è¯¥ç½‘ç«™ä¸Šçš„è§†é¢‘ã€‚</p><p>è½¯ä»¶æˆªå›¾ï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/ac9085_471bf0b8fdda4ce6b3d61805fe535569_mv2_u5jxdy.png" srcset="/img/loading.gif" alt="img"></p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š<br>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š<br>å¤šå›½è¯­è¨€ï¼ˆChinese/Englishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1M5so-5pc-oMS6SsrlSowow" target="_blank" rel="noopener">https://pan.baidu.com/s/1M5so-5pc-oMS6SsrlSowow</a> æå–ç : w9mk</p><h4 id="Squash-For-Macå°å·§å®ç”¨çš„æ˜¯å›¾ç‰‡å‹ç¼©å·¥å…·-V2-0-4"><a href="#Squash-For-Macå°å·§å®ç”¨çš„æ˜¯å›¾ç‰‡å‹ç¼©å·¥å…·-V2-0-4" class="headerlink" title="Squash For Macå°å·§å®ç”¨çš„æ˜¯å›¾ç‰‡å‹ç¼©å·¥å…· V2.0.4"></a>Squash For Macå°å·§å®ç”¨çš„æ˜¯å›¾ç‰‡å‹ç¼©å·¥å…· V2.0.4</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>Squashæ˜¯ä¸€æ¬¾å°å·§çš„å›¾ç‰‡å‹ç¼©è½¯ä»¶ï¼Œåœ¨ä¸å½±å“å›¾ç‰‡è´¨é‡çš„å‰æä¸‹ï¼Œå¯ä»¥å¤§å¤§çš„å‡å°‘å›¾ç‰‡çš„å¤§å°ã€‚å¯ä»¥è¿›è¡ŒåŠ¨æ€å›¾ç‰‡å‹ç¼©ã€jpgå›¾ç‰‡å‹ç¼©ã€PNGå›¾ç‰‡å‹ç¼©ã€GIFåŠ¨æ€å›¾ç‰‡å‹ç¼©ï¼Œå°å·§å®ç”¨çš„ä¸€æ¬¾è½¯ä»¶ï¼</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>Squash (was Squish) æ˜¯é™ä½æ–‡ä»¶å¤§å°å‹ç¼©æ‚¨çš„å›¾ç‰‡ä¸€ä¸ªè¶…çº§ç®€å•çš„åº”ç”¨ç¨‹åºï¼ä¸è¦å¤±å»è´¨é‡ï¼Œæˆ–æœ€ç»ˆä»¥é¢—ç²’çŠ¶æˆ–å¯æ€•çš„å›¾åƒã€‚æŠŠä¿æŒä»–ä»¬ç°æœ‰çš„åˆ†è¾¨ç‡å’Œè´¨é‡ï¼Œåªæ˜¯å‡å°‘æ–‡ä»¶å¤§å°ï¼æ— è®ºä½ çš„ç†ç”±ï¼ŒæŒ¤æ˜¯ä¼Ÿå¤§çš„ä¼˜åŒ–å›¾åƒï¼š</p><p>å‘é€ç”µå­é‚®ä»¶é™„ä»¶å‡å°‘æ–‡ä»¶å¤§å°ã€‚</p><p>é€šè¿‡ä¼˜åŒ–è®¡ç®—æœºä¸Šçš„å¤§å‹ç…§ç‰‡é›†èŠ‚çœç©ºé—´ã€‚</p><p>ä¼˜åŒ–ç½‘ç«™å’Œç”µå­é‚®ä»¶æ´»åŠ¨çš„å½¢è±¡ï¼Œä½¿ä»–ä»¬ç«‹å³åŠ è½½åœ¨çº¿ã€‚</p><p>ç¼“æ…¢çš„äº’è”ç½‘ï¼Ÿåœ¨æŒ¤æ»´å›¾åƒä¿å­˜æ—¶é—´ä¸Šä¼ åˆ°è„¸è°±ç½‘æˆ–æ¨ç‰¹ï¼</p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š</p><p>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>è‹±æ–‡è¯­è¨€ï¼ˆEnglishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1o8RjKaEHA3PmSxvSvaADUA" target="_blank" rel="noopener">https://pan.baidu.com/s/1o8RjKaEHA3PmSxvSvaADUA</a> æå–ç : 51es</p><h4 id="PDF-Squeezer-For-Macå‹ç¼©å·¥å…·-V3-10-3"><a href="#PDF-Squeezer-For-Macå‹ç¼©å·¥å…·-V3-10-3" class="headerlink" title="PDF Squeezer For Macå‹ç¼©å·¥å…· V3.10.3"></a>PDF Squeezer For Macå‹ç¼©å·¥å…· V3.10.3</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>PDF Squeezer for Macæ˜¯Mac OSå¹³å°ä¸Šçš„ä¸€æ¬¾ PDF ç®€æ˜“å‹ç¼©å·¥å…·ï¼Œåœ¨PDFæ–‡ä»¶è¿‡å¤§çš„æ—¶å€™ï¼ŒPDF Squeezer å¯ä»¥ç§»é™¤ä¸ç›¸å¹²çš„ä¿¡æ¯å’Œå‹ç¼©å›¾åƒçš„æ–¹å¼æ¥ç¼©å‡PDFæ–‡ä»¶çš„å¤§å°ã€‚å¯ä»¥å¸®åŠ©æ‚¨èŠ‚çœå¸¦å®½è´¹ç”¨ã€æ•°å­—å­˜å‚¨è´¹ç”¨ä»¥åŠç½‘ç»œä¼ è¾“æ—¶é—´ã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>è½»è½»æ¾æ¾å°† PDF æ–‡ä»¶æ‹–æ‹½è‡³åº”ç”¨ç¨‹åºçª—å£æˆ–å›¾æ ‡å³å¯</p><p>é€‰æ‹©é¢„è®¾æ»¤å™¨ï¼Œäº¦å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰æ»¤å™¨</p><p>æ‰¹é‡å‹ç¼©å¤šä¸ªæ–‡ä»¶</p><p>æ”¯æŒå—å¯†ç ä¿æŠ¤çš„ PDF æ–‡ä»¶</p><p>ä¸€é”®å‹ç¼©â€™è‡ªåŠ¨å‹ç¼©å¹¶å­˜å‚¨</p><p>è½¯ä»¶æˆªå›¾ï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/ac9085_f11f8cd687e245a18d229803ac0b8557_mv2_tf2ibs.jpg" srcset="/img/loading.gif" alt="img"></p><p>æµ‹è¯•ç³»ç»Ÿè¯­è¨€ï¼š</p><p>macOS Sierra/macOS High Sierraç®€ä½“ä¸­æ–‡</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>å¤šå›½è¯­è¨€ï¼ˆChinese/Englishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1dgGOwwlxiW5GC6ftsMHuNw" target="_blank" rel="noopener">https://pan.baidu.com/s/1dgGOwwlxiW5GC6ftsMHuNw</a> æå–ç : rnd3</p><h4 id="NXPowerLite-Desktop-For-Macå¤šæ ¼å¼æ–‡æ¡£å‹ç¼©å·¥å…·-V8-0-7"><a href="#NXPowerLite-Desktop-For-Macå¤šæ ¼å¼æ–‡æ¡£å‹ç¼©å·¥å…·-V8-0-7" class="headerlink" title="NXPowerLite Desktop For Macå¤šæ ¼å¼æ–‡æ¡£å‹ç¼©å·¥å…· V8.0.7"></a>NXPowerLite Desktop For Macå¤šæ ¼å¼æ–‡æ¡£å‹ç¼©å·¥å…· V8.0.7</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>NXPowerLiteå°†å‹ç¼©PDFï¼ŒJPEGï¼ŒMicrosoft PowerPointå’ŒWordæ–‡ä»¶ï¼Œç®€å•æœ‰æ•ˆï¼ŒåŒæ—¶å¾ˆå®¹æ˜“ä½œä¸ºç”µå­é‚®ä»¶é™„ä»¶ã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>NXPowerLite Desktop for Macæ˜¯ä¸€æ¬¾æ–‡æ¡£å‹ç¼©å·¥å…·ï¼Œå¯ä»¥ç®€å•æœ‰æ•ˆåœ°å‹ç¼©PDFï¼ŒJPEGï¼ŒMicrosoft PowerPointå’ŒWordæ–‡ä»¶ï¼Œä½¿å®ƒä»¬æ˜“äºä»¥é™„ä»¶å½¢å¼å‘é€ç”µå­é‚®ä»¶ã€‚å¯¹äºå‹ç¼©ä¸å¥½çš„æ–‡ä»¶å°¤å…¶æœ‰æ•ˆã€‚ä¼˜åŒ–çš„æ–‡ä»¶ä¿æŒç›¸åŒçš„æ ¼å¼ â€“ PDFä»ç„¶æ˜¯ä¸€ä¸ªPDFã€‚å®ƒçœ‹èµ·æ¥å’Œæ„Ÿè§‰ä¸åŸå§‹ç›¸åŒï¼Œåªæ˜¯å°å¾—å¤šã€‚æ‚¨å¯ä»¥é€šè¿‡é€‰æ‹©æ–‡ä»¶å¹¶ä½¿ç”¨Finderä¸­çš„â€œä¼˜åŒ–å’Œç”µå­é‚®ä»¶â€æ¥ä¼˜åŒ–å’Œè‡ªåŠ¨å°†æ–‡ä»¶é™„åŠ åˆ°æ–°ç”µå­é‚®ä»¶ä¸­ã€‚Macæˆ–Windowsæ³¨å†Œå¯†é’¥çš„ä¸€ä¸ªå…³é”®ç”¨äºNXPowerLiteæ¡Œé¢å°†ä¸Macæˆ–Windowsç‰ˆæœ¬å…¼å®¹ï¼Œæ‰€ä»¥å¦‚æœæ‚¨åˆ‡æ¢å¹³å°ï¼Œæ‚¨å¯ä»¥ç»§ç»­ä½¿ç”¨NXPowerLiteã€‚ è¿™ä¹Ÿæ„å‘³ç€ï¼Œå¦‚æœæ‚¨è´­ä¹°å¤šç”¨æˆ·è®¸å¯è¯ï¼Œåˆ™æ— éœ€äº‹å…ˆæŒ‡å®šæ¯ä¸ªå¹³å°çš„æ•°é‡ã€‚</p><p>è½¯ä»¶æˆªå›¾ï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/nxpowerlite-mac-8-main-dialog_c3iffz.png" srcset="/img/loading.gif" alt="img"></p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š</p><p>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>è‹±æ–‡è¯­è¨€ï¼ˆEnglishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1KHvef1XlAt6RlQjrPvwwHg" target="_blank" rel="noopener">https://pan.baidu.com/s/1KHvef1XlAt6RlQjrPvwwHg</a> æå–ç : 5mig</p><h4 id="UninstallPKG-For-Macå®ç”¨çš„PKGå®Œå…¨å¸è½½å·¥å…·-V1-1-6"><a href="#UninstallPKG-For-Macå®ç”¨çš„PKGå®Œå…¨å¸è½½å·¥å…·-V1-1-6" class="headerlink" title="UninstallPKG For Macå®ç”¨çš„PKGå®Œå…¨å¸è½½å·¥å…· V1.1.6"></a>UninstallPKG For Macå®ç”¨çš„PKGå®Œå…¨å¸è½½å·¥å…· V1.1.6</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>UninstallPKGæ˜¯ä¸€æ¬¾Macä¸Šå®ç”¨çš„PKGå®Œå…¨å¸è½½å·¥å…·ï¼Œé¡¾åæ€ä¹‰ï¼Œè¿™æ˜¯ä¸€æ¬¾PKGå®‰è£…åŒ…å¸è½½å·¥å…·ï¼Œå¯ä»¥æœç´¢æ‰«æ Mac ä¸Šå®‰è£…çš„æ‰€æœ‰ PKG ç¨‹åºï¼Œç„¶åå®Œå…¨å¸è½½åˆ é™¤ï¼ŒèŠ‚çœç£ç›˜ç©ºé—´ï¼Œæ¯”å¦‚ Office for Mac ç­‰è½¯ä»¶å°±å¯ä»¥ç”¨è¿™æ¬¾è½¯ä»¶å¸®åŠ©å¿«é€Ÿå®Œå…¨çš„å¸è½½ï¼Œéå¸¸çš„æ–¹ä¾¿ï¼</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>UninstallPKGå…è®¸æ‚¨å®Œå…¨åˆ é™¤æ‰€è°“çš„â€œè½¯ä»¶åŒ…â€(æ–‡ä»¶æ‰©å±•åï¼Œpkg)å’Œæ‰€æœ‰ä»æ‚¨çš„Macä¸Šå®‰è£…çš„å†…å®¹ï¼Œå®ƒå¯ä»¥é€šè¿‡åˆ é™¤ä¸éœ€è¦çš„åŠŸèƒ½ï¼Œä¾‹å¦‚æœªä½¿ç”¨çš„æ‰“å°æœºé©±åŠ¨ç¨‹åºï¼Œæˆ–è€…å®Œå…¨åˆ é™¤æ‚¨ä¸å†ä½¿ç”¨çš„åº”ç”¨ç¨‹åºæ¥å›æ”¶å®è´µçš„ç£ç›˜ç©ºé—´ã€‚å¸è½½ç¨‹åºè¿˜å¯ä»¥é€šè¿‡åˆ é™¤å·²ç»éƒ¨åˆ†åˆ é™¤çš„åº”ç”¨ç¨‹åºä¸­çš„é—ç•™æ–‡ä»¶ï¼Œä»è€Œä¿æŒMacçš„å¹²å‡€ã€‚å®ƒå¯ä»¥ä¸€æ¬¡æ€§åˆ é™¤Office 2011æ‰€æœ‰37290ä¸ªæ–‡ä»¶ï¼Œæˆ–è€…å®Œå…¨åˆ é™¤Javaæˆ–Flashæ’ä»¶ä¹‹ç±»çš„ä¸œè¥¿ã€‚å®ƒè¿˜å¯ä»¥åœ¨å¸è½½åº”ç”¨ç¨‹åºä¹‹åï¼Œå°†å…¶ä»Dockå’ŒLoginItemsç›®å½•ä¸­åˆ é™¤ï¼Œå¹¶åˆ é™¤æ‰€ç”Ÿæˆçš„æ–‡ä»¶(é¦–é€‰é¡¹ç­‰)ã€‚</p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š</p><p>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>å¤šå›½è¯­è¨€ï¼ˆChinese/Englishï¼‰</p><p>ä¸‹è½½ç ´è§£ç‰ˆæœ¬ï¼š</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1edSKHjQTQu99svPMKCtAMA" target="_blank" rel="noopener">https://pan.baidu.com/s/1edSKHjQTQu99svPMKCtAMA</a> æå–ç : 17kx</p><h4 id="Navicat-Premium-For-Macå¼ºå¤§çš„æ•°æ®åº“ç®¡ç†å·¥å…·-V12-1-22"><a href="#Navicat-Premium-For-Macå¼ºå¤§çš„æ•°æ®åº“ç®¡ç†å·¥å…·-V12-1-22" class="headerlink" title="Navicat Premium For Macå¼ºå¤§çš„æ•°æ®åº“ç®¡ç†å·¥å…· V12.1.22"></a>Navicat Premium For Macå¼ºå¤§çš„æ•°æ®åº“ç®¡ç†å·¥å…· V12.1.22</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>Navicatæ˜¯æœ€ä¼˜ç§€çš„æ•°æ®åº“å›¾å½¢åŒ–ç®¡ç†å®¢æˆ·ç«¯ï¼Œæ”¯æŒMySQLã€SQL Serverã€SQLiteã€Oracle å’Œ PostgreSQL ç­‰æ•°æ®åº“ï¼Œæ”¯æŒæ•°æ®åº“å»ºæ¨¡ï¼Œæ­£å‘å’Œåå‘å·¥ç¨‹ï¼Œæ•°æ®åŒæ­¥ç­‰åŠŸèƒ½ï¼Œè€ŒPremiumç‰ˆæœ¬æ˜¯åŒ…å«äº†Navicatæ‰€æœ‰åŠŸèƒ½çš„æœ€å¼ºå¤§ç‰ˆæœ¬ï¼Œæ˜¯é¦–é€‰çš„æ•°æ®åº“å®¢æˆ·ç«¯å·¥å…·ï¼</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>Navicat Premium ç»“åˆäº†å…¶ä»– Navicat æˆå‘˜çš„åŠŸèƒ½ã€‚æœ‰äº†ä¸åŒæ•°æ®åº“ç±»å‹çš„è¿æ¥èƒ½åŠ›ï¼ŒNavicat Premium æ”¯æŒåœ¨ MySQLã€SQL Serverã€SQLiteã€Oracle åŠ PostgreSQL ä¹‹é—´ä¼ è¾“æ•°æ®ã€‚åŒ…æ‹¬å­˜å‚¨è¿‡ç¨‹ï¼Œäº‹ä»¶ï¼Œè§¦å‘å™¨ï¼Œå‡½æ•°ï¼Œè§†å›¾ç­‰ã€‚</p><p>Navicat Premium é€‚ç”¨äºä¸‰ç§å¹³å° - Microsoft Windowsã€Mac OS X åŠ Linuxã€‚å®ƒå¯ä»¥è®©ç”¨æˆ·è¿æ¥æœ¬æœºæˆ–è¿œç¨‹æœåŠ¡å™¨ã€æä¾›ä¸€äº›å®ç”¨çš„æ•°æ®åº“å·¥å…·å¦‚æ•°æ®æ¨¡å‹å·¥å…·ã€æ•°æ®åŒæ­¥ã€ç»“æ„åŒæ­¥ã€å¯¼å…¥ã€å¯¼å‡ºã€å¤‡ä»½ã€è¿˜åŸåŠæŠ¥è¡¨ä»¥ååŠ©ç®¡ç†æ•°æ®ã€‚</p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š</p><p>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>è‹±æ–‡è¯­è¨€ï¼ˆEnglishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1DgDwQmM9Sixmw9vlQPUPcw" target="_blank" rel="noopener">https://pan.baidu.com/s/1DgDwQmM9Sixmw9vlQPUPcw</a> æå–ç : 899w</p><h4 id="Axure-RP-9-Pro-Edition-For-Macäº¤äº’å¼åŸå‹è®¾è®¡å·¥å…·-V9-0-0-3650"><a href="#Axure-RP-9-Pro-Edition-For-Macäº¤äº’å¼åŸå‹è®¾è®¡å·¥å…·-V9-0-0-3650" class="headerlink" title="Axure RP 9 Pro Edition For Macäº¤äº’å¼åŸå‹è®¾è®¡å·¥å…· V9.0.0.3650"></a>Axure RP 9 Pro Edition For Macäº¤äº’å¼åŸå‹è®¾è®¡å·¥å…· V9.0.0.3650</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>Axure RP 9 for Macç ´è§£ç‰ˆæ˜¯ä¸“ä¸ºå¿«é€ŸåŸå‹è®¾è®¡è€Œç”Ÿï¼Œå®ƒå¯ä»¥è¾…åŠ©äº§å“ç»ç†å¿«é€Ÿè®¾è®¡å®Œæ•´çš„äº§å“åŸå‹ï¼Œå¹¶ç»“åˆæ‰¹æ³¨ï¼Œè¯´æ˜ä»¥åŠæµç¨‹å›¾ï¼Œæ¡†æ¶å›¾ç­‰å…ƒç´ å°†äº§å“å®Œæ•´åœ°è¡¨è¿°ç»™å„æ–¹é¢è®¾è®¡äººå‘˜ï¼Œå¦‚UI ã€UEç­‰ç­‰ï¼Œå¹¶åœ¨è®¨è®ºä¸­ä¸æ–­å®Œå–„ã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>å¼ºå¤§çš„åŸå‹ï¼Œæ— éœ€ç¼–ç </p><p>ä½¿ç”¨æ¡ä»¶é€»è¾‘ï¼ŒåŠ¨æ€å†…å®¹ï¼ŒåŠ¨ç”»ï¼Œæ•°å­¦å‡½æ•°å’Œæ•°æ®é©±åŠ¨çš„äº¤äº’åˆ›å»ºç®€å•çš„ç‚¹å‡»å›¾æˆ–åŠŸèƒ½å¼ºå¤§çš„ä¸°å¯ŒåŸå‹ï¼Œæ— éœ€ç¼–å†™ä»»ä½•ä»£ç ã€‚</p><p>å¾ˆå®¹æ˜“åˆ†äº«å•å‡»ä¸€ä¸ªæŒ‰é’®ï¼Œaxure rpå°†æ‚¨çš„å›¾è¡¨å’ŒåŸå‹å‘å¸ƒåˆ°äº‘ç«¯æˆ–æœ¬åœ°çš„ Axure Share ã€‚åªéœ€å‘é€ä¸€ä¸ªé“¾æ¥ï¼ˆå’Œå¯†ç ï¼‰ï¼Œå…¶ä»–äººå°±å¯ä»¥åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹æ‚¨çš„é¡¹ç›®ã€‚åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šï¼Œä½¿ç”¨é€‚ç”¨äºiOSå’ŒAndroidçš„æµè§ˆå™¨æˆ–Axure Share Appã€‚</p><p>DIAGRAMMING +æ–‡æ¡£åˆ›å»ºæµç¨‹å›¾ï¼Œçº¿æ¡†ï¼Œæ¨¡å‹ï¼Œç”¨æˆ·æ—…ç¨‹ï¼Œè§’è‰²ï¼Œåˆ›æ„æ¿ç­‰ã€‚ä»å†…ç½®æˆ–è‡ªå®šä¹‰åº“ä¸­å¿«é€Ÿæ‹–æ”¾å…ƒç´ ä»¥åˆ›å»ºå›¾è¡¨ã€‚ç„¶åï¼Œä½¿ç”¨å¡«å……ï¼Œæ¸å˜ï¼Œçº¿æ¡æ ·å¼å’Œæ–‡æœ¬æ ¼å¼è®¾ç½®æ ·å¼ã€‚</p><p>æ³¨é‡Šæ‚¨çš„å›¾è¡¨å’ŒåŸå‹ä»¥æŒ‡å®šåŠŸèƒ½ï¼Œè·Ÿè¸ªä»»åŠ¡æˆ–å­˜å‚¨é¡¹ç›®ä¿¡æ¯ã€‚å°†æ‚¨çš„ç¬”è®°æ•´ç†åˆ°ä¸åŒçš„å—ä¼—ç¾¤ä½“çš„ä¸åŒå­—æ®µä¸­ã€‚é€‰æ‹©è¦åœ¨HTMLä¸­æˆ–åœ¨åŒ…å«å±å¹•æˆªå›¾çš„è‡ªåŠ¨ç”Ÿæˆçš„Wordæ–‡æ¡£ä¸­æ˜¾ç¤ºå“ªäº›æ³¨é‡Šã€‚</p><p>æ›´è½»æ¾çš„å›¢é˜Ÿåä½œaxure rpå…è®¸å¤šäººåŒæ—¶å¤„ç†åŒä¸€æ–‡ä»¶ï¼Œä½¿æ‚¨çš„å›¢é˜Ÿæ›´å®¹æ˜“ååŒå·¥ä½œã€‚åœ¨Axureå…±äº«æˆ–SVNä¸Šåˆ›å»ºå›¢é˜Ÿé¡¹ç›®ï¼Œå¹¶ä½¿ç”¨ç­¾å…¥å’Œç­¾å‡ºç³»ç»Ÿæ¥ç®¡ç†æ›´æ”¹ã€‚å›¢é˜Ÿé¡¹ç›®è¿˜ä¼šè®°å½•æ¯æ¬¡ç­¾åˆ°æ—¶çš„å¤‡æ³¨æ›´æ”¹å†å²è®°å½•ã€‚</p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š</p><p>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>å¤šå›½è¯­è¨€ï¼ˆChinese/Englishï¼‰</p><p>ä¸‹è½½ç ´è§£ç‰ˆæœ¬ï¼š</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1dLfSxialAvRSk4tXlb-a0g" target="_blank" rel="noopener">https://pan.baidu.com/s/1dLfSxialAvRSk4tXlb-a0g</a> æå–ç : d52e</p><h4 id="Polarr-Photo-Editor-Pro-For-Macæ³¼è¾£ä¿®å›¾-V5-5-1"><a href="#Polarr-Photo-Editor-Pro-For-Macæ³¼è¾£ä¿®å›¾-V5-5-1" class="headerlink" title="Polarr Photo Editor Pro For Macæ³¼è¾£ä¿®å›¾ V5.5.1"></a>Polarr Photo Editor Pro For Macæ³¼è¾£ä¿®å›¾ V5.5.1</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>æ³¼è¾£ä¿®å›¾Macç‰ˆæ˜¯ä¸€æ¬¾Mac OSå¹³å°ä¸Šçš„ä¿®å›¾è½¯ä»¶ï¼Œæ³¼è¾£ä¿®å›¾æœ¬èº«æ˜¯ä¸€æ¬¾éå¸¸å‡ºåçš„åœ¨çº¿ä¿®å›¾å·¥å…·ï¼Œç°åœ¨æ³¼è¾£ä¿®å›¾ç»§æ³¼è¾£ä¿®å›¾ç§»åŠ¨ç«¯ä¹‹åï¼Œæ¨å‡ºäº†æ³¼è¾£ä¿®å›¾Macç‰ˆã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>æ³¼è¾£ä¿®å›¾ Mac ç‰ˆä½“ç§¯ä¹‹å°ä»¤äººæƒŠè®¶ï¼Œä»…æœ‰ 4MB çš„å¤§å°ï¼Œå´å¯å¹¶å‘å‡ºè¶…é«˜çš„æ€§èƒ½è¡¨ç°ï¼Œæ”¯æŒJPEGã€å¸¦é€æ˜æ•ˆæœçš„PNGï¼Œä»¥åŠå¤§å¤šæ•°RAWå›¾ç‰‡ï¼ŒRAWå›¾ç‰‡æœ€å¤§å¯æ”¯æŒ 4200 ä¸‡åƒç´ ï¼Œè¿™æ ·çš„è¡¨ç°è¿˜ä¸ä¼šå ç”¨ç³»ç»Ÿå¤ªå¤šçš„ç¡¬ä»¶èµ„æºï¼Œè€Œä¸”è€—ç”µé‡ä¹Ÿä¸é«˜ã€‚</p><p>è½¯ä»¶å†…æ ¸é‡‡ç”¨äº† Webkitï¼Œæ–¹ä¾¿ç”¨æˆ·å¯¹æ“ä½œçª—å£è¿›è¡Œéšæ„è°ƒæ•´ï¼Œè€Œä¸”ä¿®å›¾ä¸­æ”¯æŒ Trackpad æ‰‹åŠ¿ç¼©æ”¾æ§åˆ¶ã€‚æ•´ä¸ªç•Œé¢è®¾è®¡å’ŒåŠŸèƒ½éƒ½å’Œ iOS ç‰ˆä¸€è‡´ï¼Œä½†å¹¶æ²¡æœ‰åƒ iOS ç‰ˆé‚£æ ·æä¾›æ»¤é•œå†…è´­åŒ…ï¼Œå¦‚æœä½ æƒ³ä½¿ç”¨è¿™æ¬¾å®¢æˆ·ç«¯ï¼Œå°±å¿…é¡»ä¸€æ¬¡æ€§ä¹°å•ï¼Œæ‰€æœ‰çš„æ»¤é•œåŒ…éƒ½ä¼šæ”¶å…¥å›Šä¸­ï¼Œæˆ‘è§‰å¾—å¼€å‘è€…èƒ½åœ¨è¿™ä¸€ç‚¹ä¸Šå†çµæ´»ä¸€äº›ï¼Œå°†æ»¤é•œåŒ…åšæˆå†…è´­å½¢å¼ä¼šæ›´å¾—ç”¨æˆ·æ”¯æŒï¼</p><p>ä½¿ç”¨æ³¼è¾£ä¿®å›¾ä½ ä¸å¿…åƒ Pixelmator é‚£æ ·è´¹åŠ²å‘¨è½¬ï¼Œå°±åƒå¦¹å­ä»¬ç”¨çš„ç¾å›¾ç§€ç§€ä¸€æ ·ï¼Œè½¯ä»¶æ‰€æœ‰çš„åŠŸèƒ½éƒ½ä¼šä¿®å›¾è€Œç”Ÿï¼Œä½ å¯ä»¥åœ¨æœ€çŸ­æ—¶é—´å†…ä¿®å‡ºä¸€å¼ å®Œç¾çš„å›¾ç‰‡ã€‚</p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š<br>OS X 10.13æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>å¤šå›½è¯­è¨€ï¼ˆChinese/Englishï¼‰</p><h4 id="Aimersoft-Video-Converter-Ultimate-For-Macå…¨èƒ½è§†é¢‘è½¬æ¢å·¥å…·-V11-0-1-2"><a href="#Aimersoft-Video-Converter-Ultimate-For-Macå…¨èƒ½è§†é¢‘è½¬æ¢å·¥å…·-V11-0-1-2" class="headerlink" title="Aimersoft Video Converter Ultimate For Macå…¨èƒ½è§†é¢‘è½¬æ¢å·¥å…· V11.0.1.2"></a>Aimersoft Video Converter Ultimate For Macå…¨èƒ½è§†é¢‘è½¬æ¢å·¥å…· V11.0.1.2</h4><p>è½¯ä»¶ä»‹ç»ï¼š<br>Aimersoft Video Converter Ultimate for Macæ˜¯ä¸€æ¬¾Mac OS Xä¸‹æ—¶å°šã€ç›´è§‚ã€éå¸¸è¿…é€Ÿçš„ä¸€ä½“åŒ–è§†é¢‘/éŸ³é¢‘è½¬æ¢å™¨ï¼ŒDVDæˆªå–å™¨ï¼ŒDVDåˆ»å½•æœºï¼Œç½‘é¡µè§†é¢‘ä¸‹è½½å™¨å’Œè®¾å¤‡è½¬åŒ–ç³»ç»Ÿã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š<br>1ã€è½»æ¾ä¸‹è½½ï¼Œç¼–è¾‘å’Œè½¬åŒ–ä»»ä½•è§„æ ¼å’Œé«˜æ¸…è§†é¢‘æ ¼å¼<br>2ã€åœ¨ä¿æŒDVDåŸæœ‰è´¨é‡çš„æƒ…å†µä¸‹æˆªå–ï¼Œå¤åˆ¶ï¼Œç¼–è¾‘å’Œåˆ»å½•DVD<br>3ã€å°†æ‚¨å–œæ¬¢çš„éŸ³é¢‘ä»è§†é¢‘å’ŒDVDä¸­æˆªå–å‡ºæ¥å¹¶è¿›è¡Œç¼–è¾‘å’Œæ ¼å¼è½¬æ¢<br>4ã€å°†å½±éŸ³æ–‡ä»¶ä¿å­˜è½¬ç§»åˆ°å„ç§å¯æºå¼è£…ç½®å†…ï¼ŒåŒ…æ‹¬IPhone, Androidç­‰<br>5ã€å°†AVI,MP4,MOV,M4V,MKVç­‰æ ¼å¼çš„2Dè§†é¢‘è½¬æ¢ä¸º3Dï¼Œæ‰“é€ å±äºè‡ªå·±çš„3Dä¸–ç•Œã€‚</p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š<br>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>è‹±æ–‡è¯­è¨€ï¼ˆEnglishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1eb6ZoGjUrxrjVd9K1iI76Q" target="_blank" rel="noopener">https://pan.baidu.com/s/1eb6ZoGjUrxrjVd9K1iI76Q</a> æå–ç : ettx</p><h4 id="Bettertouchtool-For-Macé¼ æ ‡Magic-Mouseå¢å¼ºå·¥å…·-V3-02"><a href="#Bettertouchtool-For-Macé¼ æ ‡Magic-Mouseå¢å¼ºå·¥å…·-V3-02" class="headerlink" title="Bettertouchtool For Macé¼ æ ‡Magic Mouseå¢å¼ºå·¥å…· V3.02"></a>Bettertouchtool For Macé¼ æ ‡Magic Mouseå¢å¼ºå·¥å…· V3.02</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>Bettertouchtool for mac è¿™æ˜¯ä¸“ä¸ºMacç”¨æˆ·å¼€å‘çš„ Magic Mouse é¼ æ ‡åŠŸèƒ½å¢å¼ºåˆ¶ä½œçš„è½¯ä»¶ã€‚ä½ å¯ä»¥é€šè¿‡ bettertouchtool for mac å¯¹ä½ çš„ Magic Mouse è®¾ç½®å¤šç§æ‰‹åŠ¿åŠŸèƒ½ï¼Œè¿˜å¯ä»¥å¯¹å•ä¸ªæˆ–è€…å…¨å±€çš„è½¯ä»¶è¿›è¡Œæ“ä½œåŠŸèƒ½å®šåˆ¶ã€‚æ€»ä½“æ¥è¯´æ˜¯ä¸€æ¬¾éå¸¸å¼ºå¤§çš„Magic Mouse è¾…åŠ©è½¯ä»¶ã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>1.å¯å®ç°ä¸ç”¨ç‚¹å‡»è€Œæ˜¯è§¦æ‘¸çš„æ–¹å¼æ“ä½œã€‚</p><p>2.æ”¯æŒå¤šç§æ‰‹åŠ¿ï¼Œ1ä¸ªï¼Œ2ä¸ªï¼Œ3ä¸ªæ‰‹æŒ‡çš„æ“ä½œã€‚</p><p>3.æ”¯æŒç¼©æ”¾æ“ä½œã€‚</p><p>4.å¯ä»¥å®ç°å¯¹å…¨å±€å’Œå•ä¸ªè½¯ä»¶çš„æ“ä½œå®šåˆ¶ã€‚</p><p>ä½ è¿˜å¯ä»¥å¯¹TouchPadå¯ä»¥è¿›è¡Œç›¸åŒçš„è®¾ç½®ã€‚ä¹Ÿå¯ä»¥è°ƒèŠ‚é¼ æ ‡ç§»åŠ¨ç¼“æ…¢çš„é—®é¢˜ã€‚å®ç°æ§åˆ¶ä¹‹åä½ ä¼šå‘ç° Magic Mouse çš„åŠŸèƒ½æ¯”MouseZoomè¦å¼ºå¤§çš„å¤šã€‚</p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š</p><p>OS X 10.12æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š</p><p>è‹±æ–‡è¯­è¨€ï¼ˆEnglishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1RdJwPUNyk0CivSk64mHcXw" target="_blank" rel="noopener">https://pan.baidu.com/s/1RdJwPUNyk0CivSk64mHcXw</a> æå–ç : xe4s</p><h4 id="CleanMyMac-X-For-Macå¼ºå¤§å®ç”¨çš„ç³»ç»Ÿæ¸…ç†å·¥å…·-V4-4-2"><a href="#CleanMyMac-X-For-Macå¼ºå¤§å®ç”¨çš„ç³»ç»Ÿæ¸…ç†å·¥å…·-V4-4-2" class="headerlink" title="CleanMyMac X For Macå¼ºå¤§å®ç”¨çš„ç³»ç»Ÿæ¸…ç†å·¥å…· V4.4.2"></a>CleanMyMac X For Macå¼ºå¤§å®ç”¨çš„ç³»ç»Ÿæ¸…ç†å·¥å…· V4.4.2</h4><p>è½¯ä»¶ä»‹ç»ï¼š</p><p>CleanMyMac ç³»åˆ—æœ€æ–°Xæµ‹è¯•ç‰ˆæœ¬ï¼ŒCleanMyMacåº”è¯¥æ˜¯ä¸–ç•Œä¸Šæœ€å®¹æ˜“ä½¿ç”¨ä¸”æœ€å¼ºå¤§çš„Macå®ç”¨ç³»ç»Ÿæ¸…ç†å·¥å…·ï¼ŒCleanMyMac Xæ˜¯ä¸€æ¬¾é›†æ‰€æœ‰åŠŸèƒ½äºä¸€èº«çš„å…ˆè¿›ç¨‹åºå¸è½½æ¸…ç†å™¨ï¼Œåªéœ€ä¸¤ä¸ªç®€å•æ­¥éª¤å°±å¯ä»¥æŠŠç³»ç»Ÿé‡Œé‚£äº›ä¹±ä¸ƒå…«ç³Ÿçš„æ— ç”¨æ–‡ä»¶ç»Ÿç»Ÿæ¸…ç†æ‰ï¼ŒèŠ‚çœå®è´µçš„ç£ç›˜ç©ºé—´ã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š</p><p>ä½œä¸ºCleanMyMacçš„å‡çº§ç‰ˆï¼Œå®ƒå¯ä»¥æµç•…åœ°ä¸ç³»ç»Ÿæ€§èƒ½ç›¸ç»“åˆï¼Œé™é»˜æ¸…ç†ã€è®°å½•æ›´æ–°ã€æ¸…æ´ç¼“å­˜ã€å¿«é€Ÿå’Œå®‰å…¨åˆ é™¤ã€å¸è½½åº”ç”¨ç¨‹åºå’Œæ¸…ç©ºå›æ”¶ç«™ç­‰é‡è¦åŠŸèƒ½ã€‚èŠ‚çœç¡¬ç›˜ç©ºé—´ï¼Œæé«˜ç”µè„‘çš„é€Ÿåº¦ï¼ŒCleanMyMac 3ä¼šä½¿æ‚¨çš„Macæ›´å‡ºè‰²</p><p>ç‚¹å‡»å³ä¸‹è§’çš„â€œScanâ€æŒ‰é’®ï¼ŒCleanMyMacå°†å¯¹æ•´ä¸ªç³»ç»Ÿè¿›è¡Œæ‰«æ.</p><p>Cachesï¼šç³»ç»Ÿç¼“å­˜æ–‡ä»¶ï¼Œæ¸…ç†ç¼“å­˜æ–‡ä»¶ååº”ç”¨ç¨‹åºåŠ è½½é€Ÿåº¦å°†ä¼šå˜å¾—å¾ˆå¿«ã€‚</p><p>Logsï¼šç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºçš„æ—¥å¿—æ–‡ä»¶.</p><p>Language Filesï¼šé€šè¿‡æ­¤é¡¹ä½ å¯ä»¥æŠŠä½ åº”ç”¨ç¨‹åºé‡Œé¢ä¸å¸¸ç”¨çš„è¯­è¨€å…¨éƒ½ç»™åˆ é™¤ï¼Œåœ¨å³ä¸‹è§’å¯ä»¥é€‰æ‹©ä½ éœ€è¦åˆ é™¤å¥½çš„è¯­è¨€ã€‚</p><p>CleanMyMacä¸ºä½ å–œæ¬¢çš„ä¸œè¥¿è…¾å‡ºç©ºé—´ã€‚CleanMyMacæ‹¥æœ‰ä¸€ç³»åˆ—å·§å¦™çš„æ–°åŠŸèƒ½ï¼Œå®ƒå¯ä»¥è®©ä½ å®‰å…¨ã€æ™ºèƒ½åœ°æ‰«æå’Œæ¸…ç†æ•´ä¸ªç³»ç»Ÿï¼Œåˆ é™¤å¤§é‡æœªä½¿ç”¨çš„æ–‡ä»¶ï¼Œç¼©å°iPhotoåº“çš„å¤§å°ï¼Œå¸è½½ä¸éœ€è¦çš„åº”ç”¨ç¨‹åºï¼Œæˆ–è€…ä¿®å¤é‚£äº›å¼€å§‹ä¸æ­£å¸¸å·¥ä½œçš„åº”ç”¨ç¨‹åºï¼Œä»ä¸€ä¸ªåœ°æ–¹ç®¡ç†æ‰€æœ‰çš„æ‰©å±•ï¼Œå¹¶åšæ›´å¤šçš„å·¥ä½œâ€“æ‰€æœ‰è¿™äº›éƒ½æ¥è‡ªä¸€ä¸ªæ–°è®¾è®¡çš„æ¼‚äº®ç®€å•çš„ç•Œé¢ã€‚</p><p>é“¾æ¥:<a href="https://pan.baidu.com/s/1XUY3etjrfcdd0KJ-J6EMfA" target="_blank" rel="noopener">https://pan.baidu.com/s/1XUY3etjrfcdd0KJ-J6EMfA</a>  å¯†ç :avj7</p><h4 id="OnyX-For-Macç³»ç»Ÿç»´æŠ¤ä¼˜åŒ–å·¥å…·-V3-6-4"><a href="#OnyX-For-Macç³»ç»Ÿç»´æŠ¤ä¼˜åŒ–å·¥å…·-V3-6-4" class="headerlink" title="OnyX For Macç³»ç»Ÿç»´æŠ¤ä¼˜åŒ–å·¥å…· V3.6.4"></a>OnyX For Macç³»ç»Ÿç»´æŠ¤ä¼˜åŒ–å·¥å…· V3.6.4</h4><p>è½¯ä»¶ä»‹ç»ï¼š<br>OnyX å¯ä»¥å¸®åŠ©ä½ æ£€è§†å¯åŠ¨çš„ç£ç›˜ä¿¡æ¯å’Œæ–‡ä»¶ç³»ç»Ÿçš„ç»“æ„ä¿¡æ¯ï¼Œè€Œä¸”å¯ä»¥è¿è¡Œå¾ˆå¤šçš„ç³»ç»Ÿç»´æŠ¤å­ç¨‹åºï¼Œæ¯”å¦‚é…ç½®Finder,Dock, Dashboard, ExposÃ©, Safari, Login windowä¸­çš„ä¸€äº›éšè—çš„åŠŸèƒ½ã€‚</p><p>åŠŸèƒ½ä»‹ç»ï¼š<br>OnyX æ˜¯ä¸€ç§å¤šåŠŸèƒ½å®ç”¨çš„OS Xï¼Œå®ƒå…è®¸æ‚¨éªŒè¯å¯åŠ¨ç›˜çš„ç³»ç»Ÿæ–‡ä»¶çš„ç»“æ„ï¼Œè¿è¡Œç³»ç»Ÿç»´æŠ¤çš„ç›¸å…³ä»»åŠ¡ï¼Œé…ç½®Finderï¼Œéšè—å‚æ•°å¯¹æ¥ï¼Œèšå…‰ç¯ï¼Œå’Œä¸€äº›è‹¹æœè‡ªå·±çš„åº”ç”¨ç¨‹åºï¼Œåˆ é™¤ç¼“å­˜ï¼Œåˆ é™¤ä¸€å®šæ•°é‡æ–‡ä»¶å’Œæ–‡ä»¶å¤¹å¯èƒ½æˆä¸ºç´¯èµ˜ï¼Œå’Œæ›´å¤šã€‚</p><p>è½¯ä»¶å…¼å®¹æ€§ï¼š<br>OS X 10.13æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>è½¯ä»¶è¯­è¨€ï¼š<br>å¤šå›½è¯­è¨€ï¼ˆChinese/Englishï¼‰</p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1Oqam_kPoS0MJOl-JawL72w" target="_blank" rel="noopener">https://pan.baidu.com/s/1Oqam_kPoS0MJOl-JawL72w</a> æå–ç : mcta</p><h4 id="macOS-Mojave-ä¸‹çš„ç ´è§£å¤±æ•ˆæˆ–å´©æºƒçš„è§£å†³æ–¹æ³•"><a href="#macOS-Mojave-ä¸‹çš„ç ´è§£å¤±æ•ˆæˆ–å´©æºƒçš„è§£å†³æ–¹æ³•" class="headerlink" title="macOS Mojave ä¸‹çš„ç ´è§£å¤±æ•ˆæˆ–å´©æºƒçš„è§£å†³æ–¹æ³•"></a>macOS Mojave ä¸‹çš„ç ´è§£å¤±æ•ˆæˆ–å´©æºƒçš„è§£å†³æ–¹æ³•</h4><p><strong>Mac**</strong>å¼€å¯å…³é—­<strong><strong>SIP</strong></strong>ï¼ˆç³»ç»Ÿå®Œæ•´æ€§ä¿æŠ¤ï¼‰**</p><p><strong>1. å¦‚ä½•æŸ¥çœ‹SIPçŠ¶æ€</strong></p><p>åœ¨ç»ˆç«¯ä¸­è¾“å…¥csrutil statusï¼Œå°±å¯ä»¥çœ‹åˆ°æ˜¯enabledè¿˜æ˜¯disabledã€‚ï¼ˆåªè¦æ˜¾ç¤º disabled è¯´æ˜å·²ç»ç¦ç”¨SIPï¼‰</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/001_fa6bge.png" srcset="/img/loading.gif" alt=""></p><p><strong>2. å¦‚ä½•å…³é—­SIP</strong></p><p>a é‡å¯MACï¼ŒæŒ‰ä½cmd+Rç›´åˆ°å±å¹•ä¸Šå‡ºç°è‹¹æœçš„æ ‡å¿—å’Œè¿›åº¦æ¡ï¼Œè¿›å…¥Recoveryæ¨¡å¼</p><p>b åœ¨å±å¹•æœ€ä¸Šæ–¹çš„å·¥å…·æ æ‰¾åˆ°å®ç”¨å·¥å…·ï¼ˆå·¦æ•°ç¬¬3ä¸ªï¼‰ï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ï¼šcsrutil disable</p><p>c å…³æ‰ç»ˆç«¯ï¼Œé‡å¯MAC</p><p><strong>3. å¦‚ä½•å¼€å¯SIP</strong></p><p>ä¸å…³é—­çš„æ­¥éª¤ç±»ä¼¼ï¼Œåªæ˜¯åœ¨2bä¸­è¾“å…¥csrutil enable å³å¯</p><h4 id="10ä¸ª-macOS-å°æŠ€å·§ï£¿"><a href="#10ä¸ª-macOS-å°æŠ€å·§ï£¿" class="headerlink" title="10ä¸ª macOS å°æŠ€å·§ï£¿"></a>10ä¸ª macOS å°æŠ€å·§ï£¿</h4><p><strong>1.æ•™ä½ æ‰“å‡ºï£¿è‹¹æœlogo</strong></p><p>å¿«æ·é”®ï¼šoption+shift+K</p><p><strong>2.å¦‚ä½•è®¾ç½®ç½‘çº¢å±ä¿</strong></p><p>ç«™å†…æœç´¢ fliqlo,ä¸‹è½½ååŒå‡»æ‰“å¼€å³å¯ï¼Œè®°å¾—è®¾ç½®ã€Œå¼€æœºå‰é—²ç½®æ—¶é—´ã€å“¦ï¼Œå¦‚æœè®¾ç½®ä¸ºä¸¤åˆ†é’Ÿï¼Œé‚£ä¹ˆä½ çš„ç”µè„‘åœ¨æ²¡æœ‰ä»»ä½•æ“ä½œçš„æƒ…å†µä¸‹ï¼Œä¸¤åˆ†é’Ÿä¹‹åå±ä¿å°±ä¼šè‡ªåŠ¨æ˜¾ç¤ºäº†ã€‚</p><p><strong>3.å¿«é€Ÿæ¸…é™¤åºŸçº¸ç¯“åƒåœ¾</strong></p><p>ä½¿ç”¨ä¸‹é¢çš„å¿«æ·é”®å¯ä»¥è®©ä½ ä¸ç”¨æ‰“å¼€åºŸçº¸ç¯“ï¼Œä¹Ÿä¸ç”¨è¦æ±‚ä½ æ˜¯å¦ç¡®è®¤åˆ é™¤ï¼Œç›´æ¥å¯å°†åºŸçº¸ç¯“åƒåœ¾æ¸…ç©ºã€‚</p><p>å¿«æ·é”®:ã€ŒâŒ˜+Option+Shift+Deleteã€</p><p><strong>4.æ›´ç²¾ç¡®çš„è°ƒèŠ‚éŸ³é‡å’Œäº®åº¦</strong></p><p>Macä¸Šçš„è°ƒèŠ‚éŸ³é‡æˆ–è€…äº®åº¦åªæœ‰16æ ¼ï¼Œç²¾ç¡®åº¦ä¸å¤Ÿé«˜ï¼Œæœ‰æ—¶è°ƒèŠ‚ä¸€ä¸ªå•ä½è¿˜æ˜¯ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦æ›´é«˜ç²¾åº¦çš„è°ƒèŠ‚ã€‚</p><p>å¿«æ·é”®ï¼šOption + Shift + éŸ³é‡é”®ï¼ˆäº®åº¦é”®ï¼‰</p><p><strong>5.æ›´ç²¾ç¡®çš„å¤åˆ¶å†…å®¹</strong></p><p>å¦‚æœä½ ç”¨ Mac è‡ªå¸¦çš„é¢„è§ˆå¤åˆ¶ PDF ä¸­çš„å†…å®¹æ—¶ï¼Œå®ƒä¼šé€‰ä¸­ä½ é¼ æ ‡å¼€å§‹åˆ°ç»“æŸä¹‹é—´çš„æ‰€æœ‰å†…å®¹ï¼Œä½†æ˜¯å¯¹äºè¡¨æ ¼æ¥è¯´ï¼Œæˆ‘ä»¬æœ‰æ—¶ä¸å¿…è¦å¤åˆ¶æ‰€æœ‰å†…å®¹ï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥æŒ‰ä½ã€Œoptionã€é”®å†é€‰æ‹©æ‰€éœ€çš„å†…å®¹ã€‚</p><p><strong>6.ç§»åŠ¨æˆ–åˆ é™¤èœå•æ å›¾æ ‡</strong></p><p>å¦‚æœä½ çš„çŠ¶æ€èœå•æ çš„å›¾æ ‡æ¯”è¾ƒå¤šçš„è¯ï¼Œæƒ³è¦åˆ é™¤çš„è¯æ€ä¹ˆåŠå‘¢ï¼Ÿè¿™æ—¶å¯ä»¥æŒ‰ä½ã€Œcommandã€é”®ï¼Œå†æ‹–åŠ¨ç›¸åº”çš„å›¾æ ‡ï¼Œç§»å‡ºèœå•æ å³å¯åˆ é™¤ã€‚</p><p><strong>7.æ”¾å¤§ä½ çš„å±å¹•</strong></p><p>è®¾ç½®ï¼šç‚¹å‡»å·¦ä¸Šè§’è‹¹æœlogoã€Œï£¿ã€-&gt;ã€Œç³»ç»Ÿåå¥½è®¾ç½®ã€-&gt;ã€Œè¾…åŠ©åŠŸèƒ½ã€-&gt;é€‰æ‹©ã€Œç¼©æ”¾ã€-&gt;å‹¾é€‰ã€Œé…åˆä¿®é¥°é”®ä½¿ç”¨æ»šåŠ¨æ‰‹åŠ¿æ¥ç¼©æ”¾ã€</p><p>ä½¿ç”¨ï¼šæŒ‰ä½ã€Œcontrolã€é”®ï¼Œä¸¤ä¸ªæ‰‹æŒ‡åœ¨è§¦æ‘¸æ¿ä¸Šå‘ä¸Šæˆ–è€…å‘ä¸‹ç§»åŠ¨å³å¯è¿›è¡Œæ”¾å¤§æˆ–ç¼©å°</p><p><strong>8.ä½ å¯èƒ½ä¸çŸ¥é“çš„æˆªå±æŠ€å·§</strong></p><p>å…¨å±æˆªå›¾ï¼šshift+command+3</p><p>éƒ¨åˆ†æˆªå±ï¼šshift+command+4</p><p>ä¸‹é¢æ‰æ˜¯å…³é”®ï¼šéƒ¨åˆ†æˆªå±æ—¶é…åˆç©ºæ ¼è¿˜æœ‰ä¸¤ç§æˆªå±æ–¹å¼</p><p>1.shift+command+4+ã€Œç©ºæ ¼ã€ é€‰å–å›ºå®šçª—å£</p><p>2.shift+command+4åæ¡†é€‰åæŒ‰ä½ã€Œç©ºæ ¼ã€é”®æ‹–åŠ¨é€‰æ¡† è‡ªå®šä¹‰é€‰æ‹©çª—å£</p><p><strong>9.å¼€å¯åˆ†å±æ˜¾ç¤ºåŠŸèƒ½</strong></p><p>æœ‰æ—¶å€™éœ€è¦ä¸¤ä¸ªçª—å£åŒæ—¶æ‰“å¼€ååŒå·¥ä½œæ—¶ï¼Œè¿™ä¸ªåŠŸèƒ½å°±éå¸¸çš„æœ‰å¸®åŠ©äº†ï¼Œ</p><p>ä½ åªéœ€è¦ä¸‰æŒ‡æŒ‰å‹è½¯ä»¶çª—å£çš„æœ€å¤§åŒ–æŒ‰é’®ç›´åˆ°å‡ºç°åˆ†å±å³å¯ã€‚</p><p><strong>10.å±å¹•å¤ªå°ï¼Ÿé‚£å°±å¤šå¼€å‡ ä¸ªçª—å£</strong></p><p>ä¸€ä¸ªå±å¹•ä¸å¤Ÿç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å†æ–°å»ºå‡ ä¸ªç©ºç™½å±å¹•ï¼Œè¿™æ—¶æˆ‘ä»¬åªéœ€å››æŒ‡åœ¨è§¦æ‘¸æ¿å‘ä¸Šæ»‘åŠ¨ï¼Œç‚¹å‡»æœ€å³ä¾§çš„ã€Œ+å·ã€å³å¯ã€‚åˆ é™¤çš„è¯åªéœ€å°†é¼ æ ‡ç§»åˆ°æ¯ä¸€ä¸ªå±å¹•ä¸Šï¼Œå‡ºç°ã€Œå‰å·ã€å¹¶ç‚¹å‡»åˆ é™¤å³å¯ã€‚</p><h4 id="Mac-è½¯ä»¶å®‰è£…é—®é¢˜è§£å†³"><a href="#Mac-è½¯ä»¶å®‰è£…é—®é¢˜è§£å†³" class="headerlink" title="Mac è½¯ä»¶å®‰è£…é—®é¢˜è§£å†³"></a>Mac è½¯ä»¶å®‰è£…é—®é¢˜è§£å†³</h4><p>åœ¨ Mac ä¸Šå®‰è£…é App Store è½¯ä»¶æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°ä¸€äº›è¿™æ ·æˆ–é‚£æ ·çš„é—®é¢˜ï¼Œè¿™ç¯‡æ–‡ç« å°± Mac ä» .dmg å®‰è£…è½¯ä»¶æ—¶å¯èƒ½é‡åˆ°çš„é—®é¢˜æä¸€äº›è§£å†³æ–¹æ³•ã€‚</p><p><strong>çŠ¶å†µä¸€.åŒå‡» .dmg å®‰è£…è½¯ä»¶å‡ºç°ä»¥ä¸‹æƒ…å†µï¼š</strong></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/2_qc1omp.jpg" srcset="/img/loading.gif" alt="img"></p><p>è§£å†³æ–¹æ³•ï¼šè¿™ç§æƒ…å†µå¯èƒ½æ˜¯ .dmg æ–‡ä»¶åœ¨ä¸‹è½½è¿‡ç¨‹ä¸­å‡ºç°äº†æœªçŸ¥é”™è¯¯æˆ–è€…æ²¡æœ‰ä¸‹è½½å®Œå…¨ï¼Œè§£å†³æ–¹æ³•æ˜¯é‡æ–°ä¸‹è½½ .dmg å®‰è£…åŒ…ã€‚</p><p><strong>çŠ¶å†µäºŒ.åŒå‡» .dmg å®‰è£…è½¯ä»¶å‡ºç°ï¼šæ‰“ä¸å¼€â€œXXXXâ€ï¼Œå› ä¸ºå®ƒæ¥è‡ªèº«ä»½ä¸æ˜çš„å¼€å‘è€…ã€‚</strong></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/3_m8shm7.jpg" srcset="/img/loading.gif" alt="img"></p><p><strong>æˆ–è€…ï¼Œâ€œXXXXâ€å·²æŸåï¼Œæ‰“ä¸å¼€ã€‚æ‚¨åº”è¯¥å°†å®ƒç§»åˆ°åºŸçº¸ç¯“ã€‚</strong></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/4_ihdffi.jpg" srcset="/img/loading.gif" alt="img"></p><p>è§£å†³æ–¹æ³•ï¼šæ‰“å¼€ ç³»ç»Ÿåå¥½è®¾ç½® â€” å®‰å…¨æ€§ä¸éšç§ â€” é€šç”¨</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/5_fx56mv.jpg" srcset="/img/loading.gif" alt="img"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/6_c4lp6p.jpg" srcset="/img/loading.gif" alt="img"></p><p>ç‚¹æŒ‰é”æŒ‰é’®ä»¥è¿›è¡Œæ›´æ”¹ï¼ˆä¼šè¦æ±‚è¾“å…¥å¯†ç ï¼‰ï¼Œ</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/7_n9c1oc.jpg" srcset="/img/loading.gif" alt="img"></p><p>åœ¨ â€œå…è®¸ä»ä»¥ä¸‹ä½ç½®ä¸‹è½½åº”ç”¨ï¼šâ€ é€‰æ‹© â€œä»»ä½•æ¥æºâ€ ï¼Œ</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/8_tven3i.jpg" srcset="/img/loading.gif" alt="img"></p><p>æœ€åå°†é”æŒ‰é’®é”ä¸Šã€‚</p><p>æœ‰çš„ Mac åœ¨ â€œå…è®¸ä»ä»¥ä¸‹ä½ç½®ä¸‹è½½çš„åº”ç”¨â€ å¹¶æ²¡æœ‰ â€œä»»ä½•æ¥æºâ€ è¿™ä¸ªé€‰é¡¹ï¼Œ</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/10_gnobok.jpg" srcset="/img/loading.gif" alt="img"></p><p>è¿™å°±éœ€è¦å¤šè¿›è¡Œä¸€ä¸ªæ­¥éª¤ï¼š</p><p>æ‰¾åˆ°â€œç»ˆç«¯â€è¿™ä¸ªåº”ç”¨å¹¶æ‰“å¼€ï¼Œå°† sudo spctl â€“master-disable è¿™å¥å‘½ä»¤å¤åˆ¶å¹¶ç²˜è´´åˆ°ç»ˆç«¯ï¼Œå›è½¦ï¼Œè¾“å…¥å¯†ç ï¼ˆç”¨æˆ·å¼€æœºå¯†ç ï¼Œå¯†ç æ˜¯ä¸æ˜¾ç¤ºçš„ï¼Œè¾“å…¥å®Œå›è½¦å³å¯ï¼‰ã€‚</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/13_n4c0tv.jpg" srcset="/img/loading.gif" alt="img"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/11_amxk2p.jpg" srcset="/img/loading.gif" alt="img"></p><p>å†æ‰“å¼€ ç³»ç»Ÿåå¥½è®¾ç½® â€” å®‰å…¨æ€§ä¸éšç§ â€” é€šç”¨ â€” å…è®¸ä»ä»¥ä¸‹ä½ç½®ä¸‹è½½çš„åº”ç”¨ ï¼Œç³»ç»Ÿå·²ç»é€‰æ‹© â€œä»»ä½•æ¥æºâ€ é€‰é¡¹ã€‚</p><p>å¯¹äº â€œXXXXâ€å·²æŸåï¼Œæ‰“ä¸å¼€ã€‚æ‚¨åº”è¯¥å°†å®ƒç§»åˆ°åºŸçº¸ç¯“ã€‚ è¿™ä¸ªé—®é¢˜ï¼Œè¿˜æœ‰ä¸€ä¸ªè§£å†³æ–¹æ³•ï¼Œä¸è¿‡ä¸å¦‚ä¸Šé¢è¿™ä¸ªå½»åº•ï¼Œè¿˜æ˜¯ä»‹ç»ä¸€ä¸‹ã€‚</p><p>å°† <code>xattr -r -d com.apple.quarantine</code> å‘½ä»¤å¤åˆ¶ç²˜è´´åˆ°ç»ˆç«¯ï¼ŒåŒæ—¶åœ¨ä¸€æ—æ‰“å¼€ è®¿è¾¾ï¼ˆFinderï¼‰ï¼Œåœ¨è¾¹æ é‡Œé€‰æ‹©åº”ç”¨ç¨‹åºï¼Œç„¶åå°†å‡ºç°è¿™ä¸ªé—®é¢˜çš„åº”ç”¨å¾€ç»ˆç«¯é‡Œæ‹–æ‹½ï¼Œé‡Šæ”¾é¼ æ ‡ï¼Œå›è½¦ï¼Œé—®é¢˜è§£å†³ã€‚</p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>èµ„æº</category>
      
      <category>mac</category>
      
    </categories>
    
    
    <tags>
      
      <tag>èµ„æº</tag>
      
      <tag>mac</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>éšè°ˆ2</title>
    <link href="/2019/03/27/%E9%9A%8F%E8%B0%882/"/>
    <url>/2019/03/27/%E9%9A%8F%E8%B0%882/</url>
    
    <content type="html"><![CDATA[<p>å¹´è½»æ—¶æ€»æ˜¯é€¢äººå°±è¯´è‡ªå·±çš„ç†æƒ³ </p><p>é‚£ä¸ªæ—¶å€™æ²¡æœ‰é¡¾å¿Œ </p><p>éšå¿ƒæ‰€æ¬²çš„å¯ä»¥é«˜è°ˆé˜”è®º </p><p>æ²¡æœ‰ä»»ä½•æŸç¼š </p><p>æ€»è§‰å¾—å‡­å€Ÿè‡ªå·±çš„ä¸€è…”çƒ­è¡€ </p><p>æ¢¦æƒ³è¿™ä¸œè¥¿å¹¶ä¸æ˜¯é¥ä¸å¯åŠ </p><a id="more"></a><p>åæ¥åªå’Œå‡ ä¸ªè¦å¥½çš„æœ‹å‹è°ˆè°ˆæœªæ¥ </p><p>å¼€å§‹æœ‰æ‰€ä¿ç•™ </p><p>æ€»è§‰å¾—æœªæ¥è¿™äº‹æƒ…ä¸éœ€è¦å¤ªå¤šäººçŸ¥é“ </p><p>åªè¦é»˜é»˜åŠªåŠ›å°±å¥½ </p><p>æ€»æ˜¯ç›¸ä¿¡åªè¦åŠªåŠ› </p><p>æœªæ¥å¹¶ä¸æ˜¯é‚£ä¹ˆé¥é¥æ— æœŸ </p><p>ç°åœ¨å†ä¹Ÿä¸å’Œä»»ä½•äººè®¨è®ºç”Ÿæ´» </p><p>æ‰å¼€å§‹æ˜ç™½ </p><p>å…¶å®ç”Ÿæ´»æ˜¯è‡ªå·±çš„ </p><p>å’Œä»–äººæ— å…³ </p><p>åªä¼šåœ¨å¤œæ·±äººé™çš„æ—¶å€™ä»ç„¶æ•²æ‰“è¿™é”®ç›˜ </p><p>æŠŠè¿™ä¸€å¤©æœªå®Œæˆçš„äº‹æƒ…åšå®Œ </p><p>åŸæ¥ç”Ÿæ´»å°±æ˜¯æ¯å¤©é‡å¤åšç€ä¸€äº›çç¢çš„äº‹æƒ… </p><p>ä»å¹´å°‘æ— çŸ¥åˆ°æˆäººçš„ä¸–ç•Œ </p><p>ä»é—¹è…¾ä»»æ€§çš„ä¸ªæ€§åˆ°æˆç†Ÿå†·é™ </p><p>æˆ‘ä»¬ç»ˆç©¶è¿˜æ˜¯å˜äº† </p><p>å”¯æ„¿åˆå¿ƒä¸å˜ </p><p>å¹´è½»æ—¶å€™çš„æ¢¦ä¾æ—§åœ¨å¿ƒä¸­</p>]]></content>
    
    
    <categories>
      
      <category>æ–‡ç« </category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ–‡ç« </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>éšè°ˆ</title>
    <link href="/2019/03/27/%E9%9A%8F%E8%B0%88/"/>
    <url>/2019/03/27/%E9%9A%8F%E8%B0%88/</url>
    
    <content type="html"><![CDATA[<p>æ›¾ç»æˆ‘ä¹Ÿååœ¨å·¥ä½ç¬‘åˆ«äººï¼Œ </p><p>é‚£ä¸ªäººé‚£ä¹ˆå‚»ï¼Œ ä¸å°±æ˜¯è¢«è¾èŒäº†ä¹ˆï¼Œä¸ºä»€ä¹ˆè¦è·³æ¥¼ï¼Ÿ</p><p>ç¬‘ä»–å‚»ï¼Œç¬‘ä»–çœ‹ä¸æ‡‚ï¼Œç¬‘ä»–æƒ³ä¸å¼€ï¼Œ ç¬‘ä»–ä¸é…åšä¸€ä¸ªåˆæ ¼çš„ä¸ˆå¤«ï¼Œ ä¸é…ä¸ºäººä¹‹çˆ¶â€¦</p><a id="more"></a><p>ä½†æ˜¯ä»Šå¤©æˆ‘æ‰å‘ç°ï¼Œ</p><p>æ˜¯çš„ï¼Œè¢«ç¦»èŒæ˜¯ä¸€ä»¶ç®€ç®€å•å•çš„äº‹æƒ…ï¼Œ</p><p>å®¶é‡Œçš„å¦»å„¿ï¼Œæœªå‡ºç”Ÿçš„èŠ±è•¾ï¼Œå¹´è¿ˆçš„çˆ¶æ¯ï¼Œ</p><p>æˆ‘ä¹Ÿæƒ³ä¸å‡ºèƒ½ç”¨ä»€ä¹ˆé¢å®¹æ¥é¢å¯¹ä»–ä»¬ï¼Œ</p><p>æˆ‘æ‹…å¿ƒæˆ‘æ²®ä¸§çš„å¿ƒæƒ…ä¼šå¸¦ç»™å¦»å­å‹åŠ›ï¼Œ</p><p>æˆ‘æ‹…å¿ƒæˆ‘å¤±è½çš„è¡¨æƒ…è®©çˆ¶æ¯æœ‰å‹åŠ›ï¼Œ </p><p>æˆ‘æ‹…å¿ƒæˆ‘æ²¡åŠæ³•ç…§é¡¾å¥½å¦»å„¿ã€‚</p><p>ä¸€ä»½å¥½çš„å·¥ä½œå¯¹æˆ‘æ¥è¯´æ˜¯å¤šä¹ˆçš„å¹¸ç¦ï¼Ÿ</p><p>ä¸€ä»½æˆ‘å–œæ¬¢çš„å·¥ä½œæ˜¯å¯¹æˆ‘çš„ç”Ÿæ´»ä»¥åŠå®¶åº­çš„ç”Ÿæ´»å¤šå¤§çš„ä¿éšœï¼Ÿ</p><p>ä½†æ˜¯ç°åœ¨å‘¢ï¼Ÿ </p><p>æˆ‘å‡ ä¹ä¸€æ— æ‰€æœ‰ï¼Œä¸å¯¹æˆ‘è¿˜æœ‰æˆ‘çˆ±çš„å’Œçˆ±æˆ‘çš„å®¶äººâ€¦</p><p>å¦‚æœä¸æ˜¯ä»–ä»¬ï¼Œå“ªé‡Œè¿˜æœ‰è¿™ä¹ˆå¹¸ç¦çš„æˆ‘å‘¢ï¼Ÿ </p><p>ä½†æ˜¯æˆ‘æ€ä¹ˆèƒ½ä¿éšœä»–ä»¬çš„ç”Ÿæ´»å‘¢â€¦ </p><p>æˆ–è®¸æˆ‘å¼€å§‹æ…¢æ…¢æ‡‚äº†ï¼Œæ…¢æ…¢æ‡‚äº†é‚£è·³ä¸‹å»çš„ä¸€ç¬é—´æ˜¯å¤šä¹ˆçš„è½»æ¾ï¼Œ</p><p>æˆ–è®¸ä¸‹ä¸€ç§’å°±å·²ç»åæ‚”äº†ï¼Œ æˆ‘è¿˜æœ‰æˆ‘çš„å®¶äººä»¬å•Šï¼Œ</p><p>ä½†æ˜¯å·²ç»æ™šäº†ï¼Œ æˆ‘æ²¡æœ‰åŠæ³•é€‰æ‹©æˆ‘ç°åœ¨å°±åœæ­¢åœ¨åŠç©ºä¸­ç­‰å¾…å¤§å®¶æ•‘æ´æˆ‘ï¼Œ </p><p>ä½†æ˜¯é‚£ä¸€ç¬é—´çœŸçš„å¾ˆè½»æ¾ï¼Œ</p><p> å‰æ‰€æœªæœ‰çš„æ”¾æ¾ï¼Œ</p><p>è®©æˆ‘å¾ˆäº«å—è·³ä¸‹æ¥çš„è¿™ä¸ªè¿‡ç¨‹ï¼Œ </p><p>ç”šè‡³åœ¨è·³ä¸‹æ¥çš„é€”ä¸­ï¼Œ</p><p>æˆ‘èƒ½çœ‹åˆ°10æ¥¼çš„å¤«å¦»åœ¨äº‰åµï¼Œ</p><p>æˆ‘èƒ½çœ‹åˆ°9æ¥¼çš„é‚£ä¸ªå°ä¼™å­æ­£åœ¨æ‹¼å‘½çš„æå‡è‡ªå·±â€¦</p><p>åœ¨ä¸‹è½çš„è¿‡ç¨‹ä¸­æˆ‘å¾ˆäº«å—ï¼Œ </p><p>äº«å—çš„æ¯ä¸€ç§’ç”šè‡³æ¯ä¸€æ¯«ç§’â€¦</p><p>æ…¢æ…¢çš„ï¼Œ </p><p>æˆ‘çš„æ³ªè½ä»åŒçœ¼æ¶Œå‡ºï¼Œ </p><p>æˆ‘çˆ±çš„å¦»å­ï¼Œå°†æ‰¿æ‹…è¿™æˆ‘é—ç•™ä¸‹çš„ä¸€åˆ‡ï¼Œ</p><p>æˆ‘å®Œç¾çš„å®¶åº­å°±æ­¤ç ´ç­ï¼Œ</p><p>å¦»å­å°†ä¸€è¾ˆå­æ²‰æµ¸åœ¨æ‚²ä¼¤ä¸­â€¦</p><p>è¿˜æœ‰æˆ‘çš„å­©å­â€¦</p><p>æˆ‘çš„å¹´è¿ˆçš„çˆ¶æ¯äº²ï¼Œ </p><p>æˆ‘ä¸èƒ½å€’ä¸‹ï¼Œ</p><p>æˆ‘æ˜¯ä¸€ä¸ªä¸ƒå°ºç”·å„¿ï¼Œ</p><p>æˆ‘è¦ä¸ºè‡ªå·±çš„å®¶åº­å¥‹æ–—ï¼Œ</p><p>æˆ‘è¦åŠªåŠ›çš„ç…§é¡¾å¥½è¿™ä¸ªä¸–ç•Œä¸Šä¸€ç›´é»˜é»˜ä¸ºæˆ‘æ”¯æŒæ‰“æ°”çš„ä»–ä»¬â€¦</p><p>æˆ‘è¿˜æœ‰å¾ˆå¤šäº‹æ²¡æœ‰åšâ€¦</p><p>æˆ‘ä¸èƒ½å°±æ­¤å€’ä¸‹â€¦</p><p>ä½†æ˜¯åˆæœ‰ä»€ä¹ˆç”¨å‘¢â€¦</p><p>æˆ‘è¿˜åœ¨åŠªåŠ›çš„å¾€ä¸‹æ‰â€¦</p><p>ç›´åˆ°ä¸‹ä¸€åˆ»â€¦</p><p>æˆ‘å½»åº•æ‘†è„±äº†è¿™ä¸ªå±äºæˆ‘çš„è€Œä¸”åªå±äºæˆ‘çš„ä¸–ç•Œâ€¦</p><p>æˆ‘å½»åº•æ‘†è„±äº†è¿™ä¸ªä¸å±äºæˆ‘è€Œä¸”ä¸å±äºä»»ä½•äººçš„ä¸–ç•Œâ€¦</p>]]></content>
    
    
    <categories>
      
      <category>æ–‡ç« </category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ–‡ç« </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CentOSä¸‹å®‰è£…FreeTDS</title>
    <link href="/2019/03/15/CentOS%E4%B8%8B%E5%AE%89%E8%A3%85FreeTDS/"/>
    <url>/2019/03/15/CentOS%E4%B8%8B%E5%AE%89%E8%A3%85FreeTDS/</url>
    
    <content type="html"><![CDATA[<h5 id="å¯¼è¯»"><a href="#å¯¼è¯»" class="headerlink" title="å¯¼è¯»"></a>å¯¼è¯»</h5><blockquote><p>å®˜æ–¹ç½‘ç«™ï¼š<a href="http://www.freetds.org" target="_blank" rel="noopener">http://www.freetds.org</a></p><p>ä¸‹è½½åœ°å€ï¼š<a href="http://ibiblio.org/pub/Linux/ALPHA/freetds/stable/freetds-stable.tgz" target="_blank" rel="noopener">http://ibiblio.org/pub/Linux/ALPHA/freetds/stable/freetds-stable.tgz</a></p><p>è¿™ä¸ªè½¯ä»¶èƒ½å¤Ÿç”¨Linuxå’ŒUnixè¿æ¥MS SQLServerå’ŒSybaseæ•°æ®åº“</p></blockquote><h5 id="å®‰è£…ä¸é…ç½®"><a href="#å®‰è£…ä¸é…ç½®" class="headerlink" title="å®‰è£…ä¸é…ç½®"></a>å®‰è£…ä¸é…ç½®</h5><ol><li><p>é¦–å…ˆä¸‹è½½FreeTDSå®‰è£…åŒ…åˆ°æœåŠ¡å™¨</p><pre><code class="hljs shell">wget -c http://ibiblio.org/pub/Linux/ALPHA/freetds/stable/freetds-stable.tgz</code></pre><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymrluiwrj319s08mdjy.jpg" srcset="/img/loading.gif" alt="1"></p><a id="more"></a></li><li><p>è§£å‹</p><pre><code class="hljs shell">tar -zxvf freetds-stable.tgz</code></pre><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymrmqhzqj30xf0k2435.jpg" srcset="/img/loading.gif" alt="2"></p></li><li><p>ç¼–è¯‘å®‰è£…</p><ol><li><p>å› ä¸ºæ˜¯ç¼–è¯‘å®‰è£…æ‰€ä»¥ç¡®ä¿æœºå™¨æœ‰å®‰è£…gccï¼ˆå¯ä½¿ç”¨yumè¿›è¡Œå®‰è£…ï¼‰</p><pre><code class="hljs shell">yum install gcc-c++yum install ncurses-devel</code></pre></li><li><p>å¼€å§‹å®‰è£…</p><pre><code class="hljs shell">cd freetds-0.91/./configure --prefix=/usr/local/freetds --with-tdsver=8.0 --enable-msdblibmake &amp;&amp; makeinstall</code></pre><p>`è§£é‡Šï¼š</p><pre><code>å®‰è£…freetdsåˆ°ç›®å½•/usr/local/freetdsï¼š--prefix=/usr/local/freetdsæ”¯æŒMSSQL2000ï¼š--with-tdsver=8.0 --enable-msdblib`</code></pre></li></ol><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymrnq2tqj318f02ydgf.jpg" srcset="/img/loading.gif" alt="3"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymrp4l6oj30o40pm10k.jpg" srcset="/img/loading.gif" alt="4"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymrri8e3j31a30pbe34.jpg" srcset="/img/loading.gif" alt="5"></p></li><li><p>FreeTDSé»˜è®¤å®‰è£…åœ¨/usr/local/freetdsç›®å½•å½“ä¸­ï¼Œåº“æ–‡ä»¶åœ¨ç›¸åº”çš„libç›®å½•ä¸‹ã€‚</p><p><code>vim /etc/ld.so.conf</code>åŠ å…¥ä¸€è¡Œ <code>/usr/local/freetds/lib</code></p></li><li><p>ç„¶åè¿è¡Œä»¥ä¸‹æŒ‡ä»¤ä½¿æ›´æ”¹ç”Ÿæ•ˆï¼š</p><pre><code class="hljs bash">ldconfig</code></pre></li><li><p>æµ‹è¯•è¿æ¥</p><p><code>tsql -H MSSQLæœåŠ¡å™¨æœåŠ¡IP -p 1433 -U MSSQLæœåŠ¡å™¨ç™»é™†å¸å· ï¼P MSSQLæœåŠ¡å™¨ç™»é™†å¯†ç </code></p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash">  tsql -H XXXXXX-p 1433 -U sa -P XXXXXX -D <span class="hljs-built_in">test</span>  </span>locale is "zh_CN.utf8"  locale charset is "UTF-8"  Default database being set to test  <span class="hljs-meta">1&gt;</span><span class="bash"> select @@version  </span><span class="hljs-meta">2&gt;</span><span class="bash"> go  </span>  Microsoft SQL Server 2008 R2 (RTM) - 10.50.1600.1 (Intel X86)          Apr  2 2010 15:53:02          Copyright (c) Microsoft Corporation          Data Center Edition on Windows NT 5.1 &lt;X86&gt; (Build 2600: Service Pack 3)    (1 row affected)</code></pre><h5 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h5><p> <strong>Adaptive Server connection failed</strong></p><pre><code class="hljs shell">locale is "en_US.UTF-8"locale charset is "UTF-8"using default charset "UTF-8"Error 20017 (severity 9):        Unexpected EOF from the server        OS error 115, "Operation now in progress"Error 20002 (severity 9):        Adaptive Server connection failedThere was a problem connecting to the server</code></pre><p>æ‰§è¡Œ<code>tsql -C</code></p><pre><code class="hljs shell">[root@thinkpa freetds-0.91]# tsql -CCompile-time settings (established with the "configure" script)                            Version: freetds v0.91             freetds.conf directory: /usr/local/etc     MS db-lib source compatibility: no        Sybase binary compatibility: no                      Thread safety: yes                      iconv library: yes                        TDS version: 5.0                              iODBC: no                           unixodbc: no              SSPI "trusted" logins: no                           Kerberos: no</code></pre><p>å‘ç°freetdsçš„ç‰ˆæœ¬æ˜¯5.0ï¼Œè€ƒè™‘åˆ°å¯èƒ½æ˜¯freetdsç‰ˆæœ¬çš„é—®é¢˜</p><p>ä¸¤ç§è§£å†³æ–¹å¼ï¼š</p><ol><li><p>ä¿®æ”¹å…¨å±€TDS ç‰ˆæœ¬å·</p><p>æ‰¾åˆ°<code>/usr/local/etc/freetds.conf</code>ä¿®æ”¹<code>[global]</code>ä¸‹é¢çš„<code>tds version</code>ä¸º<code>8.0</code></p></li><li><p>è¿æ¥æ—¶ä¿®æ”¹tdsç‰ˆæœ¬å·</p><p><code>TDSVER=7.0 tsql -H</code></p><p>æ•´ä¸ªè¿æ¥å‘½ä»¤åˆ™å˜ä¸ºï¼š</p><p><code>tsql -H MSSQLæœåŠ¡å™¨æœåŠ¡IP -p 1433 -U MSSQLæœåŠ¡å™¨ç™»é™†å¸å· ï¼P MSSQLæœåŠ¡å™¨ç™»é™†å¯†ç </code></p><p><strong>Adaptive Server connection failed</strong></p></li></ol><pre><code class="hljs shell">"Cannot open server 'xxxxxxx' requested by the login. Client with IP    address 'xxxxxxxxx' is not allowed to access the server.  To enable       access, use the Windows Azure Management Portal or run                   sp_set_firewall_rule on the master database to create a firewall       rule for this IP address or address range.  It may take up to five       minutes for this change to take effect."Error 20002 (severity 9):        Adaptive Server connection failed</code></pre><p>è¿™ä¸ªæ¯‹åº¸ç½®ç–‘äº†ï¼Œæ‰¾ç®¡ç†å‘˜å¼€é€šç™½åå•å†è®¿é—®å§ï¼</p></li></ol><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>FreeTDS</category>
      
    </categories>
    
    
    <tags>
      
      <tag>FreeTDS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Kotlin-åŸºæœ¬æ•°æ®ç±»å‹</title>
    <link href="/2019/03/15/Kotlin-%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/"/>
    <url>/2019/03/15/Kotlin-%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h5 id="Kotlin-åŸºæœ¬æ•°æ®ç±»å‹"><a href="#Kotlin-åŸºæœ¬æ•°æ®ç±»å‹" class="headerlink" title="Kotlin åŸºæœ¬æ•°æ®ç±»å‹"></a>Kotlin åŸºæœ¬æ•°æ®ç±»å‹</h5><blockquote><p>Kotlin çš„åŸºæœ¬æ•°å€¼ç±»å‹åŒ…æ‹¬ Byteã€Shortã€Intã€Longã€Floatã€Double ç­‰ã€‚ä¸åŒäºJavaçš„æ˜¯ï¼Œå­—ç¬¦ä¸å±äºæ•°å€¼ç±»å‹ï¼Œæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ•°æ®ç±»å‹ã€‚</p></blockquote><table><thead><tr><th>ç±»å‹</th><th>ä½å®½åº¦</th></tr></thead><tbody><tr><td>Double</td><td>64</td></tr><tr><td>Float</td><td>32</td></tr><tr><td>Long</td><td>64</td></tr><tr><td>Int</td><td>32</td></tr><tr><td>Short</td><td>16</td></tr><tr><td>Byte</td><td>8</td></tr></tbody></table><a id="more"></a><h5 id="å­—é¢å¸¸é‡"><a href="#å­—é¢å¸¸é‡" class="headerlink" title="å­—é¢å¸¸é‡"></a>å­—é¢å¸¸é‡</h5><p>ä¸‹é¢æ˜¯æ‰€æœ‰ç±»å‹çš„å­—é¢å¸¸é‡ï¼š</p><ul><li>åè¿›åˆ¶ï¼š123</li><li>é•¿æ•´å‹ä»¥å¤§å†™çš„ L ç»“å°¾ï¼š123L</li><li>16 è¿›åˆ¶ä»¥ 0x å¼€å¤´ï¼š0x0F</li><li>2 è¿›åˆ¶ä»¥ 0b å¼€å¤´ï¼š0b00001011</li><li>æ³¨æ„ï¼š8è¿›åˆ¶ä¸æ”¯æŒ</li></ul><p>Kotlin åŒæ—¶ä¹Ÿæ”¯æŒä¼ ç»Ÿç¬¦å·è¡¨ç¤ºçš„æµ®ç‚¹æ•°å€¼ï¼š</p><ul><li>Doubles é»˜è®¤å†™æ³•: <code>123.5</code>, <code>123.5e10</code></li><li>Floats ä½¿ç”¨ f æˆ–è€… F åç¼€ï¼š<code>123.5f</code></li></ul><p>ä½ å¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿ä½¿æ•°å­—å¸¸é‡æ›´æ˜“è¯»ï¼š</p><pre><code class="hljs kotlin"><span class="hljs-keyword">val</span> oneMillion = <span class="hljs-number">1_000_000</span><span class="hljs-keyword">val</span> creditCardNumber = <span class="hljs-number">1234_5678_9012_3456L</span><span class="hljs-keyword">val</span> socialSecurityNumber = <span class="hljs-number">999_99_9999L</span><span class="hljs-keyword">val</span> hexBytes = <span class="hljs-number">0xFF_EC_DE_5E</span><span class="hljs-keyword">val</span> bytes = <span class="hljs-number">0b11010010_01101001_10010100_10010010</span></code></pre><h5 id="æ¯”è¾ƒä¸¤ä¸ªæ•°å­—"><a href="#æ¯”è¾ƒä¸¤ä¸ªæ•°å­—" class="headerlink" title="æ¯”è¾ƒä¸¤ä¸ªæ•°å­—"></a>æ¯”è¾ƒä¸¤ä¸ªæ•°å­—</h5><p>Kotlin ä¸­æ²¡æœ‰åŸºç¡€æ•°æ®ç±»å‹ï¼Œåªæœ‰å°è£…çš„æ•°å­—ç±»å‹ï¼Œä½ æ¯å®šä¹‰çš„ä¸€ä¸ªå˜é‡ï¼Œå…¶å® Kotlin å¸®ä½ å°è£…äº†ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ä¸ä¼šå‡ºç°ç©ºæŒ‡é’ˆã€‚æ•°å­—ç±»å‹ä¹Ÿä¸€æ ·ï¼Œæ‰€æœ‰åœ¨æ¯”è¾ƒä¸¤ä¸ªæ•°å­—çš„æ—¶å€™ï¼Œå°±æœ‰æ¯”è¾ƒæ•°æ®å¤§å°å’Œæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸åŒçš„åŒºåˆ«äº†ã€‚</p><p>åœ¨ Kotlin ä¸­ï¼Œä¸‰ä¸ªç­‰å· === è¡¨ç¤ºæ¯”è¾ƒå¯¹è±¡åœ°å€ï¼Œä¸¤ä¸ª == è¡¨ç¤ºæ¯”è¾ƒä¸¤ä¸ªå€¼å¤§å°ã€‚</p><pre><code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">(args: <span class="hljs-type">Array</span>&lt;<span class="hljs-type">String</span>&gt;)</span></span> &#123;    <span class="hljs-keyword">val</span> a: <span class="hljs-built_in">Int</span> = <span class="hljs-number">10000</span>    println(a === a) <span class="hljs-comment">// trueï¼Œå€¼ç›¸ç­‰ï¼Œå¯¹è±¡åœ°å€ç›¸ç­‰</span>    <span class="hljs-comment">//ç»è¿‡äº†è£…ç®±ï¼Œåˆ›å»ºäº†ä¸¤ä¸ªä¸åŒçš„å¯¹è±¡</span>    <span class="hljs-keyword">val</span> boxedA: <span class="hljs-built_in">Int</span>? = a    <span class="hljs-keyword">val</span> anotherBoxedA: <span class="hljs-built_in">Int</span>? = a    <span class="hljs-comment">//è™½ç„¶ç»è¿‡äº†è£…ç®±ï¼Œä½†æ˜¯å€¼æ˜¯ç›¸ç­‰çš„ï¼Œéƒ½æ˜¯10000</span>    println(boxedA === anotherBoxedA) <span class="hljs-comment">//  falseï¼Œå€¼ç›¸ç­‰ï¼Œå¯¹è±¡åœ°å€ä¸ä¸€æ ·</span>    println(boxedA == anotherBoxedA) <span class="hljs-comment">// trueï¼Œå€¼ç›¸ç­‰</span>&#125;</code></pre><h5 id="ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h5><p>ç”±äºä¸åŒçš„è¡¨ç¤ºæ–¹å¼ï¼Œè¾ƒå°ç±»å‹å¹¶ä¸æ˜¯è¾ƒå¤§ç±»å‹çš„å­ç±»å‹ï¼Œè¾ƒå°çš„ç±»å‹ä¸èƒ½éšå¼è½¬æ¢ä¸ºè¾ƒå¤§çš„ç±»å‹ã€‚ è¿™æ„å‘³ç€åœ¨ä¸è¿›è¡Œæ˜¾å¼è½¬æ¢çš„æƒ…å†µä¸‹æˆ‘ä»¬ä¸èƒ½æŠŠ Byte å‹å€¼èµ‹ç»™ä¸€ä¸ª Int å˜é‡ã€‚</p><pre><code class="hljs kotlin"><span class="hljs-keyword">val</span> b: <span class="hljs-built_in">Byte</span> = <span class="hljs-number">1</span> <span class="hljs-comment">// OK, å­—é¢å€¼æ˜¯é™æ€æ£€æµ‹çš„</span><span class="hljs-keyword">val</span> i: <span class="hljs-built_in">Int</span> = b <span class="hljs-comment">// é”™è¯¯</span></code></pre><p>æˆ‘ä»¬å¯ä»¥ä»£ç”¨å…¶toInt()æ–¹æ³•ã€‚</p><pre><code class="hljs kotlin"><span class="hljs-keyword">val</span> b: <span class="hljs-built_in">Byte</span> = <span class="hljs-number">1</span> <span class="hljs-comment">// OK, å­—é¢å€¼æ˜¯é™æ€æ£€æµ‹çš„</span><span class="hljs-keyword">val</span> i: <span class="hljs-built_in">Int</span> = b.toInt() <span class="hljs-comment">// OK</span></code></pre><p>æ¯ç§æ•°æ®ç±»å‹éƒ½æœ‰ä¸‹é¢çš„è¿™äº›æ–¹æ³•ï¼Œå¯ä»¥è½¬åŒ–ä¸ºå…¶å®ƒçš„ç±»å‹ï¼š</p><pre><code class="hljs kotlin">toByte(): <span class="hljs-built_in">Byte</span>toShort(): <span class="hljs-built_in">Short</span>toInt(): <span class="hljs-built_in">Int</span>toLong(): <span class="hljs-built_in">Long</span>toFloat(): <span class="hljs-built_in">Float</span>toDouble(): <span class="hljs-built_in">Double</span>toChar(): <span class="hljs-built_in">Char</span></code></pre><p>æœ‰äº›æƒ…å†µä¸‹ä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨è‡ªåŠ¨ç±»å‹è½¬åŒ–çš„ï¼Œå‰ææ˜¯å¯ä»¥æ ¹æ®ä¸Šä¸‹æ–‡ç¯å¢ƒæ¨æ–­å‡ºæ­£ç¡®çš„æ•°æ®ç±»å‹è€Œä¸”æ•°å­¦æ“ä½œç¬¦ä¼šåšç›¸åº”çš„é‡è½½ã€‚ä¾‹å¦‚ä¸‹é¢æ˜¯æ­£ç¡®çš„ï¼š</p><pre><code class="hljs kotlin"><span class="hljs-keyword">val</span> l = <span class="hljs-number">1L</span> + <span class="hljs-number">3</span> <span class="hljs-comment">// Long + Int =&gt; Long</span></code></pre><h5 id="ä½æ“ä½œç¬¦"><a href="#ä½æ“ä½œç¬¦" class="headerlink" title="ä½æ“ä½œç¬¦"></a>ä½æ“ä½œç¬¦</h5><p>å¯¹äºIntå’ŒLongç±»å‹ï¼Œè¿˜æœ‰ä¸€ç³»åˆ—çš„ä½æ“ä½œç¬¦å¯ä»¥ä½¿ç”¨ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><pre><code class="hljs kotlin">shl(bits) â€“ å·¦ç§»ä½ (Javaâ€™s &lt;&lt;)shr(bits) â€“ å³ç§»ä½ (Javaâ€™s &gt;&gt;)ushr(bits) â€“ æ— ç¬¦å·å³ç§»ä½ (Javaâ€™s &gt;&gt;&gt;)and(bits) â€“ ä¸or(bits) â€“ æˆ–xor(bits) â€“ å¼‚æˆ–inv() â€“ åå‘</code></pre><h5 id="å­—ç¬¦"><a href="#å­—ç¬¦" class="headerlink" title="å­—ç¬¦"></a>å­—ç¬¦</h5><p>å’Œ Java ä¸ä¸€æ ·ï¼ŒKotlin ä¸­çš„ Char ä¸èƒ½ç›´æ¥å’Œæ•°å­—æ“ä½œï¼ŒChar å¿…éœ€æ˜¯å•å¼•å· <strong>â€˜</strong> åŒ…å«èµ·æ¥çš„ã€‚æ¯”å¦‚æ™®é€šå­—ç¬¦ â€˜0â€™ï¼Œâ€™aâ€™ã€‚</p><pre><code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">check</span><span class="hljs-params">(c: <span class="hljs-type">Char</span>)</span></span> &#123;    <span class="hljs-keyword">if</span> (c == <span class="hljs-number">1</span>) &#123; <span class="hljs-comment">// é”™è¯¯ï¼šç±»å‹ä¸å…¼å®¹</span>        <span class="hljs-comment">// â€¦â€¦</span>    &#125;&#125;</code></pre><p>å­—ç¬¦å­—é¢å€¼ç”¨å•å¼•å·æ‹¬èµ·æ¥: â€˜1â€™ã€‚ ç‰¹æ®Šå­—ç¬¦å¯ä»¥ç”¨åæ–œæ è½¬ä¹‰ã€‚ æ”¯æŒè¿™å‡ ä¸ªè½¬ä¹‰åºåˆ—ï¼š\tã€ \bã€\nã€\rã€&#39;ã€&quot;ã€\ å’Œ $ã€‚ ç¼–ç å…¶ä»–å­—ç¬¦è¦ç”¨ Unicode è½¬ä¹‰åºåˆ—è¯­æ³•ï¼šâ€™\uFF00â€™ã€‚</p><p>æˆ‘ä»¬å¯ä»¥æ˜¾å¼æŠŠå­—ç¬¦è½¬æ¢ä¸º Int æ•°å­—ï¼š</p><pre><code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">decimalDigitValue</span><span class="hljs-params">(c: <span class="hljs-type">Char</span>)</span></span>: <span class="hljs-built_in">Int</span> &#123;    <span class="hljs-keyword">if</span> (c !<span class="hljs-keyword">in</span> <span class="hljs-string">'0'</span>..<span class="hljs-string">'9'</span>)        <span class="hljs-keyword">throw</span> IllegalArgumentException(<span class="hljs-string">"Out of range"</span>)    <span class="hljs-keyword">return</span> c.toInt() - <span class="hljs-string">'0'</span>.toInt() <span class="hljs-comment">// æ˜¾å¼è½¬æ¢ä¸ºæ•°å­—</span>&#125;</code></pre><p>å½“éœ€è¦å¯ç©ºå¼•ç”¨æ—¶ï¼Œåƒæ•°å­—ã€å­—ç¬¦ä¼šè¢«è£…ç®±ã€‚è£…ç®±æ“ä½œä¸ä¼šä¿ç•™åŒä¸€æ€§ã€‚</p><h5 id="å¸ƒå°”"><a href="#å¸ƒå°”" class="headerlink" title="å¸ƒå°”"></a>å¸ƒå°”</h5><p>å¸ƒå°”ç”¨ Boolean ç±»å‹è¡¨ç¤ºï¼Œå®ƒæœ‰ä¸¤ä¸ªå€¼ï¼štrue å’Œ falseã€‚</p><p>è‹¥éœ€è¦å¯ç©ºå¼•ç”¨å¸ƒå°”ä¼šè¢«è£…ç®±ã€‚</p><p>å†…ç½®çš„å¸ƒå°”è¿ç®—æœ‰ï¼š</p><pre><code class="hljs kotlin">|| â€“ çŸ­è·¯é€»è¾‘æˆ–&amp;&amp; â€“ çŸ­è·¯é€»è¾‘ä¸! - é€»è¾‘é</code></pre><h5 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h5><p>æ•°ç»„ç”¨ç±» Array å®ç°ï¼Œå¹¶ä¸”è¿˜æœ‰ä¸€ä¸ª size å±æ€§åŠ get å’Œ set æ–¹æ³•ï¼Œç”±äºä½¿ç”¨ [] é‡è½½äº† get å’Œ set æ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹æ ‡å¾ˆæ–¹ä¾¿çš„è·å–æˆ–è€…è®¾ç½®æ•°ç»„å¯¹åº”ä½ç½®çš„å€¼ã€‚</p><p>æ•°ç»„çš„åˆ›å»ºä¸¤ç§æ–¹å¼ï¼šä¸€ç§æ˜¯ä½¿ç”¨å‡½æ•°arrayOf()ï¼›å¦å¤–ä¸€ç§æ˜¯ä½¿ç”¨å·¥å‚å‡½æ•°ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼Œæˆ‘ä»¬åˆ†åˆ«æ˜¯ä¸¤ç§æ–¹å¼åˆ›å»ºäº†ä¸¤ä¸ªæ•°ç»„ï¼š</p><pre><code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">(args: <span class="hljs-type">Array</span>&lt;<span class="hljs-type">String</span>&gt;)</span></span> &#123;    <span class="hljs-comment">//[1,2,3]</span>    <span class="hljs-keyword">val</span> a = arrayOf(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)    <span class="hljs-comment">//[0,2,4]</span>    <span class="hljs-keyword">val</span> b = Array(<span class="hljs-number">3</span>, &#123; i -&gt; (i * <span class="hljs-number">2</span>) &#125;)    <span class="hljs-comment">//è¯»å–æ•°ç»„å†…å®¹</span>    println(a[<span class="hljs-number">0</span>])    <span class="hljs-comment">// è¾“å‡ºç»“æœï¼š1</span>    println(b[<span class="hljs-number">1</span>])    <span class="hljs-comment">// è¾“å‡ºç»“æœï¼š2</span>&#125;</code></pre><p>å¦‚ä¸Šæ‰€è¿°ï¼Œ[] è¿ç®—ç¬¦ä»£è¡¨è°ƒç”¨æˆå‘˜å‡½æ•° get() å’Œ set()ã€‚</p><p>æ³¨æ„: ä¸ Java ä¸åŒçš„æ˜¯ï¼ŒKotlin ä¸­æ•°ç»„æ˜¯ä¸å‹å˜çš„ï¼ˆinvariantï¼‰ã€‚</p><p>é™¤äº†ç±»Arrayï¼Œè¿˜æœ‰ByteArray, ShortArray, IntArrayï¼Œç”¨æ¥è¡¨ç¤ºå„ä¸ªç±»å‹çš„æ•°ç»„ï¼Œçœå»äº†è£…ç®±æ“ä½œï¼Œå› æ­¤æ•ˆç‡æ›´é«˜ï¼Œå…¶ç”¨æ³•åŒArrayä¸€æ ·ï¼š</p><pre><code class="hljs kotlin"><span class="hljs-keyword">val</span> x: IntArray = intArrayOf(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)x[<span class="hljs-number">0</span>] = x[<span class="hljs-number">1</span>] + x[<span class="hljs-number">2</span>]</code></pre><h5 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h5><p>å’Œ Java ä¸€æ ·ï¼ŒString æ˜¯ä¸å¯å˜çš„ã€‚æ–¹æ‹¬å· [] è¯­æ³•å¯ä»¥å¾ˆæ–¹ä¾¿çš„è·å–å­—ç¬¦ä¸²ä¸­çš„æŸä¸ªå­—ç¬¦ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ for å¾ªç¯æ¥éå†ï¼š</p><pre><code class="hljs kotlin"><span class="hljs-keyword">for</span> (c <span class="hljs-keyword">in</span> str) &#123;    println(c)&#125;</code></pre><p>Kotlin æ”¯æŒä¸‰ä¸ªå¼•å· â€œâ€â€ æ‰©èµ·æ¥çš„å­—ç¬¦ä¸²ï¼Œæ”¯æŒå¤šè¡Œå­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ï¼š</p><pre><code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">(args: <span class="hljs-type">Array</span>&lt;<span class="hljs-type">String</span>&gt;)</span></span> &#123;    <span class="hljs-keyword">val</span> text = <span class="hljs-string">"""</span><span class="hljs-string">    å¤šè¡Œå­—ç¬¦ä¸²</span><span class="hljs-string">    å¤šè¡Œå­—ç¬¦ä¸²</span><span class="hljs-string">    """</span><span class="hljs-string">    println(text)   // è¾“å‡ºæœ‰ä¸€äº›å‰ç½®ç©ºæ ¼</span><span class="hljs-string">&#125;</span></code></pre><p>String å¯ä»¥é€šè¿‡ trimMargin() æ–¹æ³•æ¥åˆ é™¤å¤šä½™çš„ç©ºç™½ã€‚</p><pre><code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">(args: <span class="hljs-type">Array</span>&lt;<span class="hljs-type">String</span>&gt;)</span></span> &#123;    <span class="hljs-keyword">val</span> text = <span class="hljs-string">"""</span><span class="hljs-string">    |å¤šè¡Œå­—ç¬¦ä¸²</span><span class="hljs-string">    |Kotlinæ•™ç¨‹</span><span class="hljs-string">    |å¤šè¡Œå­—ç¬¦ä¸²</span><span class="hljs-string">    |Kotlin</span><span class="hljs-string">    """</span>.trimMargin()    println(text)    <span class="hljs-comment">// å‰ç½®ç©ºæ ¼åˆ é™¤äº†</span>&#125;</code></pre><p>é»˜è®¤ | ç”¨ä½œè¾¹ç•Œå‰ç¼€ï¼Œä½†ä½ å¯ä»¥é€‰æ‹©å…¶ä»–å­—ç¬¦å¹¶ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œæ¯”å¦‚ trimMargin(â€œ&gt;â€)ã€‚</p><h5 id="å­—ç¬¦ä¸²æ¨¡æ¿"><a href="#å­—ç¬¦ä¸²æ¨¡æ¿" class="headerlink" title="å­—ç¬¦ä¸²æ¨¡æ¿"></a>å­—ç¬¦ä¸²æ¨¡æ¿</h5><p>å­—ç¬¦ä¸²å¯ä»¥åŒ…å«æ¨¡æ¿è¡¨è¾¾å¼ ï¼Œå³ä¸€äº›å°æ®µä»£ç ï¼Œä¼šæ±‚å€¼å¹¶æŠŠç»“æœåˆå¹¶åˆ°å­—ç¬¦ä¸²ä¸­ã€‚ æ¨¡æ¿è¡¨è¾¾å¼ä»¥ç¾å…ƒç¬¦ï¼ˆ$ï¼‰å¼€å¤´ï¼Œç”±ä¸€ä¸ªç®€å•çš„åå­—æ„æˆ:</p><pre><code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">(args: <span class="hljs-type">Array</span>&lt;<span class="hljs-type">String</span>&gt;)</span></span> &#123;    <span class="hljs-keyword">val</span> i = <span class="hljs-number">10</span>    <span class="hljs-keyword">val</span> s = <span class="hljs-string">"i = <span class="hljs-variable">$i</span>"</span> <span class="hljs-comment">// æ±‚å€¼ç»“æœä¸º "i = 10"</span>    println(s)&#125;</code></pre><p>æˆ–è€…ç”¨èŠ±æ‹¬å·æ‰©èµ·æ¥çš„ä»»æ„è¡¨è¾¾å¼:</p><pre><code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">(args: <span class="hljs-type">Array</span>&lt;<span class="hljs-type">String</span>&gt;)</span></span> &#123;    <span class="hljs-keyword">val</span> s = <span class="hljs-string">"kotlin"</span>    <span class="hljs-keyword">val</span> str = <span class="hljs-string">"<span class="hljs-variable">$s</span>.length is <span class="hljs-subst">$&#123;s.length&#125;</span>"</span> <span class="hljs-comment">// æ±‚å€¼ç»“æœä¸º "kotlin.length is 6"</span>    println(str)&#125;</code></pre><p>åŸç”Ÿå­—ç¬¦ä¸²å’Œè½¬ä¹‰å­—ç¬¦ä¸²å†…éƒ¨éƒ½æ”¯æŒæ¨¡æ¿ã€‚ å¦‚æœä½ éœ€è¦åœ¨åŸç”Ÿå­—ç¬¦ä¸²ä¸­è¡¨ç¤ºå­—é¢å€¼ $ å­—ç¬¦ï¼ˆå®ƒä¸æ”¯æŒåæ–œæ è½¬ä¹‰ï¼‰ï¼Œä½ å¯ä»¥ç”¨ä¸‹åˆ—è¯­æ³•ï¼š</p><pre><code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">(args: <span class="hljs-type">Array</span>&lt;<span class="hljs-type">String</span>&gt;)</span></span> &#123;    <span class="hljs-keyword">val</span> price = <span class="hljs-string">"""</span><span class="hljs-string">    <span class="hljs-subst">$&#123;<span class="hljs-string">'$'</span>&#125;</span>9.99</span><span class="hljs-string">    """</span><span class="hljs-string">    println(price)  // æ±‚å€¼ç»“æœä¸º $9.99</span><span class="hljs-string">&#125;</span></code></pre><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Kotlin</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Kotlin</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Kotlin-åŸºç¡€è¯­æ³•</title>
    <link href="/2019/03/14/Kotlin-%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/"/>
    <url>/2019/03/14/Kotlin-%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h5 id="KotlinåŸºç¡€è¯­æ³•"><a href="#KotlinåŸºç¡€è¯­æ³•" class="headerlink" title="KotlinåŸºç¡€è¯­æ³•"></a>KotlinåŸºç¡€è¯­æ³•</h5><p>Kotlinæ–‡ä»¶ä»¥.ktä¸ºåç¼€</p><h5 id="KotlinåŒ…å£°æ˜"><a href="#KotlinåŒ…å£°æ˜" class="headerlink" title="KotlinåŒ…å£°æ˜"></a>KotlinåŒ…å£°æ˜</h5><p>ä»£ç æ–‡ä»¶çš„å¼€å¤´ä¸€èˆ¬ä¸ºåŒ…çš„å£°æ˜</p><pre><code class="hljs kotlin"><span class="hljs-keyword">package</span> com.kotlin01.main<span class="hljs-keyword">import</span> java.util.*<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span> &#123;&#125;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Kotlin01</span> </span>&#123;&#125;</code></pre><p>kotlinæºæ–‡ä»¶ä¸éœ€è¦ç›¸åŒ¹é…çš„ç›®å½•å’ŒåŒ…ï¼Œæºæ–‡ä»¶å¯ä»¥æ”¾åœ¨ä»»ä½•æ–‡ä»¶ç›®å½•ã€‚</p><a id="more"></a><p>ä»¥ä¸Šä¾‹ä¸­ test() çš„å…¨åæ˜¯ com.kotlin01.main.testã€Kotlin01çš„å…¨åæ˜¯ com.kotlin01.main.Kotlin01ã€‚</p><p>å¦‚æœæ²¡æœ‰æŒ‡å®šåŒ…ï¼Œé»˜è®¤ä¸º <strong>default</strong> åŒ…ã€‚</p><h6 id="é»˜è®¤å¯¼å…¥"><a href="#é»˜è®¤å¯¼å…¥" class="headerlink" title="é»˜è®¤å¯¼å…¥"></a>é»˜è®¤å¯¼å…¥</h6><p>æœ‰å¤šä¸ªåŒ…ä¼šé»˜è®¤å¯¼å…¥åˆ°æ¯ä¸ª Kotlin æ–‡ä»¶ä¸­ï¼š</p><ul><li><p>kotlin.*</p></li><li><p>kotlin.annotation.*</p></li><li><p>kotlin.collections.*</p></li><li><p>kotlin.comparisons.*</p></li><li><p>kotlin.io.*</p></li><li><p>kotlin.ranges.*</p></li><li><p>kotlin.sequences.*</p></li><li><p>kotlin.text.*</p></li></ul><h5 id="å‡½æ•°å®šä¹‰"><a href="#å‡½æ•°å®šä¹‰" class="headerlink" title="å‡½æ•°å®šä¹‰"></a>å‡½æ•°å®šä¹‰</h5><p>å‡½æ•°å®šä¹‰ä½¿ç”¨å…³é”®å­— funï¼Œå‚æ•°æ ¼å¼ä¸ºï¼šå‚æ•° : ç±»å‹</p><pre><code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">sum</span><span class="hljs-params">(a: <span class="hljs-type">Int</span>, b: <span class="hljs-type">Int</span>)</span></span>: <span class="hljs-built_in">Int</span> &#123;   <span class="hljs-comment">// Int å‚æ•°ï¼Œè¿”å›å€¼ Int</span>    <span class="hljs-keyword">return</span> a + b&#125;</code></pre><p>è¡¨è¾¾å¼ä½œä¸ºå‡½æ•°ä½“ï¼Œè¿”å›ç±»å‹è‡ªåŠ¨æ¨æ–­ï¼š</p><pre><code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">sum</span><span class="hljs-params">(a: <span class="hljs-type">Int</span>, b: <span class="hljs-type">Int</span>)</span></span> = a + b<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">sum</span><span class="hljs-params">(a: <span class="hljs-type">Int</span>, b: <span class="hljs-type">Int</span>)</span></span>: <span class="hljs-built_in">Int</span> = a + b   <span class="hljs-comment">// public æ–¹æ³•åˆ™å¿…é¡»æ˜ç¡®å†™å‡ºè¿”å›ç±»å‹</span></code></pre><p>æ— è¿”å›å€¼çš„å‡½æ•°(Javaä¸­çš„void)ï¼š</p><pre><code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">printSum</span><span class="hljs-params">(a: <span class="hljs-type">Int</span>, b: <span class="hljs-type">Int</span>)</span></span>: <span class="hljs-built_in">Unit</span> &#123;     print(a + b)&#125;<span class="hljs-comment">// å¦‚æœæ˜¯è¿”å› Unitç±»å‹ï¼Œåˆ™å¯ä»¥çœç•¥(å¯¹äºpublicæ–¹æ³•ä¹Ÿæ˜¯è¿™æ ·)ï¼š</span><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">printSum</span><span class="hljs-params">(a: <span class="hljs-type">Int</span>, b: <span class="hljs-type">Int</span>)</span></span> &#123;     print(a + b)&#125;</code></pre><h6 id="å¯å˜é•¿å‚æ•°å‡½æ•°"><a href="#å¯å˜é•¿å‚æ•°å‡½æ•°" class="headerlink" title="å¯å˜é•¿å‚æ•°å‡½æ•°"></a>å¯å˜é•¿å‚æ•°å‡½æ•°</h6><p>å‡½æ•°çš„å˜é•¿å‚æ•°å¯ä»¥ç”¨ <strong>vararg</strong> å…³é”®å­—è¿›è¡Œæ ‡è¯†ï¼š</p><pre><code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">vars</span><span class="hljs-params">(<span class="hljs-keyword">vararg</span> v:<span class="hljs-type">Int</span>)</span></span>&#123;    <span class="hljs-keyword">for</span>(vt <span class="hljs-keyword">in</span> v)&#123;        print(vt)    &#125;&#125;<span class="hljs-comment">// æµ‹è¯•</span><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">(args: <span class="hljs-type">Array</span>&lt;<span class="hljs-type">String</span>&gt;)</span></span> &#123;    vars(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>)  <span class="hljs-comment">// è¾“å‡º12345</span>&#125;</code></pre><h6 id="lambda-åŒ¿åå‡½æ•°"><a href="#lambda-åŒ¿åå‡½æ•°" class="headerlink" title="lambda(åŒ¿åå‡½æ•°)"></a>lambda(åŒ¿åå‡½æ•°)</h6><p>lambdaè¡¨è¾¾å¼ä½¿ç”¨å®ä¾‹ï¼š</p><pre><code class="hljs plain">&#x2F;&#x2F; æµ‹è¯•fun main(args: Array&lt;String&gt;) &#123;    val sumLambda: (Int, Int) -&gt; Int &#x3D; &#123;x,y -&gt; x+y&#125;    println(sumLambda(1,2))  &#x2F;&#x2F; è¾“å‡º 3&#125;</code></pre><h5 id="å®šä¹‰å¸¸é‡ä¸å˜é‡"><a href="#å®šä¹‰å¸¸é‡ä¸å˜é‡" class="headerlink" title="å®šä¹‰å¸¸é‡ä¸å˜é‡"></a>å®šä¹‰å¸¸é‡ä¸å˜é‡</h5><p>å¯å˜å˜é‡å®šä¹‰ï¼švar å…³é”®å­—</p><pre><code class="hljs kotlin"><span class="hljs-keyword">var</span> &lt;æ ‡è¯†ç¬¦&gt; : &lt;ç±»å‹&gt; = &lt;åˆå§‹åŒ–å€¼&gt;</code></pre><p>ä¸å¯å˜å˜é‡å®šä¹‰ï¼šval å…³é”®å­—ï¼Œåªèƒ½èµ‹å€¼ä¸€æ¬¡çš„å˜é‡(ç±»ä¼¼Javaä¸­finalä¿®é¥°çš„å˜é‡)</p><pre><code class="hljs kotlin"><span class="hljs-keyword">val</span> &lt;æ ‡è¯†ç¬¦&gt; : &lt;ç±»å‹&gt; = &lt;åˆå§‹åŒ–å€¼&gt;</code></pre><p>å¸¸é‡ä¸å˜é‡éƒ½å¯ä»¥æ²¡æœ‰åˆå§‹åŒ–å€¼,ä½†æ˜¯åœ¨å¼•ç”¨å‰å¿…é¡»åˆå§‹åŒ–</p><p>ç¼–è¯‘å™¨æ”¯æŒè‡ªåŠ¨ç±»å‹åˆ¤æ–­,å³å£°æ˜æ—¶å¯ä»¥ä¸æŒ‡å®šç±»å‹,ç”±ç¼–è¯‘å™¨åˆ¤æ–­ã€‚</p><pre><code class="hljs kotlin"><span class="hljs-keyword">val</span> a: <span class="hljs-built_in">Int</span> = <span class="hljs-number">1</span><span class="hljs-keyword">val</span> b = <span class="hljs-number">1</span>       <span class="hljs-comment">// ç³»ç»Ÿè‡ªåŠ¨æ¨æ–­å˜é‡ç±»å‹ä¸ºInt</span><span class="hljs-keyword">val</span> c: <span class="hljs-built_in">Int</span>      <span class="hljs-comment">// å¦‚æœä¸åœ¨å£°æ˜æ—¶åˆå§‹åŒ–åˆ™å¿…é¡»æä¾›å˜é‡ç±»å‹</span>c = <span class="hljs-number">1</span>           <span class="hljs-comment">// æ˜ç¡®èµ‹å€¼</span><span class="hljs-keyword">var</span> x = <span class="hljs-number">5</span>        <span class="hljs-comment">// ç³»ç»Ÿè‡ªåŠ¨æ¨æ–­å˜é‡ç±»å‹ä¸ºInt</span>x += <span class="hljs-number">1</span>           <span class="hljs-comment">// å˜é‡å¯ä¿®æ”¹</span></code></pre><h5 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h5><p>Kotlin æ”¯æŒå•è¡Œå’Œå¤šè¡Œæ³¨é‡Šï¼Œå®ä¾‹å¦‚ä¸‹ï¼š</p><pre><code class="hljs kotlin"><span class="hljs-comment">// è¿™æ˜¯ä¸€ä¸ªå•è¡Œæ³¨é‡Š</span><span class="hljs-comment">/* è¿™æ˜¯ä¸€ä¸ªå¤šè¡Œçš„</span><span class="hljs-comment">   å—æ³¨é‡Šã€‚ */</span></code></pre><p>ä¸ Java ä¸åŒ, <strong>Kotlin ä¸­çš„å—æ³¨é‡Šå…è®¸åµŒå¥—</strong>ã€‚</p><h5 id="å­—ç¬¦ä¸²æ¨¡æ¿"><a href="#å­—ç¬¦ä¸²æ¨¡æ¿" class="headerlink" title="å­—ç¬¦ä¸²æ¨¡æ¿"></a>å­—ç¬¦ä¸²æ¨¡æ¿</h5><p>$ è¡¨ç¤ºä¸€ä¸ªå˜é‡åæˆ–è€…å˜é‡å€¼</p><p>$varName è¡¨ç¤ºå˜é‡å€¼</p><p>${varName.fun()} è¡¨ç¤ºå˜é‡çš„æ–¹æ³•è¿”å›å€¼:</p><pre><code class="hljs kotlin"><span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span><span class="hljs-comment">// æ¨¡æ¿ä¸­çš„ç®€å•åç§°ï¼š</span><span class="hljs-keyword">val</span> s1 = <span class="hljs-string">"a is <span class="hljs-variable">$a</span>"</span> a = <span class="hljs-number">2</span><span class="hljs-comment">// æ¨¡æ¿ä¸­çš„ä»»æ„è¡¨è¾¾å¼ï¼š</span><span class="hljs-keyword">val</span> s2 = <span class="hljs-string">"<span class="hljs-subst">$&#123;s1.replace(<span class="hljs-string">"is"</span>, <span class="hljs-string">"was"</span>)&#125;</span>, but now is <span class="hljs-variable">$a</span>"</span></code></pre><h5 id="NULLæ£€æŸ¥æœºåˆ¶"><a href="#NULLæ£€æŸ¥æœºåˆ¶" class="headerlink" title="NULLæ£€æŸ¥æœºåˆ¶"></a>NULLæ£€æŸ¥æœºåˆ¶</h5><p>Kotlinçš„ç©ºå®‰å…¨è®¾è®¡å¯¹äºå£°æ˜å¯ä¸ºç©ºçš„å‚æ•°ï¼Œåœ¨ä½¿ç”¨æ—¶è¦è¿›è¡Œç©ºåˆ¤æ–­å¤„ç†ï¼Œæœ‰ä¸¤ç§å¤„ç†æ–¹å¼ï¼Œå­—æ®µååŠ !!åƒJavaä¸€æ ·æŠ›å‡ºç©ºå¼‚å¸¸ï¼Œå¦ä¸€ç§å­—æ®µååŠ ?å¯ä¸åšå¤„ç†è¿”å›å€¼ä¸º nullæˆ–é…åˆ?:åšç©ºåˆ¤æ–­å¤„ç†</p><pre><code class="hljs kotlin"><span class="hljs-comment">//ç±»å‹åé¢åŠ ?è¡¨ç¤ºå¯ä¸ºç©º</span><span class="hljs-keyword">var</span> age: String? = <span class="hljs-string">"23"</span> <span class="hljs-comment">//æŠ›å‡ºç©ºæŒ‡é’ˆå¼‚å¸¸</span><span class="hljs-keyword">val</span> ages = age!!.toInt()<span class="hljs-comment">//ä¸åšå¤„ç†è¿”å› null</span><span class="hljs-keyword">val</span> ages1 = age?.toInt()<span class="hljs-comment">//ageä¸ºç©ºè¿”å›-1</span><span class="hljs-keyword">val</span> ages2 = age?.toInt() ?: -<span class="hljs-number">1</span></code></pre><p>å½“ä¸€ä¸ªå¼•ç”¨å¯èƒ½ä¸º null å€¼æ—¶, å¯¹åº”çš„ç±»å‹å£°æ˜å¿…é¡»æ˜ç¡®åœ°æ ‡è®°ä¸ºå¯ä¸º nullã€‚</p><p>å½“ str ä¸­çš„å­—ç¬¦ä¸²å†…å®¹ä¸æ˜¯ä¸€ä¸ªæ•´æ•°æ—¶, è¿”å› null:</p><pre><code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">parseInt</span><span class="hljs-params">(str: <span class="hljs-type">String</span>)</span></span>: <span class="hljs-built_in">Int</span>? &#123;  <span class="hljs-comment">// ...</span>&#125;</code></pre><p>ä»¥ä¸‹å®ä¾‹æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ä¸€ä¸ªè¿”å›å€¼å¯ä¸º null çš„å‡½æ•°:</p><pre><code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">(args: <span class="hljs-type">Array</span>&lt;<span class="hljs-type">String</span>&gt;)</span></span> &#123;  <span class="hljs-keyword">if</span> (args.size &lt; <span class="hljs-number">2</span>) &#123;    print(<span class="hljs-string">"Two integers expected"</span>)    <span class="hljs-keyword">return</span>  &#125;  <span class="hljs-keyword">val</span> x = parseInt(args[<span class="hljs-number">0</span>])  <span class="hljs-keyword">val</span> y = parseInt(args[<span class="hljs-number">1</span>])  <span class="hljs-comment">// ç›´æ¥ä½¿ç”¨ `x * y` ä¼šå¯¼è‡´é”™è¯¯, å› ä¸ºå®ƒä»¬å¯èƒ½ä¸º null.</span>  <span class="hljs-keyword">if</span> (x != <span class="hljs-literal">null</span> &amp;&amp; y != <span class="hljs-literal">null</span>) &#123;    <span class="hljs-comment">// åœ¨è¿›è¡Œè¿‡ null å€¼æ£€æŸ¥ä¹‹å, x å’Œ y çš„ç±»å‹ä¼šè¢«è‡ªåŠ¨è½¬æ¢ä¸ºé null å˜é‡</span>    print(x * y)  &#125;&#125;</code></pre><h5 id="ç±»å‹æ£€æµ‹åŠè‡ªåŠ¨ç±»å‹è½¬æ¢"><a href="#ç±»å‹æ£€æµ‹åŠè‡ªåŠ¨ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹æ£€æµ‹åŠè‡ªåŠ¨ç±»å‹è½¬æ¢"></a>ç±»å‹æ£€æµ‹åŠè‡ªåŠ¨ç±»å‹è½¬æ¢</h5><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ is è¿ç®—ç¬¦æ£€æµ‹ä¸€ä¸ªè¡¨è¾¾å¼æ˜¯å¦æŸç±»å‹çš„ä¸€ä¸ªå®ä¾‹(ç±»ä¼¼äºJavaä¸­çš„<strong>instanceof</strong>å…³é”®å­—)ã€‚</p><pre><code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getStringLength</span><span class="hljs-params">(obj: <span class="hljs-type">Any</span>)</span></span>: <span class="hljs-built_in">Int</span>? &#123;  <span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">is</span> String) &#123;    <span class="hljs-comment">// åšè¿‡ç±»å‹åˆ¤æ–­ä»¥åï¼Œobjä¼šè¢«ç³»ç»Ÿè‡ªåŠ¨è½¬æ¢ä¸ºStringç±»å‹</span>    <span class="hljs-keyword">return</span> obj.length   &#125;  <span class="hljs-comment">//åœ¨è¿™é‡Œè¿˜æœ‰ä¸€ç§æ–¹æ³•ï¼Œä¸Javaä¸­instanceofä¸åŒï¼Œä½¿ç”¨!is</span>  <span class="hljs-comment">// if (obj !is String)&#123;</span>  <span class="hljs-comment">//   // XXX</span>  <span class="hljs-comment">// &#125;</span>  <span class="hljs-comment">// è¿™é‡Œçš„objä»ç„¶æ˜¯Anyç±»å‹çš„å¼•ç”¨</span>  <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>&#125;</code></pre><p>æˆ–è€…</p><pre><code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getStringLength</span><span class="hljs-params">(obj: <span class="hljs-type">Any</span>)</span></span>: <span class="hljs-built_in">Int</span>? &#123;  <span class="hljs-keyword">if</span> (obj !<span class="hljs-keyword">is</span> String)    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>  <span class="hljs-comment">// åœ¨è¿™ä¸ªåˆ†æ”¯ä¸­, `obj` çš„ç±»å‹ä¼šè¢«è‡ªåŠ¨è½¬æ¢ä¸º `String`</span>  <span class="hljs-keyword">return</span> obj.length&#125;</code></pre><p>ç”šè‡³è¿˜å¯ä»¥</p><pre><code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getStringLength</span><span class="hljs-params">(obj: <span class="hljs-type">Any</span>)</span></span>: <span class="hljs-built_in">Int</span>? &#123;  <span class="hljs-comment">// åœ¨ `&amp;&amp;` è¿ç®—ç¬¦çš„å³ä¾§, `obj` çš„ç±»å‹ä¼šè¢«è‡ªåŠ¨è½¬æ¢ä¸º `String`</span>  <span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">is</span> String &amp;&amp; obj.length &gt; <span class="hljs-number">0</span>)    <span class="hljs-keyword">return</span> obj.length  <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>&#125;</code></pre><h5 id="åŒºé—´"><a href="#åŒºé—´" class="headerlink" title="åŒºé—´"></a>åŒºé—´</h5><p>åŒºé—´è¡¨è¾¾å¼ç”±å…·æœ‰æ“ä½œç¬¦å½¢å¼ <strong>..</strong> çš„ rangeTo å‡½æ•°è¾…ä»¥ in å’Œ !in å½¢æˆã€‚</p><p>åŒºé—´æ˜¯ä¸ºä»»ä½•å¯æ¯”è¾ƒç±»å‹å®šä¹‰çš„ï¼Œä½†å¯¹äºæ•´å‹åŸç”Ÿç±»å‹ï¼Œå®ƒæœ‰ä¸€ä¸ªä¼˜åŒ–çš„å®ç°ã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨åŒºé—´çš„ä¸€äº›ç¤ºä¾‹:</p><pre><code class="hljs kotlin"><span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>..<span class="hljs-number">4</span>) print(i) <span class="hljs-comment">// è¾“å‡ºâ€œ1234â€</span><span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">4</span>..<span class="hljs-number">1</span>) print(i) <span class="hljs-comment">// ä»€ä¹ˆéƒ½ä¸è¾“å‡º</span><span class="hljs-keyword">if</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>..<span class="hljs-number">10</span>) &#123; <span class="hljs-comment">// ç­‰åŒäº 1 &lt;= i &amp;&amp; i &lt;= 10</span>    println(i)&#125;<span class="hljs-comment">// ä½¿ç”¨ step æŒ‡å®šæ­¥é•¿</span><span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>..<span class="hljs-number">4</span> step <span class="hljs-number">2</span>) print(i) <span class="hljs-comment">// è¾“å‡ºâ€œ13â€</span><span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">4</span> downTo <span class="hljs-number">1</span> step <span class="hljs-number">2</span>) print(i) <span class="hljs-comment">// è¾“å‡ºâ€œ42â€</span><span class="hljs-comment">// ä½¿ç”¨ until å‡½æ•°æ’é™¤ç»“æŸå…ƒç´ </span><span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span> until <span class="hljs-number">10</span>) &#123;   <span class="hljs-comment">// i in [1, 10) æ’é™¤äº† 10</span>     println(i)&#125;</code></pre><h5 id="å®ä¾‹æµ‹è¯•"><a href="#å®ä¾‹æµ‹è¯•" class="headerlink" title="å®ä¾‹æµ‹è¯•"></a>å®ä¾‹æµ‹è¯•</h5><pre><code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">(args: <span class="hljs-type">Array</span>&lt;<span class="hljs-type">String</span>&gt;)</span></span> &#123;print(<span class="hljs-string">"å¾ªç¯è¾“å‡ºï¼š"</span>)<span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>..<span class="hljs-number">4</span>) print(i) <span class="hljs-comment">// è¾“å‡ºâ€œ1234â€</span>println(<span class="hljs-string">"\n----------------"</span>)print(<span class="hljs-string">"è®¾ç½®æ­¥é•¿ï¼š"</span>)<span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>..<span class="hljs-number">4</span> step <span class="hljs-number">2</span>) print(i) <span class="hljs-comment">// è¾“å‡ºâ€œ13â€</span>println(<span class="hljs-string">"\n----------------"</span>)print(<span class="hljs-string">"ä½¿ç”¨ downToï¼š"</span>)<span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">4</span> downTo <span class="hljs-number">1</span> step <span class="hljs-number">2</span>) print(i) <span class="hljs-comment">// è¾“å‡ºâ€œ42â€</span>println(<span class="hljs-string">"\n----------------"</span>)print(<span class="hljs-string">"ä½¿ç”¨ untilï¼š"</span>)<span class="hljs-comment">// ä½¿ç”¨ until å‡½æ•°æ’é™¤ç»“æŸå…ƒç´ </span><span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span> until <span class="hljs-number">4</span>) &#123;   <span class="hljs-comment">// i in [1, 4) æ’é™¤äº† 4</span>print(i)&#125;println(<span class="hljs-string">"\n----------------"</span>)&#125;</code></pre><p>è¾“å‡ºç»“æœ</p><pre><code class="hljs kotlin">å¾ªç¯è¾“å‡ºï¼š<span class="hljs-number">1234</span>----------------è®¾ç½®æ­¥é•¿ï¼š<span class="hljs-number">13</span>----------------ä½¿ç”¨ downToï¼š<span class="hljs-number">42</span>----------------ä½¿ç”¨ untilï¼š<span class="hljs-number">123</span>----------------</code></pre><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ympc3t20j314k0m7qb1.jpg" srcset="/img/loading.gif" alt="result"></p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Kotlin</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Kotlin</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Kotlin-ç¯å¢ƒå®‰è£…</title>
    <link href="/2019/03/14/Kotlin-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
    <url>/2019/03/14/Kotlin-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
    
    <content type="html"><![CDATA[<h5 id="Kotlinæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Kotlinæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Kotlinæ˜¯ä»€ä¹ˆï¼Ÿ"></a>Kotlinæ˜¯ä»€ä¹ˆï¼Ÿ</h5><blockquote><p>Kotlin æ˜¯ä¸€ä¸ªç”¨äºç°ä»£å¤šå¹³å°åº”ç”¨çš„é™æ€ç¼–ç¨‹è¯­è¨€ï¼Œç”± <a href="https://baike.baidu.com/item/JetBrains" target="_blank" rel="noopener">JetBrains</a> å¼€å‘ã€‚</p><p>Kotlinå¯ä»¥ç¼–è¯‘æˆJavaå­—èŠ‚ç ï¼Œä¹Ÿå¯ä»¥ç¼–è¯‘æˆJavaScriptï¼Œæ–¹ä¾¿åœ¨æ²¡æœ‰JVMçš„è®¾å¤‡ä¸Šè¿è¡Œã€‚</p><p>Kotlinå·²æ­£å¼æˆä¸ºAndroidå®˜æ–¹æ”¯æŒå¼€å‘è¯­è¨€ã€‚</p></blockquote><a id="more"></a><blockquote><p>Kotlin æ˜¯ä¸€ç§åœ¨ Java è™šæ‹Ÿæœºä¸Šè¿è¡Œçš„é™æ€ç±»å‹ç¼–ç¨‹è¯­è¨€ï¼Œè¢«ç§°ä¹‹ä¸º Android ä¸–ç•Œçš„Swiftï¼Œç”± JetBrains è®¾è®¡å¼€å‘å¹¶å¼€æºã€‚</p><p>Kotlin å¯ä»¥ç¼–è¯‘æˆJavaå­—èŠ‚ç ï¼Œä¹Ÿå¯ä»¥ç¼–è¯‘æˆ JavaScriptï¼Œæ–¹ä¾¿åœ¨æ²¡æœ‰ JVM çš„è®¾å¤‡ä¸Šè¿è¡Œã€‚</p><p>åœ¨Google I/O 2017ä¸­ï¼ŒGoogle å®£å¸ƒ Kotlin æˆä¸º Android å®˜æ–¹å¼€å‘è¯­è¨€ã€‚</p></blockquote><p>ç­”æ¡ˆæ¥è‡ªç½‘ç»œğŸ˜‚</p><h5 id="Kotlinå¼€å‘ç¯å¢ƒæ­å»º"><a href="#Kotlinå¼€å‘ç¯å¢ƒæ­å»º" class="headerlink" title="Kotlinå¼€å‘ç¯å¢ƒæ­å»º"></a>Kotlinå¼€å‘ç¯å¢ƒæ­å»º</h5><p>é¦–å…ˆæ‚¨èƒ½è¿›æ¥è¯»è¿™ç¯‡æ–‡ç« ï¼Œå°±è¯´æ˜æ‚¨å·²ç»åœ¨äº†è§£æˆ–è€…å·²ç»äº†è§£äº†Kotlinäº†ï¼Œé‚£æ›´ä¸ç”¨æˆ‘æ¥ä»‹ç»æ€ä¹ˆä¸‹è½½å®‰è£…IntelliJ IDEAã€Eclipseè¿™ç±»è½¯ä»¶äº†ã€‚</p><p>ç”±äºæˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„IntelliJ IDEAæˆ–è€…æ˜¯Android Studioéƒ½å·²ç»è‡ªå¸¦ï¼Œæ‰€ä»¥ä¸åšé˜è¿°ã€‚</p><p>å½“ç„¶ä¹Ÿå¯ä»¥<a href="https://www.kotlincn.net/docs/tutorials/command-line.html" target="_blank" rel="noopener">ä¸‹è½½ç‹¬ç«‹çš„ç¼–è¯‘å™¨</a>ã€‚</p><p>å› ä¸ºæˆ‘åœ¨é¡¹ç›®ä¸­ç”¨åˆ°æ¯”è¾ƒå¤šçš„è¿˜æ˜¯Eclipseï¼Œæ‰€ä»¥åœ¨è¿™é‡Œä¸»è¦æè¿°Eclipseå®‰è£…Kotlinã€‚</p><p>1ã€æ‰“å¼€Eclipseï¼Œåœ¨èœå•æ æ‰¾åˆ° <em>Help -&gt; Eclipse Marketplaceâ€¦</em> åœ¨searché€‰é¡¹å¡è¾“å…¥Kotlinè¿›è¡Œæœç´¢ï¼Œç„¶åé€‰ä¸­ç¬¬ä¸€æ¡è®°å½•ç‚¹å‡»<em>install</em>å®‰è£…</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymmjcs1xj30tr0l4gs6.jpg" srcset="/img/loading.gif" alt="install"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymmlf0i0j30tr0l4k05.jpg" srcset="/img/loading.gif" alt="licenses"></p><p>æˆ–è€…ä½¿ç”¨è€å¥—ä¸€ç‚¹çš„æ–¹å¼ç”¨siteæ¥å®‰è£…ï¼šæ‰¾åˆ°Eclipseçš„<em>help -&gt; Install New SoftWareâ€¦</em> åœ¨<em>work with</em>è¾“å…¥ <a href="https://dl.bintray.com/jetbrains/kotlin/eclipse-plugin/last/" target="_blank" rel="noopener">https://dl.bintray.com/jetbrains/kotlin/eclipse-plugin/last/</a> å›è½¦é€‰ä¸­å®‰è£…</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymmmqud0j31600kbgs6.jpg" srcset="/img/loading.gif" alt="site"></p><p>é‡å¯Eclipseå®Œæˆå®‰è£…ã€‚</p><h5 id="HelloWorld"><a href="#HelloWorld" class="headerlink" title="HelloWorld"></a>HelloWorld</h5><p>1ã€é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„Kotlinå·¥ç¨‹ï¼šé€‰æ‹©Eclipseçš„ <em>File -&gt; New -&gt; Kotlin Project</em> </p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymmpurylj31740ntgpk.jpg" srcset="/img/loading.gif" alt="main"><br><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymmr66epj314k0oswir.jpg" srcset="/img/loading.gif" alt="println"><br><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymms9h96j31480rfdns.jpg" srcset="/img/loading.gif" alt="run"><br><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymmvdzavj313g0p4aen.jpg" srcset="/img/loading.gif" alt="hello Kotlin"></p><p>å®Œæˆï¼ï¼ï¼</p><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Kotlin</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Kotlin</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æˆäººæ¼«ç”»</title>
    <link href="/2019/01/14/%E6%88%90%E4%BA%BA%E6%BC%AB%E7%94%BB/"/>
    <url>/2019/01/14/%E6%88%90%E4%BA%BA%E6%BC%AB%E7%94%BB/</url>
    
    <content type="html"><![CDATA[<h5 id="æ¬¢è¿æ¥åˆ°-æˆäººä¸–ç•Œ"><a href="#æ¬¢è¿æ¥åˆ°-æˆäººä¸–ç•Œ" class="headerlink" title="æ¬¢è¿æ¥åˆ° æˆäººä¸–ç•Œ"></a><strong>æ¬¢è¿æ¥åˆ°</strong> <strong>æˆäººä¸–ç•Œ</strong></h5><p><strong>ä¸€ä»½</strong></p><p><strong>æˆå¹´äººç”Ÿå­˜æŒ‡å—</strong></p><p><strong>é€ç»™ä½ </strong></p><a id="more"></a><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymsgr86mj30rs1ccn0c.jpg" srcset="/img/loading.gif" alt="img"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymsj58d0j30rs1cc790.jpg" srcset="/img/loading.gif" alt="img"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymsk4c7oj30rs1ccju4.jpg" srcset="/img/loading.gif" alt="img"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymsmxx78j30rs1cc419.jpg" srcset="/img/loading.gif" alt="img"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymsqlg04j30rs1cc0x3.jpg" srcset="/img/loading.gif" alt="img"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymstq3n6j30rs1oyn22.jpg" srcset="/img/loading.gif" alt="img"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymsvqg86j30rs1ly795.jpg" srcset="/img/loading.gif" alt="img"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymswoim8j30rs1cc0vw.jpg" srcset="/img/loading.gif" alt="img"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymsxjlvij30rs1nqq6r.jpg" srcset="/img/loading.gif" alt="img"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymsy15gzj30rs1ccn0z.jpg" srcset="/img/loading.gif" alt="img"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymszhptrj30rs1cctch.jpg" srcset="/img/loading.gif" alt="img"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymt0cvjlj30rs1cctb0.jpg" srcset="/img/loading.gif" alt="img"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymt1b3f4j30rs1fcn05.jpg" srcset="/img/loading.gif" alt="img"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymt2a5cwj30rs1g5aeb.jpg" srcset="/img/loading.gif" alt="img"></p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymt365tvj30rs1bx429.jpg" srcset="/img/loading.gif" alt="img"></p><p>æˆå¹´äººçš„ä¸–ç•Œæ€»æ˜¯å¤æ‚çš„</p><p>äººä¸äººä¹‹é—´å……æ–¥ç€å„ç§æ½œè§„åˆ™</p><p>å¸Œæœ›è¿™äº›é“ç†</p><p>ä½ ç°åœ¨çŸ¥é“è¿˜ä¸ç®—æ™š</p>]]></content>
    
    
    <categories>
      
      <category>æ–‡ç« </category>
      
    </categories>
    
    
    <tags>
      
      <tag>æˆäººæ¼«ç”»</tag>
      
      <tag>åå…«å²</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>cola-uiçš„ä½¿ç”¨</title>
    <link href="/2019/01/11/cola-ui%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2019/01/11/cola-ui%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="cola-ui"><a href="#cola-ui" class="headerlink" title="cola-ui"></a>cola-ui</h1><blockquote><p>å®˜æ–¹ï¼š<a href="http://www.cola-ui.com" target="_blank" rel="noopener">http://www.cola-ui.com</a></p><p>æ•™ç¨‹ä½ç½®ï¼š<a href="http://www.cola-ui.com/guide/model" target="_blank" rel="noopener">http://www.cola-ui.com/guide/model</a></p><p>API: <a href="http://www.cola-ui.com/api/cola.html" target="_blank" rel="noopener">http://www.cola-ui.com/api/cola.html</a> , <a href="http://legacy.cola-ui.com" target="_blank" rel="noopener">http://legacy.cola-ui.com</a></p><p>ç»„ä»¶åœ°å€ï¼š<a href="http://www.cola-ui.com/docs/button" target="_blank" rel="noopener">http://www.cola-ui.com/docs/button</a></p><p>æºç åœ°å€ï¼š<a href="https://github.com/Cola-Org/cola-ui" target="_blank" rel="noopener">https://github.com/Cola-Org/cola-ui</a></p></blockquote><h2 id="æ–‡æ¡£ä¿®è®¢ç›¸å…³"><a href="#æ–‡æ¡£ä¿®è®¢ç›¸å…³" class="headerlink" title="æ–‡æ¡£ä¿®è®¢ç›¸å…³"></a>æ–‡æ¡£ä¿®è®¢ç›¸å…³</h2><table><thead><tr><th align="center">ç‰ˆæœ¬</th><th align="center">å†…å®¹</th><th align="center">ä¿®æ”¹äºº</th><th align="center">ä¿®æ”¹æ—¶é—´</th></tr></thead><tbody><tr><td align="center">V1.0</td><td align="center">åˆç‰ˆ</td><td align="center">åˆ˜æ™“ä¸œ</td><td align="center">2018-12-24</td></tr></tbody></table><h2 id="äº§å“ç®€ä»‹"><a href="#äº§å“ç®€ä»‹" class="headerlink" title="äº§å“ç®€ä»‹"></a>äº§å“ç®€ä»‹</h2><ul><li>Cola UIæ˜¯æ”¯æŒåŒå‘æ•°æ®ç»‘å®šçš„ä¸€ç«™å¼å‰ç«¯UIæ¡†æ¶ã€‚é‡‡ç”¨äº†ç²¾ç®€çš„MVVMæ¶æ„ï¼Œåœ¨ç¡®ä¿çµæ´»æ€§çš„åŒæ—¶å°½å¯èƒ½é™ä½å¯¹å¼€å‘è€…çš„æŠ€æœ¯è¦æ±‚ã€‚</li><li>Cola UIéµå¾ªMobile Firstçš„ç­–ç•¥ï¼Œç‰¹åˆ«é€‚åˆäºç§»åŠ¨è®¾å¤‡åº”ç”¨å¼€å‘ã€‚</li><li>Cola UIæ•´åˆäº†jQueryå’ŒSemantic UIï¼ŒåŒæ—¶æä¾›æ›´å¤šå¸¸ç”¨çš„Listã€Tableã€Treeç­‰é«˜çº§æ§ä»¶ã€‚</li></ul><a id="more"></a><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><p>==ä»¥ä¸Šå†…å®¹éƒ½æ˜¯é€šè¿‡cola-uiå®˜ç½‘è·å¾—çš„èµ„æ–™ï¼Œç»å¤§å¤šæ•°çš„å¼€å‘å†…å®¹å¯ä»¥å‚è€ƒcola-uiå®˜ç½‘æä¾›çš„APIè¿›è¡ŒæŸ¥é˜…==</p><p><strong>æœ¬æ–‡æ¡£ä¸»è¦é’ˆå¯¹äºcamsiå·¥ç¨‹ä¸­ç”¨åˆ°çš„åŠŸèƒ½æˆ–ç‰¹æ€§ï¼Œä¸”å¯èƒ½ä¸å­˜åœ¨äºcola-uiå®˜ç½‘æä¾›çš„APIè¿›è¡Œæ•´ç†å’Œè¯´æ˜</strong></p><h3 id="ç»„æˆç»“æ„"><a href="#ç»„æˆç»“æ„" class="headerlink" title="ç»„æˆç»“æ„"></a>ç»„æˆç»“æ„</h3><p>==é€šå¸¸è¦åŸºäºcamsiå·¥ç¨‹åœ¨æµè§ˆå™¨æ¸²æŸ“å‡ºæ¥çš„é¡µé¢ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼Œä¾‹å¦‚ï¼šsimple01.jadeã€M.jsã€simple01Model.js==</p><h4 id="Jade"><a href="#Jade" class="headerlink" title="Jade"></a>Jade</h4><p>==Jade æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„æ¨¡æ¿å¼•æ“ï¼Œå®ƒæ·±å— Hamlå½±å“ï¼Œå®ƒæ˜¯ç”¨ JavaScript å®ç°çš„ï¼Œå¹¶ä¸”å¯ä»¥ä¾› <a href="http://nodejs.org/" target="_blank" rel="noopener">Node</a> ä½¿ç”¨ï¼Œä½ ä¹Ÿå¯ä»¥<a href="http://naltatis.github.io/jade-syntax-docs/" target="_blank" rel="noopener">åœ¨æ­¤è¯•ç”¨</a>ï¼Œè¿™é‡Œæ¨è<a href="http://www.nooong.com/docs/jade_chinese.htm" target="_blank" rel="noopener">Jadeå…¥é—¨ä¸­æ–‡æ–‡æ¡£</a>==</p><pre><code class="hljs jade">extends &#x2F;_pageblock bodyv-boxflex-box.content(style&#x3D;&quot;overflow: auto&quot;)c-table(bind&#x3D;&quot;simple01s&quot; dataType&#x3D;&quot;Simple01&quot;)column(property&#x3D;&quot;name&quot;)append scriptsscript(src&#x3D;&quot;simple01Model.js&quot;)script(src&#x3D;&quot;simple01.js&quot;)</code></pre><p>dataTypeçš„å€¼åº”è¯¥ä¸Jsä¸­å®šä¹‰çš„dataTypeçš„å€¼ä»¥åŠModel.jsä¸­å®šä¹‰çš„dataTypeçš„å€¼ç›¸ç­‰</p><h4 id="Js"><a href="#Js" class="headerlink" title="Js"></a>Js</h4><p>==ä¸åšæè¿°==</p><pre><code class="hljs javascript">cola(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">model</span>) </span>&#123;model.dataType($DataType.Simple01);model.describe(<span class="hljs-string">"simple01s"</span>, &#123;dataType : <span class="hljs-string">"Simple01"</span>,provider : &#123;url : <span class="hljs-string">"controller/simple01Service/findPagination?from=&#123;&#123;$from&#125;&#125;&amp;limit=&#123;&#123;$limit&#125;&#125;"</span>,pageSize : <span class="hljs-number">10</span>,sendJson : <span class="hljs-literal">true</span>,loadMode: <span class="hljs-string">'manual'</span>&#125;&#125;);model.set(<span class="hljs-string">"title"</span>, <span class="hljs-string">"[(#&#123;simple01&#125;)]"</span>);model.action(&#123;test : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;cola.alert(<span class="hljs-string">'test'</span>)&#125;&#125;);&#125;);</code></pre><p>æ‰€æœ‰æ­£è§„çš„æ“ä½œåŒ…æ‹¬äº‹ä»¶éƒ½åº”è¯¥ç¼–å†™åœ¨==cola(function(model) { })==ä¸­ï¼Œå…¶ä¸­é¦–å…ˆéœ€è¦ä½¿ç”¨dataTypeå®šä¹‰å½“å‰Jsä¸­æ‰€æœ‰ç”¨åˆ°çš„DataTypeï¼Œä½¿ç”¨==model.describe==äº¤äº’åå°æ•°æ®åˆ°å½“å‰æŒ‡å®šmodelï¼Œä½¿ç”¨==model.set(â€œâ€, â€œâ€)==å‘modeläº¤äº’æ•°æ®ï¼Œé¡µé¢æ‰€æœ‰ç”¨åˆ°çš„äº‹ä»¶æ–¹æ³•åº”è¯¥å­˜åœ¨äº==model.action({})==ä¸­ã€‚</p><h4 id="Model-js"><a href="#Model-js" class="headerlink" title="Model.js"></a>Model.js</h4><p>==ç”±cola-uiå®šä¹‰çš„å‰ç«¯æ¨¡å‹==</p><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> $DataType = &#123;Simple01: &#123;name: <span class="hljs-string">"Simple01"</span>,properties : &#123;name : &#123;caption : <span class="hljs-string">"[(#&#123;name&#125;)]"</span>,dataType : <span class="hljs-string">"string"</span>&#125;&#125;&#125;&#125;;</code></pre><p>==caption==ç”¨æ¥æ ‡å¿—å½“å‰å­—æ®µçš„å‰ç«¯æ˜¾ç¤ºæ–‡æœ¬ï¼Œä½¿ç”¨==[(#{ })]==å–åˆ°å½“å‰å­—æ®µå¯¹åº”çš„å½“å‰è¯­è¨€çš„å›½é™…åŒ–ç¿»è¯‘ã€‚</p><h3 id="è¡¨å•ç›¸å…³"><a href="#è¡¨å•ç›¸å…³" class="headerlink" title="è¡¨å•ç›¸å…³"></a>è¡¨å•ç›¸å…³</h3><h4 id="è¡¨å•å¯¹å›½é™…åŒ–çš„å¤„ç†"><a href="#è¡¨å•å¯¹å›½é™…åŒ–çš„å¤„ç†" class="headerlink" title="è¡¨å•å¯¹å›½é™…åŒ–çš„å¤„ç†"></a>è¡¨å•å¯¹å›½é™…åŒ–çš„å¤„ç†</h4><blockquote><p>åœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼ŒdataTypeå¯èƒ½ä¼šè¢«å…¬ç”¨ï¼Œç„¶åæ¯ä¸ªå­—æ®µåœ¨æ¯ä¸ªä¸åŒçš„åœ°æ–¹æ˜¾ç¤ºçš„æ–‡æœ¬æ ‡è¯†ä¸ä¸€æ ·ï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨==caption==å±æ€§è¿›è¡Œæ“ä½œï¼Œä¾‹å¦‚ï¼š==caption=ll.l(â€œnameâ€)==<strong>å‰é¢æåˆ°åœ¨Jsä¸­å›½é™…åŒ–ä½¿ç”¨çš„æ˜¯==[(#{ })]==</strong></p></blockquote><h4 id="è¡¨å•å¯¹æ—¥æœŸæ ¼å¼çš„å¤„ç†"><a href="#è¡¨å•å¯¹æ—¥æœŸæ ¼å¼çš„å¤„ç†" class="headerlink" title="è¡¨å•å¯¹æ—¥æœŸæ ¼å¼çš„å¤„ç†"></a>è¡¨å•å¯¹æ—¥æœŸæ ¼å¼çš„å¤„ç†</h4><blockquote><p>é€šå¸¸éœ€è¦å°†å½“å‰æ—¥æœŸå­—æ®µè¿›è¡Œæ ¼å¼åŒ–åªéœ€è¦ä¸‹é¢ä»£ç å³å¯ï¼š</p></blockquote><pre><code class="hljs jade">field(property&#x3D;&quot;birthday&quot;)labelc-datepicker(displayFormat&#x3D;&quot;yyyy-MM-dd&quot; inputFormat&#x3D;&quot;yyyy-MM-dd&quot;)</code></pre><p>å°†datatypeç±»å‹ä¸ºDateçš„birthdayå­—æ®µçš„æ–‡æœ¬æ˜¾ç¤ºå’Œé€‰æ‹©çš„æ—¥æœŸæ ¼å¼è°ƒæ•´ä¸ºâ€yyyy-MM-ddâ€</p><h4 id="è¡¨å•å¯¹æšä¸¾å€¼çš„å¤„ç†"><a href="#è¡¨å•å¯¹æšä¸¾å€¼çš„å¤„ç†" class="headerlink" title="è¡¨å•å¯¹æšä¸¾å€¼çš„å¤„ç†"></a>è¡¨å•å¯¹æšä¸¾å€¼çš„å¤„ç†</h4><blockquote><p>æˆ‘ä»¬ç»å¸¸ä¼šæŠŠä¸€äº›å¸¸è§„çš„æ•°æ®åšæˆæšä¸¾å€¼å­˜æ”¾åœ¨æ•°æ®åº“ï¼Œå¹¶æŠŠé¡µé¢çš„æ–‡æœ¬è¾“å…¥æ¡†æ”¹å˜æˆä¸ºä¸‹æ‹‰é¡¹</p></blockquote><p>é¡µé¢å…ƒç´ </p><pre><code class="hljs jade">field(property&#x3D;&quot;status&quot;)    label    c-dropdown(c-items&#x3D;&quot;dictionary(&#39;10000&#39;)&quot;)</code></pre><p>å¼•å…¥Js</p><pre><code class="hljs jade">script(src&#x3D;basecodeCP + &quot;controller&#x2F;basecode&#x2F;codeDetail&#x2F;findCodeDetails?baseCodeIds&#x3D;10000&quot;)</code></pre><p>æˆ–è€…</p><pre><code class="hljs jade">script(src&#x3D;&quot;controller&#x2F;basecode&#x2F;codeDetail&#x2F;findCodeDetails?baseCodeIds&#x3D;10000&quot;)</code></pre><p>è¿™æ ·é¡µé¢ä¼šå»åŠ è½½æšä¸¾å€¼ä»£ç ä¸º10000çš„å¯¹åº”statuså­˜æ”¾çš„idå¯¹åº”çš„æ–‡æœ¬æ˜¾ç¤ºåˆ°å½“å‰å­—æ®µï¼Œå¹¶ä¸ºå½“å‰å­—æ®µæä¾›ä¸‹æ‹‰é¡¹</p><h4 id="è¡¨å•å¯¹æ–‡æœ¬åŸŸçš„å¤„ç†"><a href="#è¡¨å•å¯¹æ–‡æœ¬åŸŸçš„å¤„ç†" class="headerlink" title="è¡¨å•å¯¹æ–‡æœ¬åŸŸçš„å¤„ç†"></a>è¡¨å•å¯¹æ–‡æœ¬åŸŸçš„å¤„ç†</h4><blockquote><p>ç±»ä¼¼äºå¤‡æ³¨ï¼Œé€šå¸¸éƒ½æ˜¯ç”¨æ–‡æœ¬æ¡†æ¥æ˜¾ç¤º</p></blockquote><pre><code class="hljs jade">fields.cols-1    field(property&#x3D;&quot;remark&quot;)        label        c-textarea(rows&#x3D;&quot;3&quot;)</code></pre><p>é¦–å…ˆå®šä¹‰å½“å‰å­—æ®µç‹¬å ä¸€åˆ—ï¼Œä½¿ç”¨==c-textarea(rows=â€3â€)==è¡¨åå½“å‰å­—æ®µç‹¬å ä¸‰åˆ—</p><h4 id="è¡¨å•å¯¹åªè¯»çš„å¤„ç†"><a href="#è¡¨å•å¯¹åªè¯»çš„å¤„ç†" class="headerlink" title="è¡¨å•å¯¹åªè¯»çš„å¤„ç†"></a>è¡¨å•å¯¹åªè¯»çš„å¤„ç†</h4><blockquote><p>æ­£å¸¸åœºæ™¯å¹¶ä¸æ˜¯è¡¨å•ä¸­åˆ—å‡ºçš„æ‰€æœ‰çš„å­—æ®µéƒ½æ˜¯æ‰‹åŠ¨è¾“å…¥çš„ï¼Œæ¯”å¦‚IDï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨==readOnly=â€trueâ€==å¯¹æ¯ä¸ªfieldè¿›è¡Œåªè¯»æ§åˆ¶ï¼Œä¹Ÿå¯ä»¥å°†==readOnly=â€trueâ€==æ”¾åœ¨c-formå±æ€§é‡Œé¢æ¥æ§åˆ¶æ•´ä¸ªè¡¨å•åªè¯»</p></blockquote><h4 id="è¡¨å•å¯¹çœå¸‚å¿çº§è”çš„å¤„ç†"><a href="#è¡¨å•å¯¹çœå¸‚å¿çº§è”çš„å¤„ç†" class="headerlink" title="è¡¨å•å¯¹çœå¸‚å¿çº§è”çš„å¤„ç†"></a>è¡¨å•å¯¹çœå¸‚å¿çº§è”çš„å¤„ç†</h4><p>Jade</p><pre><code class="hljs jade">field(property&#x3D;&quot;country&quot;    label    c-dropdown(c-items&#x3D;&quot;dictionary(&#39;CountryCode&#39;)&quot; onSelectData&#x3D;&quot;onCountrySelect&quot;)(property&#x3D;&quot;province&quot; caption&#x3D;ll.l(&quot;province&quot;) c-readOnly&#x3D;&quot;queryCondition.country !&#x3D; &#39;CHN&#39;&quot;)    label    c-dropdown(c-items&#x3D;&quot;provinces&quot; textProperty&#x3D;&quot;name&quot; assignment&#x3D;&quot;province&#x3D;kind&quot; onSelectData&#x3D;&quot;onProvinceSel&quot;)field(property&#x3D;&quot;city&quot; caption&#x3D;ll.l(&quot;city&quot;) c-readOnly&#x3D;&quot;queryCondition.country !&#x3D; &#39;CHN&#39;&quot;)    label    c-dropdown(c-items&#x3D;&quot;cities&quot; textProperty&#x3D;&quot;name&quot; assignment&#x3D;&quot;city&#x3D;kind&quot; beforeOpen&#x3D;&quot;beforeCityOpen&quot; onSelectData&#x3D;&quot;onCitySel&quot;)field(property&#x3D;&quot;county&quot; caption&#x3D;ll.l(&quot;county&quot;) c-readOnly&#x3D;&quot;queryCondition.country !&#x3D; &#39;CHN&#39;&quot;)    label    c-dropdown(c-items&#x3D;&quot;counties&quot; textProperty&#x3D;&quot;name&quot; assignment&#x3D;&quot;county&#x3D;kind&quot; beforeOpen&#x3D;&quot;beforeCountyOpen&quot;)</code></pre><p>å¼•å…¥æ•°æ®å­—å…¸</p><pre><code class="hljs jade">script(src&#x3D;&quot;controller&#x2F;basecode&#x2F;codeDetail&#x2F;findCodeDetails?baseCodeIds&#x3D;CountryCode&quot;)</code></pre><p>Js</p><pre><code class="hljs javascript">cola(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">model</span>) </span>&#123;model.describe(<span class="hljs-string">"provinces"</span>, &#123;provider: &#123;url: <span class="hljs-string">"controller/basecode/codeDetail/findCachedCodeDetails"</span>,parameter: &#123;baseCodeId: <span class="hljs-string">"Address"</span>,parentId: <span class="hljs-string">"NULL"</span>&#125;&#125;&#125;);model.set(<span class="hljs-string">"title"</span>, <span class="hljs-string">"[(#&#123;simple01&#125;)]"</span>);model.set(<span class="hljs-string">"queryCondition"</span>, &#123;<span class="hljs-string">"country"</span>:<span class="hljs-string">"CHN"</span>&#125;);model.action(&#123;beforeCityOpen: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<span class="hljs-keyword">var</span> province = model.get(<span class="hljs-string">"queryCondition.province"</span>);$.ajax(<span class="hljs-string">"controller/basecode/codeDetail/findCachedCodeDetails?baseCodeId=Address&amp;parentId="</span> + province, &#123;type: <span class="hljs-string">"get"</span>, <span class="hljs-attr">async</span>: <span class="hljs-literal">false</span>&#125;).done(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>&#123;<span class="hljs-keyword">if</span> (result) &#123;model.set(<span class="hljs-string">"cities"</span>, result);&#125;&#125;);&#125;,beforeCountyOpen: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<span class="hljs-keyword">var</span> city = model.get(<span class="hljs-string">"queryCondition.city"</span>);$.ajax(<span class="hljs-string">"controller/basecode/codeDetail/findCachedCodeDetails?baseCodeId=Address&amp;parentId="</span> + city, &#123;type: <span class="hljs-string">"get"</span>, <span class="hljs-attr">async</span>: <span class="hljs-literal">false</span>&#125;).done(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>&#123;<span class="hljs-keyword">if</span> (result) &#123;model.set(<span class="hljs-string">"counties"</span>, result);&#125;&#125;);&#125;,onProvinceSel: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">self, arg</span>) </span>&#123;<span class="hljs-keyword">var</span> queryCondition = model.get(<span class="hljs-string">"queryCondition"</span>);<span class="hljs-keyword">if</span>(queryCondition.get(<span class="hljs-string">"province"</span>) != arg.data.get(<span class="hljs-string">"kind"</span>))&#123;queryCondition.set(<span class="hljs-string">"city"</span>, <span class="hljs-string">""</span>);queryCondition.set(<span class="hljs-string">"county"</span>, <span class="hljs-string">""</span>);&#125;&#125;,onCitySel: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">self, arg</span>) </span>&#123;<span class="hljs-keyword">var</span> queryCondition = model.get(<span class="hljs-string">"queryCondition"</span>);<span class="hljs-keyword">if</span>(queryCondition.get(<span class="hljs-string">"city"</span>) != arg.data.get(<span class="hljs-string">"kind"</span>))&#123;queryCondition.set(<span class="hljs-string">"county"</span>, <span class="hljs-string">""</span>);&#125;&#125;,onCountrySelect: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">self, arg</span>) </span>&#123;<span class="hljs-keyword">var</span> selectedItem = arg.data;<span class="hljs-keyword">if</span>(<span class="hljs-string">"CHN"</span> != selectedItem.key) &#123;model.get(<span class="hljs-string">"queryCondition"</span>).set(<span class="hljs-string">"province"</span>, <span class="hljs-string">""</span>);model.get(<span class="hljs-string">"queryCondition"</span>).set(<span class="hljs-string">"city"</span>, <span class="hljs-string">""</span>);model.get(<span class="hljs-string">"queryCondition"</span>).set(<span class="hljs-string">"county"</span>, <span class="hljs-string">""</span>);&#125;&#125;&#125;);&#125;);</code></pre><h3 id="è¡¨æ ¼ç›¸å…³"><a href="#è¡¨æ ¼ç›¸å…³" class="headerlink" title="è¡¨æ ¼ç›¸å…³"></a>è¡¨æ ¼ç›¸å…³</h3><h4 id="è¡¨æ ¼å¯¹æšä¸¾å€¼çš„å¤„ç†"><a href="#è¡¨æ ¼å¯¹æšä¸¾å€¼çš„å¤„ç†" class="headerlink" title="è¡¨æ ¼å¯¹æšä¸¾å€¼çš„å¤„ç†"></a>è¡¨æ ¼å¯¹æšä¸¾å€¼çš„å¤„ç†</h4><blockquote><p>é€šå¸¸æˆ‘ä»¬éƒ½æ˜¯åœ¨è¡¨å•å½•å…¥æ•°æ®ï¼Œåœ¨è¡¨æ ¼ä¸­è¿›è¡Œç®€çº¦å±•ç¤ºï¼Œæ‰€ä»¥åœ¨è¡¨å•ä¸­å½•å…¥çš„ä¸‹æ‹‰æšä¸¾å€¼æˆ‘ä»¬éœ€è¦åœ¨è¡¨æ ¼ä¸­ä½¿ç”¨çš„æ—¶å€™å¿…é¡»ä½¿ç”¨è·å–åˆ°çš„æšä¸¾å€¼è¿›è¡Œç¿»è¯‘</p></blockquote><pre><code class="hljs jade">column(property&#x3D;&quot;status&quot;)    template    div(c-bind&#x3D;&quot;translate(&#39;10000&#39;,$default)&quot;)</code></pre><h4 id="è¡¨æ ¼å¯¹è¡Œå†…ç¼–è¾‘çš„å¤„ç†"><a href="#è¡¨æ ¼å¯¹è¡Œå†…ç¼–è¾‘çš„å¤„ç†" class="headerlink" title="è¡¨æ ¼å¯¹è¡Œå†…ç¼–è¾‘çš„å¤„ç†"></a>è¡¨æ ¼å¯¹è¡Œå†…ç¼–è¾‘çš„å¤„ç†</h4><blockquote><p>åœ¨å¯¹äºå¤„ç†ä¸€äº›ç®€å•æ•°æ®çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥ä¸éœ€è¦å¼¹å‡ºä¸€ä¸ªå¤æ‚çš„ç¼–è¾‘æ¡†å¯¹å½“å‰è¡Œçš„æ•°æ®è¿›è¡Œç¼–è¾‘å¤„ç†ï¼Œå¯ä»¥ç›´æ¥åœ¨è¡¨æ ¼è¿›è¡Œè¡Œå†…ç¼–è¾‘</p></blockquote><pre><code class="hljs jade">c-table(bind&#x3D;&quot;simple01s&quot; dataType&#x3D;&quot;Simple01&quot; readOnly&#x3D;&quot;false&quot;)</code></pre><h5 id="è¡¨æ ¼è¡Œç¼–è¾‘å¯¹ä¸‹æ‹‰é¡¹çš„å¤„ç†"><a href="#è¡¨æ ¼è¡Œç¼–è¾‘å¯¹ä¸‹æ‹‰é¡¹çš„å¤„ç†" class="headerlink" title="è¡¨æ ¼è¡Œç¼–è¾‘å¯¹ä¸‹æ‹‰é¡¹çš„å¤„ç†"></a>è¡¨æ ¼è¡Œç¼–è¾‘å¯¹ä¸‹æ‹‰é¡¹çš„å¤„ç†</h5><blockquote><p>åœ¨è¡¨å•ç¼–è¾‘æˆ‘ä»¬å¯ä»¥å»é€‰æ‹©ä¸€ä¸ªä¸‹æ‹‰é¡¹åšä¸ºæ•°æ®å€¼ï¼Œå½“ç„¶åœ¨è¡¨æ ¼è¡Œç¼–è¾‘ä¹Ÿå¯ä»¥</p></blockquote><pre><code class="hljs jade">column(property&#x3D;&quot;status&quot;)    template(name&#x3D;&quot;edit&quot;)        c-dropdown(bind&#x3D;&quot;$default&quot; c-items&#x3D;&quot;dictionary(&#39;10000&#39;)&quot;)</code></pre><p>æœ€åä»£ç æ•´ç†ä¸º</p><pre><code class="hljs jade">column(property&#x3D;&quot;status&quot;)    template(name&#x3D;&quot;edit&quot;)    c-dropdown(bind&#x3D;&quot;$default&quot; c-items&#x3D;&quot;dictionary(&#39;10000&#39;)&quot;)    template    div(c-bind&#x3D;&quot;translate(&#39;10000&#39;,$default)&quot;)</code></pre><h4 id="è¡¨æ ¼æ·»åŠ æ“ä½œåˆ—çš„å¤„ç†"><a href="#è¡¨æ ¼æ·»åŠ æ“ä½œåˆ—çš„å¤„ç†" class="headerlink" title="è¡¨æ ¼æ·»åŠ æ“ä½œåˆ—çš„å¤„ç†"></a>è¡¨æ ¼æ·»åŠ æ“ä½œåˆ—çš„å¤„ç†</h4><blockquote><p>é€šå¸¸æˆ‘ä»¬éœ€è¦åœ¨è¡¨æ ¼çš„æœ€åä¸€åˆ—æ·»åŠ ä¸€è¡Œæ“ä½œåˆ—æ¥å¤„ç†å½“å‰è¡Œçš„æ•°æ®</p></blockquote><pre><code class="hljs jade">c-table(bind&#x3D;&quot;simple in simple01s&quot; dataType&#x3D;&quot;Simple01&quot;)    column(caption&#x3D;ll.l(&quot;operation&quot;))        template            div                a.cell-link(c-onclick&#x3D;&quot;view(simple)&quot;)&#x3D;ll.l(&quot;view&quot;)</code></pre><h4 id="è¡¨æ ¼è”åŠ¨çš„å¤„ç†"><a href="#è¡¨æ ¼è”åŠ¨çš„å¤„ç†" class="headerlink" title="è¡¨æ ¼è”åŠ¨çš„å¤„ç†"></a>è¡¨æ ¼è”åŠ¨çš„å¤„ç†</h4><blockquote><p>å¾ˆå¤šåœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬çš„æ•°æ®å’Œæ•°æ®éƒ½æ˜¯æœ‰å…³è”å…³ç³»ï¼Œæ¯”å¦‚ä¸€æœ¬ä¹¦å¯¹åº”ä¹¦ç±çš„å‡ºç‰ˆç¤¾çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¿™æ—¶å€™é’ˆå¯¹ä¸åŒçš„ä¹¦æœ¬ä¿¡æ¯è”åŠ¨åˆ°å‡ºç‰ˆç¤¾çš„è¯¦ç»†ä¿¡æ¯</p></blockquote><p>å› ä¸ºæ­¤å¤„æ˜¯ä¸¤ä¸ªè¡¨çš„å…³è”ï¼Œæ‰€ä»¥éœ€è¦å®šä¹‰ä¸¤ä¸ªdataType</p><p>cModel.js</p><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> $DataType = &#123;A: &#123;name: <span class="hljs-string">"A"</span>,properties : &#123;name : &#123;caption : <span class="hljs-string">"[(#&#123;name&#125;)]"</span>,dataType : <span class="hljs-string">"string"</span>,&#125;&#125;&#125;,B : &#123;name : <span class="hljs-string">"B"</span>,properties : &#123;name : &#123;caption : <span class="hljs-string">"[(#&#123;name&#125;)]"</span>,dataType : <span class="hljs-string">"string"</span>&#125;&#125;&#125;&#125;;</code></pre><p>c.jade</p><pre><code class="hljs jade">c-table(bind&#x3D;&quot;as&quot; dataType&#x3D;&quot;a&quot;)column(property&#x3D;&quot;name&quot;)c-table(bind&#x3D;&quot;as#.bs&quot; dataType&#x3D;&quot;b&quot;)column(property&#x3D;&quot;name&quot;)</code></pre><p>c.js</p><pre><code class="hljs js">cola(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">model</span>) </span>&#123;model.dataType($DataType.B);$DataType.A.properties.bs = &#123;dataType: <span class="hljs-string">"B"</span>,aggregated: <span class="hljs-literal">true</span>,provider: &#123;url: <span class="hljs-string">"controller/B/find"</span>,sendJson: <span class="hljs-literal">true</span>,parameter: &#123;<span class="hljs-string">"name"</span>: <span class="hljs-string">"&#123;&#123;@name&#125;&#125;"</span>&#125;&#125;&#125;model.dataType($DataType.A);model.describe(<span class="hljs-string">"as"</span>, &#123;dataType : <span class="hljs-string">"A"</span>,provider : &#123;url : <span class="hljs-string">"controller/C/findPagination?from=&#123;&#123;$from&#125;&#125;&amp;limit=&#123;&#123;$limit&#125;&#125;"</span>,pageSize : <span class="hljs-number">10</span>,sendJson : <span class="hljs-literal">true</span>,loadMode: <span class="hljs-string">'manual'</span>&#125;&#125;);model.set(<span class="hljs-string">"title"</span>, <span class="hljs-string">"[(#&#123;C&#125;)]"</span>);model.action(&#123;&#125;);&#125;);</code></pre><p>åœ¨å…³è”ä¸­å¯ä»¥ä½¿ç”¨==parameter:{â€œnameâ€:â€â€œ}==æ–¹å¼æ‹¿åˆ°çˆ¶è¡¨ä¸­å½“å‰é€‰ä¸­è¡Œçš„nameçš„å€¼</p><h4 id="è¡¨æ ¼æ•°æ®åŠ è½½çš„å¤„ç†"><a href="#è¡¨æ ¼æ•°æ®åŠ è½½çš„å¤„ç†" class="headerlink" title="è¡¨æ ¼æ•°æ®åŠ è½½çš„å¤„ç†"></a>è¡¨æ ¼æ•°æ®åŠ è½½çš„å¤„ç†</h4><blockquote><p>åœ¨æŸäº›åœºæ™¯ä¸‹æˆ‘ä»¬å¯ä»¥è®©è¡¨æ ¼æ•°æ®ç›´æ¥åŠ è½½åˆ°é¡µé¢ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨äº‹ä»¶æ¥è§¦å‘åŠ è½½æ•°æ®</p></blockquote><pre><code class="hljs javascript">loadMode: <span class="hljs-string">'manual'</span></code></pre><p>å¯ä»¥é€šè¿‡loadModeæ¥æ§åˆ¶è¡¨å•æ˜¯å¦åœ¨é¡µé¢åŠ è½½çš„æ—¶å€™åŠ è½½æ•°æ®åˆ°é¡µé¢ï¼šmanualæ‰‹å·¥åŠ è½½ï¼Œæ³¨é‡Šæ‰loadModeç¼ºçœè‡ªåŠ¨åŠ è½½æ•°æ®</p><h3 id="é¢æ¿Panel-ç›¸å…³"><a href="#é¢æ¿Panel-ç›¸å…³" class="headerlink" title="é¢æ¿Panel ç›¸å…³"></a>é¢æ¿Panel ç›¸å…³</h3><h4 id="åœ¨panelå¤´ä½ç½®æ·»åŠ æŒ‰é’®"><a href="#åœ¨panelå¤´ä½ç½®æ·»åŠ æŒ‰é’®" class="headerlink" title="åœ¨panelå¤´ä½ç½®æ·»åŠ æŒ‰é’®"></a>åœ¨panelå¤´ä½ç½®æ·»åŠ æŒ‰é’®</h4><pre><code class="hljs jade">c-panel#panelDemo(caption&#x3D;ll.l(&quot;panel&quot;))    template(name&#x3D;&quot;tools&quot;)       div          c-button.primary(caption&#x3D;ll.l(&quot;add&quot;) click&#x3D;&quot;add&quot;)</code></pre><h3 id="å…¶å®ƒ"><a href="#å…¶å®ƒ" class="headerlink" title="å…¶å®ƒ"></a>å…¶å®ƒ</h3><h4 id="é¢„åŠ è½½å¤„ç†"><a href="#é¢„åŠ è½½å¤„ç†" class="headerlink" title="é¢„åŠ è½½å¤„ç†"></a>é¢„åŠ è½½å¤„ç†</h4><blockquote><p>é€šå¸¸æˆ‘ä»¬ä¼šåœ¨é¡µé¢åŠ è½½å®Œæˆçš„æ—¶å€™è‡ªåŠ¨è§¦å‘ä¸€éƒ¨åˆ†æ–¹æ³•æˆ–è€…setä¸€éƒ¨åˆ†æ•°æ®å€¼åˆ°æŒ‡å®šå±æ€§</p></blockquote><pre><code class="hljs javas">cola.ready(function() &#123;cola.widget(&quot;panelDemo&quot;).collapse(); &#x2F;&#x2F; åœ¨åŠ è½½å®Œé¡µé¢ä¹‹å æŠ˜å idä¸ºpanelDemoçš„é¢æ¿&#125;);</code></pre><p>ä»£ç åº”è¯¥æ”¾åœ¨==cola(function (model) { })==</p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Web</category>
      
      <category>Ui</category>
      
    </categories>
    
    
    <tags>
      
      <tag>cola-ui</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¹‚ç­‰</title>
    <link href="/2018/10/09/%E5%B9%82%E7%AD%89/"/>
    <url>/2018/10/09/%E5%B9%82%E7%AD%89/</url>
    
    <content type="html"><![CDATA[<p>å¹‚ç­‰ï¼ˆidempotentã€idempotenceï¼‰æ˜¯ä¸€ä¸ªæ•°å­¦ä¸è®¡ç®—æœºå­¦æ¦‚å¿µï¼Œå¸¸è§äºæŠ½è±¡ä»£æ•°ä¸­ã€‚</p><p>åœ¨ç¼–ç¨‹ä¸­ä¸€ä¸ªå¹‚ç­‰æ“ä½œçš„ç‰¹ç‚¹æ˜¯å…¶ä»»æ„å¤šæ¬¡æ‰§è¡Œæ‰€äº§ç”Ÿçš„å½±å“å‡ä¸ä¸€æ¬¡æ‰§è¡Œçš„å½±å“ç›¸åŒã€‚å¹‚ç­‰å‡½æ•°ï¼Œæˆ–å¹‚ç­‰æ–¹æ³•ï¼Œæ˜¯æŒ‡å¯ä»¥ä½¿ç”¨ç›¸åŒå‚æ•°é‡å¤æ‰§è¡Œï¼Œå¹¶èƒ½è·å¾—ç›¸åŒç»“æœçš„å‡½æ•°ã€‚è¿™äº›<a href="https://baike.baidu.com/item/%E5%87%BD%E6%95%B0/301912" target="_blank" rel="noopener">å‡½æ•°</a>ä¸ä¼šå½±å“ç³»ç»ŸçŠ¶æ€ï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒé‡å¤æ‰§è¡Œä¼šå¯¹ç³»ç»Ÿé€ æˆæ”¹å˜ã€‚ä¾‹å¦‚ï¼Œâ€œsetTrue()â€å‡½æ•°å°±æ˜¯ä¸€ä¸ªå¹‚ç­‰å‡½æ•°,æ— è®ºå¤šæ¬¡æ‰§è¡Œï¼Œå…¶ç»“æœéƒ½æ˜¯ä¸€æ ·çš„.æ›´å¤æ‚çš„æ“ä½œå¹‚ç­‰ä¿è¯æ˜¯åˆ©ç”¨å”¯ä¸€äº¤æ˜“å·(æµæ°´å·)å®ç°.</p><a id="more"></a><h2 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h2><p>åœ¨æ•°å­¦é‡Œï¼Œ<strong>å¹‚ç­‰</strong>æœ‰ä¸¤ç§ä¸»è¦çš„å®šä¹‰ã€‚</p><p>åœ¨æŸäºŒå…ƒè¿ç®—ä¸‹ï¼Œ<strong>å¹‚ç­‰å…ƒç´ </strong>æ˜¯æŒ‡è¢«è‡ªå·±é‡å¤è¿ç®—(æˆ–å¯¹äºå‡½æ•°æ˜¯ä¸ºå¤åˆ)çš„ç»“æœç­‰äºå®ƒè‡ªå·±çš„å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œä¹˜æ³•ä¸‹å”¯ä¸€ä¸¤ä¸ªå¹‚ç­‰å®æ•°ä¸º0å’Œ1ã€‚</p><p>æŸä¸€å…ƒè¿ç®—ä¸º<strong>å¹‚ç­‰</strong>çš„æ—¶ï¼Œå…¶ä½œç”¨åœ¨ä»»ä¸€å…ƒç´ ä¸¤æ¬¡åä¼šå’Œå…¶ä½œç”¨ä¸€æ¬¡çš„ç»“æœç›¸åŒã€‚ä¾‹å¦‚ï¼Œé«˜æ–¯ç¬¦å·ä¾¿æ˜¯å¹‚ç­‰çš„ã€‚</p><p>ä¸€å…ƒè¿ç®—çš„å®šä¹‰æ˜¯äºŒå…ƒè¿ç®—å®šä¹‰çš„ç‰¹ä¾‹</p><h3 id="äºŒå…ƒè¿ç®—"><a href="#äºŒå…ƒè¿ç®—" class="headerlink" title="äºŒå…ƒè¿ç®—"></a>äºŒå…ƒè¿ç®—</h3><p>è®¾<em>S</em>ä¸ºä¸€å…·æœ‰ä½œç”¨äºå…¶è‡ªèº«çš„äºŒå…ƒè¿ç®—çš„é›†åˆï¼Œåˆ™<em>S</em>çš„å…ƒç´ <em>s</em>ç§°ä¸ºå¹‚ç­‰çš„(ç›¸å¯¹äº*)å½“</p><p><em>s</em> <em>*s</em> = <em>s</em>.</p><p>ç‰¹åˆ«çš„æ˜¯ï¼Œä»»ä¸€å•ä½å…ƒéƒ½æ˜¯å¹‚ç­‰çš„ã€‚è‹¥<em>S</em>çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯å¹‚ç­‰çš„è¯ï¼Œåˆ™å…¶äºŒå…ƒè¿ç®—*è¢«ç§°åšæ˜¯å¹‚ç­‰çš„ã€‚ä¾‹å¦‚ï¼Œè”é›†å’Œäº¤é›†çš„è¿ç®—ä¾¿éƒ½æ˜¯å¹‚ç­‰çš„ã€‚</p><h3 id="ä¸€å…ƒè¿ç®—"><a href="#ä¸€å…ƒè¿ç®—" class="headerlink" title="ä¸€å…ƒè¿ç®—"></a>ä¸€å…ƒè¿ç®—</h3><p>è®¾<em>f</em>ä¸ºä¸€ç”±<em>X</em>æ˜ å°„è‡³<em>X</em>çš„ä¸€å…ƒè¿ç®—ï¼Œåˆ™<em>f</em>ä¸ºå¹‚ç­‰çš„ï¼Œå½“å¯¹äºæ‰€æœ‰åœ¨<em>X</em>å†…çš„<em>x</em>ï¼Œ</p><p><em>f</em>(<em>f</em>(<em>x</em>)) = <em>f</em>(<em>x</em>).</p><p>ç‰¹åˆ«çš„æ˜¯ï¼Œæ’ç­‰å‡½æ•°ä¸€å®šæ˜¯å¹‚ç­‰çš„ï¼Œä¸”ä»»ä¸€<a href="https://baike.baidu.com/item/%E5%B8%B8%E6%95%B0%E5%87%BD%E6%95%B0" target="_blank" rel="noopener">å¸¸æ•°å‡½æ•°</a>ä¹Ÿéƒ½æ˜¯å¹‚ç­‰çš„ã€‚</p><p>æ³¨æ„å½“è€ƒè™‘ä¸€ç”±<em>X</em>è‡³<em>X</em>çš„æ‰€æœ‰å‡½æ•°æ‰€ç»„æˆçš„é›†åˆ<em>S</em>æ—¶ã€‚åœ¨<em>f</em>åœ¨ä¸€å…ƒè¿ç®—ä¸‹ä¸ºå¹‚ç­‰çš„è‹¥ä¸”å”¯è‹¥åœ¨äºŒå…ƒè¿ç®—ä¸‹ï¼Œ<em>f</em>ç›¸å¯¹äºå…¶å¤åˆè¿ç®—(æ ‡è®°ä¸º<em>o</em>)ä¼šæ˜¯å¹‚ç­‰çš„ã€‚è¿™å¯ä»¥å†™æˆ<em>f</em> o <em>f</em> = <em>f</em>ã€‚</p><h2 id="ä¸€èˆ¬ä¾‹å­"><a href="#ä¸€èˆ¬ä¾‹å­" class="headerlink" title="ä¸€èˆ¬ä¾‹å­"></a>ä¸€èˆ¬ä¾‹å­</h2><h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><p>å¦‚ä¸Šè¿°æ‰€è¯´ï¼Œæ’ç­‰å‡½æ•°å’Œå¸¸æ•°å‡½æ•°æ€»ä¼šæ˜¯å¹‚ç­‰çš„ã€‚è¾ƒä¸å½“ç„¶çš„ä¾‹å­æœ‰å®æ•°æˆ–å¤æ•°å¼•æ•°çš„ç»å¯¹å€¼å‡½æ•°ï¼Œä»¥åŠå®æ•°å¼•æ•°çš„é«˜æ–¯ç¬¦å·ã€‚</p><p>å°†ä¸€æ‹“æ‰‘ç©ºé—´<em>X</em>å†…å„å­é›†<em>U</em>æ˜ å°„è‡³<em>U</em>é—­åŒ…çš„å‡½æ•°åœ¨<em>X</em>çš„å¹‚é›†ä¸Šæ˜¯å¹‚ç­‰çš„ã€‚è¿™æ˜¯é—­åŒ…è¿ç®—å…ƒçš„ä¸€ä¸ªä¾‹å­ï¼›æ‰€æœ‰ä¸ªé—­åŒ…è¿ç®—å…ƒéƒ½ä¼šæ˜¯å¹‚ç­‰å‡½æ•°ã€‚</p><h3 id="ç¯çš„å¹‚ç­‰å…ƒç´ "><a href="#ç¯çš„å¹‚ç­‰å…ƒç´ " class="headerlink" title="ç¯çš„å¹‚ç­‰å…ƒç´ "></a>ç¯çš„å¹‚ç­‰å…ƒç´ </h3><p>å®šä¹‰ä¸Šï¼Œç¯çš„å¹‚ç­‰å…ƒç´ ä¸ºä¸€ç›¸å¯¹äºç¯ä¹˜æ³•ä¸ºå¹‚ç­‰çš„å…ƒç´ ã€‚å¯ä»¥å®šä¹‰ä¸€äºç¯å¹‚ç­‰ä¸Šçš„ååºï¼šè‹¥eå’Œfä¸ºå¹‚ç­‰çš„ï¼Œå½“ef= fe= eæ—¶ï¼Œæ ‡è®°ä¸ºeâ‰¤ fã€‚ä¾å…¶é¡ºåºï¼Œ0ä¼šæ˜¯æœ€å°å¹‚ç­‰å…ƒç´ ï¼Œè€Œ1ä¸ºæœ€å¤§å¹‚ç­‰å…ƒç´ ã€‚</p><p>è‹¥<em>e</em>åœ¨ç¯<em>R</em>å†…ä¸ºå¹‚ç­‰çš„ï¼Œåˆ™<em>eRe</em>ä¸€æ ·ä¼šæ˜¯ä¸ªä¹˜æ³•å•ä½å…ƒä¸º<em>e</em>çš„ç¯ã€‚</p><p>ä¸¤ä¸ªå¹‚ç­‰å…ƒç´ <em>e</em>å’Œ<em>f</em>è¢«ç§°ä¸º<em>æ­£äº¤çš„<em>å½“</em>ef</em>=<em>fe</em>=0ã€‚åœ¨æ­¤ä¸€æƒ…å½¢ä¸‹ï¼Œ<em>e</em>+<em>f</em>ä¹Ÿæ˜¯å¹‚ç­‰çš„ï¼Œä¸”æœ‰<em>e</em> â‰¤ <em>e</em> + <em>f</em>å’Œ<em>f</em> â‰¤ <em>e</em> + <em>f</em>ã€‚</p><p>è‹¥<em>e</em>åœ¨ç¯<em>R</em>å†…ä¸ºå¹‚ç­‰çš„ï¼Œåˆ™<em>f</em> = 1 âˆ’ <em>e</em>ä¹Ÿä¼šæ˜¯å¹‚ç­‰çš„ï¼Œä¸”<em>e</em>å’Œ<em>f</em>æ­£äº¤ã€‚</p><p>ä¸€åœ¨<em>R</em>å†…çš„å¹‚ç­‰å…ƒç´ <em>e</em>ç§°ä¸º<em>æ ¸å¿ƒçš„<em>ï¼Œè‹¥å¯¹æ‰€æœ‰åœ¨</em>R<em>å†…çš„</em>x<em>ï¼Œ</em>ex</em>=<em>xe<em>ã€‚åœ¨æ­¤æƒ…å½¢ä¹‹ä¸‹ï¼Œ</em>Re<em>ä¼šæ˜¯ä¸ªä¹˜æ³•å•ä½å…ƒä¸º</em>e<em>çš„ç¯ã€‚</em>R<em>çš„æ ¸å¿ƒå¹‚ç­‰å…ƒç´ å’Œ</em>R<em>çš„åˆ†è§£ä¸ºç¯çš„ç›´å’Œæœ‰å¾ˆç›´æ¥çš„å…³æ¥ã€‚è‹¥</em>R<em>ä¸ºç¯</em>R<em>1ã€â€¦ã€</em>R<strong>n<em>çš„ç›´å’Œï¼Œåˆ™ç¯</em>R</strong>i<em>çš„å•ä½å…ƒåœ¨</em>R<em>å†…ä¸ºæ ¸å¿ƒå¹‚ç­‰çš„ï¼Œç›¸äº’æ­£äº¤ï¼Œä¸”å…¶æ€»å’Œä¸º1ã€‚ç›¸ååœ°ï¼Œç»™å‡º</em>R<em>å†…ç»™ç›¸äº’æ­£äº¤ä¸”æ€»å’Œä¸º1çš„æ ¸å¿ƒå¹‚ç­‰å…ƒç´ </em>e<em>1ã€â€¦ã€</em>e<strong>n<em>ï¼Œåˆ™</em>R<em>ä¼šæ˜¯ç¯</em>Re<em>1ã€â€¦ã€</em>Re</strong>n<em>çš„ç›´å’Œã€‚æ‰€æœ‰è¾ƒæœ‰è¶£çš„æ˜¯ï¼Œæ¯ä¸€äº</em>R<em>å†…çš„æ ¸å¿ƒå¹‚ç­‰</em>e<em>éƒ½ä¼šç»™å‡ºä¸€</em>R<em>çš„åˆ†è§£ï¼</em>Re<em>å’Œ</em>R</em>(1 âˆ’ <em>e</em>)çš„ç›´å’Œã€‚</p><p>ä»»ä¸€ä¸ç­‰äº0å’Œ1çš„å¹‚ç­‰å…ƒç´ éƒ½æ˜¯é›¶å› å­(å› ä¸º<em>e</em>(1 âˆ’ <em>e</em>) = 0)ã€‚è¿™è¡¨ç¤ºäº†æ•´ç¯åŠé™¤ç¯éƒ½ä¸ä¼šå­˜åœ¨æ­¤ç§å¹‚ç­‰å…ƒç´ ã€‚å±€éƒ¨ç¯ä¹Ÿæ²¡æœ‰æ­¤ç§å¹‚ç­‰å…ƒç´ ï¼Œä½†ç†ç”±æœ‰ç‚¹ä¸åŒã€‚å”¯ä¸€åŒ…å«äºä¸€ç¯çš„é›…å„å¸ƒæ£®æ ¹å†…çš„å¹‚ç­‰å…ƒç´ åªæœ‰0ã€‚å…±å››å…ƒæ•°ç¯å†…ä¼šæœ‰ä¸€å¹‚ç­‰å…ƒç´ ç»„æˆçš„æ‚¬é“¾æ›²é¢ã€‚</p><p><em>æ‰€æœ‰</em>å…ƒç´ éƒ½å¹‚ç­‰çš„ç¯ç§°åšå¸ƒå°”ç¯ã€‚å¯è¯æ˜åœ¨æ¯ä¸€æ­¤ç±»ç¯å†…ï¼Œä¹˜æ³•éƒ½æ˜¯å¯äº¤æ¢çš„ï¼Œä¸”æ¯ä¸€å…ƒç´ éƒ½æœ‰å…¶å„è‡ªçš„åŠ æ³•é€†å…ƒã€‚</p><h3 id="å…¶ä»–ä¾‹å­"><a href="#å…¶ä»–ä¾‹å­" class="headerlink" title="å…¶ä»–ä¾‹å­"></a>å…¶ä»–ä¾‹å­</h3><p>å¹‚ç­‰è¿ç®—ä¹Ÿå¯ä»¥åœ¨å¸ƒæ—ä»£æ•°å†…æ‰¾åˆ°ã€‚é€»è¾‘å’Œä¸<a href="https://baike.baidu.com/item/%E9%80%BB%E8%BE%91%E6%88%96" target="_blank" rel="noopener">é€»è¾‘æˆ–</a>ä¾¿éƒ½æ˜¯å¹‚ç­‰è¿ç®—ã€‚</p><p>åœ¨<a href="https://baike.baidu.com/item/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0" target="_blank" rel="noopener">çº¿æ€§ä»£æ•°</a>é‡Œï¼Œ<a href="https://baike.baidu.com/item/%E6%8A%95%E5%B0%84" target="_blank" rel="noopener">æŠ•å°„</a>æ˜¯å¹‚ç­‰çš„ã€‚äº¦å³ï¼Œæ¯ä¸€å°†å‘é‡æŠ•å°„è‡³ä¸€å­ç©ºé—´V(ä¸éœ€æ­£äº¤)ä¸Šçš„<a href="https://baike.baidu.com/item/%E7%BA%BF%E6%80%A7%E7%AE%97%E5%AD%90" target="_blank" rel="noopener">çº¿æ€§ç®—å­</a>ï¼Œéƒ½æ˜¯å¹‚ç­‰çš„ã€‚</p><p>ä¸€å¹‚ç­‰åŠç¯ä¸ºå…¶<em>åŠ æ³•</em>(éä¹˜æ³•)ä¸ºå¹‚ç­‰çš„<a href="https://baike.baidu.com/item/%E5%8D%8A%E7%8E%AF" target="_blank" rel="noopener">åŠç¯</a>ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å¹‚ç­‰</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>10æ‹›å¼ºåŒ–Linuxå®‰å…¨çš„æŠ€èƒ½</title>
    <link href="/2018/09/14/10%E6%8B%9B%E5%BC%BA%E5%8C%96Linux%E5%AE%89%E5%85%A8%E7%9A%84%E6%8A%80%E8%83%BD/"/>
    <url>/2018/09/14/10%E6%8B%9B%E5%BC%BA%E5%8C%96Linux%E5%AE%89%E5%85%A8%E7%9A%84%E6%8A%80%E8%83%BD/</url>
    
    <content type="html"><![CDATA[<h3 id="1-æ‰¾å‡ºä¸å¿…è¦çš„æœåŠ¡"><a href="#1-æ‰¾å‡ºä¸å¿…è¦çš„æœåŠ¡" class="headerlink" title="1.æ‰¾å‡ºä¸å¿…è¦çš„æœåŠ¡"></a>1.æ‰¾å‡ºä¸å¿…è¦çš„æœåŠ¡</h3><p>å¾ˆæ˜æ˜¾ï¼ŒæœåŠ¡å™¨ä¸Šè·‘çš„æœåŠ¡ï¼Œå¹¶ä¸æ˜¯æ¯ä¸ªéƒ½æœ‰ç”¨çš„ã€‚å¼ºçƒˆå»ºè®®æ£€æŸ¥å¹¶å…³æ‰ä¸éœ€è¦çš„æœåŠ¡ï¼Œä»è€Œå‡å°‘é£é™©ï¼ˆå¤šè·‘ä¸€ä¸ªæœåŠ¡ï¼Œå°±å¯èƒ½å¤šå‡ ä¸ªæ¼æ´ï¼‰ã€‚</p><p>æŸ¥è¯¢è¿è¡Œåœ¨<strong>runlevel 3</strong>çš„æœåŠ¡åˆ—è¡¨ï¼š</p><pre><code class="hljs plain">[alter@alter ~]# &#x2F;sbin&#x2F;chkconfig --list |grep &#39;3:on&#39;</code></pre><a id="more"></a><p>å…³é—­æŒ‡å®šçš„æœåŠ¡ï¼š</p><pre><code class="hljs plain">[alter@alter ~]# chkconfig ip6tables off</code></pre><hr><p>ç–‘é—®ï¼šä¸ºä»€ä¹ˆæŸ¥è¯¢<strong>runlevel 3</strong>çš„æœåŠ¡ï¼Ÿ<br>Linuxç³»ç»Ÿæœ‰7ä¸ªè¿è¡Œçº§åˆ«(runlevel)ï¼Œåˆ†åˆ«å¦‚ä¸‹ï¼š<br>runlevel 0ï¼šç³»ç»ŸåœæœºçŠ¶æ€ï¼Œç³»ç»Ÿé»˜è®¤è¿è¡Œçº§åˆ«ä¸èƒ½è®¾ä¸º0ï¼Œå¦åˆ™ä¸èƒ½æ­£å¸¸å¯åŠ¨ï¼›<br>runlevel 1ï¼šå•ç”¨æˆ·å·¥ä½œçŠ¶æ€ï¼Œrootæƒé™ï¼Œç”¨äºç³»ç»Ÿç»´æŠ¤ï¼Œç¦æ­¢è¿œç¨‹ç™»é™†ï¼›<br>runlevel 2ï¼šå¤šç”¨æˆ·çŠ¶æ€(æ²¡æœ‰NFS)ï¼›<br>runlevel 3ï¼šå®Œå…¨çš„å¤šç”¨æˆ·çŠ¶æ€(æœ‰NFS)ï¼Œç™»é™†åè¿›å…¥æ§åˆ¶å°å‘½ä»¤è¡Œæ¨¡å¼ã€‚è¿™ä¸ªè¿è¡Œçº§åˆ«çš„æœåŠ¡ä¼šå¯åŠ¨httpdï¼Œç³»ç»Ÿæä¾›web serveræœåŠ¡ï¼Œæ‰€ä»¥ä¸»è¦æŸ¥çœ‹è¿™ä¸ªè¿è¡Œçº§åˆ«çš„æœåŠ¡ï¼›<br>runlevel 4ï¼šç³»ç»Ÿæœªä½¿ç”¨ï¼Œä¿ç•™ï¼›<br>runlevel 5ï¼šX11æ§åˆ¶å°ï¼Œç™»é™†åè¿›å…¥å›¾å½¢GUIæ¨¡å¼ï¼›<br>runlevel 6ï¼šç³»ç»Ÿæ­£å¸¸å…³é—­å¹¶é‡å¯ï¼Œé»˜è®¤è¿è¡Œçº§åˆ«ä¸èƒ½è®¾ä¸º6ï¼Œå¦åˆ™ä¸èƒ½æ­£å¸¸å¯åŠ¨ï¼›</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymrkisisj30eq0q6ajx.jpg" srcset="/img/loading.gif" alt="img"></p><h3 id="2-æ£€æŸ¥ç›‘å¬çš„ç½‘ç»œç«¯å£"><a href="#2-æ£€æŸ¥ç›‘å¬çš„ç½‘ç»œç«¯å£" class="headerlink" title="2.æ£€æŸ¥ç›‘å¬çš„ç½‘ç»œç«¯å£"></a>2.æ£€æŸ¥ç›‘å¬çš„ç½‘ç»œç«¯å£</h3><p>é€šè¿‡netstatå‘½åèƒ½å¤Ÿçœ‹åˆ°æ‰€æœ‰å·²ç»æ‰“å¼€çš„ç«¯å£ï¼Œå¹¶ä¸”å¯ä»¥çœ‹åˆ°æ˜¯å“ªäº›ç¨‹åºæ‰“å¼€çš„ã€‚å¦‚æœå‘ç°æŸäº›æ˜¯å¿…é¡»è¦çš„ï¼Œå»ºè®®å…³æ‰ï¼š</p><pre><code class="hljs plain">[alter@alter~]# netstat -tulpnActive Internet connections (only servers)Proto Recv-Q Send-Q Local Address  Foreign Address  State   PID&#x2F;Program name   tcp        0      0 0.0.0.0:2181   0.0.0.0:*        LISTEN  48983&#x2F;java          tcp        0      0 0.0.0.0:2182   0.0.0.0:*        LISTEN  49051&#x2F;java</code></pre><h3 id="3-ä¼˜åŒ–CRONä»»åŠ¡"><a href="#3-ä¼˜åŒ–CRONä»»åŠ¡" class="headerlink" title="3.ä¼˜åŒ–CRONä»»åŠ¡"></a>3.ä¼˜åŒ–CRONä»»åŠ¡</h3><p>linuxçš„cronå¯ä»¥æ‰§è¡Œä¸€äº›å®šæ—¶ä»»åŠ¡ã€‚å¹¶ä¸”è¿˜å¯ä»¥é€šè¿‡/etc/cron.allow å’Œ /etc/cron.deny æ§åˆ¶å“ªäº›ç”¨æˆ·å¯ä»¥è¿è¡ŒJOBï¼Œå“ªä½ç”¨æˆ·ç¦æ­¢è¿è¡ŒJOBã€‚ä¾‹å¦‚:<br>å…è®¸ç”¨æˆ·alterå…è®¸JOBï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><pre><code class="hljs plain">echo alter &gt;&gt; &#x2F;etc&#x2F;cron.allow</code></pre><p>ç¦æ­¢æ‰€æœ‰ç”¨æˆ·è®¿é—®JOBï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><pre><code class="hljs plain">echo ALL &gt;&gt;&#x2F;etc&#x2F;cron.deny</code></pre><h3 id="4-é™åˆ¶ç”¨æˆ·ä½¿ç”¨æ—§å¯†ç "><a href="#4-é™åˆ¶ç”¨æˆ·ä½¿ç”¨æ—§å¯†ç " class="headerlink" title="4.é™åˆ¶ç”¨æˆ·ä½¿ç”¨æ—§å¯†ç "></a>4.é™åˆ¶ç”¨æˆ·ä½¿ç”¨æ—§å¯†ç </h3><p>linuxç”¨æˆ·çš„æ—§å¯†ç ä¿å­˜åœ¨æ–‡ä»¶/etc/security/opasswdä¸­ï¼š</p><pre><code class="hljs plain">[root@LAPP-V1159 ~]# cat &#x2F;etc&#x2F;security&#x2F;opasswdalter:504:4:$1$MVAi&#x2F;EpJ$iXXkV5r3Hjc8AaK2b5KyQ&#x2F;,$1$AbpFPYaD$ZKj12lK6qaYUqgQnEdocd0,$1$POabjmzY$F4Cp6aTwN6RRk1KjZWm8A&#x2F;,$1$LoHe5GHY$QjkLGqABANpLmlQsRB4WE.</code></pre><p>æ£€æŸ¥æ˜¯å¦æœ‰å¼€å¯é™åˆ¶ä½¿ç”¨æ—§å¯†ç ï¼Œåœ¨RHEL / CentOS / Fedoraç³»ç»Ÿä¸­ï¼ŒæŸ¥çœ‹æ–‡ä»¶ï¼š/etc/pam.d/system-authã€‚åœ¨Ubuntu/Debian/Linux Mintç³»ç»Ÿä¸­ï¼ŒæŸ¥çœ‹æ–‡ä»¶ï¼š/etc/pam.d/common-passwordï¼Œéœ€è¦ä¸‹é¢ä¸¤è¡Œå…³é”®å†…å®¹ï¼Œå…¶ä¸­remember=4ï¼Œè¡¨ç¤ºä¸èƒ½ä½¿ç”¨æœ€å4æ¬¡å¯†ç ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼šPassword has been already used. Choose another.ï¼š</p><pre><code class="hljs plain">auth        sufficient    pam_unix.so nullok try_first_passpassword    sufficient    pam_unix.so sha512 shadow nullok try_first_pass use_authtok remember&#x3D;4</code></pre><h3 id="5-æ£€æŸ¥å¯†ç è¿‡æœŸ"><a href="#5-æ£€æŸ¥å¯†ç è¿‡æœŸ" class="headerlink" title="5.æ£€æŸ¥å¯†ç è¿‡æœŸ"></a>5.æ£€æŸ¥å¯†ç è¿‡æœŸ</h3><p>å¯†ç çš„è¿‡æœŸå±æ€§å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹ï¼š</p><pre><code class="hljs plain">[root@root ~]# chage -l alterLast password change                    : Sep 14, 2018Password expires                    : Nov 13, 2018Password inactive                    : neverAccount expires                        : neverMinimum number of days between password change        : 0Maximum number of days between password change        : 60Number of days of warning before password expires    : 7</code></pre><p>ä¿®æ”¹å¯†ç çš„è¿‡æœŸå±æ€§å¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><pre><code class="hljs plain">chage -M 60 -W 7  alterè¯´æ˜ï¼š-M 60è¡¨ç¤ºå¯†ç æœ€å¤§æœ‰æ•ˆæœŸæ˜¯60å¤©ã€‚-W 7 è¡¨ç¤ºå¯†ç è¿˜æœ‰7å¤©è¿‡æœŸæ—¶ç»™å‡ºå‘Šè­¦æé†’ã€‚</code></pre><h3 id="6-æ£€æŸ¥å¯†ç ä¸ºç©ºçš„ç”¨æˆ·"><a href="#6-æ£€æŸ¥å¯†ç ä¸ºç©ºçš„ç”¨æˆ·" class="headerlink" title="6.æ£€æŸ¥å¯†ç ä¸ºç©ºçš„ç”¨æˆ·"></a>6.æ£€æŸ¥å¯†ç ä¸ºç©ºçš„ç”¨æˆ·</h3><p>å¯†ç ä¸ºç©ºæ„å‘³ç€åªè¦çŸ¥é“ç”¨æˆ·åå°±èƒ½è®¿é—®ï¼Œè¿™éå¸¸å±é™©ã€‚å› ä¸ºç”¨æˆ·ä¸å¯†ç ä¿¡æ¯ä¿å­˜åœ¨æ–‡ä»¶/etc/shadowä¸­ï¼Œä¸”æ ¼å¼å¦‚ä¸‹ï¼š</p><pre><code class="hljs plain">admin:$6$YTSkre3DLd4SAZ$Jy9piv&#x2F;gPezhLrLzMMeUleV8F5DNjP:17765:0:99:5:::alter:$6$.vMcyE9ss96$YNk2Q5qiS&#x2F;SAeGCcyEFsmspkC5dr3OXfnN:17788:0:60:7:::</code></pre><blockquote><p>åé¢çš„å‡ ä¸ªæ•°å­—æ˜¯å¯†ç è¿‡æœŸç­‰å±æ€§ä¿¡æ¯ï¼Œä¸Šé¢å·²ç»æåŠã€‚</p></blockquote><p>æ‰€ä»¥ï¼Œæ£€æŸ¥å¯†ç ä¸ºç©ºçš„ç”¨æˆ·ï¼Œåªéœ€è¦æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å³å¯ï¼Œå¦‚æœå‘ç°æœ‰è¿™æ ·çš„ç”¨æˆ·ï¼Œé€šè¿‡rootç”¨æˆ·æ‰§è¡Œ<code>passwd username</code>å¼ºè¡Œä¿®æ”¹å®ƒçš„å¯†ç ï¼š</p><pre><code class="hljs plain">cat &#x2F;etc&#x2F;shadow | awk -F: &#39;($2&#x3D;&#x3D;&quot;&quot;)&#123;print $1&#125;&#39;</code></pre><h3 id="7-é”å®š-amp-è§£é”ç”¨æˆ·"><a href="#7-é”å®š-amp-è§£é”ç”¨æˆ·" class="headerlink" title="7.é”å®š&amp;è§£é”ç”¨æˆ·"></a>7.é”å®š&amp;è§£é”ç”¨æˆ·</h3><p>å’Œåˆ é™¤ç”¨æˆ·è´¦æˆ·ä¸ä¸€æ ·ï¼Œè¿™ä¸ªåªæ˜¯é™åˆ¶ç”¨æˆ·ç™»å½•ã€‚åªéœ€è¦æ‰§è¡Œå¦‚ä¸‹å¯†ç å³å¯é”å®š&amp;è§£é”ç”¨æˆ·ï¼š</p><pre><code class="hljs plain">[root@root ~]# passwd -l alterLocking password for user alter.passwd: Success[root@root ~]# passwd -u alterUnlocking password for user alter.passwd: Success</code></pre><p>è¯´æ˜ï¼š</p><ul><li>å‚æ•°lè¡¨ç¤ºlockï¼Œå³é”å®šç”¨æˆ·å¯†ç ï¼›</li><li>å‚æ•°uè¡¨ç¤ºunlockï¼Œå³è§£é”ç”¨æˆ·å¯†ç ï¼›</li></ul><h3 id="8-å…³é—­IPv6"><a href="#8-å…³é—­IPv6" class="headerlink" title="8.å…³é—­IPv6"></a>8.å…³é—­IPv6</h3><p>ç°åœ¨IPv6åŸºæœ¬ä¸Šæ²¡æœ‰å®é™…ä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å…³æ‰å®ƒï¼Œåœ¨æ–‡ä»¶/etc/sysconfig/networkä¸­å¢åŠ å¦‚ä¸‹ä¸¤è¡Œå†…å®¹å³å¯ï¼š</p><pre><code class="hljs plain">NETWORKING_IPV6&#x3D;noIPV6INIT&#x3D;no</code></pre><h3 id="9-å¤æŸ¥æ—¥å¿—"><a href="#9-å¤æŸ¥æ—¥å¿—" class="headerlink" title="9.å¤æŸ¥æ—¥å¿—"></a>9.å¤æŸ¥æ—¥å¿—</h3><p>LinuxæœåŠ¡å™¨ä¸Šå¾ˆå¤šçš„è¡Œä¸ºéƒ½ä¼šæœ‰è®°å½•ç›¸åº”çš„æ—¥å¿—ï¼Œç®€å•åˆ—ä¸¾ä¸€äº›å¦‚ä¸‹ï¼Œå¦‚æœæœ‰ä¸€äº›éæ³•æ“ä½œï¼Œå°±èƒ½ä»è¿™äº›æ—¥å¿—ä¸­é€ æˆè››ä¸é©¬è¿¹ï¼Œä¾‹å¦‚éæ³•ç™»é™†ï¼Œéæ³•å®šæ—¶ä»»åŠ¡ç­‰ï¼š</p><ul><li>/var/log/message â€“ Where whole system logs or current activity logs are available.</li><li>/var/log/auth.log â€“ Authentication logs.</li><li>/var/log/kern.log â€“ Kernel logs.</li><li>/var/log/cron.log â€“ Crond logs (cron job).</li><li>/var/log/maillog â€“ Mail server logs.</li><li>/var/log/boot.log â€“ System boot log.</li><li>/var/log/mysqld.log â€“ MySQL database server log file.</li><li>/var/log/secure â€“ Authentication log.</li><li>/var/log/utmp or /var/log/wtmp : Login records file.</li><li>/var/log/yum.log: Yum log files.</li></ul><h3 id="10-ä¿æŒç³»ç»Ÿæ›´æ–°"><a href="#10-ä¿æŒç³»ç»Ÿæ›´æ–°" class="headerlink" title="10.ä¿æŒç³»ç»Ÿæ›´æ–°"></a>10.ä¿æŒç³»ç»Ÿæ›´æ–°</h3><p>æ€»æ˜¯è®©ç³»ç»Ÿæ›´æ–°æœ€æ–°å‘è¡Œçš„è¡¥ä¸åŒ…ï¼Œå› ä¸ºè¿™äº›è¡¥ä¸åŒ…ä¼šä¿®å¤ä¸€äº›BUGï¼š</p><pre><code class="hljs plain">sudo apt-get upgradeyum check-updateyum upgrade</code></pre><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringCloudçš„ç‰ˆæœ¬</title>
    <link href="/2018/09/14/SpringCloud%E7%9A%84%E7%89%88%E6%9C%AC/"/>
    <url>/2018/09/14/SpringCloud%E7%9A%84%E7%89%88%E6%9C%AC/</url>
    
    <content type="html"><![CDATA[<p>Spring Cloud é¡¹ç›®ç›®å‰ä»ç„¶æ˜¯å¿«é€Ÿè¿­ä»£æœŸï¼Œç‰ˆæœ¬å˜åŒ–å¾ˆå¿«ã€‚è¿™é‡Œæ•´ç†ä¸€ä¸‹ç‰ˆæœ¬ç›¸å…³çš„ä¸œè¥¿ï¼Œå¤‡å¿˜ä¸€ä¸‹ã€‚</p><h2 id="å¤§ç‰ˆæœ¬"><a href="#å¤§ç‰ˆæœ¬" class="headerlink" title="å¤§ç‰ˆæœ¬"></a>å¤§ç‰ˆæœ¬</h2><h3 id="ç‰ˆæœ¬å·è§„åˆ™"><a href="#ç‰ˆæœ¬å·è§„åˆ™" class="headerlink" title="ç‰ˆæœ¬å·è§„åˆ™"></a>ç‰ˆæœ¬å·è§„åˆ™</h3><p>Spring Cloudå¹¶æ²¡æœ‰ç†Ÿæ‚‰çš„æ•°å­—ç‰ˆæœ¬å·ï¼Œè€Œæ˜¯å¯¹åº”ä¸€ä¸ªå¼€å‘ä»£å·ã€‚</p><a id="more"></a><table><thead><tr><th>Cloudä»£å·</th><th>Bootç‰ˆæœ¬(train)</th><th>Bootç‰ˆæœ¬(tested)</th><th>lifecycle</th></tr></thead><tbody><tr><td>Angle</td><td>1.2.x</td><td>incompatible with 1.3</td><td>EOL in July 2017</td></tr><tr><td>Brixton</td><td>1.3.x</td><td>1.4.x</td><td>2017-07å’</td></tr><tr><td>Camden</td><td>1.4.x</td><td>1.5.x</td><td>-</td></tr><tr><td>Dalston</td><td>1.5.x</td><td>not expected 2.x</td><td>-</td></tr><tr><td>Edgware</td><td>1.5.x</td><td>not expected 2.x</td><td>-</td></tr><tr><td>Finchley</td><td>2.x</td><td>not expected 1.5.x</td><td>-</td></tr></tbody></table><p>å¼€å‘ä»£å·çœ‹ä¼¼æ²¡æœ‰ä»€ä¹ˆè§„å¾‹ï¼Œä½†å®é™…ä¸Šé¦–å­—æ¯æ˜¯æœ‰é¡ºåºçš„ï¼Œæ¯”å¦‚ï¼šDalstonç‰ˆæœ¬ï¼Œæˆ‘ä»¬å¯ä»¥ç®€ç§° D ç‰ˆæœ¬ï¼Œå¯¹åº”çš„ Edgware ç‰ˆæœ¬æˆ‘ä»¬å¯ä»¥ç®€ç§° E ç‰ˆæœ¬ã€‚</p><h3 id="Dç‰ˆæœ¬å’ŒEç‰ˆæœ¬çš„åŒºåˆ«"><a href="#Dç‰ˆæœ¬å’ŒEç‰ˆæœ¬çš„åŒºåˆ«" class="headerlink" title="Dç‰ˆæœ¬å’ŒEç‰ˆæœ¬çš„åŒºåˆ«"></a>Dç‰ˆæœ¬å’ŒEç‰ˆæœ¬çš„åŒºåˆ«</h3><p>äºŒè€…å‡åŸºäºSpringBootçš„1.5.xç‰ˆæœ¬ã€‚ä½†æ”¯æŒå…¶ä»–ç»„ä»¶çš„ç‰ˆæœ¬ä¸åŒï¼Œå¦‚ä»¥ Dalston.SR4 å’Œ Edgware.RELEASE æ¥å¯¹æ¯”ï¼š</p><p>spring-cloud-config åˆ†åˆ«å¯¹åº” 1.3.3å’Œ 1.4.0;<br>spring-cloud-netflix åˆ†åˆ«å¯¹åº” 1.3.5å’Œ 1.4.0;<br>spring-cloud-consul åˆ†åˆ«å¯¹åº” 1.2.1å’Œ 1.3.0;<br>spring-cloud-gateway å‰è€…ä¸æ”¯æŒï¼Œåè€… 1.0.0ã€‚</p><p>æ¯ä¸ªå°ç‰ˆæœ¬çš„ä¸åŒï¼Œä¼šæœ‰ç»†å¾®å·®åˆ«ã€‚</p><h3 id="Fç‰ˆæœ¬"><a href="#Fç‰ˆæœ¬" class="headerlink" title="Fç‰ˆæœ¬"></a>Fç‰ˆæœ¬</h3><p>Fç‰ˆæœ¬æ˜¯ä¸ªç»å¯¹çš„å¤§ç‰ˆæœ¬ï¼Œå‡ ä¹æ‰€æœ‰ç»„ä»¶ï¼Œå…¨éƒ¨åŒæ­¥å˜æ›´ç‰ˆæœ¬å·ä¸º2.xã€‚</p><h2 id="å°ç‰ˆæœ¬"><a href="#å°ç‰ˆæœ¬" class="headerlink" title="å°ç‰ˆæœ¬"></a>å°ç‰ˆæœ¬</h2><p>Spring Cloud å°ç‰ˆæœ¬åˆ†ä¸º:</p><p>SNAPSHOTï¼š å¿«ç…§ç‰ˆæœ¬ï¼Œéšæ—¶å¯èƒ½ä¿®æ”¹</p><p>Mï¼š MileStoneï¼ŒM1è¡¨ç¤ºç¬¬1ä¸ªé‡Œç¨‹ç¢‘ç‰ˆæœ¬ï¼Œä¸€èˆ¬åŒæ—¶æ ‡æ³¨PREï¼Œè¡¨ç¤ºé¢„è§ˆç‰ˆç‰ˆã€‚</p><p>SRï¼š Service Releaseï¼ŒSR1è¡¨ç¤ºç¬¬1ä¸ªæ­£å¼ç‰ˆæœ¬ï¼Œä¸€èˆ¬åŒæ—¶æ ‡æ³¨GAï¼š(GenerallyAvailable),è¡¨ç¤ºç¨³å®šç‰ˆæœ¬ã€‚</p><h2 id="é€‰æ‹©ç‰ˆæœ¬"><a href="#é€‰æ‹©ç‰ˆæœ¬" class="headerlink" title="é€‰æ‹©ç‰ˆæœ¬"></a>é€‰æ‹©ç‰ˆæœ¬</h2><h3 id="å¤§ç‰ˆæœ¬-1"><a href="#å¤§ç‰ˆæœ¬-1" class="headerlink" title="å¤§ç‰ˆæœ¬"></a>å¤§ç‰ˆæœ¬</h3><ul><li>é¦–å…ˆè¯´æ˜ï¼Œå„ä¸ªç‰ˆæœ¬ä¹‹é—´ç»„ä»¶å˜åŒ–ä¸å¤§ï¼Œä½†ç»†èŠ‚ç•¥æœ‰ä¸åŒï¼Œæ¯”å¦‚é…ç½®é¡¹åç§°ã€æˆ–è€…æ–°ç‰ˆæœ¬å¢åŠ æ–°çš„é…ç½®æ–¹å¼ã€‚</li></ul><p>ä»è¿™ä¸€ç‚¹æ¥çœ‹ï¼Œé€‰æ‹©å“ªä¸ªç‰ˆæœ¬éƒ½ä¸æ˜¯å¤§é—®é¢˜ï¼Œä½†æé†’ä¸€ä¸‹ï¼Œé‡åˆ°å‘æ—¶ï¼Œæœ€å¥½æ ¹æ®ç‰ˆæœ¬è¿›è¡ŒæŸ¥è¯¢ï¼Œå¦åˆ™ä½ ä¼šå‘ç°ä½ æ‰¾åˆ°çš„åŠæ³•ä¸è¡Œã€‚å®é™…ä¸Šæ˜¯ç‰ˆæœ¬ä¸åŒ¹é…ã€‚</p><ul><li>å¦‚æœä½ é¡¹ç›®éœ€è¦å’Œå…¶ä»–è€é¡¹ç›®äº¤å‰ï¼Œä»¥å…¼å®¹ä¸ºç¬¬ä¸€è¦åŠ¡ã€‚</li><li>å¦‚æœå…¨æ–°é¡¹ç›®ï¼Œå¯ä»¥è€ƒè™‘è¾ƒæ–°ç‰ˆæœ¬ï¼Œå¦‚Eç‰ˆã€‚å¦‚æœä½ çˆ±å¥½è¸©å‘ï¼ŒFæ‹¿å»ã€‚</li></ul><h3 id="å°ç‰ˆæœ¬-1"><a href="#å°ç‰ˆæœ¬-1" class="headerlink" title="å°ç‰ˆæœ¬"></a>å°ç‰ˆæœ¬</h3><p>å°ç‰ˆæœ¬æ²¡å•¥å¯è¯´çš„ï¼Œå°é²œï¼šSNAPSHOTï¼Œç”Ÿäº§ï¼šGAã€‚</p><p>Release train contents:</p><table><thead><tr><th>Component</th><th>Edgware.SR4</th><th>Finchley.SR1</th><th>Finchley.BUILD-SNAPSHOT</th></tr></thead><tbody><tr><td>spring-cloud-aws</td><td>1.2.3.RELEASE</td><td>2.0.0.RELEASE</td><td>2.0.1.BUILD-SNAPSHOT</td></tr><tr><td>spring-cloud-bus</td><td>1.3.3.RELEASE</td><td>2.0.0.RELEASE</td><td>2.0.1.BUILD-SNAPSHOT</td></tr><tr><td>spring-cloud-cli</td><td>1.4.1.RELEASE</td><td>2.0.0.RELEASE</td><td>2.0.1.BUILD-SNAPSHOT</td></tr><tr><td>spring-cloud-commons</td><td>1.3.4.RELEASE</td><td>2.0.1.RELEASE</td><td>2.0.2.BUILD-SNAPSHOT</td></tr><tr><td>spring-cloud-contract</td><td>1.2.5.RELEASE</td><td>2.0.1.RELEASE</td><td>2.0.2.BUILD-SNAPSHOT</td></tr><tr><td>spring-cloud-config</td><td>1.4.4.RELEASE</td><td>2.0.1.RELEASE</td><td>2.0.2.BUILD-SNAPSHOT</td></tr><tr><td>spring-cloud-netflix</td><td>1.4.5.RELEASE</td><td>2.0.1.RELEASE</td><td>2.0.2.BUILD-SNAPSHOT</td></tr><tr><td>spring-cloud-security</td><td>1.2.3.RELEASE</td><td>2.0.0.RELEASE</td><td>2.0.1.BUILD-SNAPSHOT</td></tr><tr><td>spring-cloud-cloudfoundry</td><td>1.1.2.RELEASE</td><td>2.0.0.RELEASE</td><td>2.0.1.BUILD-SNAPSHOT</td></tr><tr><td>spring-cloud-consul</td><td>1.3.4.RELEASE</td><td>2.0.1.RELEASE</td><td>2.0.2.BUILD-SNAPSHOT</td></tr><tr><td>spring-cloud-sleuth</td><td>1.3.4.RELEASE</td><td>2.0.1.RELEASE</td><td>2.0.2.BUILD-SNAPSHOT</td></tr><tr><td>spring-cloud-stream</td><td>Ditmars.SR4</td><td>Elmhurst.SR1</td><td>Elmhurst.BUILD-SNAPSHOT</td></tr><tr><td>spring-cloud-zookeeper</td><td>1.2.2.RELEASE</td><td>2.0.0.RELEASE</td><td>2.0.1.BUILD-SNAPSHOT</td></tr><tr><td>spring-boot</td><td>1.5.14.RELEASE</td><td>2.0.4.RELEASE</td><td>2.0.4.BUILD-SNAPSHOT</td></tr><tr><td>spring-cloud-task</td><td>1.2.3.RELEASE</td><td>2.0.0.RELEASE</td><td>2.0.1.BUILD-SNAPSHOT</td></tr><tr><td>spring-cloud-vault</td><td>1.1.1.RELEASE</td><td>2.0.1.RELEASE</td><td>2.0.2.BUILD-SNAPSHOT</td></tr><tr><td>spring-cloud-gateway</td><td>1.0.2.RELEASE</td><td>2.0.1.RELEASE</td><td>2.0.2.BUILD-SNAPSHOT</td></tr><tr><td>spring-cloud-openfeign</td><td></td><td>2.0.1.RELEASE</td><td>2.0.2.BUILD-SNAPSHOT</td></tr><tr><td>spring-cloud-function</td><td>1.0.0.RELEASE</td><td>1.0.0.RELEASE</td><td>1.0.1.BUILD-SNAPSHOT</td></tr></tbody></table><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SpringCloud</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JAVAä¸­é€šè¿‡Hibernate-Validationè¿›è¡Œå‚æ•°éªŒè¯</title>
    <link href="/2018/09/13/JAVA%E4%B8%AD%E9%80%9A%E8%BF%87Hibernate-Validation%E8%BF%9B%E8%A1%8C%E5%8F%82%E6%95%B0%E9%AA%8C%E8%AF%81/"/>
    <url>/2018/09/13/JAVA%E4%B8%AD%E9%80%9A%E8%BF%87Hibernate-Validation%E8%BF%9B%E8%A1%8C%E5%8F%82%E6%95%B0%E9%AA%8C%E8%AF%81/</url>
    
    <content type="html"><![CDATA[<p>åœ¨å¼€å‘JAVAæœåŠ¡å™¨ç«¯ä»£ç æ—¶ï¼Œæˆ‘ä»¬ä¼šé‡åˆ°å¯¹å¤–éƒ¨ä¼ æ¥çš„å‚æ•°åˆæ³•æ€§è¿›è¡ŒéªŒè¯ï¼Œè€Œhibernate-validatoræä¾›äº†ä¸€äº›å¸¸ç”¨çš„å‚æ•°æ ¡éªŒæ³¨è§£ï¼Œæˆ‘ä»¬å¯ä»¥æ‹¿æ¥ä½¿ç”¨ã€‚<br><strong>1.mavenä¸­å¼•å…¥hibernate-validatorå¯¹åº”çš„jarï¼š</strong></p><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.hibernate<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>hibernate-validator<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.3.1.Final<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre><a id="more"></a><p>2.åœ¨Modelä¸­å®šä¹‰è¦æ ¡éªŒçš„å­—æ®µï¼ˆå³è¯¥å­—æ®µä¸èƒ½ä¸ºç©ºï¼Œå¹¶ä¸”æœ€å¤§é•¿åº¦ä¸º14ï¼‰ï¼š**</p><pre><code class="hljs java"><span class="hljs-keyword">import</span> javax.validation.constraints.Pattern;<span class="hljs-keyword">import</span> javax.validation.constraints.Size;<span class="hljs-keyword">import</span> org.hibernate.validator.constraints.NotEmpty; <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PayRequestDto</span> </span>&#123;         <span class="hljs-comment">/**</span><span class="hljs-comment">     * æ”¯ä»˜å®Œæˆæ—¶é—´</span><span class="hljs-comment">     **/</span>    <span class="hljs-meta">@NotEmpty</span>(message=<span class="hljs-string">"æ”¯ä»˜å®Œæˆæ—¶é—´ä¸èƒ½ç©º"</span>)    <span class="hljs-meta">@Size</span>(max=<span class="hljs-number">14</span>,message=<span class="hljs-string">"æ”¯ä»˜å®Œæˆæ—¶é—´é•¿åº¦ä¸èƒ½è¶…è¿‡&#123;max&#125;ä½"</span>)    <span class="hljs-keyword">private</span> String payTime;         <span class="hljs-comment">/**</span><span class="hljs-comment">     * çŠ¶æ€</span><span class="hljs-comment">     **/</span>    <span class="hljs-meta">@Pattern</span>(regexp = <span class="hljs-string">"0[0123]"</span>, message = <span class="hljs-string">"çŠ¶æ€åªèƒ½ä¸º00æˆ–01æˆ–02æˆ–03"</span>)    <span class="hljs-keyword">private</span> String status;     <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getPayTime</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> payTime;    &#125;     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setPayTime</span><span class="hljs-params">(String payTime)</span> </span>&#123;        <span class="hljs-keyword">this</span>.payTime = payTime;    &#125;     <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getStatus</span><span class="hljs-params">()</span> </span>&#123;        <span class="hljs-keyword">return</span> status;    &#125;     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setStatus</span><span class="hljs-params">(String status)</span> </span>&#123;        <span class="hljs-keyword">this</span>.status = status;    &#125;&#125;</code></pre><p><strong>3.å®šä¹‰Validationå·¥å…·ç±»ï¼š</strong></p><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.Set;<span class="hljs-keyword">import</span> javax.validation.ConstraintViolation;<span class="hljs-keyword">import</span> javax.validation.Validation;<span class="hljs-keyword">import</span> javax.validation.Validator;<span class="hljs-keyword">import</span> org.hibernate.validator.HibernateValidator;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ValidationUtils</span> </span>&#123;        <span class="hljs-comment">/**</span><span class="hljs-comment">     * ä½¿ç”¨hibernateçš„æ³¨è§£æ¥è¿›è¡ŒéªŒè¯</span><span class="hljs-comment">     * </span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Validator validator = Validation            .byProvider(HibernateValidator<span class="hljs-class">.<span class="hljs-keyword">class</span>).<span class="hljs-title">configure</span>().<span class="hljs-title">failFast</span>(<span class="hljs-title">true</span>).<span class="hljs-title">buildValidatorFactory</span>().<span class="hljs-title">getValidator</span>()</span>;    <span class="hljs-comment">/**</span><span class="hljs-comment">     * åŠŸèƒ½æè¿°: &lt;br&gt;</span><span class="hljs-comment">     * ã€ˆæ³¨è§£éªŒè¯å‚æ•°ã€‰</span><span class="hljs-comment">     *</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> obj</span><span class="hljs-comment">     * <span class="hljs-doctag">@see</span> [ç›¸å…³ç±»/æ–¹æ³•](å¯é€‰)</span><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> [äº§å“/æ¨¡å—ç‰ˆæœ¬](å¯é€‰)</span><span class="hljs-comment">     */</span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">validate</span><span class="hljs-params">(T obj)</span> </span>&#123;        Set&lt;ConstraintViolation&lt;T&gt;&gt; constraintViolations = validator.validate(obj);        <span class="hljs-comment">// æŠ›å‡ºæ£€éªŒå¼‚å¸¸</span>        <span class="hljs-keyword">if</span> (constraintViolations.size() &gt; <span class="hljs-number">0</span>) &#123;            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RuntimeException(String.format(<span class="hljs-string">"å‚æ•°æ ¡éªŒå¤±è´¥:%s"</span>, constraintViolations.iterator().next().getMessage()));        &#125;    &#125;&#125;</code></pre><p><strong>4.åœ¨ä»£ç ä¸­è°ƒç”¨å·¥å…·ç±»è¿›è¡Œå‚æ•°æ ¡éªŒï¼š</strong></p><pre><code class="hljs java">ValidationUtils.validate(requestDto);</code></pre><p><strong>ä»¥ä¸‹æ˜¯å¯¹hibernate-validatorä¸­éƒ¨åˆ†æ³¨è§£è¿›è¡Œæè¿°ï¼š</strong></p><table><thead><tr><th>æ³¨è§£</th><th>æè¿°</th></tr></thead><tbody><tr><td>@AssertTrue</td><td>ç”¨äºbooleanå­—æ®µï¼Œè¯¥å­—æ®µåªèƒ½ä¸ºtrue</td></tr><tr><td>@AssertFalse</td><td>è¯¥å­—æ®µçš„å€¼åªèƒ½ä¸ºfalse</td></tr><tr><td>@CreditCardNumber</td><td>å¯¹ä¿¡ç”¨å¡å·è¿›è¡Œä¸€ä¸ªå¤§è‡´çš„éªŒè¯</td></tr><tr><td>@DecimalMax</td><td>åªèƒ½å°äºæˆ–ç­‰äºè¯¥å€¼</td></tr><tr><td>@DecimalMin</td><td>åªèƒ½å¤§äºæˆ–ç­‰äºè¯¥å€¼</td></tr><tr><td>@Digits(integer=,fraction=)</td><td>æ£€æŸ¥æ˜¯å¦æ˜¯ä¸€ç§æ•°å­—çš„æ•´æ•°ã€åˆ†æ•°,å°æ•°ä½æ•°çš„æ•°å­—</td></tr><tr><td>@Email</td><td>æ£€æŸ¥æ˜¯å¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„emailåœ°å€</td></tr><tr><td>@Future</td><td>æ£€æŸ¥è¯¥å­—æ®µçš„æ—¥æœŸæ˜¯å¦æ˜¯å±äºå°†æ¥çš„æ—¥æœŸ</td></tr><tr><td>@Length(min=,max=)</td><td>æ£€æŸ¥æ‰€å±çš„å­—æ®µçš„é•¿åº¦æ˜¯å¦åœ¨minå’Œmaxä¹‹é—´,åªèƒ½ç”¨äºå­—ç¬¦ä¸²</td></tr><tr><td>@Max</td><td>è¯¥å­—æ®µçš„å€¼åªèƒ½å°äºæˆ–ç­‰äºè¯¥å€¼</td></tr><tr><td>@Min</td><td>è¯¥å­—æ®µçš„å€¼åªèƒ½å¤§äºæˆ–ç­‰äºè¯¥å€¼</td></tr><tr><td>@NotNull</td><td>ä¸èƒ½ä¸ºnull</td></tr><tr><td>@NotBlank</td><td>ä¸èƒ½ä¸ºç©ºï¼Œæ£€æŸ¥æ—¶ä¼šå°†ç©ºæ ¼å¿½ç•¥</td></tr><tr><td>@NotEmpty</td><td>ä¸èƒ½ä¸ºç©ºï¼Œè¿™é‡Œçš„ç©ºæ˜¯æŒ‡ç©ºå­—ç¬¦ä¸²</td></tr><tr><td>@Null</td><td>æ£€æŸ¥è¯¥å­—æ®µä¸ºç©º</td></tr><tr><td>@Past</td><td>æ£€æŸ¥è¯¥å­—æ®µçš„æ—¥æœŸæ˜¯åœ¨è¿‡å»</td></tr><tr><td>@Pattern(regex=,flag=)</td><td>è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ç¬¦åˆæŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼</td></tr><tr><td>@Range(min=,max=,message=)</td><td>è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»åœ¨åˆé€‚çš„èŒƒå›´å†…</td></tr><tr><td>@Size(min=, max=)</td><td>æ£€æŸ¥è¯¥å­—æ®µçš„sizeæ˜¯å¦åœ¨minå’Œmaxä¹‹é—´ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€æ•°ç»„ã€é›†åˆã€Mapç­‰</td></tr><tr><td>@URL(protocol=,host,port)</td><td>æ£€æŸ¥æ˜¯å¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„URLï¼Œå¦‚æœæä¾›äº†protocolï¼Œhostç­‰ï¼Œåˆ™è¯¥URLè¿˜éœ€æ»¡è¶³æä¾›çš„æ¡ä»¶</td></tr><tr><td>@Valid</td><td>è¯¥æ³¨è§£ä¸»è¦ç”¨äºå­—æ®µä¸ºä¸€ä¸ªåŒ…å«å…¶ä»–å¯¹è±¡çš„é›†åˆæˆ–mapæˆ–æ•°ç»„çš„å­—æ®µï¼Œæˆ–è¯¥å­—æ®µç›´æ¥ä¸ºä¸€ä¸ªå…¶ä»–å¯¹è±¡çš„å¼•ç”¨ï¼Œè¿™æ ·åœ¨æ£€æŸ¥å½“å‰å¯¹è±¡çš„åŒæ—¶ä¹Ÿä¼šæ£€æŸ¥è¯¥å­—æ®µæ‰€å¼•ç”¨çš„å¯¹è±¡</td></tr></tbody></table><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>Hibernate</tag>
      
      <tag>validation</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç”¨JAVAå†™ä¸€ä¸ªç®€æ˜“å›¾ç‰‡é˜²ç¯¡æ”¹</title>
    <link href="/2018/09/11/%E7%94%A8JAVA%E5%86%99%E4%B8%80%E4%B8%AA%E7%AE%80%E6%98%93%E5%9B%BE%E7%89%87%E9%98%B2%E7%AF%A1%E6%94%B9/"/>
    <url>/2018/09/11/%E7%94%A8JAVA%E5%86%99%E4%B8%80%E4%B8%AA%E7%AE%80%E6%98%93%E5%9B%BE%E7%89%87%E9%98%B2%E7%AF%A1%E6%94%B9/</url>
    
    <content type="html"><![CDATA[<h2 id="å›¾ç‰‡é˜²æ­¢ç¯¡æ”¹éƒ¨åˆ†"><a href="#å›¾ç‰‡é˜²æ­¢ç¯¡æ”¹éƒ¨åˆ†" class="headerlink" title="å›¾ç‰‡é˜²æ­¢ç¯¡æ”¹éƒ¨åˆ†"></a>å›¾ç‰‡é˜²æ­¢ç¯¡æ”¹éƒ¨åˆ†</h2><p>ç¬¬ä¸€æ­¥ï¼Œè·å–å›¾ç‰‡çš„md5å­—ç¬¦ä¸²ï¼Œå¹¶è½¬ä¸ºå­—èŠ‚æ•°ç»„</p><a id="more"></a><pre><code class="hljs java"><span class="hljs-comment">//å°†å›¾ç‰‡ä½¿ç”¨md5åŠ å¯†</span>   <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">byte</span>[] img2Md5Bytes(File file,String salt) <span class="hljs-keyword">throws</span> Exception&#123;       FileInputStream inputStream=<span class="hljs-keyword">new</span> FileInputStream(file);       StringBuilder builder=<span class="hljs-keyword">new</span> StringBuilder();       <span class="hljs-keyword">byte</span>[] bytes=<span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">1024</span>];       <span class="hljs-keyword">int</span> bytesRead;       <span class="hljs-keyword">while</span> ((bytesRead=inputStream.read(bytes))!=-<span class="hljs-number">1</span>)&#123;           builder.append(<span class="hljs-keyword">new</span> String(bytes,<span class="hljs-number">0</span>,bytesRead));       &#125;       inputStream.close();       builder.append(salt);       String md5=md5(builder.toString());       <span class="hljs-keyword">return</span> hexStringToBytes(md5);   &#125;   <span class="hljs-comment">//16è¿›åˆ¶è½¬å­—èŠ‚æ•°ç»„</span>   <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span>   <span class="hljs-keyword">byte</span>[] hexStringToBytes(String hexString) &#123;       <span class="hljs-keyword">if</span> (hexString == <span class="hljs-keyword">null</span> || hexString.equals(<span class="hljs-string">""</span>)) &#123;           <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;       &#125;       hexString = hexString.toUpperCase();       <span class="hljs-keyword">int</span> length = hexString.length() / <span class="hljs-number">2</span>;       <span class="hljs-keyword">char</span>[] hexChars = hexString.toCharArray();       <span class="hljs-keyword">byte</span>[] d = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[length];       <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; length; i++) &#123;           <span class="hljs-keyword">int</span> pos = i * <span class="hljs-number">2</span>;           d[i] = (<span class="hljs-keyword">byte</span>) (charToByte(hexChars[pos]) &lt;&lt; <span class="hljs-number">6</span> | charToByte(hexChars[pos + <span class="hljs-number">1</span>]));       &#125;       <span class="hljs-keyword">return</span> d;   &#125;   <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">byte</span> <span class="hljs-title">charToByte</span><span class="hljs-params">(<span class="hljs-keyword">char</span> c)</span> </span>&#123;       <span class="hljs-keyword">return</span> (<span class="hljs-keyword">byte</span>) <span class="hljs-string">"0123456789ABCDEF"</span>.indexOf(c);   &#125;   <span class="hljs-comment">//md5åŠ å¯†å­—ç¬¦ä¸²</span>   <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">md5</span><span class="hljs-params">(String str)</span> </span>&#123;       <span class="hljs-keyword">try</span> &#123;           MessageDigest md = MessageDigest.getInstance(<span class="hljs-string">"MD5"</span>);           md.update(str.getBytes());           <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BigInteger(<span class="hljs-number">1</span>, md.digest()).toString(<span class="hljs-number">16</span>);       &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;           <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;       &#125;   &#125;</code></pre><p>ç¬¬äºŒæ­¥ï¼Œå›¾ç‰‡æœ«å°¾åŠ md5å­—èŠ‚æ•°ç»„</p><pre><code class="hljs java"><span class="hljs-comment">//å›¾ç‰‡æœ«å°¾åŠ md5å­—èŠ‚æ•°ç»„</span>   <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">imgAppendMd5Bytes</span><span class="hljs-params">(File file,<span class="hljs-keyword">byte</span>[] md5Bytes)</span> <span class="hljs-keyword">throws</span> Exception</span>&#123;       RandomAccessFile accessFile=<span class="hljs-keyword">new</span> RandomAccessFile(file,<span class="hljs-string">"rw"</span>);       <span class="hljs-keyword">long</span> length=accessFile.length();       accessFile.seek(length);       accessFile.write(md5Bytes);       accessFile.close();   &#125;</code></pre><p>ç¬¬ä¸‰æ­¥ï¼Œå°è£…ä¸€ä¸‹</p><pre><code class="hljs java"><span class="hljs-comment">//é˜²æ­¢å›¾ç‰‡è¢«ç¯¡æ”¹</span>  <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">preventTamper</span><span class="hljs-params">(File file,String salt)</span> <span class="hljs-keyword">throws</span> Exception</span>&#123;      <span class="hljs-keyword">byte</span>[] md5bytes=img2Md5Bytes(file,salt);      imgAppendMd5Bytes(file,md5bytes);  &#125;</code></pre><h2 id="å›¾ç‰‡éªŒè¯éƒ¨åˆ†"><a href="#å›¾ç‰‡éªŒè¯éƒ¨åˆ†" class="headerlink" title="å›¾ç‰‡éªŒè¯éƒ¨åˆ†"></a>å›¾ç‰‡éªŒè¯éƒ¨åˆ†</h2><p>ç¬¬ä¸€æ­¥ï¼Œè·å–å›¾ç‰‡çš„æœ«å°¾å­˜å‚¨çš„md5å­—èŠ‚æ•°ç»„</p><pre><code class="hljs java"><span class="hljs-comment">//è·å–å­˜å‚¨åœ¨å›¾ç‰‡æœ«å°¾çš„16ä¸ªmd5å­—èŠ‚</span>   <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">byte</span>[] popMd5Bytes(File file) <span class="hljs-keyword">throws</span> Exception&#123;       RandomAccessFile accessFile=<span class="hljs-keyword">new</span> RandomAccessFile(file,<span class="hljs-string">"rw"</span>);       <span class="hljs-keyword">byte</span>[] bytes=<span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">16</span>];       <span class="hljs-keyword">long</span> length=accessFile.length();       accessFile.seek(length-<span class="hljs-number">16</span>);       <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">16</span>;i++)&#123;           bytes[i]=accessFile.readByte();       &#125;       accessFile.close();       <span class="hljs-keyword">return</span> bytes;   &#125;</code></pre><p>ç¬¬äºŒæ­¥ï¼Œå»é™¤å›¾ç‰‡æœ«å°¾çš„16ä¸ªmd5å­—èŠ‚åï¼Œé‡æ–°è®¡ç®—å›¾ç‰‡çš„md5å€¼</p><pre><code class="hljs java"><span class="hljs-comment">//å»é™¤å›¾ç‰‡æœ«å°¾çš„16ä¸ªmd5å­—èŠ‚</span>   <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">imgDelEndMd5Bytes</span><span class="hljs-params">(File file)</span> <span class="hljs-keyword">throws</span> Exception</span>&#123;       RandomAccessFile accessFile=<span class="hljs-keyword">new</span> RandomAccessFile(file,<span class="hljs-string">"rw"</span>);       FileChannel fc = accessFile.getChannel();       fc.truncate(accessFile.length()-<span class="hljs-number">16</span>);       fc.close();       accessFile.close();   &#125;<span class="hljs-keyword">byte</span>[] imgMd5=img2Md5Bytes(file,salt);</code></pre><p>ç¬¬ä¸‰æ­¥ï¼Œå°è£…ä¸ºæ–¹æ³•</p><pre><code class="hljs java"><span class="hljs-comment">//éªŒè¯å›¾ç‰‡æ˜¯å¦è¢«ç¯¡æ”¹</span>   <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">notTamper</span><span class="hljs-params">(File file,String salt)</span> <span class="hljs-keyword">throws</span> Exception</span>&#123;       <span class="hljs-keyword">byte</span>[] storageMd5=popMd5Bytes(file);<span class="hljs-comment">//è·å–å­˜å‚¨åœ¨å›¾ç‰‡æœ«å°¾çš„16ä¸ªmd5å­—èŠ‚</span>       imgDelEndMd5Bytes(file);<span class="hljs-comment">//åˆ é™¤æœ«å°¾md5å­—èŠ‚æ•°ç»„</span>       <span class="hljs-keyword">byte</span>[] imgMd5=img2Md5Bytes(file,salt);       <span class="hljs-keyword">return</span> Arrays.equals(storageMd5,imgMd5);   &#125;</code></pre><p>ç®€å•å®ç°ï¼Œæ²¡æœ‰è¿›è¡Œè°ƒä¼˜</p><h3 id="æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·"><a href="#æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·" class="headerlink" title="æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·"></a>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·</h3><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JAVA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CentOSä¸‹å®‰è£…ç¯å¢ƒæ–‡æ¡£</title>
    <link href="/2018/09/11/CentOS%E4%B8%8B%E5%AE%89%E8%A3%85%E7%8E%AF%E5%A2%83%E6%96%87%E6%A1%A3/"/>
    <url>/2018/09/11/CentOS%E4%B8%8B%E5%AE%89%E8%A3%85%E7%8E%AF%E5%A2%83%E6%96%87%E6%A1%A3/</url>
    
    <content type="html"><![CDATA[<hr><p>ã€JDK1.7å®‰è£…ã€‘</p><hr><p>1)ç™»å½•Sunçš„JDKå®˜æ–¹ä¸‹è½½ç½‘ å€:<a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html" target="_blank" rel="noopener">http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html</a></p><p>2)ä¸‹è½½jdk-7u67-linux-x64.rpmæ–‡ä»¶</p><p>ã€‹åˆ é™¤ç³»ç»Ÿè‡ªå¸¦OpenJDK</p><p>CentOs6.5 é»˜è®¤ä¼šå®‰è£…OpenOfficeä¹‹ç±»ï¼Œéœ€è¦JAVAæ”¯æŒï¼Œç³»ç»Ÿé»˜è®¤å®‰è£…äº†ä¸€ä¸ªopenjdk1.7ç‰ˆæœ¬</p><a id="more"></a><pre><code class="hljs plain"># java -versionjava version &quot;1.7.0&quot;OpenJDK  Runtime Environment (build 1.7.0-b09)OpenJDK Client VM (build 1.7.0-b09, mixed mode)</code></pre><blockquote><p>å¤‡æ³¨ï¼š</p><p>æ— é¡»åˆ é™¤åŸæœ‰çš„openjdk;å¦åˆ™ï¼Œä¸ä¹‹ç›¸å…³çš„openofficeç­‰è½¯ä»¶ï¼Œä¹Ÿä¼šè‡ªåŠ¨éšä¹‹åˆ é™¤ï¼›</p></blockquote><p>å¦‚æœç›´æ¥â€åº”ç”¨ç¨‹åº-æ·»åŠ /åˆ é™¤è½¯ä»¶â€“åŸºæœ¬ç³»ç»Ÿâ€“javaâ€œåˆ é™¤å…¶ä»–ç›¸å…³è½¯ä»¶ä¹Ÿä¼šè‡ªåŠ¨åˆ é™¤ï¼Œæ‰€ä»¥åˆ é™¤å‰ï¼Œæœ€å¥½å®‰è£…é…ç½®å¥½æ–°çš„JDKç¯å¢ƒ</p><p> 1) åˆ é™¤åŸæœ‰çš„JDKï¼š</p><pre><code class="hljs plain"># rpm -qa|grep jdk</code></pre><p>æŸ¥çœ‹å®‰è£…çš„JDKï¼Œä¼šæ˜¾ç¤ºå¤šä¸ªjava-1.7.0-openjdk-1.7.0ç›¸å…³çš„ç¨‹åºï¼Œåœ¨ä»¥ä¸‹ä¸€ä¸€å¸è½½ã€‚ç›´åˆ°åˆ å®Œä¸ºæ­¢ï¼Œå¦‚ä¸‹ï¼š</p><pre><code class="hljs plain"># rpm -e --nodeps java-1.7.0-openjdk-1.7.0.65-2.5.1.2.el6_5.x86_64# rpm -e --nodeps java-1.7.0-openjdk-devel-1.7.0.65-2.5.1.2.el6_5.x86_64# rpm -e --nodeps java-1.7.0-openjdk-demo-1.7.0.65-2.5.1.2.el6_5.x86_64</code></pre><p>â€¦â€¦</p><pre><code class="hljs plain"># rpm -qa|grep java</code></pre><p>æŸ¥çœ‹å®‰è£…çš„JAVAå…³è”ç¨‹åºï¼Œåœ¨ä»¥ä¸‹ä¸€ä¸€å¸è½½ã€‚ç›´åˆ°åˆ å®Œä¸ºæ­¢ï¼Œå¦‚ä¸‹ï¼š</p><pre><code class="hljs plain"># rpm -e --nodeps tzdata-java-2014h-1.el6.noarch</code></pre><p>â€¦â€¦</p><p>ã€‹é…ç½®æ–°çš„JDKç¯å¢ƒ</p><p>1ï¼‰æŠŠå®‰è£…æ–‡ä»¶æ–‡ä»¶ä¿å­˜åœ¨/usr/java/toolsä¸‹ ,å¹¶åˆ‡æ¢åˆ°rootç”¨æˆ·</p><pre><code class="hljs plain"># mkdir &#x2F;usr&#x2F;java  &#x2F;&#x2F;åˆ›å»º&#x2F;urs&#x2F;javaç›®å½•# cd &#x2F;usr&#x2F;java&#x2F;# rpm -ivh .&#x2F;tools&#x2F;jdk-7u67-linux-x64.rpm</code></pre><p>ã€‹é…ç½®jdk1.6.0_22ç¯å¢ƒå˜é‡</p> <pre><code class="hljs plain"># vi &#x2F;etc&#x2F;profileJAVA_HOME&#x3D;&#x2F;usr&#x2F;java&#x2F;jdk1.7.0_79JRE_HOME&#x3D;&#x2F;usr&#x2F;java&#x2F;jdk1.7.0_79&#x2F;jrePATH&#x3D;PATH:JAVA_HOME&#x2F;bin:$JRE_HOME&#x2F;binCLASSPATH&#x3D;:JAVA_HOME&#x2F;lib&#x2F;dt.jar:JAVA_HOME&#x2F;lib&#x2F;tools.jar:$JRE_HOME&#x2F;libexport JAVA_HOME JRE_HOME PATH CLASSPATH</code></pre><p>ã€‹ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆï¼š</p><pre><code class="hljs plain">#source &#x2F;etc&#x2F;profile</code></pre><p>ã€‹æµ‹è¯•å®‰è£…</p><p>   1)æŸ¥çœ‹ç‰ˆæœ¬å·</p><pre><code class="hljs plain"># java -versionjava version &quot;1.7.0_67&quot;Java(TM) SE Runtime Environment (build 1.7.0_67-b01)Java HotSpot(TM) 64-Bit Server VM (build 24.65-b04, mixed mode)Java HotSpot(TM) Client VM (build 17.1-b03, mixed mode, sharing)</code></pre><p>è¯´æ˜æˆåŠŸäº†ã€‚</p><hr><p>ã€MYSQL5.5çš„å®‰è£…ã€‘</p><hr><p>å®‰è£…æ–¹å¼åˆ†ä¸ºrpmå’Œæºç ç¼–è¯‘å®‰è£…ä¸¤ç§ï¼Œæœ¬æ–‡æ˜¯é‡‡ç”¨mysqlæºç ç¼–è¯‘æ–¹å¼ï¼Œç¼–è¯‘å™¨ä½¿ç”¨Cmakeã€‚è½¯ä»¶éœ€è¦mysql-5.5.40.tar.gzå’Œcmake-2.8.10.2.tar.gzï¼Œè¯·è‡ªè¡Œä¸‹è½½ã€‚</p><p>ã€‹ä¸‹è½½åœ°å€ï¼š</p><p><a href="http://dev.mysql.com/get/Downloads/MySQL-5.5/mysql-5.5.40.tar.gz" target="_blank" rel="noopener">http://dev.mysql.com/get/Downloads/MySQL-5.5/mysql-5.5.40.tar.gz</a></p><p><a href="http://www.cmake.org/files/v2.8/cmake-2.8.10.2.tar.gz" target="_blank" rel="noopener">http://www.cmake.org/files/v2.8/cmake-2.8.10.2.tar.gz</a></p><p>å…¶ä¸­mysqlä½¿ç”¨æœ€æ–°çš„ç¨³å®šç‰ˆæœ¬ï¼Œå³æœ€æ–°è¯•ç”¨ç‰ˆçš„ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼Œä¸”ércæˆ–è€…alphaçš„ç‰ˆæœ¬ï¼ŒCmakeç›´æ¥ç”¨çš„æœ€æ–°ç‰ˆã€‚</p><p> ã€‹ä¸Šä¼ mysql-5.5.40.tar.gzå’Œcmake-2.8.10.2.tar.gzåˆ°/usr/java/toolsæ–‡ä»¶å¤¹ä¸‹ã€‚</p><p> ã€‹CentOSå®‰è£…g++å’Œncurses-devel</p> <pre><code class="hljs plain"># yum install gcc-c++# yum install ncurses-devel</code></pre><p>ã€‹cmakeçš„å®‰è£…</p><pre><code class="hljs plain"># mkdir -p &#x2F;usr&#x2F;java&#x2F;make# cd &#x2F;usr&#x2F;java&#x2F;make# mv ..&#x2F;tools&#x2F;cmake-2.8.10.2.tar.gz .&#x2F;# tar -zxv -f cmake-2.8.10.2.tar.gz# cd cmake-2.8.10.2# .&#x2F;configure# make# make install</code></pre><p>ã€‹å°†cmakeæ°¸ä¹…åŠ å…¥ç³»ç»Ÿç¯å¢ƒå˜é‡</p><p>ã€‹ç”¨viåœ¨æ–‡ä»¶/etc/profileæ–‡ä»¶ä¸­å¢åŠ å˜é‡ï¼Œä½¿å…¶æ°¸ä¹…æœ‰æ•ˆï¼Œ</p><pre><code class="hljs plain"># vi &#x2F;etc&#x2F;profile</code></pre><p>ã€‹åœ¨æ–‡ä»¶PATHä¸­åŠ å…¥MAKE_PATHç¯å¢ƒå˜é‡ï¼š</p><pre><code class="hljs plain">JAVA_HOME&#x3D;&#x2F;usr&#x2F;java&#x2F;jdk1.7.0_67JRE_HOME&#x3D;&#x2F;usr&#x2F;java&#x2F;jdk1.7.0_67&#x2F;jreMAKE_PATH&#x3D;&#x2F;usr&#x2F;java&#x2F;cmake&#x2F;cmake-2.8.10.2&#x2F;binPATH&#x3D;MAKE_PATH:PATH:JAVA_HOME&#x2F;bin:JRE_HOME&#x2F;binCLASSPATH&#x3D;:JAVA_HOME&#x2F;lib&#x2F;dt.jar:JAVA_HOME&#x2F;lib&#x2F;tools.jar:$JRE_HOME&#x2F;libexport JAVA_HOME JRE_HOME PATH CLASSPATH</code></pre><p>ã€‹æ‰§è¡Œä»¥ä¸‹ä»£ç ä½¿åˆšæ‰çš„ä¿®æ”¹ç”Ÿæ•ˆï¼š</p><pre><code class="hljs plain"># source &#x2F;etc&#x2F;profile</code></pre><p>ã€‹ç”¨ export å‘½ä»¤æŸ¥çœ‹PATHå€¼</p><pre><code class="hljs plain"># echo $PATH</code></pre><p>ã€‹åˆ›å»ºmysqlçš„å®‰è£…ç›®å½•åŠæ•°æ®åº“å­˜æ”¾ç›®å½•</p> <pre><code class="hljs plain"># mkdir -p &#x2F;usr&#x2F;java&#x2F;mysql &#x2F;&#x2F;å®‰è£…mysql# mkdir -p &#x2F;usr&#x2F;java&#x2F;mysql&#x2F;data &#x2F;&#x2F;å­˜æ”¾æ•°æ®åº“</code></pre><p>ã€‹åˆ›å»ºmysqlç”¨æˆ·åŠç”¨æˆ·ç»„</p><pre><code class="hljs plain"># groupadd mysql# useradd -r -g mysql mysql</code></pre><p>ã€‹ç¼–è¯‘å®‰è£…mysql</p><pre><code class="hljs plain"># cd &#x2F;usr&#x2F;java&#x2F;mysql# tar zxvf ..&#x2F;tools&#x2F;mysql-5.5.40.tar.gz# cd mysql-5.5.40&#x2F;# cmake -DCMAKE_INSTALL_PREFIX&#x3D;&#x2F;usr&#x2F;java&#x2F;mysql \-DMYSQL_UNIX_ADDR&#x3D;&#x2F;usr&#x2F;java&#x2F;mysql&#x2F;mysql.sock \-DDEFAULT_CHARSET&#x3D;utf8 \-DDEFAULT_COLLATION&#x3D;utf8_general_ci \-DWITH_MYISAM_STORAGE_ENGINE&#x3D;1 \-DWITH_INNOBASE_STORAGE_ENGINE&#x3D;1 \-DWITH_MEMORY_STORAGE_ENGINE&#x3D;1 \-DWITH_READLINE&#x3D;1 \-DENABLED_LOCAL_INFILE&#x3D;1 \-DMYSQL_DATADIR&#x3D;&#x2F;usr&#x2F;java&#x2F;mysql&#x2F;data \-DMYSQL_USER&#x3D;mysql \-DMYSQL_TCP_PORT&#x3D;6666# make# make install</code></pre><p>ã€‹æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸ</p> <pre><code class="hljs plain"># cd  &#x2F;usr&#x2F;java&#x2F;mysql[root@fiona mysql]# lsbin      data  include         lib  mysql-5.5.40  mysql-test  scripts  sql-benchCOPYING  docs  INSTALL-BINARY  man  mysql.sock    README      share    support-files</code></pre><p> æœ‰binç­‰ä»¥ä¸Šæ–‡ä»¶çš„è¯ï¼Œæ­å–œä½ å·²ç»æˆåŠŸå®‰è£…äº†mysqlã€‚</p><p> ã€‹é…ç½®mysql</p><p> ã€‹è®¾ç½®mysqlç›®å½•æƒé™</p><pre><code class="hljs plain"># cd &#x2F;usr&#x2F;java&#x2F;mysql &#x2F;&#x2F;æŠŠå½“å‰ç›®å½•ä¸­æ‰€æœ‰æ–‡ä»¶çš„æ‰€æœ‰è€…è®¾ä¸ºrootï¼Œæ‰€å±ç»„ä¸ºmysql# chown -R root:mysql .# chown -R mysql:mysql data</code></pre><p>ã€‹å°†mysqlçš„å¯åŠ¨æœåŠ¡æ·»åŠ åˆ°ç³»ç»ŸæœåŠ¡ä¸­</p><pre><code class="hljs plain"># cp support-files&#x2F;my-medium.cnf &#x2F;etc&#x2F;my.cnfcpï¼šæ˜¯å¦è¦†ç›–&quot;&#x2F;etc&#x2F;my.cnf&quot;ï¼Ÿ y</code></pre><p>ã€‹åˆ›å»ºç³»ç»Ÿæ•°æ®åº“çš„è¡¨</p><pre><code class="hljs plain"># cd &#x2F;usr&#x2F;java&#x2F;mysql# scripts&#x2F;mysql_install_db --user&#x3D;mysql</code></pre><p>ã€‹è®¾ç½®ç¯å¢ƒå˜é‡</p><pre><code class="hljs plain"># vi &#x2F;root&#x2F;.bash_profile</code></pre><p>åœ¨ä¿®æ”¹PATH=$PATH:$HOME/binä¸ºï¼š</p><pre><code class="hljs plain">PATH&#x3D;PATH:HOME&#x2F;bin:&#x2F;usr&#x2F;java&#x2F;mysql&#x2F;bin:&#x2F;usr&#x2F;java&#x2F;mysql&#x2F;lib# source &#x2F;root&#x2F;.bash_profile &#x2F;&#x2F;ä½¿åˆšæ‰çš„ä¿®æ”¹ç”Ÿæ•ˆ</code></pre><p>ã€‹æ‰‹åŠ¨å¯åŠ¨mysql</p><pre><code class="hljs plain"># .&#x2F;bin&#x2F;mysqld_safe --user&#x3D;mysql &amp; &#x2F;&#x2F;å¯åŠ¨MySQLï¼Œä½†ä¸èƒ½åœæ­¢mysqladmin -u root -p shutdown &#x2F;&#x2F;æ­¤æ—¶rootè¿˜æ²¡å¯†ç ï¼Œæ‰€ä»¥ä¸ºç©ºå€¼ï¼Œæç¤ºè¾“å…¥å¯†ç æ—¶ï¼Œç›´æ¥å›è½¦å³å¯ã€‚</code></pre><p>ã€‹å°†mysqlçš„å¯åŠ¨æœåŠ¡æ·»åŠ åˆ°ç³»ç»ŸæœåŠ¡ä¸­</p><pre><code class="hljs plain"># cp support-files&#x2F;mysql.server &#x2F;etc&#x2F;init.d&#x2F;mysql</code></pre><p>ã€‹å¯åŠ¨mysql</p><pre><code class="hljs plain"># service mysql startStarting MySQL... ERROR! The server quit without updating PID file (&#x2F;usr&#x2F;java&#x2F;mysql&#x2F;data&#x2F;localhost.localdomain.pid).</code></pre><p>ã€‹å¯åŠ¨å¤±è´¥ï¼š</p><p>ã€‹æˆ‘è¿™é‡Œæ˜¯æƒé™é—®é¢˜ï¼Œå…ˆæ”¹å˜æƒé™</p><pre><code class="hljs plain"># chown -R mysql:mysql &#x2F;usr&#x2F;java&#x2F;mysql</code></pre><p>ã€‹æ¥ç€å¯åŠ¨æœåŠ¡å™¨</p><pre><code class="hljs plain"># &#x2F;etc&#x2F;init.d&#x2F;mysql start</code></pre><p>ã€‹ä¿®æ”¹MySQLçš„rootç”¨æˆ·çš„å¯†ç ä»¥åŠæ‰“å¼€è¿œç¨‹è¿æ¥</p><pre><code class="hljs plain"># mysql -u root mysqlmysql&gt; use mysql;mysql&gt; desc user;mysql&gt; GRANT ALL PRIVILEGES ON . TO root@&quot;%&quot; IDENTIFIED BY &quot;root&quot;; &#x2F;&#x2F;ä¸ºrootæ·»åŠ è¿œç¨‹è¿æ¥çš„èƒ½åŠ›mysql&gt; update user set Password &#x3D; password(&#39;x123456.&#39;) where User&#x3D;&#39;root&#39;; &#x2F;&#x2F;è®¾ç½®rootç”¨æˆ·å¯†ç mysql&gt; select Host,User,Password from user where User&#x3D;&#39;root&#39;;mysql&gt; flush privileges;mysql&gt; exit</code></pre><p>ã€‹é‡æ–°ç™»å½•</p><pre><code class="hljs plain"># mysql -u root -penter password:x123456.000</code></pre><p>ã€‹è‹¥è¿˜ä¸èƒ½è¿›è¡Œè¿œç¨‹è¿æ¥ï¼Œå…³é—­é˜²ç«å¢™</p><pre><code class="hljs plain">[root@localhost]# &#x2F;etc&#x2F;rc.d&#x2F;init.d&#x2F;iptables stop</code></pre><p>ç”¨è¿œç¨‹å·¥å…·è¿æ¥ä¸Šäº†è¡¨ç¤ºæˆåŠŸäº†ã€‚</p><hr><p>ã€TOMCAT7.0çš„å®‰è£…ã€‘</p><hr><p>ã€‹å…ˆä¸‹è½½apache-tomcat-7.0.56.tar.gz</p><p>ã€‹ä¸‹è½½åœ°ä¸‹ï¼š<a href="http://mirrors.hust.edu.cn/apache/tomcat/tomcat-7/v7.0.56/bin/apache-tomcat-7.0.56.tar.gz" target="_blank" rel="noopener">http://mirrors.hust.edu.cn/apache/tomcat/tomcat-7/v7.0.56/bin/apache-tomcat-7.0.56.tar.gz</a></p><pre><code class="hljs plain"># cd &#x2F;usr&#x2F;java# tar -zxvf .&#x2F;tools&#x2F;apache-tomcat-7.0.56.tar.gz# cd &#x2F;etc&#x2F;rc.d&#x2F;init.d# vi tomcat#----------è¾“å…¥ä»¥ä¸‹ä¿¡æ¯---------------------## chkconfig: 345 80 15# description: Tomcat is a Servlet+JSP Engine.# Enter the jdk installation directoryjdk_File&#x3D;&#x2F;usr&#x2F;java&#x2F;jdk1.7.0_67# Enter the tomcat installation directorytomcat_File&#x3D;&#x2F;usr&#x2F;java&#x2F;apache-tomcat-7.0.56export JAVA_HOME&#x3D;$jdk_File# Source function library.. &#x2F;etc&#x2F;rc.d&#x2F;init.d&#x2F;functionsstart()&#123;if [ -z $(&#x2F;sbin&#x2F;pidof java) ]; thenecho &quot;Starting tomcat&quot;$tomcat_File&#x2F;bin&#x2F;startup.shtouch &#x2F;var&#x2F;lock&#x2F;subsys&#x2F;tomcatelseecho &quot;tomcat allready running&quot;fi&#125;stop()&#123;if [ ! -z $(&#x2F;sbin&#x2F;pidof java) ]; thenecho &quot;Shutting down tomcat&quot;$tomcat_File&#x2F;bin&#x2F;shutdown.shuntil [ -z $(&#x2F;sbin&#x2F;pidof java) ]; do :; donerm -f &#x2F;var&#x2F;lock&#x2F;subsys&#x2F;tomcatelseecho &quot;tomcat not running&quot;fi&#125;case &quot;$1&quot; instart)start;;stop)stop;;restart)stopstart;;status)$tomcat_File&#x2F;bin&#x2F;catalina.sh version;;*)echo &quot;Usage: $0 &#123;start|stop|restart|status&#125;&quot;esacexit 0#----------è¾“å…¥ä»¥ä¸‹ä¿¡æ¯---------------------:wq! #ä¿å­˜é€€å‡º # chmod 755 &#x2F;etc&#x2F;rc.d&#x2F;init.d&#x2F;tomcat #æ·»åŠ æ‰§è¡Œæƒé™# chkconfig --add tomcat #æ·»åŠ æœåŠ¡# chkconfig tomcat on #è®¾ç½®å¼€æœºå¯åŠ¨# service tomcat stop #åœæ­¢# service tomcat start #å¯åŠ¨# service tomcat restart #é‡å¯# service tomcat status #æŸ¥çœ‹çŠ¶æ€ä¿¡æ¯</code></pre><hr><p>ã€nginx-1.7.6.tar.gzçš„å®‰è£…ã€‘</p><hr><p>ã€‹å…ˆä¸‹è½½nginx-1.7.6.tar.gz</p><p>ã€‹ä¸‹è½½URL:<a href="http://nginx.org/download/nginx-1.7.6.tar.gz" target="_blank" rel="noopener">http://nginx.org/download/nginx-1.7.6.tar.gz</a></p><p>ã€‹æŠŠnginx-1.7.6.tar.gzæ”¾åˆ°/usr/java/toolsç›®å½•ä¸‹</p><pre><code class="hljs plain"># cd &#x2F;usr&#x2F;local&#x2F;# tar -zxvf &#x2F;usr&#x2F;java&#x2F;tools&#x2F;nginx-1.7.5.tar.gz# cd nginx-1.7.6&#x2F;# yum -y install pcre-devel# yum install -y zlib-devel# .&#x2F;configure# make &amp;&amp; make install# cd &#x2F;usr&#x2F;local&#x2F;nginx# cd sbin# .&#x2F;nginx# &#x2F;etc&#x2F;rc.d&#x2F;init.d&#x2F;iptables stop</code></pre><p>ã€‹é…ç½®æœåŠ¡å™¨å¯åŠ¨æ–¹å¼</p><pre><code class="hljs plain"># vi &#x2F;etc&#x2F;init.d&#x2F;nginx#---------è¾“å…¥ä»¥ä¸‹ä¿¡æ¯------------------# nginx Startup script for the Nginx HTTP Server# it is v.0.0.2 version.# chkconfig: - 85 15# description: Nginx is a high-performance web and proxy server.# It has a lot of features, but it&#39;s not for everyone.# processname: nginx# pidfile: &#x2F;software&#x2F;nginx&#x2F;logs&#x2F;nginx.pid# config: &#x2F;software&#x2F;nginx&#x2F;conf&#x2F;nginx.confnginxd&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginxnginx_config&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;conf&#x2F;nginx.confnginx_pid&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;logs&#x2F;nginx.pidRETVAL&#x3D;0prog&#x3D;&quot;nginx&quot;# Source function library.. &#x2F;etc&#x2F;rc.d&#x2F;init.d&#x2F;functions# Source networking configuration.. &#x2F;etc&#x2F;sysconfig&#x2F;network# Check that networking is up.[ $&#123;NETWORKING&#125; &#x3D; &quot;no&quot; ] &amp;&amp; exit 0[ -x $nginxd ] || exit 0# Start nginx daemons functions.start() &#123;if [ -e $nginx_pid ];thenecho &quot;nginx already running....&quot;exit 1fiecho -n &quot;Starting prog: &quot;daemon nginxd -c &#123;nginx_config&#125;RETVAL&#x3D;$?echo[ $RETVAL &#x3D; 0 ] &amp;&amp; touch &#x2F;var&#x2F;lock&#x2F;subsys&#x2F;nginxreturn $RETVAL&#125;# Stop nginx daemons functions.stop() &#123;echo -n &quot;Stopping prog: &quot;killproc $nginxdRETVAL&#x3D;$?echo[ $RETVAL &#x3D; 0 ] &amp;&amp; rm -f &#x2F;var&#x2F;lock&#x2F;subsys&#x2F;nginx &#x2F;usr&#x2F;local&#x2F;nginx&#x2F;logs&#x2F;nginx.pid&#125;reload() &#123;echo -n &quot;Reloading prog: &quot;#kill -HUP cat $&#123;nginx_pid&#125;killproc $nginxd -HUPRETVAL&#x3D;$?echo&#125;# See how we were called.case &quot;$1&quot; instart)start;;stop)stop;;reload)reload;;restart)stopstart;;status)status $progRETVAL&#x3D;$?;;*)echo &quot;Usage: prog &#123;start|stop|restart|reload|status|help&#125;&quot;exit 1esacexit $RETVAL#---------è¾“å…¥ä»¥ä¸‹ä¿¡æ¯------------------# chmod 755 &#x2F;etc&#x2F;init.d&#x2F;nginx &amp;&amp; chkconfig nginx on# service nginx start# service nginx stop# service nginx restart# ps -ef | grep nginx# netstat -pant | grep 80</code></pre><p>ã€‹æµ‹è¯•åœ¨æµè§ˆå™¨ä¸­è¾“å…¥å¹¿åŸŸç½‘IPçœ‹çœ‹èƒ½ä¸èƒ½çœ‹åˆ°æ¬¢è¿ç•Œé¢ï¼Œå¦‚æœèƒ½å°±è¡¨ç¤ºæˆåŠŸäº†ã€‚</p><hr><p>ã€é…ç½®è§„åˆ™ã€‘</p><hr><pre><code class="hljs plain"># vi &#x2F;etc&#x2F;sysconfig&#x2F;iptables</code></pre><p>å¢åŠ å¦‚ä¸‹é…ç½®:</p><blockquote><p>-A INPUT -m state â€“state NEW -m tcp -p tcp â€“dport 80 -j ACCEPT</p><p>-A INPUT -m state â€“state NEW -m tcp -p tcp â€“dport 8888 -j ACCEPT</p><p>-A INPUT -m state â€“state NEW -m tcp -p tcp â€“dport 6666 -j ACCEPT</p></blockquote><pre><code class="hljs plain"># service iptables restart</code></pre><p>ã€‹ç³»ç»Ÿå¯åŠ¨çš„æ–¹å¼ä¸ºè‡ªå¯åŠ¨</p><pre><code class="hljs plain"># chkconfig mysql on# chkconfig nginx on# chkconfig tomcat on</code></pre><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
      <category>Server</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CentOS</tag>
      
      <tag>MySQL</tag>
      
      <tag>JDK</tag>
      
      <tag>Tomcat</tag>
      
      <tag>Nginx</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CentOS 7 å®‰è£… Apache, MySQL, PHP æŒ‡å—</title>
    <link href="/2018/09/11/CentOS-7-%E5%AE%89%E8%A3%85-Apache-MySQL-PHP-%E6%8C%87%E5%8D%97/"/>
    <url>/2018/09/11/CentOS-7-%E5%AE%89%E8%A3%85-Apache-MySQL-PHP-%E6%8C%87%E5%8D%97/</url>
    
    <content type="html"><![CDATA[<p>ä¸€ä¸ª LAMP è½¯ä»¶æ ˆé€šå¸¸ç”±å¤šä¸ªå¼€æºè½¯ä»¶ç»„åˆè€Œæˆï¼Œå®ƒä»¬åˆåŠ›é©±åŠ¨ä¸€ä¸ªæœåŠ¡å™¨å»è¿è¡Œ web ç«™ç‚¹å’Œåº”ç”¨ã€‚LAMP è¿™ä¸ªæœ¯è¯­å®é™…ä¸Šæ˜¯ä¸€ä¸ªç”± Linux æ“ä½œç³»ç»Ÿï¼ŒApache web æœåŠ¡å™¨ï¼ŒMySQL æ•°æ®åº“æœåŠ¡å™¨ï¼Œä»¥åŠ PHP ç¼–ç¨‹ç¯å¢ƒç»„åˆç¼©ç•¥è€Œæˆçš„ã€‚</p><p>åœ¨è¿™ç¯‡æŒ‡å—ä¸­ï¼Œæˆ‘ä»¬å°†ä¸ºä¸€ä¸ªæ­è½½ CentOS 7 æ“ä½œç³»ç»Ÿçš„æœåŠ¡å™¨å®‰è£… LAMP è½¯ä»¶æ ˆã€‚CentOS å·²ç»æ»¡è¶³äº† LAMP è½¯ä»¶æ ˆçš„ç¬¬ä¸€ä¸ªéœ€æ±‚ï¼šä¸€ä¸ª Linux æ“ä½œç³»ç»Ÿã€‚</p> <a id="more"></a><p>é¢„å¤‡æ¡ä»¶</p><p>åœ¨ç»§ç»­é˜…è¯»è¿™ç¯‡æŒ‡å—ä¹‹å‰ï¼Œè¯·ç¡®è®¤ä½ ä½¿ç”¨å…·æœ‰ root æƒé™çš„ç”¨æˆ·ç™»å½•äº† CentOSã€‚å¦‚æœå¯¹äºå½“å‰ç”¨æˆ·å¦‚ä½•å–å¾— root æƒé™å­˜åœ¨ç–‘é—®ï¼Œè¯·å’¨è¯¢æœåŠ¡å™¨çš„ç®¡ç†äººå‘˜ã€‚</p><p>ç¬¬ä¸€æ­¥ â€”â€” å®‰è£… Apache</p><p>Apache æ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€å¹¿æ³›ä½¿ç”¨çš„ web æœåŠ¡å™¨ï¼Œè¿™ä½¿å¾—å®ƒæˆä¸ºè¿è¡Œç½‘ç«™çš„ç»ä½³é€‰æ‹©ã€‚</p><p>åˆ©ç”¨ CentOS çš„è½¯ä»¶å®‰è£…åŒ…ç®¡ç†ç³»ç»Ÿ yumï¼Œæˆ‘ä»¬å¯ä»¥è½»æ˜“åœ°å®‰è£… Apacheã€‚å®ƒä¸ºæˆ‘ä»¬æä¾›äº†æ— ç—›å¼åœ°ä» CentOS ç»´æŠ¤çš„ä»“åº“è·å–å¹¶å®‰è£…ç»å¤§å¤šæ•°è½¯ä»¶çš„æ–¹å¼ã€‚ä½ å¯ä»¥å‰å¾€è¿™é‡Œ (<a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-and-use-yum-repositories-on-a-centos-6-vps" target="_blank" rel="noopener">https://www.digitalocean.com/community/tutorials/how-to-set-up-and-use-yum-repositories-on-a-centos-6-vps</a>) è·å–æ›´å¤šå¦‚ä½•ä½¿ç”¨ yum å®‰è£…åŒ…ç®¡ç†ç³»ç»Ÿçš„æŒ‡å¯¼ã€‚</p><p>å¯¹äºæˆ‘ä»¬çš„ç›®çš„è€Œè¨€ï¼Œå®‰è£… Apache åªéœ€è¦åœ¨ CentOS å‘½ä»¤ç»ˆç«¯æ•²å…¥è¿™æ¡å‘½ä»¤å°±è¡Œäº†ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo yum install httpd</span></code></pre><p>ç”±äºä½¿ç”¨äº† sudo å‘½ä»¤ï¼Œè¿™äº›æ“ä½œå°†ä»¥ root æƒé™æ‰§è¡Œã€‚å¦‚æœå½“å‰ç”¨æˆ·çš„èº«ä»½ä¸æ˜¯ rootï¼ŒCentOS å°†ä¼šè¦æ±‚ä½ è¾“å…¥å½“å‰ç”¨æˆ·çš„å¯†ç ï¼Œä»¥éªŒè¯ä½ çš„æ„å›¾ã€‚</p><p>ä¸ç”¨ä¸€ä¼šå„¿ï¼Œä½ çš„ web æœåŠ¡å™¨å°±å®‰è£…å¥½äº†ã€‚</p><p>ä¸€æ—¦å®‰è£…æˆåŠŸï¼Œä½ å°±å¯ä»¥è®¾ç½®æœåŠ¡å™¨å¯åŠ¨æ—¶å°±å¼€å¯ Apache æœåŠ¡ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo systemctl <span class="hljs-built_in">enable</span> httpd.service</span></code></pre><p>ä½ å¯ä»¥é€šè¿‡é‡æ–°å¯åŠ¨æœåŠ¡å™¨ï¼Œç„¶ååœ¨å‘½ä»¤è¡Œç»ˆç«¯ä¸­æ•²å…¥è¿™æ¡å‘½ä»¤æ¥éªŒè¯ Apache æœåŠ¡æ˜¯å¦åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶è‡ªåŠ¨å¼€å¯äº†ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo systemctl is-enabled httpd.service</span></code></pre><p>å¦‚æœä½ çœ‹åˆ°äº†è¿™æ ·çš„å“åº”ï¼š</p><pre><code class="hljs shell">enabled</code></pre><p>åˆ™è¯´æ˜ Apache æœåŠ¡å·²ç»é…ç½®ä¸ºåœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶è‡ªåŠ¨å¼€å¯äº†ã€‚</p><p>åœ¨æœåŠ¡å™¨ä¸Šå¯åŠ¨ Apache æœåŠ¡çš„å‘½ä»¤ä¸ºï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash">sudo systemctl start httpd.service</span></code></pre><p>é‡æ–°å¯åŠ¨ Apacheï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash">sudo systemctl restart httpd.service</span></code></pre><p>åœæ­¢ Apacheï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash">sudo systemctl stop httpd.service</span></code></pre><p>ä»¥åŠ</p><p>å¦‚æœä½ çš„æœåŠ¡å™¨æ­£åœ¨è¿è¡Œé˜²ç«å¢™ï¼Œè¯·è¿è¡Œä¸‹åˆ—å‘½ä»¤ä»¥å…è®¸å®ƒè¿›è¡Œ HTTP å’Œ HTTPS é€šä¿¡ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash">sudo firewall-cmd --permanent --zone=public --add-service=http</span><span class="hljs-meta">$</span><span class="bash">sudo firewall-cmd --permanent --zone=public --add-service=https</span><span class="hljs-meta">$</span><span class="bash">sudo firewall-cmd --reload</span></code></pre><p>åœ¨ Apache å¯åŠ¨çš„æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥åœ¨æµè§ˆå™¨é‡Œè®¿é—®æœåŠ¡å™¨çš„å…¬ç½‘ IP åœ°å€ä»¥éªŒè¯ä¸€åˆ‡å¦‚è®¡åˆ’é‚£æ ·é¡ºåˆ©åœ°è¿›è¡Œï¼ˆå¦‚æœä½ ç°åœ¨è¿˜ä¸çŸ¥é“å¦‚ä½•è·å–æœåŠ¡å™¨çš„å…¬ç½‘ IP åœ°å€ï¼Œè¯·å‚è€ƒä¸‹ä¸€æ ‡é¢˜ä¸­çš„å†…å®¹ï¼‰ï¼š</p><p>http://&lt;æœåŠ¡å™¨çš„å…¬ç½‘ IP åœ°å€&gt;/</p><p>ä½ å°†ä¼šçœ‹åˆ°ä¸€ä¸ªå‡ºäºé€šçŸ¥å’Œæµ‹è¯•ç›®çš„è€Œå­˜åœ¨çš„é»˜è®¤ CentOS 7 Apache ç½‘é¡µã€‚å®ƒåº”è¯¥é•¿è¿™æ ·å­ï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymrtia7nj30jv05zaaj.jpg" srcset="/img/loading.gif" alt="img"></p><p>å¦‚æœä½ çœ‹åˆ°äº†è¿™ä¸ªé¡µé¢ï¼Œé‚£ä¹ˆä½ çš„ web æœåŠ¡å™¨ç°åœ¨å·²ç»æ­£ç¡®åœ°å®‰è£…äº†ã€‚</p><p>å¦‚ä½•æ‰¾åˆ°æœåŠ¡å™¨çš„å…¬ç½‘ IP åœ°å€</p><p>å¦‚æœä½ ä¸çŸ¥é“æœåŠ¡å™¨çš„å…¬ç½‘ IP åœ°å€æ˜¯ä»€ä¹ˆï¼Œä½ å¯ä»¥ä½¿ç”¨å¤šç§æ–¹å¼æ‰¾åˆ°å®ƒã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå®ƒå°±æ˜¯ä½ é€šè¿‡ SSH ç”¨ä»¥è¿æ¥æœåŠ¡å™¨çš„åœ°å€ã€‚</p><p>åœ¨å‘½ä»¤è¡Œç»ˆç«¯ä¸­ï¼Œä½ æœ‰å¤šç§æ–¹å¼æ‰¾åˆ°å®ƒã€‚é¦–å…ˆï¼Œä½ å¯ä»¥é€šè¿‡ä¸‹é¢è¿™æ¡å‘½ä»¤ï¼Œè®© iproute2 å·¥å…·å¸®ä½ æ‰¾å‡ºæœåŠ¡å™¨çš„ IP åœ°å€ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ip addr show eth1 | grep inet | awk <span class="hljs-string">'&#123; print $2; &#125;'</span> | sed <span class="hljs-string">'s/\/.*$//'</span></span></code></pre><p>è¿™å°†ä¼šè¿”å›ä¸€åˆ°ä¸¤è¡Œç»“æœã€‚å®ƒä»¬éƒ½æ˜¯æ­£ç¡®çš„ IP åœ°å€ï¼Œä½†æ˜¯ä½ çš„è®¡ç®—æœºå¯èƒ½åªèƒ½ä½¿ç”¨å…¶ä¸­çš„ä¸€æ¡ï¼Œæ‰€ä»¥éšæ„è¯•è¯•å…¶ä¸­çš„æ¯ä¸€æ¡ã€‚</p><p>å¦ä¸€ç§æ–¹æ³•æ˜¯è®©ä¸€ä¸ªå¤–éƒ¨ç»„ç»‡å‘Šè¯‰ä½ å®ƒæ˜¯æ€æ ·æ‰¾åˆ°ä½ çš„æœåŠ¡å™¨çš„ï¼Œä½ å¯ä»¥é€šè¿‡è¯¢é—®ç‰¹å®šçš„æœåŠ¡å™¨æ¥è·çŸ¥è‡ªå·±çš„ IP åœ°å€ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> curl http://icanhazip.com</span></code></pre><p>ç¬¬äºŒæ­¥ â€”â€” å®‰è£… MySQL</p><p>MySQL æ˜¯ä¸€ä¸ª web æœåŠ¡å™¨ä¸Šæµè¡Œçš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿã€‚ç„¶è€Œï¼Œä» CentOS 7 çš„è½¯ä»¶ä»“åº“ä¸å†æä¾› MySQL çš„å®‰è£…åŒ…ï¼Œè½¬è€Œæä¾› MariaDB ä½œä¸ºé»˜è®¤çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿã€‚MariaDB ä½œä¸º MySQL çš„ç®€æ˜“æ›¿ä»£å“ï¼Œè¶³ä»¥èƒœä»»é€šå¸¸æ„ä¹‰ä¸Šä½ å¯¹çš„æ•°æ®åº“ç³»ç»Ÿçš„éœ€æ±‚ (<a href="https://mariadb.com/kb/en/mariadb/mariadb-vs-mysql-compatibility/)ã€‚ä½ å¯ä»¥å‰å¾€è¿™é‡Œ" target="_blank" rel="noopener">https://mariadb.com/kb/en/mariadb/mariadb-vs-mysql-compatibility/)ã€‚ä½ å¯ä»¥å‰å¾€è¿™é‡Œ</a> (<a href="https://www.linode.com/docs/databases/mariadb/how-to-install-mariadb-on-centos-7" target="_blank" rel="noopener">https://www.linode.com/docs/databases/mariadb/how-to-install-mariadb-on-centos-7</a>) è·å–åœ¨ CentOS 7 ä¸Šå®‰è£… MariaDB çš„æŒ‡å¯¼ã€‚</p><p>å¦‚æœä½ ä¸è®ºå¦‚ä½•éƒ½æ›´éœ€è¦ MySQL ä½œä¸º web æœåŠ¡å™¨ä¸Šçš„æ•°æ®ç®¡ç†ç³»ç»Ÿï¼Œé‚£ä¹ˆè¯·ç»§ç»­é˜…è¯»ä¸‹é¢è¿™éƒ¨åˆ†æŒ‡å—ï¼Œå®ƒå°†æŒ‡å¼•ä½ å¦‚ä½•åœ¨è¿è¡Œ CentOS 7 çš„æœåŠ¡å™¨ä¸Šå®‰è£…å¹¶é…ç½® MySQL æ•°æ®åº“ã€‚</p><p>å¼€å§‹å®‰è£… MySQL ä¹‹å‰ï¼Œè¯·æ›´æ–°ç³»ç»Ÿä¸Šçš„è½¯ä»¶åˆ°æœ€æ–°ç‰ˆï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo yum update</span></code></pre><p>ç”±äº CentOS 7 çš„è½¯ä»¶ä»“åº“ä¸å†æä¾› MySQL çš„å®‰è£…åŒ…ï¼Œæˆ‘ä»¬å¿…é¡»ä» MySQL ç¤¾åŒºä»“åº“ (<a href="https://dev.mysql.com/downloads/repo/yum/" target="_blank" rel="noopener">https://dev.mysql.com/downloads/repo/yum/</a>) è·å– MySQL å®‰è£…åŒ…ã€‚</p><p>é¦–å…ˆï¼Œè·å– MySQL ç¤¾åŒºä»“åº“ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> wget http://repo.mysql.com/mysql57-community-release-el7-8.noarch.rpm</span></code></pre><p>è½½å…¥ MySQL ç¤¾åŒºä»“åº“ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo yum install mysql57-community-release-el7-8.noarch.rpm</span></code></pre><p>æ›´æ–°ç³»ç»Ÿä¸Šçš„è½¯ä»¶åˆ°æœ€æ–°ç‰ˆï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo yum update</span></code></pre><p>åœ¨æ›´æ–°è¿‡ç¨‹ä¸­ï¼Œä½ ä¼šè¢«è¯¢é—®æ˜¯å¦æƒ³æ¥å—è¿™ä¸ª .rpm æ–‡ä»¶ GPG æ ¡éªŒå¾—å‡ºçš„ç»“æœï¼Œå¦‚æœæ²¡æœ‰é”™è¯¯æˆ–è€…ä¸åŒ¹é…å‡ºç°ï¼Œè¯·è¾“å…¥ y ä»¥å®Œæˆæ›´æ–°ã€‚</p><p>æ¥ç€ï¼Œæˆ‘ä»¬å°±èƒ½ä¸€å¦‚å¾€å¸¸ä¸€æ ·å®‰è£… MySQL äº†ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo yum install mysql-server</span></code></pre><p>æ¥ä¸‹æ¥ï¼Œè¯·æŒ‰ç…§è¿™é‡Œçš„æŒ‡å—ï¼Œé‡ç½® MySQL root è´¦æˆ·çš„å¯†ç ä¸ºä½ èƒ½å¤Ÿè®°ä½çš„å¯†ç :</p><p><a href="http://stackoverflow.com/questions/33510184/change-mysql-root-password-on-centos7" target="_blank" rel="noopener">http://stackoverflow.com/questions/33510184/change-mysql-root-password-on-centos7</a></p><p>ç„¶åï¼Œå¯åŠ¨ MySQL æœåŠ¡ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo systemctl start mysqld</span></code></pre><p>ç°åœ¨ MySQL æ•°æ®åº“å·²ç»å¼€å§‹è¿è¡Œäº†ã€‚æˆ‘ä»¬å¸Œæœ›è¿è¡Œä¸€ä¸ªå®‰å…¨é˜²å¾¡è„šæœ¬ï¼Œå°†ä¸€äº›å±é™©çš„é»˜è®¤é…ç½®ç§»é™¤æ‰ï¼Œå¹¶ä¸ºæˆ‘ä»¬çš„æ•°æ®åº“ç³»ç»ŸåŠ ä¸Šä¸€ç‚¹å®‰å…¨æœºåˆ¶ã€‚è¯·åœ¨å‘½ä»¤è¡Œç»ˆç«¯é‡Œè¿è¡Œä¸‹é¢è¿™ä¸€æ¡å‘½ä»¤ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo mysql_secure_installation</span></code></pre><p>å‘½ä»¤è¡Œç»ˆç«¯å°†ä¼šæç¤ºä½ è¾“å…¥ MySQL å†… root ç”¨æˆ·çš„å¯†ç ã€‚é”®å…¥ä¸Šé¢é‡ç½® MySQL root å¯†ç åçš„æ–°å¯†ç ã€‚ç„¶åï¼Œå‘½ä»¤è¡Œç»ˆç«¯å°†ä¼šè¦æ±‚ä½ æ›´æ–° root ç”¨æˆ·çš„å¯†ç ã€‚</p><pre><code class="hljs shell">Enter current password for root:The existing password for the user account root has expired. Please set a new password.New password:Re-enter new password:The 'validate_password' plugin is installed on the server.The subsequent steps will run with the existing configurationof the plugin.Using existing password for root.</code></pre><p>å¯¹äºå‘½ä»¤è¡Œç»ˆç«¯æ¥ä¸‹æ¥ç»™å‡ºçš„é€‰æ‹©ï¼Œä½ åº”è¯¥æ•²å‡» ENTER é”®é€‰æ‹©å¿½ç•¥ä¿®æ”¹ root å¯†ç ï¼Œæ¥ç€é”®å…¥ y åŒæ„ç§»é™¤æ‰å‡ºäºç¤ºä¾‹ç›®çš„è€Œå­˜åœ¨çš„ç”¨æˆ·ï¼Œè€Œåé”®å…¥ y åŒæ„ç¦ç”¨è¿œç¨‹ç™»å½• root ç”¨æˆ·ï¼Œå†æ¬¡é”®å…¥ y åŒæ„ç§»é™¤æµ‹è¯•æ•°æ®åº“ï¼Œæœ€åé”®å…¥ y è½½å…¥è¿™äº›æ–°çš„è§„åˆ™ä½¿å¾— MySQL ç«‹å³å“åº”æˆ‘ä»¬åšçš„å˜æ›´ã€‚</p><p>æœ€åï¼Œå¦‚æœå¸Œæœ› MySQL æœåŠ¡åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶è‡ªåŠ¨å¼€å¯ï¼Œé‚£ä¹ˆä½ åº”è¯¥ä½¿ç”¨è¿™ä¸€æ¡çš„å‘½ä»¤ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo systemctl <span class="hljs-built_in">enable</span> mysqld.service</span></code></pre><p>ä½ å¯ä»¥é€šè¿‡é‡æ–°å¯åŠ¨æœåŠ¡å™¨ï¼Œç„¶ååœ¨å‘½ä»¤è¡Œç»ˆç«¯ä¸­æ•²å…¥è¿™æ¡å‘½ä»¤æ¥éªŒè¯MySQL æœåŠ¡æ˜¯å¦åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶è‡ªåŠ¨å¼€å¯äº†ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo systemctl is-enabled mysqld.service</span></code></pre><p>å¦‚æœä½ çœ‹åˆ°äº†è¿™æ ·çš„å“åº”ï¼š</p><pre><code class="hljs shell">enabled</code></pre><p>åˆ™è¯´æ˜ MySQL æœåŠ¡å·²ç»é…ç½®ä¸ºåœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶è‡ªåŠ¨å¼€å¯äº†ã€‚</p><p>ç°åœ¨ï¼Œä½ çš„æ•°æ®åº“ç³»ç»Ÿå·²ç»å®‰è£…å¦¥å½“ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­åé¢çš„å†…å®¹äº†ã€‚</p><p>ç¬¬ä¸‰æ­¥ â€”â€” å®‰è£… PHP</p><p>åœ¨æˆ‘ä»¬çš„ web è½¯ä»¶æ ˆä¸­ï¼ŒPHP æ˜¯ä¸€ä¸ªèƒ½å¤Ÿå¤„ç†ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®ï¼Œå¹¶åŠ¨æ€ç”Ÿæˆå†…å®¹å±•ç°ç»™ç”¨æˆ·çš„è½¯ä»¶ã€‚å®ƒå¯ä»¥è¿è¡Œè„šæœ¬ï¼Œè¿æ¥åˆ° MySQL æ•°æ®åº“ä»¥å­˜å–æ•°æ®ï¼Œä»¥åŠå°†å¤„ç†è¿‡çš„å†…å®¹é€’äº¤ç»™ web æœåŠ¡å™¨æ¥æ˜¾ç¤ºã€‚</p><p>æˆ‘ä»¬å¯ä»¥å†æ¬¡åˆ©ç”¨ yum å®‰è£…åŒ…ç®¡ç†ç³»ç»Ÿæ¥å®‰è£…æˆ‘ä»¬çš„ç»„ä»¶ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬æ‰“ç®—å°† php-mysql ä¹ŸåŠ å…¥åˆ°æˆ‘ä»¬å°†è¦å®‰è£…çš„è½¯ä»¶åºåˆ—ä¸­ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo yum install php php-mysql</span></code></pre><p>è¿™é‡Œå®‰è£… PHP åº”è¯¥ä¸ä¼šæœ‰ä»»ä½•é—®é¢˜ã€‚æˆ‘ä»¬éœ€è¦é‡æ–°å¯åŠ¨ Apache web æœåŠ¡å™¨ä»¥ä¾¿å®ƒèƒ½å¤Ÿä¸ PHP åä½œã€‚ä½ å¯ä»¥é€šè¿‡è¿™æ¡å‘½ä»¤è¾¾åˆ°ç›®çš„ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo systemctl restart httpd.service</span></code></pre><p>å®‰è£… PHP æ¨¡å—</p><p>ä¸ºäº†å¢å¼º PHP çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æ€§åœ°å®‰è£…ä¸€äº›é¢å¤–çš„æ¨¡å—ã€‚</p><p>åœ¨å‘½ä»¤è¡Œç»ˆç«¯æ•²å…¥è¿™æ¡å‘½ä»¤ï¼Œä½ å°±å¯ä»¥æ‰¾åˆ°æ‰€æœ‰å¯ä»¥è·å–åˆ°çš„ PHP æ¨¡å—é€‰é¡¹å’Œåº“ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yum search php</span></code></pre><p>å“åº”çš„ç»“æœå°±æ˜¯æ‰€æœ‰ä½ èƒ½å¤Ÿé€‰æ‹©å®‰è£…çš„ç»„ä»¶ã€‚å…¶ä¸­åŒ…å«äº†æ¯ä¸ªå¯é€‰ç»„ä»¶çš„æè¿°ï¼š</p><pre><code class="hljs shell">php-bcmath.x86_64 : A module for PHP applications for using the bcmath libraryphp-cli.x86_64 : Command-line interface for PHPphp-common.x86_64 : Commonfiles for PHPphp-dba.x86_64 : Adatabase abstraction layer module for PHP applicationsphp-devel.x86_64 : Filesneeded for building PHP extensionsphp-embedded.x86_64 : PHPlibrary for embedding in applicationsphp-enchant.x86_64 : Enchantspelling extension for PHP applicationsphp-fpm.x86_64 : PHPFastCGI Process Managerphp-gd.x86_64 : Amodule for PHP applications for using the gd graphics library. . .</code></pre><p>å¦‚æœéœ€è¦è·å–æ¯ä¸ªæ¨¡å—æ›´å¤šçš„ä¿¡æ¯ï¼Œä½ å¯ä»¥é€šè¿‡äº’è”ç½‘æœç´¢ï¼Œæˆ–è€…ç›´æ¥åœ¨å‘½ä»¤è¡Œç»ˆç«¯ä¸­æ•²å…¥è¿™æ¡å‘½ä»¤æŸ¥çœ‹ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yum info package_name</span></code></pre><p>å“åº”ä¸­å°†ä¼šåŒ…å«è®¸å¤šçš„ä¿¡æ¯ï¼Œå…¶ä¸­ä¸€ä¸ªåä¸º Description çš„åŸŸåŒ…å«äº†è¿™ä¸ªæ¨¡å—æä¾›çš„åŠŸèƒ½æ›´ä¸ºè¯¦å°½çš„æè¿°ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœè¦è·çŸ¥ php-fpm æ¨¡å—çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬åªè¦åœ¨å‘½ä»¤è¡Œç»ˆç«¯ä¸­æ•²å…¥ä¸‹åˆ—æŒ‡ä»¤å°±å¯ä»¥äº†ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> yum info php-fpm</span></code></pre><p>é¡ºç€ä¼—å¤šå…¶ä»–ä¿¡æ¯å¾€ä¸‹çœ‹ï¼Œä½ å°†ä¼šæ‰¾åˆ°å½¢å¦‚è¿™æ ·çš„ä¿¡æ¯ï¼š</p><pre><code class="hljs shell">. . .Summary    : PHPFastCGI Process ManagerURL            : http://www.php.net/License       : PHPand Zend and BSDDescription : PHP-FPM (FastCGI Process Manager) is an alternative PHP FastCGIâ€‹                   : implementation with some additional features useful for sites ofâ€‹                   : any size, especially busier sites.</code></pre><p>åœ¨è€ƒç©¶ä¹‹åï¼Œå¦‚æœä½ å†³å®šè¦å®‰è£…ä¸€ä¸ªæ¨¡å—åŒ…ï¼Œä½ å¯ä»¥åƒæˆ‘ä»¬ä¹‹å‰å®‰è£…å…¶ä»–è½¯ä»¶æ—¶çš„åšæ³•ä¸€æ ·ï¼Œä½¿ç”¨ yum install å‘½ä»¤è¾¾åˆ°ç›®çš„ã€‚</p><p>å¦‚æœæˆ‘ä»¬å†³å®šäº† php-fpm å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨å‘½ä»¤è¡Œç»ˆç«¯é”®å…¥ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo yum install php-fpm</span></code></pre><p>å¦‚æœä½ æƒ³å®‰è£…å¤šäº 1 ä¸ªçš„æ¨¡å—åŒ…ï¼Œä½ å¯ä»¥åœ¨å‘½ä»¤è¡Œç»ˆç«¯ä¸­é”®å…¥ yum install åï¼Œåˆ—å‡ºä½ æƒ³å®‰è£…çš„æ¯ä¸ªæ¨¡å—åŒ…ï¼Œå¹¶ä½¿ç”¨ç©ºæ ¼åŒºåˆ†ï¼Œå°±åƒä¸‹é¢è¿™æ ·å­ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo yum install package1 package2â€¦</span></code></pre><p>ç°åœ¨ï¼Œä½ çš„ LAMP è½¯ä»¶æ ˆå·²ç»å®‰è£…å¹¶é…ç½®å¦¥å½“äº†ã€‚ä½†æˆ‘ä»¬ä»éœ€è¦æµ‹è¯•ä¸€ä¸‹ PHPã€‚</p><p>ç¬¬å››æ­¥ â€”â€” æµ‹è¯•ä½  Web æœåŠ¡å™¨ä¸Šçš„ PHP å¤„ç†ç¨‹åº</p><p>ä¸ºäº†æµ‹è¯•ç³»ç»Ÿå·²ç»é…ç½®å¾—é€‚åˆ PHP è¿è¡Œï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªéå¸¸ç®€æ˜“çš„ PHP è„šæœ¬ã€‚</p><p>æˆ‘ä»¬å°†è¿™ä¸ªè„šæœ¬å‘½åä¸º info.phpã€‚ä¸ºäº†è®© Apache èƒ½å¤Ÿæ­£ç¡®åœ°æ‰¾åˆ°å¹¶ä¸ºä¹‹æœåŠ¡ï¼Œå®ƒå¿…é¡»ä¿å­˜åœ¨ä¸€ä¸ªç§°ä¸ºã€web ç›®å½•ã€ç‰¹æ®Šçš„ç›®å½•ä¸­ã€‚</p><p>åœ¨ CentOS 7 ä¸­ï¼Œè¿™ä¸ªç›®å½•ä½äº /var/www/html/ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢è¿™æ¡å‘½ä»¤åœ¨æ­¤åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo vi /var/www/html/info.php</span></code></pre><p>è¿™å°†ä¼šæ‰“å¼€ä¸€ä¸ªç©ºç™½æ–‡ä»¶ï¼Œæ•²å‡»å°å†™å­—æ¯ I å³å¯è¿›è¡Œç¼–è¾‘ã€‚æˆ‘ä»¬æƒ³åœ¨æ–‡ä»¶ä¸­è¾“å…¥ä¸‹åˆ— PHP ä»£ç ç»„æˆçš„æ–‡æœ¬ï¼š</p><?php phpinfo(); ?><p>ç„¶åï¼Œæ•²å‡» ESC é”®å¹¶é”®å…¥ :wq! å³å¯ä¿å­˜å¹¶å…³é—­è¿™ä¸ªæ–‡ä»¶ã€‚</p><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥æµ‹è¯• web æœåŠ¡å™¨æ˜¯å¦èƒ½å¤Ÿæ­£ç¡®åœ°æ˜¾ç¤ºç”± PHP è„šæœ¬ç”Ÿæˆçš„å†…å®¹äº†ã€‚æˆ‘ä»¬å¯ä»¥å°è¯•é€šè¿‡ web æµè§ˆå™¨è®¿é—®è¿™ä¸ªé¡µé¢ã€‚ä½ éœ€è¦å†æ¬¡è·å–æœåŠ¡å™¨çš„å…¬ç½‘ IP åœ°å€ã€‚</p><p>ä½ å¸Œæœ›è®¿é—®çš„åœ°å€å°±æ˜¯ï¼š</p><p>http://&lt;æœåŠ¡å™¨çš„å…¬ç½‘ IP åœ°å€&gt;/info.php</p><p>ä½ çœ‹åˆ°çš„é¡µé¢åº”è¯¥åƒä¸‹é¢è¿™æ ·å­ï¼š</p><p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006tNbRwgy1g9ymru1oojj30jv05zaaj.jpg" srcset="/img/loading.gif" alt="img"></p><p>å¦‚æœä½ çš„æµè§ˆå™¨æˆåŠŸåœ°æ˜¾ç¤ºäº†è¿™ä¸ªé¡µé¢ï¼Œé‚£ä¹ˆä½ çš„ PHP å°±åƒé¢„æœŸä¸­çš„é‚£æ ·æ­£å¸¸å·¥ä½œäº†ã€‚</p><p>ä½ å¾ˆå¯èƒ½æƒ³è¦åœ¨æµ‹è¯•ä¹‹åç§»é™¤æ‰è¿™ä¸ªæ–‡ä»¶ï¼Œå› ä¸ºå®ƒäº‹å®ä¸Šå¯ä»¥å°†æœåŠ¡å™¨çš„ä¿¡æ¯å±•ç°ç»™æœªæˆæƒçš„ç”¨æˆ·ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å‘½ä»¤è¡Œç»ˆç«¯ä¸­é”®å…¥ä¸‹é¢è¿™æ¡å‘½ä»¤ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo rm /var/www/html/info.php</span></code></pre><p>ä»¥åè‹¥éœ€è¦ï¼Œä½ æ€»èƒ½é‡æ–°åˆ›å»ºè¿™ä¸ªé¡µé¢æ¥è·å–è¿™äº›ä¿¡æ¯ã€‚</p><p>ç»“è®º</p><p>ç°åœ¨æˆ‘ä»¬å·²ç»å®‰è£…äº† LAMP è½¯ä»¶æ ˆï¼Œå¯¹äºä¸‹ä¸€æ­¥éœ€è¦åšä»€ä¹ˆï¼Œä½ æœ‰è®¸å¤šçš„é€‰æ‹©ã€‚å¤§ä½“ä¸Šï¼Œä½ å·²ç»å®‰è£…äº†ä¸€ä¸ªå…è®¸ä½ åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²å„ç§å„æ ·ç½‘ç«™å’Œ web è½¯ä»¶çš„å¹³å°ã€‚</p><p>å‚è€ƒé“¾æ¥</p><p><a href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-on-centos-7" target="_blank" rel="noopener">https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-on-centos-7</a></p><p><a href="https://www.linode.com/docs/databases/mysql/how-to-install-mysql-on-centos-7" target="_blank" rel="noopener">https://www.linode.com/docs/databases/mysql/how-to-install-mysql-on-centos-7</a></p><p><a href="http://dev.mysql.com/doc/refman/5.7/en/linux-installation-yum-repo.html" target="_blank" rel="noopener">http://dev.mysql.com/doc/refman/5.7/en/linux-installation-yum-repo.html</a></p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
      <category>Server</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CentOS</tag>
      
      <tag>Apache</tag>
      
      <tag>MySQL</tag>
      
      <tag>PHP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Postgresql 9.4.0-1 x64 win7 è§£å‹ç‰ˆå®‰è£…æ­¥éª¤</title>
    <link href="/2018/09/11/Postgresql-9-4-0-1-x64-win7-%E8%A7%A3%E5%8E%8B%E7%89%88%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4/"/>
    <url>/2018/09/11/Postgresql-9-4-0-1-x64-win7-%E8%A7%A3%E5%8E%8B%E7%89%88%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4/</url>
    
    <content type="html"><![CDATA[<p>1ã€ä¸‹è½½</p><blockquote><p>32ä½ï¼š<a href="https://get.enterprisedb.com/postgresql/postgresql-10.2-1-windows-binaries.zip" target="_blank" rel="noopener">https://get.enterprisedb.com/postgresql/postgresql-10.2-1-windows-binaries.zip</a></p><p>64ä½ï¼š<a href="https://get.enterprisedb.com/postgresql/postgresql-10.2-1-windows-x64-binaries.zip" target="_blank" rel="noopener">https://get.enterprisedb.com/postgresql/postgresql-10.2-1-windows-x64-binaries.zip</a></p></blockquote><p>2ã€è§£å‹åˆ°ï¼šc:\pgsql\</p><a id="more"></a><p>3ã€è®¾ç½®ç¯å¢ƒå˜é‡(cmd)ï¼š</p><pre><code class="hljs bash">setx PGHOME c:\pgsqlsetx PGHOST localhostsetx PGLIB %PGHOME%\libsetx PGDATA %PGHOME%\datasetx Path %Path%;%PGHOME%\bin</code></pre><p>é‡æ–°ç™»å½•</p><p>4ã€åˆå§‹åŒ–æ•°æ®åº“</p><pre><code class="hljs bash">initdb.exe -D c:\pgsql\data -E UTF-8 --locale=chs -U postgres -W</code></pre><p>5ã€æ³¨å†Œä¸ºç³»ç»ŸæœåŠ¡ï¼ˆä»¥ç®¡ç†å‘˜æƒé™æ‰“å¼€cmdï¼‰ </p><pre><code class="hljs bash">pg_ctl register -N PostgreSQL -D c:\pgsql\data</code></pre><p>6ã€ä¿®æ”¹é…ç½®ä»¥æ”¯æŒè¿œç¨‹è¿æ¥</p><p>â€ƒâ€ƒ6.1  notepad c:\pgsql\data\postgresql.conf</p><blockquote><p>listen_addresses = â€˜*â€™ </p></blockquote><p>â€‹    6.2  è®¾ç½®ipv4æ®µ  notepad c:\pgsql\data\pg_hba.conf </p><blockquote><p>host    all    all    0.0.0.0/0    md5 </p></blockquote><p>7ã€å¯åŠ¨æœåŠ¡ </p><pre><code class="hljs bash">net start PostgreSQL</code></pre><p>8ã€å…³é—­é˜²ç«å¢™ï¼ˆè§†æƒ…å†µè€Œå®šï¼‰ </p><pre><code class="hljs bash">netsh firewall <span class="hljs-built_in">set</span> opmode <span class="hljs-built_in">disable</span></code></pre><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Sql</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PostgreSQL</tag>
      
      <tag>windows</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LinuxæœåŠ¡å™¨åˆå§‹åŒ–è®¾ç½®ç”¨æˆ·å’Œsshå…¬ç§é’¥ç™»é™†</title>
    <link href="/2018/09/11/Linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE%E7%94%A8%E6%88%B7%E5%92%8Cssh%E5%85%AC%E7%A7%81%E9%92%A5%E7%99%BB%E9%99%86/"/>
    <url>/2018/09/11/Linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE%E7%94%A8%E6%88%B7%E5%92%8Cssh%E5%85%AC%E7%A7%81%E9%92%A5%E7%99%BB%E9%99%86/</url>
    
    <content type="html"><![CDATA[<blockquote><p>å½“æˆ‘ä»¬å¼€å§‹ä½¿ç”¨ä¸€ä¸ªæ–°çš„æœåŠ¡å™¨çš„æ—¶å€™ï¼Œé¦–å…ˆä¸€å®šè¦å¯¹æœåŠ¡å™¨çš„ç™»é™†ç­‰åšä¸€äº›ä¿®æ”¹å·¥ä½œï¼Œç¬”è€…æ›¾ç»å°±å› ä¸ºå¯¹æœåŠ¡å™¨ç™»é™†å®‰å…¨æ²¡æœ‰é‡è§†ï¼Œå¯¼è‡´æœåŠ¡å™¨æ•°æ®å…¨éƒ¨ä¸¢å¤±ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æŒ‰ç…§æ­¥éª¤ï¼Œç½—åˆ—å‡ºåº”è¯¥åšçš„ä¸€äº›äº‹æƒ…ã€‚ </p></blockquote><h3 id="ä¿®æ”¹sshç«¯å£å·"><a href="#ä¿®æ”¹sshç«¯å£å·" class="headerlink" title="ä¿®æ”¹sshç«¯å£å·"></a>ä¿®æ”¹sshç«¯å£å·</h3><p>ç¬¬ä¸€ä»¶äº‹æƒ…ï¼š</p><p>ä¿®æ”¹sshç«¯å£å·ï¼š ä¹‹ååŠ ä¸Šä¸€ä¸ªç«¯å£æ¯”å¦‚è¯´50000</p><p><code>vi /etc/ssh/sshd_config</code>ä¹‹ååœ¨portå­—æ®µåŠ ä¸Šä¸€ä¸ªç«¯å£æ¯”å¦‚è¯´50000ï¼ŒåŸæ¥çš„ç«¯å£å·å­—æ®µå¯èƒ½æ˜¯è¢«æ³¨é‡Šæ‰çš„ï¼Œè¦å…ˆè§£é™¤æ³¨é‡Šã€‚</p><p>ç„¶åæ‰§è¡Œï¼š</p><a id="more"></a><pre><code class="hljs plain">service sshd restart</code></pre><p>è¿™ä¸ªæ—¶å€™å¯èƒ½è¿˜è¦é‡æ–°é…ç½®ä¸€ä¸‹é˜²ç«å¢™ï¼Œå¼€æ”¾50000ç«¯å£ï¼Œå…·ä½“å¦‚ä½•é…ç½®ä¹Ÿå¯ä»¥å‚è€ƒ<a href="https://blog.csdn.net/ul646691993/article/details/52104082" target="_blank" rel="noopener">è¿™é‡Œ</a>çš„ååŠéƒ¨åˆ†ã€‚ä½†æ˜¯ç›®å‰ï¼Œé˜¿é‡Œäº‘çš„æœåŠ¡å™¨å®æµ‹æ˜¯ä¸éœ€è¦å†é…ç½®é˜²ç«å¢™çš„ï¼Œä½†æ˜¯éœ€è¦å»ç™»é™†åˆ°ç½‘é¡µåå°ä¿®æ”¹å®‰å…¨ç»„ã€‚</p><p>ä¹‹åå°±å¯ä»¥é€šè¿‡è¿™æ ·çš„æ–¹å¼ç™»å½•äº†ï¼š(æ³¨æ„ç™»å½•æ–¹å¼ä¸€å®šè¦å†™å¯¹)</p><pre><code class="hljs plain">ssh root@115.29.102.81 -p 50000</code></pre><h3 id="åˆ›å»ºç”¨æˆ·"><a href="#åˆ›å»ºç”¨æˆ·" class="headerlink" title="åˆ›å»ºç”¨æˆ·"></a>åˆ›å»ºç”¨æˆ·</h3><p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬è¿˜æ˜¯ç”¨rootè¿›è¡Œæ“ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬æ¥ä¸‹æ¥è¦ç»™è‡ªå·±åˆ›å»ºä¸€ä¸ªè´¦æˆ·ï¼Œæ¯”å¦‚åˆ›å»ºä¸€ä¸ªå¦‚ä¸‹çš„ç”¨æˆ·ï¼š</p><pre><code class="hljs plain">useradd xiaotaopasswd xiaotao</code></pre><p>å¯ä»¥ç”¨`ls -al /home/``æŸ¥çœ‹ä¸€ä¸‹è´¦æˆ·</p><p>å¯¹åˆ›å»ºçš„è¿™ä¸ªç”¨æˆ·å¢åŠ sudoæƒé™ï¼š ç›¸å…³é…ç½®æ–‡ä»¶/etc/sudoersä¸­ï¼Œä½†æ˜¯è¿™ä¸ªæ–‡ä»¶æ˜¯åªè¯»çš„ï¼Œæ‰€ä»¥è¦æ›´æ”¹ä¸€ä¸‹æƒé™</p><pre><code class="hljs plain">chmod u+w sudoers</code></pre><p>ç„¶åè¿›å…¥è¿™ä¸ªæ–‡ä»¶åœ¨è¿™é‡Œè¿›è¡Œæ›´æ”¹ï¼š</p><pre><code class="hljs plain">root    ALL&#x3D;(ALL)       ALLxiaotao  ALL&#x3D;(ALL)       ALL</code></pre><p>ç„¶åå†æ”¹å›æƒé™ï¼š</p><pre><code class="hljs plain">chmod u-w sudoers</code></pre><p>æ³¨æ„ä¸€ç‚¹ï¼ŒCentOS 7é¢„è®¾å®¹è®¸ä»»ä½•å¸å·é€è¿‡sshç™»å…¥ï¼ˆä¹Ÿå°±æ˜¯è¯´è‡ªå·±æ ¹æœ¬ä¸ç”¨æ”¹æ”¹ï¼Œç›´æ¥æ–°å»ºå¸å·ç™»å½•å³å¯ï¼‰ï¼ŒåŒ…æ‹¬æ ¹å’Œä¸€èˆ¬å¸å·ï¼Œä¸ºäº†ä¸å—æ ¹å¸å·è¢«é»‘å®¢æš´åŠ›å…¥ä¾µï¼Œæˆ‘ä»¬å¿…é¡»ç¦æ­¢ rootå¸å·çš„sshåŠŸèƒ½ï¼Œäº‹å®ä¸Šrootä¹Ÿæ²¡æœ‰å¿…è¦sshç™»å…¥ä¼ºæœå™¨ï¼Œå› ä¸ºåªè¦ä½¿ç”¨suæˆ–sudoï¼ˆå½“ç„¶éœ€è¦è¾“å…¥rootçš„å¯†ç ï¼‰æ™®é€šå¸å·ä¾¿å¯ä»¥æ‹¥æœ‰rootçš„æƒé™ã€‚ä½¿ç”¨vimï¼ˆæˆ–ä»»ä½•æ–‡æœ¬ç¼–è¾‘å™¨ï¼‰å¼€å¯çš„/ etc/ SSH/ sshd_configä¸­ï¼Œå¯»æ‰¾ï¼š</p><pre><code class="hljs plain">ï¼ƒPermitRootLogin yes</code></pre><p>ä¿®æ”¹ï¼š</p><pre><code class="hljs plain">PermitRootLogin no</code></pre><h3 id="é…ç½®å…¬ç§é’¥åŠ å¯†ç™»å½•"><a href="#é…ç½®å…¬ç§é’¥åŠ å¯†ç™»å½•" class="headerlink" title="é…ç½®å…¬ç§é’¥åŠ å¯†ç™»å½•"></a>é…ç½®å…¬ç§é’¥åŠ å¯†ç™»å½•</h3><p><strong>è¿™ä¸€æ­¥éª¤è¦åˆ‡æ¢åˆ°è‡ªå·±æ–°å»ºçš„ç”¨æˆ·ï¼Œä¸èƒ½å†ç”¨ root ç”¨æˆ·äº†ï¼Œå¦åˆ™å¯èƒ½æ— æ³•æ­£å¸¸ç™»é™†ã€‚</strong></p><p>å¾ˆå¤šæ—¶å€™ä»¥ä¸Šæ‰€è¯´çš„è¿˜æ˜¯ä¸å¤Ÿå®‰å…¨ï¼Œä¸ºäº†æ›´åŠ å®‰å…¨æ–¹ä¾¿ï¼Œæˆ‘ä»¬é‡‡ç”¨å…¬ç§é’¥å¯¹ç§°åŠ å¯†ç™»å½•ï¼Œç®€å•çš„è®²åšæ³•å°±æ˜¯å†å®¢æˆ·ç«¯ç”Ÿæˆä¸€æŠŠç§é’¥ä¸€æŠŠå…¬é’¥ï¼Œç§é’¥æ˜¯åœ¨å®¢æˆ·ç«¯çš„ï¼Œå…¬é’¥ä¸Šä¼ åˆ°æœåŠ¡ç«¯ï¼Œå¯¹ç§°åŠ å¯†è¿›è¡Œç™»å½•ã€‚</p><p>åœ¨å®¢æˆ·ç«¯å…ˆè¿›åˆ°è¿™ä¸ªç›®å½•ï¼š</p><pre><code class="hljs plain">cd ~&#x2F;.ssh</code></pre><p>ç”Ÿæˆå…¬é’¥å’Œç§é’¥ï¼ˆå®é™…ä¸Šå¦‚æœä¹‹å‰æœ‰çš„è¯å°±ä¸ç”¨é‡æ–°ç”Ÿæˆäº†ï¼‰</p><pre><code class="hljs plain">ssh-keygen -t rsa</code></pre><p>æ¥ä¸‹æ¥æŠŠå…¬é’¥ä¸Šä¼ åˆ°æœåŠ¡ç«¯</p><pre><code class="hljs plain">scp ~&#x2F;.ssh&#x2F;id_rsa.pub xiaotao@&lt;ssh_server_ip&gt;:~</code></pre><p>åœ¨æœåŠ¡ç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤(å¦‚æœæ²¡æœ‰ç›¸å…³çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹è¦å…ˆè¿›è¡Œåˆ›å»ºï¼Œæ³¨æ„ä¸è¦ä½¿ç”¨ sudo )</p><pre><code class="hljs plain">cat  id_rsa.pub &gt;&gt; ï½&#x2F;.ssh&#x2F;authorized_keys</code></pre><p>é…ç½®æœåŠ¡å™¨çš„/etc/ssh/sshd_configï¼Œä¸‹é¢æ˜¯ä¸€äº›å»ºè®®çš„é…ç½®ï¼š</p><pre><code class="hljs plain">vim &#x2F;etc&#x2F;ssh&#x2F;sshd_config# ç¦ç”¨rootè´¦æˆ·ç™»å½•ï¼Œéå¿…è¦ï¼Œä½†ä¸ºäº†å®‰å…¨æ€§ï¼Œè¯·é…ç½®PermitRootLogin no# æ˜¯å¦è®© sshd å»æ£€æŸ¥ç”¨æˆ·å®¶ç›®å½•æˆ–ç›¸å…³æ¡£æ¡ˆçš„æƒé™æ•°æ®ï¼Œ# è¿™æ˜¯ä¸ºäº†æ‹…å¿ƒä½¿ç”¨è€…å°†æŸäº›é‡è¦æ¡£æ¡ˆçš„æƒé™è®¾é”™ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜æ‰€è‡´ã€‚# ä¾‹å¦‚ä½¿ç”¨è€…çš„ ~.ssh&#x2F; æƒé™è®¾é”™æ—¶ï¼ŒæŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ä¼šä¸è®¸ç”¨æˆ·ç™»å…¥StrictModes no# æ˜¯å¦å…è®¸ç”¨æˆ·è‡ªè¡Œä½¿ç”¨æˆå¯¹çš„å¯†é’¥ç³»ç»Ÿè¿›è¡Œç™»å…¥è¡Œä¸ºï¼Œä»…é’ˆå¯¹ version 2ã€‚# è‡³äºè‡ªåˆ¶çš„å…¬é’¥æ•°æ®å°±æ”¾ç½®äºç”¨æˆ·å®¶ç›®å½•ä¸‹çš„ .ssh&#x2F;authorized_keys å†…RSAAuthentication yesPubkeyAuthentication yesAuthorizedKeysFile      %h&#x2F;.ssh&#x2F;authorized_keys#æœ‰äº†è¯ä¹¦ç™»å½•äº†ï¼Œå°±ç¦ç”¨å¯†ç ç™»å½•å§ï¼Œå®‰å…¨è¦ç´§PasswordAuthentication no</code></pre><p>ç„¶åä¸è¦å¿˜è®° <code>sudo service sshd restart</code></p><p>ä¸€èˆ¬æ¥è®²ï¼Œè¿™æ ·å°±ç®—æ˜¯æˆåŠŸäº†ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å®¢æˆ·ç«¯å°è¯•ï¼š</p><pre><code class="hljs plain">ssh -i ~&#x2F;.ssh&#x2F;id_rsa remote_username@remote_ip</code></pre><p>å¦‚æœä¸è¡Œï¼Œå¯èƒ½æ˜¯æœåŠ¡ç«¯æˆ–å®¢æˆ·ç«¯ç›¸å…³ <code>.ssh</code> æ–‡ä»¶æƒé™ä¸å¯¹ï¼Œå¯ä»¥è¿›è¡Œå¦‚ä¸‹å°è¯•ï¼š</p><pre><code class="hljs plain">æœåŠ¡ç«¯chown -R 0700  ~&#x2F;.sshchown -R 0644  ~&#x2F;.ssh&#x2F;authorized_keyså®¢æˆ·ç«¯æ”¹ä¸€ä¸‹chmod 600 id_rsa</code></pre><p><strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€‹ï¼š</strong></p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>SSH</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CentOS7ä¸‹å®‰è£…å’Œé…ç½®redis</title>
    <link href="/2018/09/11/CentOS7%E4%B8%8B%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AEredis/"/>
    <url>/2018/09/11/CentOS7%E4%B8%8B%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AEredis/</url>
    
    <content type="html"><![CDATA[<p>Redisæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ï¼Œå¼€æºkey-valueå‹æ•°æ®åº“ã€‚æ˜¯æ„å»ºé«˜æ€§èƒ½ï¼Œå¯æ‰©å±•çš„Webåº”ç”¨çš„å®Œç¾è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥å†…å­˜å­˜å‚¨äº¦å¯æŒä¹…åŒ–å­˜å‚¨ã€‚å› ä¸ºè¦ä½¿ç”¨è·¨è¿›ç¨‹ï¼Œè·¨æœåŠ¡çº§åˆ«çš„æ•°æ®ç¼“å­˜ï¼Œåœ¨å¯¹æ¯”å¤šä¸ªæ–¹æ¡ˆåï¼Œå†³å®šä½¿ç”¨Redisã€‚é¡ºä¾¿æ•´ç†ä¸‹Redisçš„å®‰è£…è¿‡ç¨‹ï¼Œä»¥ä¾¿æŸ¥é˜…ã€‚</p><p>1 . ä¸‹è½½Redis<br>ç›®å‰ï¼Œæœ€æ–°çš„Redistç‰ˆæœ¬ä¸º3.0ï¼Œä½¿ç”¨wgetä¸‹è½½ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> wget http://download.redis.io/releases/redis-3.0.4.tar.gz</span></code></pre><a id="more"></a><p>2 . è§£å‹Redis<br>ä¸‹è½½å®Œæˆåï¼Œä½¿ç”¨tarå‘½ä»¤è§£å‹ä¸‹è½½æ–‡ä»¶ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> tar -xzvf redis-3.0.4.tar.gz</span></code></pre><p>3 . ç¼–è¯‘å®‰è£…Redis<br>åˆ‡æ¢è‡³ç¨‹åºç›®å½•ï¼Œå¹¶æ‰§è¡Œmakeå‘½ä»¤ç¼–è¯‘ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> <span class="hljs-built_in">cd</span> redis-3.0.4</span><span class="hljs-meta">#</span><span class="bash"> make</span></code></pre><p>æ‰§è¡Œå®‰è£…å‘½ä»¤</p><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> make install</span></code></pre><p>make installå®‰è£…å®Œæˆåï¼Œä¼šåœ¨/usr/local/binç›®å½•ä¸‹ç”Ÿæˆä¸‹é¢å‡ ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå®ƒä»¬çš„ä½œç”¨åˆ†åˆ«æ˜¯ï¼š</p><ul><li>redis-serverï¼šRedisæœåŠ¡å™¨ç«¯å¯åŠ¨ç¨‹åº</li><li>redis-cliï¼šRediså®¢æˆ·ç«¯æ“ä½œå·¥å…·ã€‚ä¹Ÿå¯ä»¥ç”¨telnetæ ¹æ®å…¶çº¯æ–‡æœ¬åè®®æ¥æ“ä½œ</li><li>redis-benchmarkï¼šRedisæ€§èƒ½æµ‹è¯•å·¥å…·</li><li>redis-check-aofï¼šæ•°æ®ä¿®å¤å·¥å…·</li><li>redis-check-dumpï¼šæ£€æŸ¥å¯¼å‡ºå·¥å…·</li></ul><p>å¤‡æ³¨</p><p>æœ‰çš„æœºå™¨ä¼šå‡ºç°ç±»ä¼¼ä»¥ä¸‹é”™è¯¯ï¼š</p><pre><code class="hljs shell">make[1]: Entering directory `/root/redis/src'You need tcl 8.5 or newer in order to run the Redis testâ€¦â€¦</code></pre><p>è¿™æ˜¯å› ä¸ºæ²¡æœ‰å®‰è£…tclå¯¼è‡´ï¼Œyumå®‰è£…å³å¯ï¼š</p><pre><code class="hljs shell">yum install tcl</code></pre><p>4 . é…ç½®Redis<br>å¤åˆ¶é…ç½®æ–‡ä»¶åˆ°/etc/ç›®å½•ï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> cp redis.conf /etc/</span></code></pre><p>ä¸ºäº†è®©Redisåå°è¿è¡Œï¼Œä¸€èˆ¬è¿˜éœ€è¦ä¿®æ”¹redis.confæ–‡ä»¶ï¼š</p><pre><code class="hljs shell">vi /etc/redis.conf</code></pre><p>ä¿®æ”¹daemonizeé…ç½®é¡¹ä¸ºyesï¼Œä½¿Redisè¿›ç¨‹åœ¨åå°è¿è¡Œï¼š</p><pre><code class="hljs shell">daemonize yes</code></pre><p>5 . å¯åŠ¨Redis<br>é…ç½®å®Œæˆåï¼Œå¯åŠ¨Redisï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> <span class="hljs-built_in">cd</span> /usr/<span class="hljs-built_in">local</span>/bin</span><span class="hljs-meta">#</span><span class="bash"> ./redis-server /etc/redis.conf</span></code></pre><p>æ£€æŸ¥å¯åŠ¨æƒ…å†µï¼š</p><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> ps -ef | grep redis</span></code></pre><p>çœ‹åˆ°ç±»ä¼¼ä¸‹é¢çš„ä¸€è¡Œï¼Œè¡¨ç¤ºå¯åŠ¨æˆåŠŸï¼š</p><pre><code class="hljs shell">root     18443     1  0 13:05 ?        00:00:00 ./redis-server *:6379</code></pre><p>6 . æ·»åŠ å¼€æœºå¯åŠ¨é¡¹<br>è®©Rediså¼€æœºè¿è¡Œå¯ä»¥å°†å…¶æ·»åŠ åˆ°rc.localæ–‡ä»¶ï¼Œä¹Ÿå¯å°†æ·»åŠ ä¸ºç³»ç»ŸæœåŠ¡serviceã€‚æœ¬æ–‡ä½¿ç”¨rc.localçš„æ–¹å¼ï¼Œæ·»åŠ serviceè¯·å‚è€ƒï¼šRedis é…ç½®ä¸º Service ç³»ç»ŸæœåŠ¡ ã€‚</p><p>ä¸ºäº†èƒ½è®©Redisåœ¨æœåŠ¡å™¨é‡å¯åè‡ªåŠ¨å¯åŠ¨ï¼Œéœ€è¦å°†å¯åŠ¨å‘½ä»¤å†™å…¥å¼€æœºå¯åŠ¨é¡¹ï¼š</p><pre><code class="hljs shell">echo "/usr/local/bin/redis-server /etc/redis.conf" &gt;&gt;/etc/rc.local</code></pre><p>7 . Redisé…ç½®å‚æ•°<br>åœ¨ å‰é¢çš„æ“ä½œä¸­ï¼Œæˆ‘ä»¬ç”¨åˆ°äº†ä½¿Redisè¿›ç¨‹åœ¨åå°è¿è¡Œçš„å‚æ•°ï¼Œä¸‹é¢ä»‹ç»å…¶å®ƒä¸€äº›å¸¸ç”¨çš„Rediså¯åŠ¨å‚æ•°ï¼š</p><blockquote><p>daemonizeï¼šæ˜¯å¦ä»¥åå°daemonæ–¹å¼è¿è¡Œ<br>pidfileï¼špidæ–‡ä»¶ä½ç½®<br>portï¼šç›‘å¬çš„ç«¯å£å·<br>timeoutï¼šè¯·æ±‚è¶…æ—¶æ—¶é—´<br>loglevelï¼šlogä¿¡æ¯çº§åˆ«<br>logfileï¼šlogæ–‡ä»¶ä½ç½®<br>databasesï¼šå¼€å¯æ•°æ®åº“çš„æ•°é‡<br>save * <em>ï¼šä¿å­˜å¿«ç…§çš„é¢‘ç‡ï¼Œç¬¬ä¸€ä¸ª</em>è¡¨ç¤ºå¤šé•¿æ—¶é—´ï¼Œç¬¬ä¸‰ä¸ª*è¡¨ç¤ºæ‰§è¡Œå¤šå°‘æ¬¡å†™æ“ä½œã€‚åœ¨ä¸€å®šæ—¶é—´å†…æ‰§è¡Œä¸€å®šæ•°é‡çš„å†™æ“ä½œæ—¶ï¼Œè‡ªåŠ¨ä¿å­˜å¿«ç…§ã€‚å¯è®¾ç½®å¤šä¸ªæ¡ä»¶ã€‚<br>rdbcompressionï¼šæ˜¯å¦ä½¿ç”¨å‹ç¼©<br>dbfilenameï¼šæ•°æ®å¿«ç…§æ–‡ä»¶åï¼ˆåªæ˜¯æ–‡ä»¶åï¼‰<br>dirï¼šæ•°æ®å¿«ç…§çš„ä¿å­˜ç›®å½•ï¼ˆä»…ç›®å½•ï¼‰<br>appendonlyï¼šæ˜¯å¦å¼€å¯appendonlylogï¼Œå¼€å¯çš„è¯æ¯æ¬¡å†™æ“ä½œä¼šè®°ä¸€æ¡logï¼Œè¿™ä¼šæé«˜æ•°æ®æŠ—é£é™©èƒ½åŠ›ï¼Œä½†å½±å“æ•ˆç‡ã€‚<br>appendfsyncï¼šappendonlylogå¦‚ä½•åŒæ­¥åˆ°ç£ç›˜ã€‚ä¸‰ä¸ªé€‰é¡¹ï¼Œåˆ†åˆ«æ˜¯æ¯æ¬¡å†™éƒ½å¼ºåˆ¶è°ƒç”¨fsyncã€æ¯ç§’å¯ç”¨ä¸€æ¬¡fsyncã€ä¸è°ƒç”¨fsyncç­‰å¾…ç³»ç»Ÿè‡ªå·±åŒæ­¥</p></blockquote><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
      <category>Server</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Redis</tag>
      
      <tag>CentOS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CentOSå®‰è£…node8.xç‰ˆæœ¬</title>
    <link href="/2018/09/11/CentOS%E5%AE%89%E8%A3%85node8-x%E7%89%88%E6%9C%AC/"/>
    <url>/2018/09/11/CentOS%E5%AE%89%E8%A3%85node8-x%E7%89%88%E6%9C%AC/</url>
    
    <content type="html"><![CDATA[<p>ç”±äºä¸€äº›åŸå› éœ€è¦ç»™CentOSæœåŠ¡å™¨å®‰è£…8.0ä»¥ä¸Šç‰ˆæœ¬çš„node, æœ¬æ¥ç›´æ¥é€šè¿‡yumç®¡ç†å®‰è£…ç®¡ç†ï¼Œä½†æ˜¯æ²¡æ‰¾åˆ°å¥½åŠæ³•ï¼Œåœ¨æ­¤è®°å½•ä¸€ä¸‹è‡ªå·±æœ€åä½¿ç”¨çš„ç®€å•è¿‡ç¨‹ï¼š</p><p>å®‰è£…ä¹‹å‰åˆ é™¤åŸæ¥çš„nodeå’Œnpm (æˆ‘åŸæ¥æ˜¯ç”¨yumå®‰è£…çš„ï¼Œå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡å®‰è£…å¯ä»¥çœç•¥è¿™ä¸€æ­¥):</p><pre><code class="hljs bash">yum remove nodejs npm -y</code></pre><a id="more"></a><p>é¦–å…ˆæˆ‘ä»¬éšä¾¿è¿›å…¥æœåŠ¡å™¨çš„ä¸€ä¸ªç›®å½•ï¼Œç„¶åä»æ·˜å®çš„æºæ‹‰å–å†…å®¹: </p><pre><code class="hljs bash">wget https://npm.taobao.org/mirrors/node/v8.0.0/node-v8.0.0-linux-x64.tar.xz</code></pre><p>è§£å‹ç¼©: </p><pre><code class="hljs bash">sudo tar -xvf node-v8.0.0-linux-x64.tar.xz</code></pre><p>è¿›å…¥è§£å‹ç›®å½•ä¸‹çš„ bin ç›®å½•ï¼Œæ‰§è¡Œ ls å‘½ä»¤ </p><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> node-v8.0.0-linux-x64/bin &amp;&amp; ls</code></pre><p>æˆ‘ä»¬å‘ç°æœ‰node å’Œ npm</p><p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬æµ‹è¯•:</p><pre><code class="hljs bash">./node -v</code></pre><p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å‘ç°å®é™…ä¸Šå·²ç»å®‰è£…å¥½äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯è¦å»ºç«‹é“¾æ¥æ–‡ä»¶ã€‚</p><p>è¿™é‡Œè¿˜æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬ä¹‹å‰å·²ç»å®‰è£…è¿‡äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦å…ˆåˆ é™¤ä¹‹å‰å»ºç«‹çš„é“¾æ¥æ–‡ä»¶ï¼š</p><pre><code class="hljs bash">sudo rm -rf /usr/bin/nodesudo rm -rf /usr/bin/npm</code></pre><p>ç„¶åå»ºç«‹é“¾æ¥æ–‡ä»¶: </p><pre><code class="hljs bash">sudo ln -s /usr/share/node-v8.0.0-linux-x64/bin/node /usr/bin/nodesudo ln -s /usr/share/node-v8.0.0-linux-x64/bin/npm /usr/bin/npm</code></pre><p>æ³¨æ„è¿™é‡Œçš„ç¬¬ä¸€ä¸ªè·¯å¾„ä¸è¦ç›´æ¥å¤åˆ¶ç²˜è´´ï¼Œè¦å†™å½“å‰æ–‡ä»¶çš„çœŸæ­£çš„è·¯å¾„ï¼Œè¿™ä¸ªå¯ä»¥é€šè¿‡pwdè·å–ã€‚</p><p>ç„¶åæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>node -v</code>ç­‰æµ‹è¯•å·²ç»å®‰è£…æˆåŠŸã€‚</p><img src="https://gitee.com/alterem/picFB/raw/master/pics/2020/04/07/006y8mN6gy1g7d3llw1nkj30b40b4wee.jpg" srcset="/img/loading.gif" alt="æ¬¢è¿å…³æ³¨å…¬ä¼—å·" style="width: 100px" />]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
      <category>Server</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CentOS</tag>
      
      <tag>node</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Eclipseä¸­å¸¸ç”¨çš„æ“ä½œå•è¯</title>
    <link href="/2018/09/11/Eclipse%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84%E6%93%8D%E4%BD%9C%E5%8D%95%E8%AF%8D/"/>
    <url>/2018/09/11/Eclipse%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84%E6%93%8D%E4%BD%9C%E5%8D%95%E8%AF%8D/</url>
    
    <content type="html"><![CDATA[<table><thead><tr><th>Existing Project   into Workspace</th><th>ç°æœ‰çš„å·¥ç¨‹å¼•å…¥å·¥ä½œç©ºé—´(åŠ è½½å·¥ç¨‹)</th></tr></thead><tbody><tr><td>File</td><td>æ–‡ä»¶</td></tr><tr><td>New</td><td>æ–°å»º</td></tr><tr><td>Project</td><td>å·¥ç¨‹</td></tr><tr><td>Folder</td><td>æ–‡ä»¶å¤¹</td></tr><tr><td>Import</td><td>å¼•å…¥(åŠ è½½&amp;å¯¼å…¥)</td></tr><tr><td>Run As</td><td>è¿è¡Œ</td></tr><tr><td>Application</td><td>åº”ç”¨ç¨‹åº</td></tr><tr><td>copy</td><td>å¤åˆ¶</td></tr><tr><td>paste</td><td>ç²˜è´´</td></tr><tr><td>Delete</td><td>åˆ é™¤</td></tr><tr><td>properties</td><td>å±æ€§</td></tr><tr><td>Java Build Path</td><td>å»ºç«‹javaè·¯å¾„</td></tr><tr><td>Libraries</td><td>åº“</td></tr><tr><td>Add Library</td><td>æ·»åŠ åº“</td></tr><tr><td>User Library</td><td>ç”¨æˆ·åº“</td></tr><tr><td>Next</td><td>ä¸‹ä¸€æ­¥</td></tr><tr><td>User Libraries</td><td>ç”¨æˆ·åº“</td></tr><tr><td>New</td><td>æ–°å»º</td></tr><tr><td>JDBC-ODBC</td><td>æ¡¥</td></tr></tbody></table><a id="more"></a><table><thead><tr><th>éœ€æŒæ¡çš„å•è¯</th><th></th></tr></thead><tbody><tr><td>overload</td><td>é‡è½½</td></tr><tr><td>override</td><td>é‡å†™(è¦†ç›–)</td></tr></tbody></table><table><thead><tr><th>ç¨‹åºç¼–å†™æ—¶å¸¸ç”¨çš„å•è¯</th><th></th></tr></thead><tbody><tr><td>package</td><td>æŒ‡å®šæ–‡ä»¶å¤¹</td></tr><tr><td>class</td><td>ç±»</td></tr><tr><td>static</td><td>é™æ€ç±»å‹</td></tr><tr><td>TRUE</td><td>çœŸ</td></tr><tr><td>FALSE</td><td>å‡</td></tr><tr><td>String</td><td>å­—ç¬¦ä¸²å¯¹è±¡(ä¹Ÿæ˜¯ä¸€ç§æ•°æ®ç±»å‹)</td></tr><tr><td>extends</td><td>ç»§æ‰¿</td></tr><tr><td>this</td><td>å½“å‰å¯¹è±¡å¼•ç”¨</td></tr><tr><td>super</td><td>çˆ¶ç±»å¯¹è±¡å¼•ç”¨</td></tr><tr><td>Math.random()</td><td>éšæœºæ•°</td></tr><tr><td>interface</td><td>æ¥å£</td></tr><tr><td>implements</td><td>ç»§æ‰¿æ¥å£</td></tr><tr><td>throw</td><td>æŠ›å‡º</td></tr><tr><td>throws</td><td>æŠ›å‡º</td></tr><tr><td>try</td><td>å°è¯•</td></tr><tr><td>catch</td><td>æ•è·</td></tr><tr><td>Exception</td><td>å¼‚å¸¸</td></tr><tr><td>Separator</td><td>åˆ†å‰²çº¿</td></tr></tbody></table><p>åŸºæœ¬æ•°æ®ç±»å‹(è¿”å›å€¼ç±»å‹ä¸­çš„ä¸€éƒ¨åˆ†) </p><table><thead><tr><th>è‹±æ–‡</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th align="center">å°è£…ç±»</th></tr></thead><tbody><tr><td>byte</td><td>å­—èŠ‚å‹</td><td>0b</td><td align="center">Byte</td></tr><tr><td>char</td><td>å­—ç¬¦å‹</td><td>â€˜\u0000â€™</td><td align="center">Character</td></tr><tr><td>short</td><td>çŸ­æ•´å‹</td><td>0</td><td align="center">Short</td></tr><tr><td>int</td><td>æ•´å‹</td><td>0</td><td align="center">Integer</td></tr><tr><td>long</td><td>é•¿æ•´å‹</td><td>0</td><td align="center">Long</td></tr><tr><td>float</td><td>å•ç²¾åº¦æµ®ç‚¹å‹</td><td>0.0f</td><td align="center">Float</td></tr><tr><td>double</td><td>åŒç²¾åº¦æµ®ç‚¹å‹</td><td>0</td><td align="center">Double</td></tr><tr><td>boolean</td><td>å¸ƒå°”å‹</td><td>flase</td><td align="center">Boolean</td></tr><tr><td>String</td><td>å­—ç¬¦ä¸²</td><td>null</td><td align="center">String</td></tr></tbody></table><table><thead><tr><th>è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦</th><th></th></tr></thead><tbody><tr><td>public</td><td>å…¬æœ‰çš„</td></tr><tr><td>protected</td><td>å…¬å…±çš„(ä¿æŠ¤çš„)</td></tr><tr><td>private</td><td>ç§æœ‰çš„</td></tr></tbody></table><table><thead><tr><th>ç±»ä¿®é¥°ç¬¦</th><th></th></tr></thead><tbody><tr><td>final</td><td>æœ€ç»ˆ</td></tr><tr><td>new</td><td>æ–°çš„</td></tr><tr><td>abstract</td><td>æŠ½è±¡</td></tr><tr><td>finally</td><td>æœ€ç»ˆçš„</td></tr></tbody></table><table><thead><tr><th>é€»è¾‘å…³é”®å­—</th><th></th></tr></thead><tbody><tr><td>if</td><td>å¦‚æœ</td></tr><tr><td>else</td><td>å¦åˆ™</td></tr><tr><td>switch</td><td>å¼€å…³</td></tr><tr><td>case</td><td>äº‹ä»¶</td></tr><tr><td>default</td><td>é»˜è®¤</td></tr><tr><td>for</td><td>(å¾ªç¯)</td></tr><tr><td>while</td><td>(å¾ªç¯)</td></tr><tr><td>do-while</td><td>(å¾ªç¯)</td></tr><tr><td>continue</td><td>ç»§ç»­</td></tr><tr><td>break</td><td>æ‰“ç ´</td></tr></tbody></table><table><thead><tr><th>ç±»</th><th></th></tr></thead><tbody><tr><td>ArrayList</td><td>æ•°ç»„é›†åˆ</td></tr><tr><td>add(Object);</td><td>æ·»åŠ æ•°æ®</td></tr><tr><td>get(int);</td><td>è·å¾—æ•°æ®</td></tr><tr><td>Thread</td><td>çº¿ç¨‹</td></tr><tr><td>Runnable</td><td>å¯æ•è·çš„</td></tr></tbody></table><table><thead><tr><th>æ§åˆ¶æ•°æ®åº“å¸¸ç”¨</th><th></th></tr></thead><tbody><tr><td>Class.forName</td><td>åŠ è½½æ•°æ®åº“é©±åŠ¨ç¨‹åº</td></tr><tr><td>Connection</td><td>æ•°æ®åº“è¿æ¥å¯¹è±¡</td></tr><tr><td>Statement</td><td>æ•°æ®åº“æ“çºµå¯¹è±¡</td></tr><tr><td>ResultSet</td><td>æ•°æ®åº“ç»“æœé›†å¯¹è±¡</td></tr><tr><td>close</td><td>å…³é—­</td></tr><tr><td>DriverManager</td><td>é©±åŠ¨ç®¡ç†å™¨</td></tr><tr><td>localhost</td><td>æœ¬åœ°ä¸»æœº</td></tr><tr><td>executeQuery</td><td>æ‰§è¡Œå‘½ä»¤</td></tr><tr><td>executeUpdate</td><td>æ‰§è¡Œæ›´æ–°</td></tr><tr><td>SQLException</td><td>SQLæ•°æ®åº“å¼‚å¸¸</td></tr><tr><td>ClassNotFoundException</td><td>ç±»æ²¡æœ‰è¢«æ‰¾åˆ°å¼‚å¸¸</td></tr><tr><td>view</td><td>è§†å›¾</td></tr><tr><td>trigger</td><td>è§¦å‘å™¨</td></tr><tr><td>proc</td><td>å­˜å‚¨è¿‡ç¨‹</td></tr><tr><td>removeAll</td><td>ç§»é™¤æ‰€æœ‰</td></tr><tr><td>rs.first()</td><td>æ¸¸æ ‡ç§»åŠ¨åˆ°ç¬¬ä¸€æ¡è®°å½•</td></tr><tr><td>rs.last()</td><td>æ¸¸æ ‡ç§»åŠ¨åˆ°æœ€åä¸€æ¡è®°å½•</td></tr><tr><td>rs.getRow()</td><td>è·å¾—å½“å‰çš„è¡Œå·</td></tr><tr><td>rs.absolute(i)</td><td>å®šä½æ¸¸æ ‡</td></tr><tr><td>top</td><td>æœ€å‰</td></tr><tr><td>JavaBean</td><td>å­˜æ”¾æ•°æ®</td></tr></tbody></table><table><thead><tr><th>çª—ä½“</th><th></th><th></th></tr></thead><tbody><tr><td>show</td><td>å±•ç¤º</td><td></td></tr><tr><td>this.setTitle</td><td>è®¾ç½®æ ‡é¢˜</td><td></td></tr><tr><td>this.setSize(500,400);</td><td>çª—ä½“å¤§å°</td><td></td></tr><tr><td>this.setLocation(260,150);</td><td>çª—ä½“åˆå§‹ä½ç½®</td><td></td></tr><tr><td>this.show();</td><td>æ˜¾ç¤ºçª—ä½“</td><td></td></tr><tr><td>this.setLocationRelativeTo(null);</td><td>å±…ä¸­</td><td></td></tr><tr><td>this.setDefaultCloseOperation(3);</td><td>å…³é—­æŒ‰æ‰­èµ·ä½œç”¨</td><td></td></tr><tr><td>this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</td><td>å…³é—­æŒ‰æ‰­èµ·ä½œç”¨</td><td></td></tr><tr><td>JLabel lbl = new JLabel(new   ImageIcon(â€œ1.gifâ€));</td><td>å›¾ç‰‡æ ‡ç­¾</td><td></td></tr><tr><td>getContentPane</td><td>è·å¾—çª—ä½“çš„å†…éƒ¨çª—æ ¼</td><td></td></tr><tr><td>setBackground(Color.BLUE)</td><td>è®¾ç½®èƒŒæ™¯é¢œè‰²</td><td></td></tr><tr><td>setResizable()</td><td>è®¾ç½®æ˜¯å¦èƒ½æœ€å¤§åŒ–()å†…</td><td>å¡«trueæˆ–false</td></tr><tr><td>setAlwaysOnTop()</td><td>çª—å£åœ¨æœ€é¡¶ç«¯()å†…</td><td>å¡«trueæˆ–false</td></tr><tr><td>Font</td><td>å­—ä½“</td><td></td></tr><tr><td>showMessageDialog</td><td>å¼¹å‡ºå¯¹è¯æ¡†</td><td></td></tr><tr><td>append</td><td>è¿½åŠ </td><td></td></tr><tr><td>valueChanged</td><td>æ”¹å˜æ•°å€¼</td><td></td></tr><tr><td>requestFocus</td><td>è·å¾—ç„¦ç‚¹</td><td></td></tr><tr><td>selectAll</td><td>å…¨é€‰</td><td></td></tr><tr><td>setText</td><td>è®¾ç½®æ–‡æœ¬åŸŸå†…å®¹</td><td></td></tr><tr><td>getText</td><td>è·å¾—æ–‡æœ¬åŸŸå†…å®¹</td><td></td></tr><tr><td>setEnabled()</td><td>è®¾ç½®æ§ä»¶æ˜¯å¦å¯ç”¨()å†…</td><td>å¡«trueæˆ–false</td></tr><tr><td>setAccelerator</td><td>è®¾ç½®åŠ é€Ÿå™¨</td><td></td></tr><tr><td>KeyStroke</td><td>æ•²å‡»é”®ç›˜</td><td></td></tr><tr><td>getKeyStroke</td><td>è·å¾—æ‰€æ•²å‡»çš„é”®ç›˜</td><td></td></tr><tr><td>InputEvent</td><td>è¾“å…¥äº‹ä»¶</td><td></td></tr><tr><td>getDocument</td><td>è·å¾—æ–‡ä»¶</td><td></td></tr><tr><td>addUndoableEditListener</td><td>æ·»åŠ æ’¤é”€ç›‘å¬å™¨</td><td></td></tr><tr><td>SimpleDateFormat</td><td>ç®€æ˜“æ—¥æœŸæ ¼å¼</td><td></td></tr><tr><td>setLineWrap</td><td>è®¾ç½®è¡Œè·</td><td></td></tr><tr><td>addEdit</td><td>æ·»åŠ ç¼–è¾‘</td><td></td></tr><tr><td>getEdit</td><td>è·å¾—ç¼–è¾‘</td><td></td></tr><tr><td>setBorder</td><td>è®¾ç½®è¾¹æ¡†</td><td></td></tr><tr><td>Factory</td><td>å·¥å‚</td><td></td></tr><tr><td>createTitledBorder</td><td>åˆ›å»ºæ ‡é¢˜è¾¹æ¡†</td><td></td></tr><tr><td>setVisible()</td><td>è®¾ç½®è§†çª—æ˜¯å¦éšè—()å†…</td><td>å¡«trueæˆ–false</td></tr><tr><td>setCursor</td><td>è®¾ç½®æŒ‡é’ˆ</td><td></td></tr><tr><td>isPopupTrigger</td><td>ç¡®å®šç‚¹é¼ æ ‡å‡»å³é”®</td><td></td></tr><tr><td>getSelectedValue</td><td>è·å¾—é€‰ä¸­çš„å€¼</td><td></td></tr><tr><td>toString</td><td>è¿”å›å­—ç¬¦ä¸²</td><td></td></tr><tr><td>insertIcon</td><td>æ’å…¥å›¾æ ‡</td><td></td></tr><tr><td>getActionCommand</td><td>è·å¾—åŠ¨ä½œå‘½ä»¤</td><td></td></tr><tr><td>getKeyCode</td><td>è·å¾—é”®ç›˜ç </td><td></td></tr><tr><td>KeyEvent.VK_RIGHT</td><td>é”®ç›˜äº‹ä»¶.å³ç®­å¤´</td><td></td></tr><tr><td>getIcon</td><td>è·å¾—æ ‡ç­¾</td><td></td></tr><tr><td>setIcon</td><td>è®¾ç½®æ ‡ç­¾</td><td></td></tr><tr><td>getSource</td><td>è·å¾—æ‰€é€‰</td><td></td></tr><tr><td>charAt()</td><td>æŸ¥æ‰¾æŒ‡å®šä¸‹æ ‡æ‰€å¯¹åº”çš„å­—ç¬¦</td><td></td></tr><tr><td>indexOf()</td><td>æŸ¥æ‰¾æŸä¸€å­—ç¬¦ä¸²ï¼Œé¦–æ¬¡å‡ºç°çš„ä½ç½®(ä»å‰å‘å)</td><td></td></tr><tr><td>lastIndexOf()</td><td>æŸ¥æ‰¾æŸä¸€å­—ç¬¦ä¸²ï¼Œé¦–æ¬¡å‡ºç°çš„ä½ç½®(ä»åå‘å‰)</td><td></td></tr><tr><td>length()</td><td>è¿”å›å­—ç¬¦ä¸²é•¿åº¦</td><td></td></tr><tr><td>equals()</td><td>æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²</td><td></td></tr><tr><td>toUpperCase()</td><td>è½¬ä¸ºå¤§å†™</td><td></td></tr><tr><td>toLowerCase()</td><td>è½¬ä¸ºå°å†™</td><td></td></tr><tr><td>split()</td><td>åˆ†å‰²å­—ç¬¦ä¸²</td><td></td></tr><tr><td>replace()</td><td>æ›¿æ¢</td><td></td></tr><tr><td>.addRow(Object[])</td><td>æ·»åŠ ä¸€æ¡è®°å½•</td><td></td></tr><tr><td>setRowCount(0)</td><td>æ¸…ç©ºè¡¨æ¨¡å‹</td><td></td></tr><tr><td>repaint</td><td>é‡ç»˜</td><td></td></tr><tr><td>ComboBox.getSelectedItem</td><td>è·å¾—ä¸‹æ‹‰æ¡†æ‰€é€‰æ‹©çš„å†…å®¹</td><td></td></tr><tr><td>ComboBox.addItem(rs.getString(1))</td><td>é‡æ–°æ·»åŠ ä¸‹æ‹‰æ¡†å†…å®¹</td><td></td></tr><tr><td>g.setColor(Color.RED)</td><td>è®¾ç½®ç”»ç¬”é¢œè‰²</td><td></td></tr><tr><td>g.setFont(new   Font(â€œéš¶ä¹¦â€,Font.BOLD,30))</td><td>è®¾ç½®ç”»ç¬”å­—ä½“</td><td></td></tr><tr><td>g.drawString(â€œæ—©æ™¨å¥½â€,100,200)</td><td>ç”»å­—ç¬¦ä¸²</td><td></td></tr><tr><td>g.drawLine(100,100,500,500)</td><td>ç”»çº¿</td><td></td></tr><tr><td>g.drawOval(200,200,300,150)</td><td>ç”»æ¤­åœ†</td><td></td></tr><tr><td>g.fillOval(200,200,300,150)</td><td>å¡«å……æ¤­åœ†</td><td></td></tr><tr><td>g.drawRect(200,200,300,150)</td><td>ç”»çŸ©å½¢</td><td></td></tr><tr><td>this.setUndecorated(true)</td><td>å»é™¤çª—ä½“è¾¹æ¡†</td><td></td></tr><tr><td>Thread.currentThread()</td><td>è·å¾—å½“å‰æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹</td><td></td></tr><tr><td>Graphics</td><td>ç”»ç¬”</td><td></td></tr><tr><td>t.suspend()</td><td>çº¿ç¨‹æŒ‚èµ·</td><td></td></tr><tr><td>t.resume()</td><td>æ¢å¤çº¿ç¨‹</td><td></td></tr></tbody></table><table><thead><tr><th>å¸ƒå±€</th><th></th></tr></thead><tbody><tr><td>FlowLayout</td><td>æµå¼å¸ƒå±€</td></tr><tr><td>LEFT</td><td>å·¦</td></tr><tr><td>RIGHT</td><td>å³</td></tr><tr><td>BorderLayout</td><td>è¾¹ç•Œå¸ƒå±€</td></tr><tr><td>EAST</td><td>ä¸œ</td></tr><tr><td>SOUTH</td><td>å—</td></tr><tr><td>WEST</td><td>è¥¿</td></tr><tr><td>NORTH</td><td>åŒ—</td></tr><tr><td>CENTER</td><td>ä¸­</td></tr><tr><td>GridLayout</td><td>ç½‘æ ¼éƒ¨å±€</td></tr></tbody></table><table><thead><tr><th>(é€‰æ‹©è®°å¿†)</th><th></th></tr></thead><tbody><tr><td>Container</td><td>å®¹å™¨</td></tr><tr><td>JPanel</td><td>é¢æ¿</td></tr><tr><td>JFrame</td><td>çª—ä½“</td></tr><tr><td>JButton</td><td>æŒ‰æ‰­</td></tr><tr><td>JLabel</td><td>æ ‡ç­¾</td></tr><tr><td>JTextField</td><td>æ–‡æœ¬åŸŸ(å•è¡Œçš„æ–‡æœ¬æ¡†)</td></tr><tr><td>JTextArea</td><td>æ–‡æœ¬åŒº</td></tr><tr><td>JPasswordField</td><td>å¯†ç åŸŸ</td></tr><tr><td>ButtonGroup</td><td>æŒ‰æ‰­ç»„(å•é€‰)</td></tr><tr><td>JRadioButton</td><td>å•é€‰æŒ‰æ‰­</td></tr><tr><td>JCheckBox</td><td>å¤šé€‰æŒ‰æ‰­</td></tr><tr><td>JComboBox</td><td>ä¸‹æ‹‰æ¡†</td></tr><tr><td>JList</td><td>ä¸‹æ‹‰åˆ—è¡¨</td></tr><tr><td>ImageIcon</td><td>å›¾ç‰‡</td></tr><tr><td>JMenuBar</td><td>èœå•å·¥å…·æ </td></tr><tr><td>JMenu</td><td>èœå•é¡¹</td></tr><tr><td>JMenuItem</td><td>å­èœå•é¡¹</td></tr><tr><td>JCheckBoxMenuItem</td><td>å¤šé€‰æŒ‰é’®èœå•å·¥å…·æ </td></tr><tr><td>JRadioButtonMenuItem</td><td>å•é€‰æŒ‰é’®èœå•å·¥å…·æ </td></tr><tr><td>JScrollPane</td><td>æ»šåŠ¨é¢æ¿</td></tr><tr><td>JTextPane</td><td>æ–‡æœ¬é¢æ¿</td></tr><tr><td>JPopupMenu</td><td>å¼¹å‡ºèœå•</td></tr><tr><td>JProgressBar</td><td>è¿›åº¦æ¡</td></tr><tr><td>DefaultTableModel</td><td>é»˜è®¤çš„è¡¨æ¨¡å‹</td></tr><tr><td>JTable</td><td>è¡¨æ ¼</td></tr><tr><td>ActionListener</td><td>ç›‘å¬å™¨</td></tr><tr><td>ActionEvent</td><td>åŠ¨ä½œäº‹ä»¶</td></tr><tr><td>actionPerformed</td><td>åŠ¨ä½œæ¼”ç¤º</td></tr><tr><td>KeyListener</td><td>é”®ç›˜ç›‘å¬å™¨</td></tr><tr><td>KeyEvent</td><td>é”®ç›˜äº‹ä»¶</td></tr><tr><td>keyPressed</td><td>æŒ‰ä¸‹é”®ç›˜</td></tr><tr><td>keyReleased</td><td>é‡Šæ”¾é”®ç›˜</td></tr><tr><td>keyTyped</td><td>ç‚¹å‡»é”®ç›˜</td></tr><tr><td>MouseListener</td><td>é¼ æ ‡ç›‘å¬å™¨</td></tr><tr><td>MouseEvent</td><td>é¼ æ ‡äº‹ä»¶</td></tr><tr><td>mouseClicked</td><td>é¼ æ ‡å•å‡»äº‹ä»¶</td></tr><tr><td>mouseEntered</td><td>é¼ æ ‡ç§»å…¥äº‹ä»¶</td></tr><tr><td>mouseExited</td><td>é¼ æ ‡ç¦»å¼€äº‹ä»¶</td></tr><tr><td>mousePressed</td><td>æŒ‰ä¸‹é¼ æ ‡äº‹ä»¶</td></tr><tr><td>mouseReleased</td><td>é‡Šæ”¾é¼ æ ‡äº‹ä»¶</td></tr><tr><td>MouseMotionListener</td><td>é¼ æ ‡ç›‘å¬å™¨</td></tr><tr><td>mouseDragged</td><td>æ‹–æ‹½é¼ æ ‡</td></tr><tr><td>mouseMoved</td><td>ç§»åŠ¨é¼ æ ‡</td></tr><tr><td>ListSelectionListener</td><td>ä¸‹æ‹‰åˆ—è¡¨ç›‘å¬å™¨</td></tr><tr><td>ListSelectionEvent</td><td>ä¸‹æ‹‰åˆ—è¡¨é€‰æ‹©äº‹ä»¶</td></tr><tr><td>JOptionPane</td><td>æœ‰é€‰é¡¹çš„é¢æ¿</td></tr><tr><td>UndoableEditListener</td><td>æ’¤æ¶ˆç›‘å¬å™¨</td></tr><tr><td>UndoableEditEvent</td><td>æ’¤æ¶ˆäº‹ä»¶</td></tr><tr><td>undoableEditHappened</td><td>æ’¤æ¶ˆ</td></tr></tbody></table><table><thead><tr><th>åŒ…</th></tr></thead><tbody><tr><td>java.awt.*;</td></tr><tr><td>java.lang.*;</td></tr><tr><td>java.util.*;</td></tr><tr><td>java.text.*;</td></tr><tr><td>javax.swing.*;</td></tr><tr><td>java.awt.event.*;</td></tr><tr><td>import java.sql.*;</td></tr><tr><td>javax.swing.undo.*;</td></tr><tr><td>java.swing.table.*;</td></tr><tr><td>javax.swing.event.*;</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>Eclipse</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Eclipse</tag>
      
      <tag>å•è¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
